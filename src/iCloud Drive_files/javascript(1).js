/**!
 * IMPORTANT NOTE:
 *    This file is licensed only for use in providing the iCloud
 *    service or any part thereof, and is subject to the iCloud
 *    Terms and Conditions. You may not port this file to another
 *    platform without Apple's written consent.
 *
 *    Portions of this Apple Software may utilize copyrighted material under open source licenses.
 *    Please see the file at https://icloud.com/applications/iclouddrive/17BProject66/nl-nl/acknowledgements.txt for licensing information.
 */

var main;


!function(e){function o(e){if(!w){w=!0,l("__CW_SPRITE_START");var r=new XMLHttpRequest;r.open("GET","/applications/iclouddrive/17BProject66/nl-nl/packages/"+e,!0),r.responseType="arraybuffer",r.onload=function(){i(r.response)},r.onerror=function(i){--_>0?o(e):a(i)},r.send()}}function i(o){try{var i=e.__CW_BLOB_URLS={};if(o&&o instanceof ArrayBuffer)for(var b=new DataView(o),n=b.byteLength,c=0;c<n;){var t=b.getUint16(c),u=b.getUint8(c+2),d=b.getUint32(c+3);c+=7;var s=r(o,c,c+d),f=new Blob([s],{type:m[u-1]});i[t]=g.createObjectURL(f),c+=d}e.__CW_SPRITE_LOADED=!0,w=!1,l("__CW_SPRITE_LOADED")}catch(e){a(e)}}function a(o){w=!1,e.__CW_SPRITE_ERROR=o,l("__CW_SPRITE_ERROR")}function r(e,o,i){if(e.slice)return e.slice(o,i);var a=e.byteLength;if(o=o||0,i=i||a,0===a||o>=a||o>=i)return new ArrayBuffer(0);var r=Math.min(a-o,i-o),l=new ArrayBuffer(r),b=new Uint8Array(l);return b.set(new Uint8Array(e,o,r)),l}function l(e){var o=document.createEvent("Event");o.initEvent(e,!0,!0),document.dispatchEvent(o)}function b(){var o="cw-img-container-r"+e.devicePixelRatio,i=document.getElementById(o);if(!i){i=document.createElement("div"),i.setAttribute("aria-hidden",!0),i.id=o;var a=i.style;a.overflow="hidden",a.height="0",a.width="0",document.body.appendChild(i)}return i}function n(o){var i=e.__CW_BLOB_URLS[o],a=new RegExp("\\(blob_"+o+"\\)","gi");return function(){d++,u=u.replace(a,"("+JSON.stringify(i)+")"),d===numBlobs&&c()}}function c(){var e=document.getElementById("cw-css");e||(e=document.createElement("link"),e.rel="stylesheet",e.id="cw-css"),e.onload=function(){l("__CW_CSS_LOADED"),u=null,k=!1;
},e.href=t(),document.head.appendChild(e)}function t(){var e=btoa(unescape(encodeURIComponent(u)));return"data:text/css;base64,"+e}var u,d,g=e.URL||e.webkitURL,m=["image/gif","image/png","image/jpeg","image/svg+xml"],s=["images@1x.bin","images@2x.bin"],f=".x-file.x-showcase.large .file-icon-container{background-image:url(blob_1062)}.x-file.x-showcase.large .file-icon-container .file-icon.image{background-image:url(blob_1063)}.x-file.x-showcase.large .file-icon-container .file-icon.audio{background-image:url(blob_1064)}.x-file.x-showcase.large .file-icon-container .file-icon.video{background-image:url(blob_1065)}.x-file.x-showcase.large .file-icon-container .file-icon.vcard{background-image:url(blob_1066)}.x-file.x-showcase.large .file-icon-container .file-icon.msword{background-image:url(blob_1067)}.x-file.x-showcase.large .file-icon-container .file-icon.msexcel{background-image:url(blob_1068)}.x-file.x-showcase.large .file-icon-container .file-icon.msppoint{background-image:url(blob_1069)}.x-file.x-showcase.large .file-icon-container .file-icon.rtf{background-image:url(blob_1070)}.x-file.x-showcase.large .file-icon-container .file-icon.txt{background-image:url(blob_1071)}.x-file.x-showcase.large .file-icon-container .file-icon.email{background-image:url(blob_1072)}.x-file.x-showcase.large .file-icon-container .file-icon.cert{background-image:url(blob_1073)}.x-file.x-showcase.large .file-icon-container .file-icon.cal{background-image:url(blob_1074)}.x-file.x-showcase.large .file-icon-container .file-icon.prov-profile{background-image:url(blob_1075)}.x-file.x-showcase.large .file-icon-container .file-icon.vpn{background-image:url(blob_1076)}.x-file.x-showcase.large .file-icon-container .file-icon.csv{background-image:url(blob_1077)}.x-file.x-showcase.medium .file-icon-container{background-image:url(blob_1078)}.x-file.x-showcase.medium .file-icon-container .file-icon.image{background-image:url(blob_1079)}.x-file.x-showcase.medium .file-icon-container .file-icon.audio{background-image:url(blob_1080)}.x-file.x-showcase.medium .file-icon-container .file-icon.video{background-image:url(blob_1081)}.x-file.x-showcase.medium .file-icon-container .file-icon.vcard{background-image:url(blob_1082)}.x-file.x-showcase.medium .file-icon-container .file-icon.msword{background-image:url(blob_1083)}.x-file.x-showcase.medium .file-icon-container .file-icon.msexcel{background-image:url(blob_1084)}.x-file.x-showcase.medium .file-icon-container .file-icon.msppoint{background-image:url(blob_1085)}.x-file.x-showcase.medium .file-icon-container .file-icon.rtf{background-image:url(blob_1086)}.x-file.x-showcase.medium .file-icon-container .file-icon.txt{background-image:url(blob_1087)}.x-file.x-showcase.medium .file-icon-container .file-icon.email{background-image:url(blob_1088)}.x-file.x-showcase.medium .file-icon-container .file-icon.cert{background-image:url(blob_1089)}.x-file.x-showcase.medium .file-icon-container .file-icon.cal{background-image:url(blob_1090)}.x-file.x-showcase.medium .file-icon-container .file-icon.prov-profile{background-image:url(blob_1091)}.x-file.x-showcase.medium .file-icon-container .file-icon.vpn{background-image:url(blob_1092)}.x-file.x-showcase.medium .file-icon-container .file-icon.csv{background-image:url(blob_1093)}.x-file.x-showcase.small .file-icon-container{background-image:url(blob_1094)}.folder.showcase{background-image:url(blob_994)}.folder.showcase.medium{background-image:url(blob_995)}.app-folder{background-image:url(blob_994)}.app-folder.medium{background-image:url(blob_995)}.cw-alert .alert-icon{background-image:url(blob_1096)}.cw-alert .alert-icon.error::after{background-image:url(blob_1097)}.cw-alert .alert-icon.checked::after{background-image:url(blob_1098)}.cw-alert .alert-icon.info::after{background-image:url(blob_1099)}.cw-alert .alert-icon.sharing::after{background-image:url(blob_1100)}.expandable-view .expander-control-arrow{background-image:url(blob_1045)}.brx.br-alert-modal .iclouddrive{background-image:url(blob_1061)}.br-view.navigation.browse .br-view.navigation-bar .br-view.button.left .left-accessory{background-image:url(blob_1035)}.br-view.popover.default .arrow.up{background-image:url(blob_1056)}.br-view.popover.default .arrow.down{background-image:url(blob_1057)}.br-view.popover.default .arrow.left{background-image:url(blob_1058)}.br-view.popover.default .arrow.right{background-image:url(blob_1059)}.br-file-upload-view .error-icon{background-image:url(blob_1043)}.br-file-upload-view .retry-icon{background-image:url(blob_1044)}.br-view.toolbar.main .button.apps-launcher.active .right-accessory{background-image:url(blob_1007)}.br-view.toolbar.main .button.apps-launcher.pressed .right-accessory{background-image:url(blob_1008)}.br-view.toolbar.main .button.apps-launcher .left-accessory{background-image:url(blob_1009)}.br-view.toolbar.main .button.apps-launcher .right-accessory{background-image:url(blob_1010)}.br-view.toolbar.main .button.new-folder{background-image:url(blob_1011)}.br-view.toolbar.main .button.new-folder.active{background-image:url(blob_1012)}.br-view.toolbar.main .button.new-folder.pressed{background-image:url(blob_1013)}.br-view.toolbar.main .button.new-folder.disabled{background-image:url(blob_1014)}.br-view.toolbar.main .button.upload-files{background-image:url(blob_1015)}.br-view.toolbar.main .button.upload-files.active{background-image:url(blob_1016)}.br-view.toolbar.main .button.upload-files.pressed{background-image:url(blob_1017)}.br-view.toolbar.main .button.upload-files.disabled{background-image:url(blob_1018)}.br-view.toolbar.main .button.download-files{background-image:url(blob_1019)}.br-view.toolbar.main .button.download-files.active{background-image:url(blob_1020)}.br-view.toolbar.main .button.download-files.pressed{background-image:url(blob_1021)}.br-view.toolbar.main .button.download-files.disabled{background-image:url(blob_1022)}.br-view.toolbar.main .button.trash-files{background-image:url(blob_1023)}.br-view.toolbar.main .button.trash-files.active{background-image:url(blob_1024)}.br-view.toolbar.main .button.trash-files.pressed{background-image:url(blob_1025)}.br-view.toolbar.main .button.trash-files.disabled{background-image:url(blob_1026)}.br-view.toolbar.main .button.email-files{background-image:url(blob_1027)}.br-view.toolbar.main .button.email-files.active{background-image:url(blob_1028)}.br-view.toolbar.main .button.email-files.pressed{background-image:url(blob_1029)}.br-view.toolbar.main .button.email-files.disabled{background-image:url(blob_1030)}.br-view.toolbar.main .button.user-action-menu.active .right-accessory{background-image:url(blob_1007)}.br-view.toolbar.main .button.user-action-menu.pressed .right-accessory{background-image:url(blob_1008)}.br-view.toolbar.main .button.user-action-menu .right-accessory{background-image:url(blob_1010)}.br-view.toolbar.main .button.user-action-menu .right-accessory.active{background-image:url(blob_1007)}.br-view.toolbar.main .button.user-action-menu .right-accessory.pressed{background-image:url(blob_1008)}.br-view.toolbar.main .button.help{background-image:url(blob_1031)}.br-view.toolbar.main .button.help.active{background-image:url(blob_1032)}.br-view.toolbar.main .button.help.pressed{background-image:url(blob_1033)}.br-view.toolbar.main .button.help.disabled{background-image:url(blob_1034)}.br-view.menu .br-view.menu-item .checkmark.checked{background-image:url(blob_1055)}.br-view.checkbox.enabled>.indicator.checked{background-image:url(blob_1046)}.br-view.checkbox.enabled>.indicator.not-checked{background-image:url(blob_1047)}.br-view.checkbox.enabled>.indicator.mixed{background-image:url(blob_1048)}.br-view.checkbox.disabled>.indicator.checked{background-image:url(blob_1049)}.br-view.checkbox.disabled>.indicator.not-checked{background-image:url(blob_1050)}.br-view.checkbox.disabled>.indicator.mixed{background-image:url(blob_1051)}.br-view.checkbox.pressed.enabled>.indicator.checked{background-image:url(blob_1052)}.br-view.checkbox.pressed.enabled>.indicator.not-checked{background-image:url(blob_1053)}.br-view.checkbox.pressed.enabled>.indicator.mixed{background-image:url(blob_1054)}.showcase-drag-bg-file{background-image:url(blob_996)}.showcase-drag-bg-folder{background-image:url(blob_997)}.files-grid-item.collection-cell.loaded.drag-ghost .invalid-drag-icon{background-image:url(blob_998)}.files-grid-item.collection-cell.loaded .info.button{background-image:url(blob_999)}.files-grid-item.collection-cell.loaded .info.button.active{background-image:url(blob_1000)}.files-grid-item.collection-cell.loaded .info.button.pressed{background-image:url(blob_1001)}.files-grid-item.collection-cell.loaded .cancel-button{background-image:url(blob_1002)}.files-grid-item.collection-cell.loaded .cancel-button.active{background-image:url(blob_1003)}.files-grid-item.collection-cell.loaded .cancel-button.pressed{background-image:url(blob_1004)}.files-grid-item.collection-cell.loaded .locked-icon{background-image:url(blob_1005)}.files.grid .collection-cell.not-loaded .image{background-image:url(blob_1006)}.br-confirmation-view-container .br-view .modal-icon{background-image:url(blob_993)}.br-view.path-bar::after{background-image:url(blob_1036)}.br-view.path-bar .arrow{background-image:url(blob_1037)}.path-bar-view-cell .icon.filetall{background-image:url(blob_1038)}.path-bar-view-cell .icon.filewide{background-image:url(blob_1039)}.path-bar-view-cell .icon.folder{background-image:url(blob_1040)}.path-bar-view-cell .icon.home{background-image:url(blob_1041)}.path-bar-view-cell .icon.appcontainer{background-image:url(blob_1042)}.path-bar-view-cell>.fade{background-image:url(blob_1036)}.dr-root-header>.sort-action-menu>.right-accessory{background-image:url(blob_1060)}\n",_=3,w=!1,k=!1,v=e.__CW_sliceCSS=function(){
document.addEventListener("__CW_SPRITE_LOADED",x),h(e.devicePixelRatio)},h=e.__CW_getSprite=function(e){var i=s[e-1];i||(i=s[0]),o(i)},x=e.__CW_renderSliceCSS=function(){if(!k){k=!0,l("__CW_CSS_START"),u=f.slice();var o=e.__CW_BLOB_URLS;if(o&&(numBlobs=Object.keys(o).length),o&&numBlobs>0){d=0;var i=b();for(var a in o){var r=document.createElement("img");r.addEventListener("load",n(a)),r.src=o[a],i.appendChild(r)}}else k=!1}};v()}(this);
(function (global) {

var _cwTemporaryArgumentsArray = [];

var m$658$0,m$660$0,m$662$0,m$802$0,m$802$1,m$829$0,m$665$0,m$659$0,m$661$0,m$805$0,m$768$0,m$768$1,m$768$2,m$768$3,m$807$0,m$807$1,m$806$0,m$616$0,m$616$1,m$543$0,m$633$0,m$764$0,m$762$0,m$624$0,m$624$1,m$620$0,m$623$0,m$625$0,m$771$0,m$774$0,m$775$0,m$780$0,m$818$0,m$817$0,m$589$0,m$589$1,m$634$0,m$635$0,m$777$0,m$637$0,m$588$0,m$622$0,m$772$0,m$766$0,m$787$0,m$787$1,m$790$0,m$621$0,m$619$0,m$619$1,m$816$0,m$627$0,m$819$0,m$628$0,m$631$0,m$626$0,m$532$0,m$630$0,m$630$1,m$630$2,m$630$3,m$630$4,m$630$5,m$630$6,m$783$0,m$773$0,m$778$0,m$781$0,m$632$0,m$632$1,m$629$0,m$629$1,m$629$2,m$643$0,m$809$0,m$809$1,m$541$0,m$546$0,m$552$0,m$540$0,m$540$1,m$540$2,m$540$3,m$564$0,m$564$1,m$563$0,m$563$1,m$539$0,m$539$1,m$539$2,m$544$0,m$548$0,m$547$0,m$549$0,m$551$0,m$550$0,m$553$0,m$554$0,m$555$0,m$556$0,m$545$0,m$545$1,m$587$0,m$559$0,m$559$1,m$557$0,m$557$1,m$557$2,m$557$3,m$557$4,m$557$5,m$558$0,m$558$1,m$636$0,m$638$0,m$560$0,m$560$1,m$639$0,m$562$0,m$562$1,m$561$0,m$561$1,m$594$0,m$593$0,m$598$0,m$617$0,m$595$0,m$604$0,m$591$0,m$611$0,m$607$0,m$592$0,m$610$0,m$608$0,m$761$0,m$789$0,m$590$0,m$779$0,m$800$0,m$795$0,m$794$0,m$497$0,m$497$1,m$565$0,m$565$1,m$565$2,m$565$3,m$565$4,m$830$0,m$763$0,m$820$0,m$820$1,m$801$0,m$792$0,m$649$0,m$648$0,m$653$0,m$672$0,m$499$0,m$504$0,m$501$0,m$788$0,m$674$0,m$675$0,m$676$0,m$676$1,m$676$2,m$676$3,m$688$0,m$690$0,m$614$0,m$613$0,m$799$0,m$689$0,m$693$0,m$691$0,m$650$0,m$650$1,m$612$0,m$612$1,m$692$0,m$692$1,m$692$2,m$685$0,m$685$1,m$686$0,m$686$1,m$684$0,m$671$0,m$677$0,m$687$0,m$681$0,m$683$0,m$680$0,m$682$0,m$679$0,m$678$0,m$697$0,m$502$0,m$503$0,m$615$0,m$760$0,m$760$1,m$760$2,m$533$0,m$606$0,m$535$0,m$765$0,m$534$0,m$759$0,m$747$0,m$754$0,m$753$0,m$757$0,m$757$1,m$757$2,m$757$3,m$757$4,m$750$0,m$705$0,m$704$0,m$703$0,m$703$1,m$751$0,m$706$0,m$706$1,m$758$0,m$755$0,m$756$0,m$749$0,m$752$0,m$748$0,m$714$0,m$715$0,m$716$0,m$500$0,m$498$0,m$542$0,m$811$0,m$537$0,m$538$0,m$669$0,m$666$0,m$667$0,m$664$0,m$668$0,m$656$0,m$953$0,m$239$0,m$0$0,m$254$0,m$782$0,m$242$0,m$242$1,m$60$0,m$60$1,m$139$0,m$56$0,m$77$0,m$505$0,m$505$1,m$505$2,m$505$3,m$505$4,m$505$5,m$505$6,m$505$7,m$505$8,m$505$9,m$505$10,m$505$11,m$505$12,m$505$13,m$505$14,m$531$0,m$824$0,m$823$0,m$510$0,m$512$0,m$512$1,m$511$0,m$770$0,m$813$0,m$518$0,m$517$0,m$507$0,m$508$0,m$519$0,m$519$1,m$523$0,m$609$0,m$524$0,m$525$0,m$525$1,m$522$0,m$521$0,m$647$0,m$835$0,m$506$0,m$506$1,m$506$2,m$514$0,m$513$0,m$55$0,m$149$0,m$66$0,m$66$1,m$66$2,m$886$0,m$338$0,m$229$0,m$229$1,m$229$2,m$229$3,m$229$4,m$229$5,m$231$0,m$248$0,m$831$0,m$59$0,m$57$0,m$64$0,m$79$0,m$78$0,m$87$0,m$87$1,m$63$0,m$65$0,m$52$0,m$785$0,m$673$0,m$673$1,m$673$2,m$784$0,m$29$0,m$786$0,m$202$0,m$922$0,m$902$0,m$902$1,m$900$0,m$900$1,m$828$0,m$828$1,m$828$2,m$822$0,m$586$0,m$100$0,m$417$0,m$417$1,m$62$0,m$62$1,m$836$0,m$837$0,m$838$0,m$252$0,m$49$0,m$247$0,m$251$0,m$574$0,m$574$1,m$574$2,m$574$3,m$574$4,m$574$5,m$574$6,m$574$7,m$574$8,m$574$9,m$574$10,m$574$11,m$574$12,m$574$13,m$574$14,m$895$0,m$897$0,m$899$0,m$896$0,m$642$0,m$640$0,m$573$0,m$641$0,m$577$0,m$581$0,m$579$0,m$583$0,m$575$0,m$575$1,m$582$0,m$568$0,m$567$0,m$567$1,m$567$2,m$567$3,m$569$0,m$580$0,m$576$0,m$894$0,m$337$0,m$136$0,m$35$0,m$89$0,m$90$0,m$73$0,m$83$0,m$74$0,m$84$0,m$75$0,m$85$0,m$76$0,m$86$0,m$341$0,m$341$1,m$341$2,m$341$3,m$209$0,m$241$0,m$235$0,m$335$0,m$130$0,m$88$0,m$70$0,m$69$0,m$68$0,m$71$0,m$67$0,m$80$0,m$906$0,m$901$0,m$871$0,m$871$1,m$873$0,m$876$0,m$868$0,m$866$0,m$867$0,m$892$0,m$891$0,m$888$0,m$890$0,m$808$0,m$923$0,m$821$0,m$889$0,m$869$0,m$904$0,m$904$1,m$796$0,m$872$0,m$875$0,m$874$0,m$903$0,m$903$1,m$903$2,m$903$3,m$903$4,m$903$5,m$61$0,m$396$0,m$394$0,m$393$0,m$21$0,m$20$0,m$6$0,m$1$0,m$2$0,m$19$0,m$18$0,m$3$0,m$4$0,m$5$0,m$7$0,m$23$0,m$22$0,m$8$0,m$228$0,m$232$0,m$234$0,m$233$0,m$277$0,m$283$0,m$283$1,m$259$0,m$261$0,m$260$0,m$296$0,m$424$0,m$419$0,m$45$0,m$225$0,m$240$0,m$213$0,m$216$0,m$215$0,m$215$1,m$215$2,m$215$3,m$215$4,m$217$0,m$214$0,m$226$0,m$212$0,m$212$1,m$212$2,m$236$0,m$255$0,m$255$1,m$282$0,m$282$1,m$316$0,m$415$0,m$31$0,m$302$0,m$206$0,m$425$0,m$237$0,m$237$1,m$72$0,m$205$0,m$138$0,m$38$0,m$210$0,m$150$0,m$150$1,m$418$0,m$44$0,m$416$0,m$33$0,m$332$0,m$256$0,m$303$0,m$145$0,m$414$0,m$42$0,m$411$0,m$43$0,m$423$0,m$183$0,m$187$0,m$98$0,m$178$0,m$207$0,m$398$0,m$397$0,m$24$0,m$58$0,m$15$0,m$10$0,m$11$0,m$12$0,m$13$0,m$14$0,m$16$0,m$17$0,m$295$0,m$301$0,m$311$0,m$319$0,m$310$0,m$422$0,m$399$0,m$30$0,m$400$0,m$395$0,m$9$0,m$41$0,m$125$0,m$81$0,m$48$0,m$36$0,m$142$0,m$144$0,m$93$0,m$97$0,m$91$0,m$92$0,m$146$0,m$50$0,m$243$0,m$334$0,m$334$1,m$297$0,m$264$0,m$264$1,m$271$0,m$193$0,m$137$0,m$37$0,m$211$0,m$141$0,m$421$0,m$189$0,m$827$0,m$827$1,m$919$0,m$284$0,m$284$1,m$257$0,m$257$1,m$257$2,m$288$0,m$276$0,m$325$0,m$325$1,m$289$0,m$289$1,m$199$0,m$737$0,m$427$0,m$426$0,m$426$1,m$426$2,m$198$0,m$292$0,m$328$0,m$328$1,m$227$0,m$230$0,m$244$0,m$293$0,m$274$0,m$274$1,m$274$2,m$329$0,m$200$0,m$174$0,m$197$0,m$175$0,m$195$0,m$188$0,m$148$0,m$321$0,m$285$0,m$652$0,m$652$1,m$133$0,m$154$0,m$134$0,m$135$0,m$34$0,m$34$1,m$143$0,m$151$0,m$153$0,m$170$0,m$208$0,m$245$0,m$238$0,m$304$0,m$279$0,m$281$0,m$305$0,m$305$1,m$314$0,m$314$1,m$176$0,m$287$0,m$320$0,m$339$0,m$330$0,m$140$0,m$870$0,m$32$0,m$165$0,m$158$0,m$196$0,m$294$0,m$347$0,m$306$0,m$331$0,m$326$0,m$267$0,m$340$0,m$194$0,m$791$0,m$420$0,m$420$1,m$94$0,m$96$0,m$95$0,m$180$0,m$184$0,m$308$0,m$348$0,m$177$0,m$185$0,m$168$0,m$186$0,m$262$0,m$937$0,m$265$0,m$268$0,m$156$0,m$272$0,m$269$0,m$273$0,m$157$0,m$162$0,m$99$0,m$323$0,m$323$1,m$286$0,m$152$0,m$318$0,m$161$0,m$155$0,m$167$0,m$324$0,m$298$0,m$169$0,m$934$0,m$934$1,m$935$0,m$931$0,m$931$1,m$932$0,m$933$0,m$933$1,m$163$0,m$164$0,m$191$0,m$190$0,m$159$0,m$171$0,m$173$0,m$160$0,m$172$0,m$46$0,m$920$0,m$826$0,m$905$0,m$865$0,m$865$1,m$798$0,m$655$0,m$25$0,m$291$0,m$47$0,m$40$0,m$51$0,m$204$0,m$124$0,m$126$0,m$123$0,m$127$0,m$128$0,m$654$0,m$585$0,m$129$0,m$39$0,m$250$0,m$250$1,m$27$0,m$350$0,m$383$0,m$385$0,m$386$0,m$387$0,m$384$0,m$388$0,m$351$0,m$356$0,m$389$0,m$381$0,m$379$0,m$378$0,m$380$0,m$375$0,m$371$0,m$357$0,m$376$0,m$359$0,m$370$0,m$377$0,m$373$0,m$358$0,m$309$0,m$382$0,m$352$0,m$354$0,m$391$0,m$28$0,m$355$0,m$392$0;

var __CW____EMBEDDED_LOC_STRINGS = [];
__CW____EMBEDDED_LOC_STRINGS.push({"Toolbar.Button.Upload.Tooltip.Enabled":"Upload","Info.Date.Format":"%{date:d}-%{date:M}-%{date:yyyy}","Dialog.Move.FileExists.Button.Replace":"Vervang","Error.Email.AttachmentsTooLarge.Subtitle":"Uw selectie overschrijdt de maximaal toegestane totale grootte voor bijlagen (%{maxFileSizeInMB} MB).","StatusBar.Info.NoItemsSelected.NoItemsAvailable":"0 items","File.Type.svg":"schaalbare vectorafbeeldingen (SVG)","Alert.TransactionError.Group.MoveItems.Specific.Message":"%{count} items kunnen niet worden verplaatst naar %{folder}","Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.Folder":"De map is verplaatst.","Alert.CannotMoveToAppFolder.Multiple.Message":"Kan deze bestanden niet verplaatsen naar deze programmamap","File.Type.c":"C-broncode","Alert.TransactionError.Group.MoveItems.Generic.Message":"%{count} items kunnen niet worden verplaatst","File.Type.xcodeproj":"Xcode-project","Upload.Error.FileWrongType.Description":"Naar deze app-bibliotheek kun je alleen bestanden uploaden die kunnen worden geopend met %{appName}.","Alert.DeleteSelectedItems.DesktopAndDocuments.Message":"Weet je zeker dat je 'Bureaublad' en 'Documenten' wilt verwijderen uit iCloud Drive?","File.Type.vcf":"Elektronisch visitekaartje","Alert.DeleteSelectedItems.Multiple.Message":"Weet je zeker dat je deze %{count} items wilt verwijderen?","Alert.UnexpectedError.Message":"Er heeft zich een onverwachte fout voorgedaan.","DR.Error.Restoring.Single.Message":"Er is een probleem opgetreden bij het herstellen van '%{name}'.","Alert.DeleteSelectedItems.Desktop.PlusOne.Message":"Weet je zeker dat je 'Bureaublad' en één ander item wilt verwijderen uit iCloud Drive?","Download.Error.Multiple.Generic.Title":"%{fileCount} bestanden kunnen niet worden gedownload.","DR.Error.Restoring.QuotaExceeded.Group.Message":"Onvoldoende ruimte om %{count} bestanden te herstellen.","Alert.TransactionError.Group.MoveItems.Specific.Description":"Deze items konden niet worden verplaatst naar “%{folder}” door een onverwachte fout. Probeer het later opnieuw.","DateTime.Relative.LessThanAnHourAgo":"%{minutes} minuten geleden","File.Type.xlsx":"Office Open XML-spreadsheet","DragDrop.Status.UploadItems":"Upload naar '%{destinationName}'","File.Type.ttf":"TrueType® OpenType™-lettertype","Download.Error.Single.Deleted.Subtitle":"Dit bestand is verwijderd en is niet langer beschikbaar.","Alert.DeleteSelectedItems.DesktopAndDocuments.PlusOne.Message":"Weet je zeker dat je 'Bureaublad', 'Documenten' en één ander item wilt verwijderen uit iCloud Drive?","Panel.FileInfo.Label.Kind":"Soort:","File.Type.otf":"PostScript® OpenType™-lettertype","Error.Move.BadFileTypeForAppLibrary.Message":"Je kunt hier alleen bestanden plaatsen die kunnen worden geopend met %{appName}.","Alert.UnexpectedError.Description":"Probeer het later opnieuw.","Alert.WhitespaceName.File.Message":"De naam %{fileNameWithExtension} is ongeldig.","DR.Alert.DeleteSelectedItems.Multiple.Description":"Als je deze bestanden verwijdert, kan je deze niet meer herstellen naar iCloud Drive.","File.Type.keychain":"sleutelhanger","File.Type.ppsx":"Office Open XML-diavoorstelling","File.Type.xlam":"Microsoft Excel-invoegtoepassing","StatusBar.Info.OneOrMoreItemsSelected":"%{numberOfSelectedItems} van %{totalNumberOfItems} geselecteerd","Alert.LockedItem.ListContents.Single.Message":"%{name} kan niet worden geopend.","DR.Error.Restoring.Single.Description":"Probeer het bestand later opnieuw terug te zetten.","File.Type.scpt":"script-bestand","DR.Header.Description":"Kies de bestanden die je wilt herstellen op iCloud Drive.","Alert.CannotRenameItem.NoExtension.Message":"De naam '%{name}' bestaat al.","File.Type.hqx":"BinHex-archief","DR.Error.Restoring.Group.Description":"Probeer de bestanden later opnieuw terug te zetten.","DR.Status.Restoring.Single":"Bestand wordt hersteld","Upload.Error.Package.Description.Pages":"Als u dit bestand wilt gebruiken in Pages, moet de naam van het gecomprimeerde bestand eindigen op '.pages.zip'.","Dialog.Move.FileExists.Button.KeepBoth":"Bewaar beide","Error.Loading.FolderContent.Title":"Er is een probleem met het laden\nvan de inhoud van deze map.","Alert.LockedItem.Delete.Single.Folder.Description":"Deze map kan niet worden verwijderd uit iCloud Drive.","DR.Error.Restoring.Group.Message":"%{count} bestanden kunnen niet worden teruggezet.","DR.ProgressText.Singular":"1 bestand gevonden","Dialog.Move.FileExists.Title":"'%{fileName}' bestaat al op deze locatie.","File.Type.avi":"AVI-film","File.Type.xhtml":"XHTML","Alert.TransactionError.CreateFolder.Description":"Probeer de map later opnieuw aan te maken.","Dialog.Move.FileShared.Button.Move":"Verplaats toch","Upload.Error.HiddenFile.Title":"Er is een probleem met het uploaden van '%{fileName}'.","Upload.Cancel":"Annuleer upload","File.Type.py":"Python-script","Alert.CannotMoveToAppFolder.Description":"Je kunt hier alleen bestanden plaatsen die kunnen worden geopend met %{appFolderName}","Upload.Progress.ByteCount":"%{transferredSize} van %{totalSize}","DragDrop.Status.MoveItems":"Verplaats naar '%{destinationName}'","DR.Status.Deleting.Single":"Bestand verwijderen","Error.Email.AttachmentTooLarge.Title":"'%{fileName}' kan niet per e-mail worden verzonden.","DR.Empty.Message":"Geen bestanden om te herstellen.","StatusBar.Info.NoItemsSelected.MultipleItemsAvailable":"%{totalNumberOfItems} items","OpenFile.Error.Subtitle":"Probeer het bestand later opnieuw te openen.","File.Type.dxf":"AutoCAD DXF-bestand","Button.UpgradeStorage":"Upgrade opslag","Alert.TransactionError.RenameItem.Folder.Description":"Probeer de naam van de map later opnieuw te wijzigen.","Alert.CheckboxConfirmation":"Ik begrijp het","Alert.DeleteSelectedItems.Single.Message":"Weet je zeker dat je '%{name}' wilt verwijderen?","Alert.HiddenName.File.Message":"De naam van het bestand mag niet met een punt (.) beginnen.","Utils.Units.kB":"kB","NotMigrated.Contents.Message":"Bewaar al je presentaties, spreadsheets, pdf's, afbeeldingen en andere soorten documenten veilig in iCloud en open ze vanaf je iPhone, iPad, iPod touch, Mac, pc of iCloud.com.","Upload.Error.Coalesced.BadFileTypeForAppLibrary.Title":"De upload van %{num} bestanden is mislukt, omdat deze niet kunnen worden geopend door %{appName}.","File.Type.pptx":"Office Open XML-presentatie","Upload.Error.Package.Description":"Comprimeer het bestand op uw computer en upload het .zip-bestand.","DragDrop.Status.MoveItems.ToRootContainer":"Verplaats naar 'iCloud Drive'","File.Type.ai":"Adobe Illustrator-document","File.Type.c4d":"Cinema 4D-bestand","File.Type.jpg":"JPEG-afbeelding","NotMigrated.Advice":"Om iCloud Drive te gebruiken ga je naar de iCloud-instellingen op je iOS-apparaat, tik je op 'iCloud Drive' en volg je de upgrade-aanwijzingen.","Dialog.Move.FileShared.Single.Title":"Als u %{fileName} verplaatst, wordt het bestand niet meer gedeeld.","File.Type.h":"C-headercode","Download.Error.Multiple.Mixed.Subtitle":"Probeer de bestanden later opnieuw te downloaden.","Alert.LockedItem.Delete.Single.File.Description":"Dit bestand kan niet worden verwijderd uit iCloud Drive.","Error.Upload.BadFileTypeForAppLibrary.Title":"Kan dit type bestand niet uploaden naar deze app-bibliotheek.","DR.Alert.DeleteSelectedItems.Multiple.Message":"Weet u zeker dat u deze %{count} bestanden definitief wilt verwijderen?","Toolbar.Button.Delete.Tooltip":"Verwijder","Alert.InvalidName.Folder.Message":"De naam '%{name}' kan niet worden gebruikt.","Dialog.Move.FileShared.Some.Title":"Als u gedeelde bestanden verplaatst, worden ze niet meer gedeeld.","File.Type.xml":"XML-tekst","SortBy.DateDeleted":"Sorteer op datum verwijdering","Toolbar.Button.Email.Tooltip":"E-mail","File.Type.fbx":"Filmbox-bestand","File.Type.dmg":"Schijfkopie","Download.Error.Multiple.Generic.Subtitle":"Probeer de bestanden later opnieuw te downloaden.","File.Type.ico":"Windows-icoonbestand","File.Type.cer":"Certificaat","File.Type.mp4":"MPEG-4-film","File.Type.band":"Garageband-project","Toolbar.Button.AppsLauncher.Tooltip":"Ga naar ander app","Size":"Grootte","File.Type.class":"Java class","File.Type.obj":"Wavefront 3D Object-bestand","Delete":"Verwijder","DR.Error.Loading.Message":"Er is een probleem opgetreden bij het laden van de herstelbare bestanden.","DR.Alert.DeleteSelectedItems.Single.Description":"Als je dit bestand verwijdert, kan je het niet meer herstellen naar iCloud Drive.","Upload.Error.Coalesced.Unknown.Title":"%{fileCount} bestanden bevatten fouten en kunnen niet worden geüpload.","Alert.LockedItem.Delete.Multiple.Description":"De selectie bevat vergrendelde bestanden die niet kunnen worden verwijderd uit iCloud Drive.","Date":"Datum","Error.Upload.BadFileTypeForAppLibrary.Message":"Je kunt hier alleen bestanden uploaden die kunnen worden geopend met %{appName}.","SortBy.Size":"Sorteer op grootte","Error.Move.BadFileTypeForAppLibrary.Title":"Kan dit type bestand niet verplaatsen naar deze app-bibliotheek.","File.Type.ppt":"Microsoft Powerpoint 97-2004-document","Default.FolderName.NotNumbered":"Naamloze map","ContainerName.Root":"iCloud documenten","File.Type.icns":"Apple-icoonbestand","DateTime.Absolute.DateOnly":"%{date:d}-%{date:M}-%{date:yy}","Kind.ApplicationLibrary":"App-bibliotheek","Upload.Error.Coalesced.BadFileTypeForAppLibrary.Description":"Naar deze app-bibliotheek kunt u alleen bestanden uploaden die kunnen worden geopend met %{appName}.","Localization.DisplayName":"%{firstName} %{familyName}","DR.Error.Deleting.Single.Description":"Probeer het bestand later opnieuw te verwijderen.","Download.Error.Multiple.Mixed.Title":"%{fileCount} bestanden kunnen niet worden gedownload.","Upload.Error.Default.Title":"Uploaden van '%{fileName}' is niet gelukt.","File.Type.qt":"QuickTime-film","Alert.TransactionError.DeleteItems.Single.AppLibrary.Description":"Probeer de app-bibliotheek later opnieuw te verwijderen.","File.Type.dae":"Collada","Upload.Error.Default.Description":"Probeer het bestand later opnieuw te uploaden.","EmptyFolder.Subtitle":"Je kunt bestanden uploaden door ze hier te slepen.","Toolbar.Button.Download.Tooltip":"Download","File.Type.htm":"HTML-tekst","File.Type.psd":"Adobe Photoshop-document","File.Type.rar":"RAR-archief","File.Type.rtf":"RTF (Rich Text Format)","DR.Status.Deleting.Multiple":"%{count} bestanden verwijderen","Name":"Naam","SortBy.Date":"Sorteer op datum","Upload.Error.Package.Title.Pages":"Pages-documenten moeten worden gecomprimeerd en de naam moet worden gewijzigd voordat je ze kan uploaden met deze browser.","File.Type.indd":"Adobe InDesign-document","OpenFile.Error.Deleted.Subtitle":"Dit bestand is verwijderd en is niet langer beschikbaar.","DR.ProgressText.Plural":"%{numberOfFiles} bestanden gevonden","File.Type.zip":"Zip-archief","DateTime.Relative.OneMinuteAgo":"1 minuut geleden","Alert.TransactionError.MovingItems.Single.File.Description":"Probeer het bestand later opnieuw te verplaatsen.","File.Type.apk":"Android-applicatie","Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted":"De doelmap ‘%{folder}’ is verwijderd.","Alert.DeleteSelectedItems.Desktop.Message":"Weet je zeker dat je 'Bureaublad' wilt verwijderen uit iCloud Drive?","Alert.DeleteSelectedItems.Multiple.Description":"Ze worden direct verwijderd uit iCloud Drive en van al je met iCloud verbonden apparaten.","Toolbar.Button.Help.Tooltip":"Help en Support","Upload.Error.Coalesced.HiddenFile.Title":"Uw upload is geannuleerd omdat deze items met ongeldige bestandsnamen bevat.","OpenFile.Error.Title":"'%{fileName}' kan niet worden geopend.","NotMigrated.Advice.Windows":"Als je iCloud Drive wilt gebruiken, download je iCloud voor Windows en stel je iCloud in op je pc.","Upload.Error.Package.Title.Keynote":"Keynote-presentaties moeten worden gecomprimeerd en de naam moet worden gewijzigd voordat je ze kan uploaden met deze browser.","Alert.UpgradeInstructions":"Upgrade-instructies","Panel.FileInfo.Label.Size":"Grootte:","Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.File":"Het bestand is verplaatst.","Alert.TransactionError.Group.CreateFolders.Description":"Deze mappen konden niet worden aangemaakt door een onverwachte fout. Probeer het later opnieuw.","Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota":"Er is onvoldoende vrije ruimte.","Toolbar.Button.UserAction.Tooltip":"iCloud-instellingen en log uit","Download.Error.Multiple.Deleted.Subtitle":"Deze bestanden zijn verwijderd en zijn niet langer beschikbaar.","Upload.Error.SizeTooBig.DetailedDescription":"Dit bestand is te groot om te uploaden.","File.Type.bmp":"Windows-bitmapafbeelding","File.Type.m4p":"beveiligde MPEG-4-audio","DR.Alert.DeleteSelectedItems.Single.Message":"Weet u zeker dat u %{name} definitief wilt verwijderen?","Info.Time.Format":"%{date:HH}:%{date:mm}","Alert.TransactionError.Group.CreateFolders.Message":"%{count} kunnen niet worden aangemaakt","Utils.Units.PB":"PB","Upload.PopoverDialog.AddFilesButton":"Upload meer…","File.Type.aiff":"AIFF-C-audio","Kind.FileWithExtension":"%{ext}-bestand","File.Type.3ds":"3DS Max-bestand","Alert.Confirm":"OK","Panel.FileInfo.Label.Modified":"Bewerking:","Alert.DeleteSelectedItems.Documents.Message":"Weet je zeker dat je 'Documenten' wilt verwijderen uit iCloud Drive?","Alert.CannotRenameItem.Group.Description":"Kies andere namen.","DR.Status.RestoreComplete.Single":"Bestand is hersteld","Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.File":"Het bestand is verwijderd.","Alert.TransactionError.CreateFolder.Message":"Er is een probleem met het aanmaken van de map '%{name}'.","Upload.Error.FileWrongType.Title":"U kunt dit type bestand niet uploaden naar de app-bibliotheek van %{appName}.","Utils.Units.PiB":"PB","Panel.FileInfo.Label.Created":"Aanmaak:","DR.Error.Deleting.Single.Message":"Er is een probleem met het verwijderen van '%{name}'.","ItemSize":"%{number} %{sizeUnit}","Application.Title":"iCloud Drive","DR.DaysRemaining.MoreThanOne":"%{days} resterende dagen","Alert.TransactionError.Group.DeleteItems.Message":"%{count} items kunnen niet worden verwijderd","File.Type.pages":"Pages-document","Upload.Error.Package.Description.Keynote":"Als u dit bestand wilt gebruiken in Keynote, moet de naam van het gecomprimeerde bestand eindigen op '.%{extension}.zip'. ","Attachment.Error.Subtitle":"Probeer versturen van het bestand later opnieuw.","DateTime.Relative.Tomorrow":"morgen","Kind.ApplicationFolder":"Programmamap","Alert.CannotRenameItem.WithExtension.Message":"De naam '%{name}' met extensie '%{extension}' bestaat al.","SortBy.Name":"Sorteer op naam","Alert.DeleteSelectedItems.DesktopOrDocuments.Description":"Deze map is mogelijk nodig voor een Mac waarvan de mappen 'Bureaublad' en 'Documenten' op iCloud Drive worden bewaard.","Upload.Progress.Failed":"Upload mislukt","Cancel":"Annuleer","DR.Error.Restoring.MixedErrors.Group.Description":"Deze bestanden konden niet worden hersteld in verband met de onderstaande redenen.","Utils.Units.MiB":"MB","File.Type.wmv":"Windows Media","NotMigrated.Advice.Windows.URL":"https://support.apple.com/nl-nl/HT204283","FilesGrid.Cell.Info.Tooltip":"Toon info","Utils.Units.GB":"GB","File.Type.numbers":"Numbers-spreadsheet","Dialog.Move.FileShared.All.Message":"Deze bestanden worden momenteel door jou gedeeld. Als je ze verplaatst vanuit deze app-bibliotheek, worden ze niet meer gedeeld.","File.Type.wma":"Windows Media-audio","DR.Status.DeleteComplete.Multiple":"%{count} bestanden verwijderd","File.Type.perl":"Perl-script","Upload.Error.Coalesced.SizeTooBig.Title":"%{fileCount} zijn te groot om te uploaden.","Alert.TransactionError.Group.RenameItems.Description":"Deze items konden niet worden hernoemd door een onverwachte fout. Probeer het later opnieuw.","DR.Error.Restoring.QuotaExceeded.Single.Description":"Verwijder bestanden uit iCloud Drive of upgrade je opslagabonnement.","DR.SelectAll":"Selecteer alles","File.Type.mpeg":"MPEG-film","DateDeleted":"Datum verwijdering","DR.Error.Deleting.Group.Description":"Probeer de bestanden later opnieuw te verwijderen.","File.Type.txt":"Tekst","Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.Folder":"De map is gewijzigd.","DR.Status.DeleteComplete.Single":"Bestand verwijderd","File.Type.mid":"MIDI-audio","File.Type.m4v":"Apple MPEG-4-film","Upload.Error.OutOfQuota.Description":"Verwijder bestanden uit iCloud Drive of upgrade uw opslagabonnement.","LocalizedItemName.Documents":"Documenten","Upload.Error.Coalesced.OutOfQuota.Description":"Verwijder bestanden uit iCloud Drive of upgrade uw opslagabonnement.","StatusBar.Info.NoItemsSelected.OneItemAvailable":"1 item","StatusBar.Info.Loading":"Laden …","Item.Shared.Label.SharedByMe":"Gedeeld door mij","Alert.TransactionError.DeleteItems.Single.Folder.Description":"Probeer de map later opnieuw te verwijderen.","Alert.DeleteSelectedItems.Single.Description":"Dit item wordt direct verwijderd uit iCloud Drive en van al je met iCloud verbonden apparaten.","Toolbar.Title.UploadCandidate":"Upload naar '%{containerName}'","NotMigrated.Advice.Windows.Link":"Download nu","Alert.TransactionError.Group.RenameItems.Message":"De naam van %{count} items kan niet worden gewijzigd","Upload.Error.Coalesced.Default.Description":"Deze bestanden konden niet worden geüpload vanwege de onderstaande redenen.","File.Type.doc":"Microsoft Word 97-2004-document","File.Type.m":"Objective C-broncode","File.Type.bat":"Batch-bestand","File.Type.log":"Logbestand","File.Type.js":"JavaScript","File.Type.eps":"Encapsulated PostScript","Alert.WhitespaceName.Folder.Message":"De naam %{name} is ongeldig.","Upload.Error.SelectionContainsFolder.Description":"Je kunt met je webbrowser alleen bestanden uploaden.","File.Type.mp3":"MP3-audio","Alert.HiddenName.Description":"Kies een andere naam.","Alert.LockedItem.Delete.Single.Message":"%{name} kan niet worden verwijderd.","Utils.Units.GiB":"GB","DR.Error.Loading.Description":"Probeer het later opnieuw.","File.Type.tiff":"TIFF-afbeelding","Download.Error.Single.Deleted.Title":"Downloaden van '%{fileName}' is niet gelukt.","File.Type.abbu":"Contacten-archief","Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.File":"Het bestand is gewijzigd.","DR.Disclaimer.MainMessage":"Bestanden tonen de resterende dagen dat ze bewaard worden. Daarna worden ze permanent verwijderd.","File.Type.pkg":"Installer-pakketarchief","File.Type.ps":"PostScript","Upload.Error.Coalesced.NotCompressed.Description":"Comprimeer de betreffende bestanden op uw computer en upload de resulterende .zip-bestanden.","File.Type.dng":"Adobe RAW-afbeelding","Upload.Progress.Uploading":"Uploaden…","Dialog.Move.FileExists.Older.Message":"Wilt u het vervangen door het oudere bestand dat u verplaatst?","Toolbar.Button.Back.Title":"Terug","Download.Error.Single.Generic.Subtitle":"Probeer het bestand later opnieuw te downloaden.","DateTime.Relative.JustNow":"Zojuist","Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.AppLibrary":"De toepassingen-bibliotheek is verwijderd.","Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.Folder":"De map is verwijderd.","Attachment.Error.Title":"'%{fileName}' kan niet worden verstuurd.","Utils.Units.bytes":"bytes","DR.Error.Restoring.QuotaExceeded.Group.Description":"Verwijder bestanden uit iCloud Drive of upgrade je opslagabonnement.","Alert.CannotRenameItem.Group.Message":"De namen van %{count} items konden niet worden gewijzigd omdat deze al bestaan.","DR.Error.Restoring.QuotaExceeded.Single.Message":"Onvoldoende ruimte om “%{name}” te herstellen.","Download.Error.Multiple.ItemDetails.Generic.Subtitle":"Er doet zich een probleem voor bij het downloaden van dit bestand. Probeer het later opnieuw.","Alert.InvalidName.Description":"Gebruik een naam met minder tekens of een naam zonder leestekens.","Error.Upload.InsufficientSpace.Title":"Niet genoeg vrije ruimte.","Upload.Error.BrowserNotSupported.Title":"Uploaden wordt niet ondersteund door deze browser.","File.Type.ics":"ICS-bestand","Alert.InvalidName.File.Message":"De naam '%{fileNameWithExtension}' kan niet worden gebruikt.","File.Type.bin":"MacBinary-archief","Upload.PopoverDialogTitle":"Uploads","Download.Error.Multiple.Deleted.Title":"%{fileCount} bestanden kunnen niet worden gedownload.","File.Type.css":"Cascading Stylesheet","Alert.TransactionError.DeleteItems.Single.Message":"Er is een probleem met het verwijderen van '%{name}'.","Alert.TransactionError.DeleteItems.Single.File.Description":"Probeer het bestand later opnieuw te verwijderen.","NotMigrated.Footnote":"*iCloud Drive vereist iOS 8 of later, macOS Yosemite of later, of een pc met Windows 7 of Windows 8 waar iCloud voor Windows 4.0 op draait.","Dialog.Move.FileShared.All.Title":"Als u gedeelde bestanden verplaatst, worden ze niet meer gedeeld.","Button.OK":"OK","Error.Loading.FolderContent.Subtitle":"Probeer de map later opnieuw te openen.","DR.Status.Restoring.Multiple":"%{count} bestanden worden hersteld","LocalizedItemName.Desktop":"Bureaublad","File.Type.aac":"AAC-audio","Alert.DeleteSelectedItems.DesktopAndDocuments.Description":"Deze mappen zijn mogelijk nodig voor een Mac waarvan de mappen 'Bureaublad' en 'Documenten' op iCloud Drive worden bewaard.","DR.Status.RestoreComplete.Multiple":"%{count} bestanden zijn hersteld","Upload.Error.Package.Title":"Dit type bestand moet worden gecomprimeerd voordat u het kunt uploaden.","Upload.Error.Coalesced.HiddenFile.Description":"Om deze bestanden te uploaden, moet u de bestandsnamen wijzigen zodat deze niet met een punt (.) beginnen.","Upload.Retry":"Probeer uploaden opnieuw","File.Type.m3u":"M3U-afspeellijst","Dialog.Move.FileExists.Button.Cancel":"Stop","Alert.WhitespaceName.Description":"Kies een andere naam.","Error.Upload.InsufficientSpace.Message":"Verwijder enkele bestanden of upgrade uw opslagabonnement om dit bestand te uploaden.","Utils.Units.TiB":"TB","Alert.TransactionError.MovingItems.Single.Message":"Er is een probleem met het verplaatsen van '%{name}' naar '%{folder}'.","EmptyFolder.Title":"Deze map is leeg","Alert.TransactionError.RenameItem.File.Description":"Probeer de naam van het bestand later te wijzigen.","Item.Shared.Label.SharedToMe":"Gedeeld door %{name}","Alert.CannotMoveToAppFolder.Single.Message":"Kan dit type bestand niet verplaatsen naar deze programmamap","File.Type.gz":"GZip-archief","FilesGrid.Cell.Cancel.Tooltip":"Annuleer upload","Upload.Error.Coalesced.NotCompressed.Title":"%{fileCount} bestanden zijn niet geüpload omdat ze moeten worden gecomprimeerd.","Upload.Error.Package.Title.Numbers":"Numbers-spreadsheets moeten worden gecomprimeerd en de naam moet worden gewijzigd voordat je ze kan uploaden met deze browser.","DR.Status.Loading":"Herstelbare bestanden zoeken…","Alert.TransactionError.RenameItem.Folder.Message":"Er is een probleem met het wijzigen van de naam van de map '%{name}'.","File.Type.key":"Keynote-presentatie","Dialog.Move.FileShared.Single.Message":"Dit bestand wordt momenteel door jou gedeeld. Als je het verplaatst vanuit deze app-bibliotheek, wordt het niet meer gedeeld.","OpenFile.Error.Deleted.Title":"'%{fileName}' kan niet worden geopend.","DragDrop.Status.UploadItems.ToRootContainer":"Upload naar 'iCloud Drive'","File.Type.epub":"Electronic Publication (iBooks)","Upload.Error.HiddenFile.Description":"Onjuiste bestandsnaam.","File.Type.gif":"Graphics Interchange Format","File.Type.app":"Programma","Item.Shared.Me":"Ik","File.Type.m4r":"Beltoon","Alert.HiddenName.Folder.Message":"De naam van de map mag niet met een punt (.) beginnen.","Download.Error.Single.Generic.Title":"Downloaden van '%{fileName}' is niet gelukt.","File.Type.xls":"Microsoft Excel 97-2004-werkblad","File.Type.sh":"shellscript","EmptyDrive.Subtitle":"Je kunt bestanden uploaden door ze hierheen te slepen of door een voor iCloud Drive geschikte app te gebruiken.","Dialog.Move.FileExists.Newer.Message":"Wilt u het vervangen door het nieuwere bestand dat u verplaatst?","Utils.Units.TB":"TB","File.Type.csv":"kommagescheiden waarden","Alert.DeleteSelectedItems.Documents.PlusOne.Message":"Weet je zeker dat je 'Documenten' en één ander item wilt verwijderen uit iCloud Drive?","Alert.LockedItem.ListContents.Single.Description":"Deze map is vergrendeld en de inhoud kan niet worden weergegeven op iCloud.com.","Default.FolderName.Numbered":"Naamloze map %{number}","Alert.TransactionError.Group.MoveItems.Generic.Description":"Deze items konden niet worden verplaatst door een onverwachte fout. Probeer het later opnieuw.","Upload.Error.Coalesced.SizeTooBig.Description":"iCloud Drive op iCloud.com beperkt uploads momenteel tot een maximum van 10 GB.","Alert.DeleteSelectedItems.DesktopAndDocuments.PlusMany.Message":"Weet je zeker dat je 'Bureaublad', 'Documenten' en %{count} andere items wilt verwijderen uit iCloud Drive?","File.Type.m4a":"Apple MPEG-4-audio","Alert.TransactionError.ItemDetails.Conflict.Description.Default":"Onverwachte fout. Probeer het later opnieuw.","Alert.DeleteSelectedItems.Documents.PlusMany.Message":"Weet je zeker dat je 'Documenten' en %{count} andere items wilt verwijderen uit iCloud Drive?","DateTime.Relative.Yesterday":"gisteren","Kind.File":"Bestand","Upload.Error.Coalesced.Default.Title":"%{fileCount} bestanden bevatten fouten en kunnen niet worden geüpload.","File.Type.safariextz":"Safari-extensie","Info.DateTime.Format":"%{date:d}-%{date:M}-%{date:yyyy}, %{date:HH}:%{date:mm}","Utils.Units.MB":"MB","File.Type.pdf":"PDF (Portable Document Format)","Error.Email.AttachmentTooLarge.Subtitle":"Dit bestand overschrijdt de maximaal toegestane grootte voor bijlagen (%{maxFileSizeInMB} MB).","DR.RestoreDocument":"Herstel","Utils.Units.KiB":"KB","Dialog.Move.FileShared.Some.Message":"%{fileCount} van deze %{fileCountTotal} bestanden worden door jou gedeeld. Als je ze verplaatst vanuit deze app-bibliotheek, worden ze niet meer gedeeld.","Alert.CannotRenameItem.Description":"Kies een andere naam.","File.Type.wave":"Waveform-audio","File.Type.java":"Java-broncode","Kind.Folder":"Map","Upload.Error.Coalesced.OutOfQuota.Title":"Uploaden van %{fileCount} bestanden is niet gelukt, omdat er onvoldoende vrije ruimte is.","File.Type.exe":"Microsoft Windows-toepassing","FilesGrid.Cell.Info.LastModified":"Laatst gewijzigd op %{date}","Toolbar.ApplicationTitle":"Drive","EmptyDrive.Title":"Je iCloud Drive is leeg.","Alert.TransactionError.MovingItems.Single.Folder.Description":"Probeer de map later opnieuw te verplaatsen.","Upload.Error.Package.Description.Numbers":"Als u dit bestand wilt gebruiken in Numbers, moet de naam van het gecomprimeerde bestand eindigen op '.numbers.zip'.","Upload.Error.Coalesced.Unknown.Description":"Probeer de bestanden later opnieuw te uploaden.","Upload.Error.BrowserNotSupported.Description":"Werk uw webbrowser bij om bestanden te uploaden naar iCloud Drive.","Toolbar.Button.NewFolder.Tooltip":"Nieuwe map","DR.Error.Deleting.Group.Message":"%{count} bestanden kunnen niet worden verwijderd.","File.Type.png":"PNG-afbeelding","Error.Email.AttachmentsTooLarge.Title":"Uw selectie kan niet per e-mail worden verzonden.","Download.Error.Multiple.ItemDetails.Deleted.Subtitle":"Dit bestand is verwijderd en is niet langer beschikbaar.","Alert.TransactionError.RenameItem.File.Message":"Er is een probleem met het wijzigen van de naam van het bestand '%{name}'.","StatusBar.Info.Quota":", %{size} beschikbaar","Upload.Error.SizeTooBig.Title":"'%{fileName}' is te groot om te uploaden.","DR.DaysRemaining.One":"1 resterende dag","Alert.DeleteSelectedItems.Desktop.PlusMany.Message":"Weet je zeker dat je 'Bureaublad' en %{count} andere items wilt verwijderen uit iCloud Drive?","File.Type.iso":"ISO-schijfkopie","Alert.LockedItem.Delete.Multiple.Message":"Deze items kunnen niet worden verwijderd.","File.Type.blend":"Blend-bestand","File.Type.swift":"Swift-bestand","File.Type.ipa":"iOS-app","DateTime.Relative.Today":"%{time:HH}:%{time:mm}","Alert.TransactionError.Group.DeleteItems.Description":"Deze items konden niet worden verwijderd door een onverwachte fout. Probeer het later opnieuw.","Upload.Error.SelectionContainsFolder.Title":"Het uploaden van mappen naar iCloud Drive wordt niet ondersteund.","File.Type.docx":"Office Open XML-tekstverwerkingsdocument","DR.Header.Title":"Bestanden herstellen","Upload.Error.OutOfQuota.Title":"Niet genoeg vrije ruimte om '%{fileName}' te uploaden.","File.Type.pps":"Microsoft Powerpoint 97-2004-presentatie","Upload.Progress.Waiting":"Wachten…","Panel.FileInfo.Label.SharedBy":"Gedeeld door:","Panel.FileInfo.Label.Where":"Locatie:","Localization.DisplayNameCJK":"%{familyName}%{firstName}","File.Type.cpp":"C++-broncode","File.Type.tar":"tar-archief","Toolbar.Button.Upload.Tooltip.Disabled":"Uploaden niet beschikbaar","File.Type.stl":"Stereolithografiebestand","Upload.Error.SizeTooBig.Description":"iCloud Drive op iCloud.com beperkt uploads momenteel tot een maximum van 10 GB."});
__CW____EMBEDDED_LOC_STRINGS.push({"Button.Help.Tooltip":"Helpdesk","AccountMenu.AccountSettings":"Accountinstellingen","Name.Display.FirstAndFamilyNames":"%{firstName} %{familyName}","AccountMenu.SignOut":"Log uit","Toolbar.AppSwitcher.Tooltip":"Ga naar andere app","Toolbar.Button.Action.UserAction":"iCloud-instellingen en log uit"});
__CW____EMBEDDED_LOC_STRINGS.push({"Date.Day.StandAlone.Tuesday.Abbreviated":"di","Date.Month.Prepositional.December.Abbreviated":"dec","Date.Month.StandAlone.December.Abbreviated":"dec","Date.Quarter.StandAlone.Q4.Full":"4e kwartaal","Date.Day.StandAlone.Saturday.Abbreviated":"za","Date.Day.Tuesday.Full":"dinsdag","Date.Month.Prepositional.September.Full":"September","Date.Month.StandAlone.November.Abbreviated":"nov","Date.Month.StandAlone.September.Letter":"s","Date.Month.February.Abbreviated":"feb","Date.Month.StandAlone.January.Abbreviated":"jan","Date.Day.Sunday.Letter":"z","Date.Month.Prepositional.November.Letter":"N","Date.Month.StandAlone.June.Letter":"j","Date.Month.StandAlone.March.Full":"maart","Date.Quarter.StandAlone.Q2.Full":"2e kwartaal","Date.Day.Monday.Abbreviated":"ma","Date.Era.BC.Full":"voor Christus","Date.Month.December.Full":"december","Date.Day.StandAlone.Thursday.Abbreviated":"do","Date.Month.June.Letter":"j","Date.Day.Saturday.Full":"zaterdag","Date.Month.January.Full":"januari","Date.Day.Sunday.Full":"zondag","Date.Quarter.Q2.Abbreviated":"KW2","Date.Month.Prepositional.October.Abbreviated":"okt","Date.Month.August.Letter":"a","Date.Day.Thursday.Full":"donderdag","Date.Day.StandAlone.Tuesday.Full":"dinsdag","Date.Month.StandAlone.July.Full":"juli","Date.Month.March.Abbreviated":"mrt","Date.Month.StandAlone.October.Abbreviated":"okt","Date.Day.Thursday.Letter":"d","Date.Month.StandAlone.June.Abbreviated":"jun","Date.Month.Prepositional.October.Letter":"O","Date.Month.StandAlone.May.Abbreviated":"mei","Date.Day.StandAlone.Thursday.Letter":"d","Date.Month.September.Full":"september","Date.Month.Prepositional.March.Full":"Maart","Date.Month.Prepositional.June.Full":"Juni","Date.Month.March.Letter":"m","Date.Period.PM":"p.m.","Date.Quarter.Q4.Abbreviated":"KW4","Date.Month.April.Letter":"a","Date.Month.Prepositional.September.Letter":"S","Date.Month.Prepositional.December.Letter":"D","Date.Day.StandAlone.Saturday.Letter":"z","Date.Month.April.Abbreviated":"apr","Date.Month.July.Full":"juli","Date.Day.StandAlone.Friday.Full":"vrijdag","Date.Day.Saturday.Letter":"z","Date.Month.June.Abbreviated":"jun","Date.Day.StandAlone.Sunday.Full":"zondag","Date.Quarter.StandAlone.Q4.Abbreviated":"KW4","Date.Month.November.Letter":"n","Date.Quarter.Q3.Full":"3e kwartaal","Date.Day.Tuesday.Letter":"d","Date.Month.StandAlone.April.Abbreviated":"apr","Date.Month.Prepositional.March.Letter":"M","Date.Month.StandAlone.April.Letter":"a","Date.Day.StandAlone.Friday.Abbreviated":"vr","Date.Day.Friday.Letter":"v","Date.Month.June.Full":"juni","Date.Day.StandAlone.Sunday.Abbreviated":"zo","Date.Day.Wednesday.Letter":"w","Date.Day.Wednesday.Full":"woensdag","Date.Month.StandAlone.June.Full":"juni","Date.Day.Tuesday.Abbreviated":"di","Date.Day.StandAlone.Thursday.Full":"donderdag","Date.Month.October.Full":"oktober","Date.Period.AM":"a.m.","Date.Month.Prepositional.August.Full":"Augustus","Date.Month.Prepositional.November.Full":"November","Date.Quarter.Q1.Abbreviated":"KW1","Date.Day.Sunday.Abbreviated":"zo","Date.Month.September.Abbreviated":"sep","Date.Month.StandAlone.August.Letter":"a","Date.Month.StandAlone.September.Abbreviated":"sep","Date.Month.July.Abbreviated":"jul","Date.Month.StandAlone.October.Letter":"o","Date.Month.Prepositional.May.Abbreviated":"Mei","Date.Month.February.Full":"februari","Date.Month.StandAlone.April.Full":"april","Date.Month.November.Full":"november","Date.Month.Prepositional.November.Abbreviated":"nov","Date.Month.Prepositional.March.Abbreviated":"mrt","Date.Month.January.Letter":"j","Date.Day.Monday.Full":"maandag","Date.Month.Prepositional.April.Letter":"A","Date.Month.StandAlone.August.Abbreviated":"aug","Date.Month.Prepositional.May.Letter":"M","Date.Month.StandAlone.May.Letter":"m","Date.Month.Prepositional.August.Abbreviated":"aug","Date.Era.BC.Letter":"v. Chr.","Date.Month.StandAlone.July.Abbreviated":"jul","Date.Day.StandAlone.Monday.Full":"maandag","Date.Month.May.Abbreviated":"mei","Date.Quarter.StandAlone.Q2.Abbreviated":"KW2","Date.Month.StandAlone.December.Full":"december","Date.Month.StandAlone.September.Full":"september","Date.Month.StandAlone.November.Letter":"n","Date.Month.StandAlone.January.Letter":"j","Date.Month.December.Abbreviated":"dec","Date.Quarter.Q1.Full":"1e kwartaal","Date.Day.Thursday.Abbreviated":"do","Date.Month.Prepositional.December.Full":"December","Date.Month.Prepositional.July.Abbreviated":"jul","Date.Day.Friday.Full":"vrijdag","Date.Quarter.Q3.Abbreviated":"KW3","Date.Month.StandAlone.July.Letter":"j","Date.Quarter.Q4.Full":"4e kwartaal","Date.Day.Wednesday.Abbreviated":"wo","Date.Month.Prepositional.April.Abbreviated":"apr","Date.Day.StandAlone.Tuesday.Letter":"d","Date.Month.StandAlone.December.Letter":"d","Date.Day.Friday.Abbreviated":"vr","Date.Era.BC.Abbreviated":"v. Chr.","Date.Day.StandAlone.Monday.Letter":"m","Date.Month.StandAlone.January.Full":"januari","Date.Month.Prepositional.February.Letter":"F","Date.Day.StandAlone.Friday.Letter":"v","Date.Month.Prepositional.April.Full":"April","Date.Month.October.Abbreviated":"okt","Date.Month.August.Full":"augustus","Date.Month.October.Letter":"o","Date.Month.StandAlone.August.Full":"augustus","Date.Quarter.StandAlone.Q3.Abbreviated":"KW3","Date.Era.AD.Full":"na Christus","Date.Month.StandAlone.May.Full":"mei","Date.Month.April.Full":"april","Date.Month.StandAlone.March.Letter":"m","Date.Month.Prepositional.June.Abbreviated":"jun","Date.Month.May.Letter":"m","Date.Quarter.StandAlone.Q1.Abbreviated":"KW1","Date.Month.May.Full":"mei","Date.Day.StandAlone.Wednesday.Full":"woensdag","Date.Month.Prepositional.January.Full":"Januari","Date.Month.Prepositional.May.Full":"Mei","Date.Month.Prepositional.February.Abbreviated":"feb","Date.Month.StandAlone.November.Full":"november","Date.Day.StandAlone.Sunday.Letter":"z","Date.Month.Prepositional.July.Letter":"J","Date.Month.StandAlone.March.Abbreviated":"mrt","Date.Month.Prepositional.August.Letter":"A","Date.Month.Prepositional.January.Abbreviated":"jan","Date.Month.StandAlone.February.Abbreviated":"feb","Date.Era.AD.Letter":"n. Chr.","Date.Month.February.Letter":"f","Date.Month.Prepositional.January.Letter":"J","Date.Quarter.StandAlone.Q1.Full":"1e kwartaal","Date.Month.Prepositional.February.Full":"Februari","Date.Day.StandAlone.Wednesday.Abbreviated":"wo","Date.Month.November.Abbreviated":"nov","Date.Quarter.Q2.Full":"2e kwartaal","Date.Month.August.Abbreviated":"aug","Date.Day.StandAlone.Wednesday.Letter":"w","Date.Month.StandAlone.February.Full":"februari","Date.Month.StandAlone.February.Letter":"f","Date.Day.StandAlone.Saturday.Full":"zaterdag","Date.Day.StandAlone.Monday.Abbreviated":"ma","Date.Month.Prepositional.October.Full":"Oktober","Date.Month.Prepositional.September.Abbreviated":"sep","Date.Day.Monday.Letter":"m","Date.Day.Saturday.Abbreviated":"za","Date.Month.Prepositional.July.Full":"Juli","Date.Era.AD.Abbreviated":"n. Chr.","Date.Month.January.Abbreviated":"jan","Date.Month.StandAlone.October.Full":"oktober","Date.Quarter.StandAlone.Q3.Full":"3e kwartaal","Date.Month.Prepositional.June.Letter":"J","Date.Month.March.Full":"maart","Date.Month.July.Letter":"j","Date.Month.September.Letter":"s","Date.Month.December.Letter":"d"});

var r$968 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$968.png";
var r$969 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$969.png";
var r$970 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$970.png";
var r$971 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$971.png";
var r$972 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$972.png";
var r$973 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$973.png";
var r$974 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$974.png";
var r$975 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$975.png";
var r$976 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$976.png";
var r$977 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$977.png";
var r$978 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$978.png";
var r$979 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$979.png";
var r$980 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$980.png";
var r$981 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$981.png";
var r$982 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$982.png";
var r$983 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$983.png";
var r$984 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$984.png";
var r$985 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$985.png";
var r$986 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$986.png";
var r$987 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$987.png";
var r$988 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$988.png";
var r$989 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$989.png";
var r$990 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$990.png";
var r$991 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$991.png";
var r$992 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$992.js";
var r$965 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$965.jpg";
var r$966 = "/applications/iclouddrive/17BProject66/nl-nl/resources/r$966.jpg";




/**
 * @namespace Polyfill
 * @export CoreJS
 * @raw
 *
 * @import CW.Licenses.Polyfill.CoreJS
 *
 * This file was generated with the following configuration:
 * {
 *     "modules": [
 *         "es6.array",
 *         "es6.map",
 *         "es6.math.sign",
 *         "es6.number",
 *         "es6.object.assign",
 *         "es6.object.create",
 *         "es6.object.freeze",
 *         "es6.object.is",
 *         "es6.set",
 *         "es6.string",
 *         "es6.symbol"
 *     ]
 * }
 */
/**
 * core-js 2.4.1
 * https://github.com/zloirock/core-js
 * License: http://rock.mit-license.org
 * © 2016 Denis Pushkarev
 */
!function(__e, __g, undefined){
'use strict';
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(1);
	__webpack_require__(50);
	__webpack_require__(51);
	__webpack_require__(53);
	__webpack_require__(56);
	__webpack_require__(58);
	__webpack_require__(63);
	__webpack_require__(66);
	__webpack_require__(67);
	__webpack_require__(68);
	__webpack_require__(69);
	__webpack_require__(71);
	__webpack_require__(72);
	__webpack_require__(73);
	__webpack_require__(74);
	__webpack_require__(75);
	__webpack_require__(77);
	__webpack_require__(79);
	__webpack_require__(81);
	__webpack_require__(82);
	__webpack_require__(83);
	__webpack_require__(84);
	__webpack_require__(86);
	__webpack_require__(90);
	__webpack_require__(91);
	__webpack_require__(92);
	__webpack_require__(93);
	__webpack_require__(98);
	__webpack_require__(100);
	__webpack_require__(101);
	__webpack_require__(102);
	__webpack_require__(103);
	__webpack_require__(104);
	__webpack_require__(105);
	__webpack_require__(106);
	__webpack_require__(107);
	__webpack_require__(108);
	__webpack_require__(109);
	__webpack_require__(110);
	__webpack_require__(111);
	__webpack_require__(112);
	__webpack_require__(113);
	__webpack_require__(120);
	__webpack_require__(121);
	__webpack_require__(123);
	__webpack_require__(124);
	__webpack_require__(125);
	__webpack_require__(129);
	__webpack_require__(130);
	__webpack_require__(131);
	__webpack_require__(132);
	__webpack_require__(133);
	__webpack_require__(135);
	__webpack_require__(136);
	__webpack_require__(137);
	__webpack_require__(138);
	__webpack_require__(141);
	__webpack_require__(143);
	__webpack_require__(144);
	__webpack_require__(145);
	__webpack_require__(147);
	__webpack_require__(149);
	module.exports = __webpack_require__(155);


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';

  // ECMAScript 6 symbols shim
  var global         = __webpack_require__(2);

  var has            = __webpack_require__(3);
  var DESCRIPTORS    = __webpack_require__(4);
  var $export        = __webpack_require__(6);
  var redefine       = __webpack_require__(16);
  var META           = __webpack_require__(20).KEY;
  var $fails         = __webpack_require__(5);
  var shared         = __webpack_require__(21);
  var setToStringTag = __webpack_require__(22);
  var uid            = __webpack_require__(17);
  var wks            = __webpack_require__(23);
  var wksExt         = __webpack_require__(24);
  var wksDefine      = __webpack_require__(25);
  var keyOf          = __webpack_require__(27);
  var enumKeys       = __webpack_require__(40);
  var isArray        = __webpack_require__(43);
  var anObject       = __webpack_require__(10);
  var toIObject      = __webpack_require__(30);
  var toPrimitive    = __webpack_require__(14);
  var createDesc     = __webpack_require__(15);
  var _create        = __webpack_require__(44);
  var gOPNExt        = __webpack_require__(47);
  var $GOPD          = __webpack_require__(49);
  var $DP            = __webpack_require__(9);
  var $keys          = __webpack_require__(28);
  var gOPD           = $GOPD.f;
  var dP             = $DP.f;
  var gOPN           = gOPNExt.f;
  var $Symbol        = global.Symbol;
  var $JSON          = global.JSON;
  var _stringify     = $JSON && $JSON.stringify;
  var PROTOTYPE      = 'prototype';
  var HIDDEN         = wks('_hidden');
  var TO_PRIMITIVE   = wks('toPrimitive');
  var isEnum         = {}.propertyIsEnumerable;
  var SymbolRegistry = shared('symbol-registry');
  var AllSymbols     = shared('symbols');
  var OPSymbols      = shared('op-symbols');
  var ObjectProto    = Object[PROTOTYPE];
  var USE_NATIVE     = typeof $Symbol == 'function';
  var QObject        = global.QObject;
  // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
  var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

  // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
  var setSymbolDesc = DESCRIPTORS && $fails(function(){
    return _create(dP({}, 'a', {
      get: function(){ return dP(this, 'a', {value: 7}).a; }
    })).a != 7;
  }) ? function(it, key, D){
    var protoDesc = gOPD(ObjectProto, key);
    if(protoDesc)delete ObjectProto[key];
    dP(it, key, D);
    if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);
  } : dP;

  var wrap = function(tag){
    var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
    sym._k = tag;
    return sym;
  };

  var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){
    return typeof it == 'symbol';
  } : function(it){
    return it instanceof $Symbol;
  };

  var $defineProperty = function defineProperty(it, key, D){
    if(it === ObjectProto)$defineProperty(OPSymbols, key, D);
    anObject(it);
    key = toPrimitive(key, true);
    anObject(D);
    if(has(AllSymbols, key)){
      if(!D.enumerable){
        if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));
        it[HIDDEN][key] = true;
      } else {
        if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;
        D = _create(D, {enumerable: createDesc(0, false)});
      } return setSymbolDesc(it, key, D);
    } return dP(it, key, D);
  };
  var $defineProperties = function defineProperties(it, P){
    anObject(it);
    var keys = enumKeys(P = toIObject(P));
    var i    = 0;
    var l = keys.length;
    var key;
    while(l > i)$defineProperty(it, key = keys[i++], P[key]);
    return it;
  };
  var $create = function create(it, P){
    return P === undefined ? _create(it) : $defineProperties(_create(it), P);
  };
  var $propertyIsEnumerable = function propertyIsEnumerable(key){
    var E = isEnum.call(this, key = toPrimitive(key, true));
    if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;
    return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
  };
  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){
    it  = toIObject(it);
    key = toPrimitive(key, true);
    if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;
    var D = gOPD(it, key);
    if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;
    return D;
  };
  var $getOwnPropertyNames = function getOwnPropertyNames(it){
    var names  = gOPN(toIObject(it));
    var result = [];
    var i      = 0;
    var key;
    while(names.length > i){
      if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);
    }return result;
  };
  var $getOwnPropertySymbols = function getOwnPropertySymbols(it){
    var IS_OP  = it === ObjectProto;
    var names  = gOPN(IS_OP ? OPSymbols : toIObject(it));
    var result = [];
    var i      = 0;
    var key;
    while(names.length > i){
      if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);
    }return result;
  };

  // 19.4.1.1 Symbol([description])
  if(!USE_NATIVE){
    $Symbol = function Symbol(){
      if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');
      var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
      var $set = function(value){
        if(this === ObjectProto)$set.call(OPSymbols, value);
        if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;
        setSymbolDesc(this, tag, createDesc(1, value));
      };
      if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});
      return wrap(tag);
    };
    redefine($Symbol[PROTOTYPE], 'toString', function toString(){
      return this._k;
    });

    $GOPD.f = $getOwnPropertyDescriptor;
    $DP.f   = $defineProperty;
    __webpack_require__(48).f = gOPNExt.f = $getOwnPropertyNames;
    __webpack_require__(42).f  = $propertyIsEnumerable;
    __webpack_require__(41).f = $getOwnPropertySymbols;

    if(DESCRIPTORS && !__webpack_require__(26)){
      redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
    }

    wksExt.f = function(name){
      return wrap(wks(name));
    }
  }

  $export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});

  for(var symbols = (
    // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
    'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
  ).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);

  for(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);

  $export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
    // 19.4.2.1 Symbol.for(key)
    'for': function(key){
      return has(SymbolRegistry, key += '')
        ? SymbolRegistry[key]
        : SymbolRegistry[key] = $Symbol(key);
    },
    // 19.4.2.5 Symbol.keyFor(sym)
    keyFor: function keyFor(key){
      if(isSymbol(key))return keyOf(SymbolRegistry, key);
      throw TypeError(key + ' is not a symbol!');
    },
    useSetter: function(){ setter = true; },
    useSimple: function(){ setter = false; }
  });

  $export($export.S + $export.F * !USE_NATIVE, 'Object', {
    // 19.1.2.2 Object.create(O [, Properties])
    create: $create,
    // 19.1.2.4 Object.defineProperty(O, P, Attributes)
    defineProperty: $defineProperty,
    // 19.1.2.3 Object.defineProperties(O, Properties)
    defineProperties: $defineProperties,
    // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
    getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
    // 19.1.2.7 Object.getOwnPropertyNames(O)
    getOwnPropertyNames: $getOwnPropertyNames,
    // 19.1.2.8 Object.getOwnPropertySymbols(O)
    getOwnPropertySymbols: $getOwnPropertySymbols
  });

  // 24.3.2 JSON.stringify(value [, replacer [, space]])
  $JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){
    var S = $Symbol();
    // MS Edge converts symbol values to JSON as {}
    // WebKit converts symbol values to JSON as null
    // V8 throws on boxed symbols
    return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';
  })), 'JSON', {
    stringify: function stringify(it){
      if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined
      var args = [it];
      var i    = 1;
      var replacer;
      var $replacer;
      while(arguments.length > i)args.push(arguments[i++]);
      replacer = args[1];
      if(typeof replacer == 'function')$replacer = replacer;
      if($replacer || !isArray(replacer))replacer = function(key, value){
        if($replacer)value = $replacer.call(this, key, value);
        if(!isSymbol(value))return value;
      };
      args[1] = replacer;
      return _stringify.apply($JSON, args);
    }
  });

  // 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
  $Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(8)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
  // 19.4.3.5 Symbol.prototype[@@toStringTag]
  setToStringTag($Symbol, 'Symbol');
  // 20.2.1.9 Math[@@toStringTag]
  setToStringTag(Math, 'Math', true);
  // 24.3.3 JSON[@@toStringTag]
  setToStringTag(global.JSON, 'JSON', true);

  /***/
},
/* 2 */
/***/ function(module, exports) {

	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
	if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ },
/* 3 */
/***/ function(module, exports) {

	var hasOwnProperty = {}.hasOwnProperty;
	module.exports = function(it, key){
	  return hasOwnProperty.call(it, key);
	};

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	// Thank's IE8 for his funny defineProperty
	module.exports = !__webpack_require__(5)(function(){
	  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
	});

/***/ },
/* 5 */
/***/ function(module, exports) {

	module.exports = function(exec){
	  try {
	    return !!exec();
	  } catch(e){
	    return true;
	  }
	};

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {
  var global    = __webpack_require__(2);
  var core      = __webpack_require__(7);
  var hide      = __webpack_require__(8);
  var redefine  = __webpack_require__(16);
  var ctx       = __webpack_require__(18);
  var PROTOTYPE = 'prototype';

  var $export = function(type, name, source){
    var IS_FORCED = type & $export.F;
    var IS_GLOBAL = type & $export.G;
    var IS_STATIC = type & $export.S;
    var IS_PROTO  = type & $export.P;
    var IS_BIND   = type & $export.B;
    var target    = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];
    var exports   = IS_GLOBAL ? core : core[name] || (core[name] = {});
    var expProto  = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
    var key;
    var own;
    var out;
    var exp;
    if(IS_GLOBAL)source = name;
    for(key in source){
      // contains in native
      own = !IS_FORCED && target && target[key] !== undefined;
      // export native or passed
      out = (own ? target : source)[key];
      // bind timers to global for call from export context
      exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
      // extend global
      if(target)redefine(target, key, out, type & $export.U);
      // export
      if(exports[key] != out)hide(exports, key, exp);
      if(IS_PROTO && expProto[key] != out)expProto[key] = out;
    }
  };
  global.core = core;
  // type bitmap
  $export.F = 1;   // forced
  $export.G = 2;   // global
  $export.S = 4;   // static
  $export.P = 8;   // proto
  $export.B = 16;  // bind
  $export.W = 32;  // wrap
  $export.U = 64;  // safe
  $export.R = 128; // real proto method for `library`
  module.exports = $export;

  /***/
},
/* 7 */
/***/ function(module, exports) {

	var core = module.exports = {version: '2.4.0'};
	if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {
  var dP         = __webpack_require__(9);
  var createDesc = __webpack_require__(15);
  module.exports = __webpack_require__(4) ? function(object, key, value){
    return dP.f(object, key, createDesc(1, value));
  } : function(object, key, value){
    object[key] = value;
    return object;
  };

  /***/
},
/* 9 */
/***/ function(module, exports, __webpack_require__) {
  var anObject       = __webpack_require__(10);
  var IE8_DOM_DEFINE = __webpack_require__(12);
  var toPrimitive    = __webpack_require__(14);
  var dP             = Object.defineProperty;

  exports.f = __webpack_require__(4) ? Object.defineProperty : function defineProperty(O, P, Attributes){
    anObject(O);
    P = toPrimitive(P, true);
    anObject(Attributes);
    if(IE8_DOM_DEFINE)try {
      return dP(O, P, Attributes);
    } catch(e){ /* empty */ }
    if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');
    if('value' in Attributes)O[P] = Attributes.value;
    return O;
  };

  /***/
},
/* 10 */
/***/ function(module, exports, __webpack_require__) {

	var isObject = __webpack_require__(11);
	module.exports = function(it){
	  if(!isObject(it))throw TypeError(it + ' is not an object!');
	  return it;
	};

/***/ },
/* 11 */
/***/ function(module, exports) {

	module.exports = function(it){
	  return typeof it === 'object' ? it !== null : typeof it === 'function';
	};

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = !__webpack_require__(4) && !__webpack_require__(5)(function(){
	  return Object.defineProperty(__webpack_require__(13)('div'), 'a', {get: function(){ return 7; }}).a != 7;
	});

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {
  var isObject = __webpack_require__(11);

  var document = __webpack_require__(2).document;
  // in old IE typeof document.createElement is 'object'

  var is = isObject(document) && isObject(document.createElement);
  module.exports = function(it){
    return is ? document.createElement(it) : {};
  };

  /***/
},
/* 14 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.1 ToPrimitive(input [, PreferredType])
	var isObject = __webpack_require__(11);
	// instead of the ES6 spec version, we didn't implement @@toPrimitive case
	// and the second argument - flag - preferred type is a string
	module.exports = function(it, S){
      if(!isObject(it))return it;
      var fn;
      var val;
      if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
      if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;
      if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
      throw TypeError("Can't convert object to primitive value");
    };

/***/ },
/* 15 */
/***/ function(module, exports) {

	module.exports = function(bitmap, value){
	  return {
	    enumerable  : !(bitmap & 1),
	    configurable: !(bitmap & 2),
	    writable    : !(bitmap & 4),
	    value       : value
	  };
	};

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {
  var global    = __webpack_require__(2);
  var hide      = __webpack_require__(8);
  var has       = __webpack_require__(3);
  var SRC       = __webpack_require__(17)('src');
  var TO_STRING = 'toString';
  var $toString = Function[TO_STRING];
  var TPL       = ('' + $toString).split(TO_STRING);

  __webpack_require__(7).inspectSource = function(it){
    return $toString.call(it);
  };

  (module.exports = function(O, key, val, safe){
    var isFunction = typeof val == 'function';
    if(isFunction)has(val, 'name') || hide(val, 'name', key);
    if(O[key] === val)return;
    if(isFunction)has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
    if(O === global){
      O[key] = val;
    } else {
      if(!safe){
        delete O[key];
        hide(O, key, val);
      } else {
        if(O[key])O[key] = val;
        else hide(O, key, val);
      }
    }
  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
  })(Function.prototype, TO_STRING, function toString(){
    return typeof this == 'function' && this[SRC] || $toString.call(this);
  });

  /***/
},
/* 17 */
/***/ function(module, exports) {
  var id = 0;
  var px = Math.random();
  module.exports = function(key){
    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
  };

  /***/
},
/* 18 */
/***/ function(module, exports, __webpack_require__) {

	// optional / simple context binding
	var aFunction = __webpack_require__(19);
	module.exports = function(fn, that, length){
	  aFunction(fn);
	  if(that === undefined)return fn;
	  switch(length){
	    case 1: return function(a){
	      return fn.call(that, a);
	    };
	    case 2: return function(a, b){
	      return fn.call(that, a, b);
	    };
	    case 3: return function(a, b, c){
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function(/* ...args */){
	    return fn.apply(that, arguments);
	  };
	};

/***/ },
/* 19 */
/***/ function(module, exports) {

	module.exports = function(it){
	  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
	  return it;
	};

/***/ },
/* 20 */
/***/ function(module, exports, __webpack_require__) {
  var META     = __webpack_require__(17)('meta');
  var isObject = __webpack_require__(11);
  var has      = __webpack_require__(3);
  var setDesc  = __webpack_require__(9).f;
  var id       = 0;
  var isExtensible = Object.isExtensible || function(){
    return true;
  };
  var FREEZE = !__webpack_require__(5)(function(){
    return isExtensible(Object.preventExtensions({}));
  });
  var setMeta = function(it){
    setDesc(it, META, {value: {
      i: 'O' + ++id, // object ID
      w: {}          // weak collections IDs
    }});
  };
  var fastKey = function(it, create){
    // return primitive with prefix
    if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
    if(!has(it, META)){
      // can't set metadata to uncaught frozen object
      if(!isExtensible(it))return 'F';
      // not necessary to add metadata
      if(!create)return 'E';
      // add missing metadata
      setMeta(it);
    // return object ID
    } return it[META].i;
  };
  var getWeak = function(it, create){
    if(!has(it, META)){
      // can't set metadata to uncaught frozen object
      if(!isExtensible(it))return true;
      // not necessary to add metadata
      if(!create)return false;
      // add missing metadata
      setMeta(it);
    // return hash weak collections IDs
    } return it[META].w;
  };
  // add metadata on freeze-family methods calling
  var onFreeze = function(it){
    if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);
    return it;
  };
  var meta = module.exports = {
    KEY:      META,
    NEED:     false,
    fastKey:  fastKey,
    getWeak:  getWeak,
    onFreeze: onFreeze
  };

  /***/
},
/* 21 */
/***/ function(module, exports, __webpack_require__) {
  var global = __webpack_require__(2);
  var SHARED = '__core-js_shared__';
  var store  = global[SHARED] || (global[SHARED] = {});
  module.exports = function(key){
    return store[key] || (store[key] = {});
  };

  /***/
},
/* 22 */
/***/ function(module, exports, __webpack_require__) {
  var def = __webpack_require__(9).f;
  var has = __webpack_require__(3);
  var TAG = __webpack_require__(23)('toStringTag');

  module.exports = function(it, tag, stat){
    if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});
  };

  /***/
},
/* 23 */
/***/ function(module, exports, __webpack_require__) {
  var store      = __webpack_require__(21)('wks');
  var uid        = __webpack_require__(17);
  var Symbol     = __webpack_require__(2).Symbol;
  var USE_SYMBOL = typeof Symbol == 'function';

  var $exports = module.exports = function(name){
    return store[name] || (store[name] =
      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
  };

  $exports.store = store;

  /***/
},
/* 24 */
/***/ function(module, exports, __webpack_require__) {

	exports.f = __webpack_require__(23);

/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {
  var global         = __webpack_require__(2);
  var core           = __webpack_require__(7);
  var LIBRARY        = __webpack_require__(26);
  var wksExt         = __webpack_require__(24);
  var defineProperty = __webpack_require__(9).f;
  module.exports = function(name){
    var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
    if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});
  };

  /***/
},
/* 26 */
/***/ function(module, exports) {

	module.exports = false;

/***/ },
/* 27 */
/***/ function(module, exports, __webpack_require__) {
  var getKeys   = __webpack_require__(28);
  var toIObject = __webpack_require__(30);
  module.exports = function(object, el){
    var O      = toIObject(object);
    var keys   = getKeys(O);
    var length = keys.length;
    var index  = 0;
    var key;
    while(length > index)if(O[key = keys[index++]] === el)return key;
  };

  /***/
},
/* 28 */
/***/ function(module, exports, __webpack_require__) {
  // 19.1.2.14 / 15.2.3.14 Object.keys(O)
  var $keys       = __webpack_require__(29);

  var enumBugKeys = __webpack_require__(39);

  module.exports = Object.keys || function keys(O){
    return $keys(O, enumBugKeys);
  };

  /***/
},
/* 29 */
/***/ function(module, exports, __webpack_require__) {
  var has          = __webpack_require__(3);
  var toIObject    = __webpack_require__(30);
  var arrayIndexOf = __webpack_require__(34)(false);
  var IE_PROTO     = __webpack_require__(38)('IE_PROTO');

  module.exports = function(object, names){
    var O      = toIObject(object);
    var i      = 0;
    var result = [];
    var key;
    for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);
    // Don't enum bug & hidden keys
    while(names.length > i)if(has(O, key = names[i++])){
      ~arrayIndexOf(result, key) || result.push(key);
    }
    return result;
  };

  /***/
},
/* 30 */
/***/ function(module, exports, __webpack_require__) {
  // to indexed object, toObject with fallback for non-array-like ES3 strings
  var IObject = __webpack_require__(31);

  var defined = __webpack_require__(33);
  module.exports = function(it){
    return IObject(defined(it));
  };

  /***/
},
/* 31 */
/***/ function(module, exports, __webpack_require__) {

	// fallback for non-array-like ES3 and non-enumerable old V8 strings
	var cof = __webpack_require__(32);
	module.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){
	  return cof(it) == 'String' ? it.split('') : Object(it);
	};

/***/ },
/* 32 */
/***/ function(module, exports) {

	var toString = {}.toString;

	module.exports = function(it){
	  return toString.call(it).slice(8, -1);
	};

/***/ },
/* 33 */
/***/ function(module, exports) {

	// 7.2.1 RequireObjectCoercible(argument)
	module.exports = function(it){
	  if(it == undefined)throw TypeError("Can't call method on  " + it);
	  return it;
	};

/***/ },
/* 34 */
/***/ function(module, exports, __webpack_require__) {
  // false -> Array#indexOf
  // true  -> Array#includes
  var toIObject = __webpack_require__(30);

  var toLength  = __webpack_require__(35);
  var toIndex   = __webpack_require__(37);
  module.exports = function(IS_INCLUDES){
    return function($this, el, fromIndex){
      var O      = toIObject($this);
      var length = toLength(O.length);
      var index  = toIndex(fromIndex, length);
      var value;
      // Array#includes uses SameValueZero equality algorithm
      if(IS_INCLUDES && el != el)while(length > index){
        value = O[index++];
        if(value != value)return true;
      // Array#toIndex ignores holes, Array#includes - not
      } else for(;length > index; index++)if(IS_INCLUDES || index in O){
        if(O[index] === el)return IS_INCLUDES || index || 0;
      }return !IS_INCLUDES && -1;
    };
  };

  /***/
},
/* 35 */
/***/ function(module, exports, __webpack_require__) {
  // 7.1.15 ToLength
  var toInteger = __webpack_require__(36);

  var min       = Math.min;
  module.exports = function(it){
    return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
  };

  /***/
},
/* 36 */
/***/ function(module, exports) {
  // 7.1.4 ToInteger
  var ceil  = Math.ceil;

  var floor = Math.floor;
  module.exports = function(it){
    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
  };

  /***/
},
/* 37 */
/***/ function(module, exports, __webpack_require__) {
  var toInteger = __webpack_require__(36);
  var max       = Math.max;
  var min       = Math.min;
  module.exports = function(index, length){
    index = toInteger(index);
    return index < 0 ? max(index + length, 0) : min(index, length);
  };

  /***/
},
/* 38 */
/***/ function(module, exports, __webpack_require__) {
  var shared = __webpack_require__(21)('keys');
  var uid    = __webpack_require__(17);
  module.exports = function(key){
    return shared[key] || (shared[key] = uid(key));
  };

  /***/
},
/* 39 */
/***/ function(module, exports) {

	// IE 8- don't enum bug keys
	module.exports = (
	  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
	).split(',');

/***/ },
/* 40 */
/***/ function(module, exports, __webpack_require__) {
  // all enumerable object keys, includes symbols
  var getKeys = __webpack_require__(28);

  var gOPS    = __webpack_require__(41);
  var pIE     = __webpack_require__(42);
  module.exports = function(it){
    var result     = getKeys(it);
    var getSymbols = gOPS.f;
    if(getSymbols){
      var symbols = getSymbols(it);
      var isEnum  = pIE.f;
      var i       = 0;
      var key;
      while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);
    }return result;
  };

  /***/
},
/* 41 */
/***/ function(module, exports) {

	exports.f = Object.getOwnPropertySymbols;

/***/ },
/* 42 */
/***/ function(module, exports) {

	exports.f = {}.propertyIsEnumerable;

/***/ },
/* 43 */
/***/ function(module, exports, __webpack_require__) {

	// 7.2.2 IsArray(argument)
	var cof = __webpack_require__(32);
	module.exports = Array.isArray || function isArray(arg){
	  return cof(arg) == 'Array';
	};

/***/ },
/* 44 */
/***/ function(module, exports, __webpack_require__) {
  // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
  var anObject    = __webpack_require__(10);

  var dPs         = __webpack_require__(45);
  var enumBugKeys = __webpack_require__(39);
  var IE_PROTO    = __webpack_require__(38)('IE_PROTO');
  var Empty       = function(){ /* empty */ };
  var PROTOTYPE   = 'prototype';

  // Create object with fake `null` prototype: use iframe Object with cleared prototype
  var createDict = function(){
    // Thrash, waste and sodomy: IE GC bug
    var iframe = __webpack_require__(13)('iframe');

    var i      = enumBugKeys.length;
    var lt     = '<';
    var gt     = '>';
    var iframeDocument;
    iframe.style.display = 'none';
    __webpack_require__(46).appendChild(iframe);
    iframe.src = 'javascript:'; // eslint-disable-line no-script-url
    // createDict = iframe.contentWindow.Object;
    // html.removeChild(iframe);
    iframeDocument = iframe.contentWindow.document;
    iframeDocument.open();
    iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
    iframeDocument.close();
    createDict = iframeDocument.F;
    while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];
    return createDict();
  };

  module.exports = Object.create || function create(O, Properties){
    var result;
    if(O !== null){
      Empty[PROTOTYPE] = anObject(O);
      result = new Empty;
      Empty[PROTOTYPE] = null;
      // add "__proto__" for Object.getPrototypeOf polyfill
      result[IE_PROTO] = O;
    } else result = createDict();
    return Properties === undefined ? result : dPs(result, Properties);
  };


  /***/
},
/* 45 */
/***/ function(module, exports, __webpack_require__) {
  var dP       = __webpack_require__(9);
  var anObject = __webpack_require__(10);
  var getKeys  = __webpack_require__(28);

  module.exports = __webpack_require__(4) ? Object.defineProperties : function defineProperties(O, Properties){
    anObject(O);
    var keys   = getKeys(Properties);
    var length = keys.length;
    var i = 0;
    var P;
    while(length > i)dP.f(O, P = keys[i++], Properties[P]);
    return O;
  };

  /***/
},
/* 46 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(2).document && document.documentElement;

/***/ },
/* 47 */
/***/ function(module, exports, __webpack_require__) {
  // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
  var toIObject = __webpack_require__(30);

  var gOPN      = __webpack_require__(48).f;
  var toString  = {}.toString;

  var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
    ? Object.getOwnPropertyNames(window) : [];

  var getWindowNames = function(it){
    try {
      return gOPN(it);
    } catch(e){
      return windowNames.slice();
    }
  };

  module.exports.f = function getOwnPropertyNames(it){
    return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
  };


  /***/
},
/* 48 */
/***/ function(module, exports, __webpack_require__) {
  // 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
  var $keys      = __webpack_require__(29);

  var hiddenKeys = __webpack_require__(39).concat('length', 'prototype');

  exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){
    return $keys(O, hiddenKeys);
  };

  /***/
},
/* 49 */
/***/ function(module, exports, __webpack_require__) {
  var pIE            = __webpack_require__(42);
  var createDesc     = __webpack_require__(15);
  var toIObject      = __webpack_require__(30);
  var toPrimitive    = __webpack_require__(14);
  var has            = __webpack_require__(3);
  var IE8_DOM_DEFINE = __webpack_require__(12);
  var gOPD           = Object.getOwnPropertyDescriptor;

  exports.f = __webpack_require__(4) ? gOPD : function getOwnPropertyDescriptor(O, P){
    O = toIObject(O);
    P = toPrimitive(P, true);
    if(IE8_DOM_DEFINE)try {
      return gOPD(O, P);
    } catch(e){ /* empty */ }
    if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);
  };

  /***/
},
/* 50 */
/***/ function(module, exports, __webpack_require__) {

	var $export = __webpack_require__(6)
	// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
	$export($export.S, 'Object', {create: __webpack_require__(44)});

/***/ },
/* 51 */
/***/ function(module, exports, __webpack_require__) {
  // 19.1.2.5 Object.freeze(O)
  var isObject = __webpack_require__(11);

  var meta     = __webpack_require__(20).onFreeze;

  __webpack_require__(52)('freeze', function($freeze){
    return function freeze(it){
      return $freeze && isObject(it) ? $freeze(meta(it)) : it;
    };
  });

  /***/
},
/* 52 */
/***/ function(module, exports, __webpack_require__) {
  // most Object methods by ES6 should accept primitives
  var $export = __webpack_require__(6);

  var core    = __webpack_require__(7);
  var fails   = __webpack_require__(5);
  module.exports = function(KEY, exec){
    var fn  = (core.Object || {})[KEY] || Object[KEY];
    var exp = {};
    exp[KEY] = exec(fn);
    $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
  };

  /***/
},
/* 53 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.3.1 Object.assign(target, source)
	var $export = __webpack_require__(6);

	$export($export.S + $export.F, 'Object', {assign: __webpack_require__(54)});

/***/ },
/* 54 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';

  // 19.1.2.1 Object.assign(target, source, ...)
  var getKeys  = __webpack_require__(28);

  var gOPS     = __webpack_require__(41);
  var pIE      = __webpack_require__(42);
  var toObject = __webpack_require__(55);
  var IObject  = __webpack_require__(31);
  var $assign  = Object.assign;

  // should work with symbols and should have deterministic property order (V8 bug)
  module.exports = !$assign || __webpack_require__(5)(function(){
    var A = {};
    var B = {};
    var S = Symbol();
    var K = 'abcdefghijklmnopqrst';
    A[S] = 7;
    K.split('').forEach(function(k){ B[k] = k; });
    return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
  }) ? function assign(target, source){
    // eslint-disable-line no-unused-vars
    var T     = toObject(target);

    var aLen  = arguments.length;
    var index = 1;
    var getSymbols = gOPS.f;
    var isEnum     = pIE.f;
    while(aLen > index){
      var S      = IObject(arguments[index++]);
      var keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);
      var length = keys.length;
      var j      = 0;
      var key;
      while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];
    }return T;
  } : $assign;

  /***/
},
/* 55 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.13 ToObject(argument)
	var defined = __webpack_require__(33);
	module.exports = function(it){
	  return Object(defined(it));
	};

/***/ },
/* 56 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.3.10 Object.is(value1, value2)
	var $export = __webpack_require__(6);
	$export($export.S, 'Object', {is: __webpack_require__(57)});

/***/ },
/* 57 */
/***/ function(module, exports) {

	// 7.2.9 SameValue(x, y)
	module.exports = Object.is || function is(x, y){
	  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
	};

/***/ },
/* 58 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var global            = __webpack_require__(2);
  var has               = __webpack_require__(3);
  var cof               = __webpack_require__(32);
  var inheritIfRequired = __webpack_require__(59);
  var toPrimitive       = __webpack_require__(14);
  var fails             = __webpack_require__(5);
  var gOPN              = __webpack_require__(48).f;
  var gOPD              = __webpack_require__(49).f;
  var dP                = __webpack_require__(9).f;
  var $trim             = __webpack_require__(61).trim;
  var NUMBER            = 'Number';
  var $Number           = global[NUMBER];
  var Base              = $Number;

  var proto = $Number.prototype;
  // Opera ~12 has broken Object#toString

  var BROKEN_COF        = cof(__webpack_require__(44)(proto)) == NUMBER;
  var TRIM              = 'trim' in String.prototype;

  // 7.1.3 ToNumber(argument)
  var toNumber = function(argument){
    var it = toPrimitive(argument, false);
    if(typeof it == 'string' && it.length > 2){
      it = TRIM ? it.trim() : $trim(it, 3);
      var first = it.charCodeAt(0);
      var third;
      var radix;
      var maxCode;
      if(first === 43 || first === 45){
        third = it.charCodeAt(2);
        if(third === 88 || third === 120)return NaN; // Number('+0x1') should be NaN, old V8 fix
      } else if(first === 48){
        switch(it.charCodeAt(1)){
          case 66 : case 98  : radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i
          case 79 : case 111 : radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i
          default : return +it;
        }
        for(var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++){
          code = digits.charCodeAt(i);
          // parseInt parses a string to a first unavailable symbol
          // but ToNumber should return NaN if a string contains unavailable symbols
          if(code < 48 || code > maxCode)return NaN;
        } return parseInt(digits, radix);
      }
    } return +it;
  };

  if(!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')){
    $Number = function Number(value){
      var it = arguments.length < 1 ? 0 : value;
      var that = this;
      return that instanceof $Number
        // check on 1..constructor(foo) case
        && (BROKEN_COF ? fails(function(){ proto.valueOf.call(that); }) : cof(that) != NUMBER)
          ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);
    };
    for(var keys = __webpack_require__(4) ? gOPN(Base) : (
      // ES3:
      ('MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +
      // ES6 (in case, if modules with ES6 Number statics required before):
      'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' + 'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger')
    ).split(','), j = 0, key; keys.length > j; j++){
      if(has(Base, key = keys[j]) && !has($Number, key)){
        dP($Number, key, gOPD(Base, key));
      }
    }
    $Number.prototype = proto;
    proto.constructor = $Number;
    __webpack_require__(16)(global, NUMBER, $Number);
  }

  /***/
},
/* 59 */
/***/ function(module, exports, __webpack_require__) {
  var isObject       = __webpack_require__(11);
  var setPrototypeOf = __webpack_require__(60).set;
  module.exports = function(that, target, C){
    var P;
    var S = target.constructor;
    if(S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf){
      setPrototypeOf(that, P);
    }return that;
  };

  /***/
},
/* 60 */
/***/ function(module, exports, __webpack_require__) {
  // Works with __proto__ only. Old v8 can't work with null proto objects.
  /* eslint-disable no-proto */
  var isObject = __webpack_require__(11);

  var anObject = __webpack_require__(10);
  var check = function(O, proto){
    anObject(O);
    if(!isObject(proto) && proto !== null)throw TypeError(proto + ": can't set as prototype!");
  };
  module.exports = {
    set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
      function(test, buggy, set){
        try {
          set = __webpack_require__(18)(Function.call, __webpack_require__(49).f(Object.prototype, '__proto__').set, 2);
          set(test, []);
          buggy = !(test instanceof Array);
        } catch(e){ buggy = true; }
        return function setPrototypeOf(O, proto){
          check(O, proto);
          if(buggy)O.__proto__ = proto;
          else set(O, proto);
          return O;
        };
      }({}, false) : undefined),
    check: check
  };

  /***/
},
/* 61 */
/***/ function(module, exports, __webpack_require__) {
  var $export = __webpack_require__(6);
  var defined = __webpack_require__(33);
  var fails   = __webpack_require__(5);
  var spaces  = __webpack_require__(62);
  var space   = '[' + spaces + ']';
  var non     = '\u200b\u0085';
  var ltrim   = RegExp('^' + space + space + '*');
  var rtrim   = RegExp(space + space + '*$');

  var exporter = function(KEY, exec, ALIAS){
    var exp   = {};
    var FORCE = fails(function(){
      return !!spaces[KEY]() || non[KEY]() != non;
    });
    var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];
    if(ALIAS)exp[ALIAS] = fn;
    $export($export.P + $export.F * FORCE, 'String', exp);
  };

  // 1 -> String#trimLeft
  // 2 -> String#trimRight
  // 3 -> String#trim
  var trim = exporter.trim = function(string, TYPE){
    string = String(defined(string));
    if(TYPE & 1)string = string.replace(ltrim, '');
    if(TYPE & 2)string = string.replace(rtrim, '');
    return string;
  };

  module.exports = exporter;

  /***/
},
/* 62 */
/***/ function(module, exports) {

	module.exports = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' +
	  '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';

/***/ },
/* 63 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export      = __webpack_require__(6);
  var toInteger    = __webpack_require__(36);
  var aNumberValue = __webpack_require__(64);
  var repeat       = __webpack_require__(65);
  var $toFixed     = (1).toFixed;
  var floor        = Math.floor;
  var data         = [0, 0, 0, 0, 0, 0];
  var ERROR        = 'Number.toFixed: incorrect invocation!';
  var ZERO         = '0';

  var multiply = function(n, c){
    var i  = -1;
    var c2 = c;
    while(++i < 6){
      c2 += n * data[i];
      data[i] = c2 % 1e7;
      c2 = floor(c2 / 1e7);
    }
  };
  var divide = function(n){
    var i = 6;
    var c = 0;
    while(--i >= 0){
      c += data[i];
      data[i] = floor(c / n);
      c = (c % n) * 1e7;
    }
  };
  var numToString = function(){
    var i = 6;
    var s = '';
    while(--i >= 0){
      if(s !== '' || i === 0 || data[i] !== 0){
        var t = String(data[i]);
        s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;
      }
    }return s;
  };
  var pow = function(x, n, acc){
    return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);
  };
  var log = function(x){
    var n  = 0;
    var x2 = x;
    while(x2 >= 4096){
      n += 12;
      x2 /= 4096;
    }
    while(x2 >= 2){
      n  += 1;
      x2 /= 2;
    }return n;
  };

  $export($export.P + $export.F * (!!$toFixed && (
    (0.00008).toFixed(3) !== '0.000' ||
    (0.9).toFixed(0) !== '1' ||
    (1.255).toFixed(2) !== '1.25' ||
    (1000000000000000100).toFixed(0) !== '1000000000000000128'
  ) || !__webpack_require__(5)(function(){
    // V8 ~ Android 4.3-
    $toFixed.call({});
  })), 'Number', {
    toFixed: function toFixed(fractionDigits){
      var x = aNumberValue(this, ERROR);
      var f = toInteger(fractionDigits);
      var s = '';
      var m = ZERO;
      var e;
      var z;
      var j;
      var k;
      if(f < 0 || f > 20)throw RangeError(ERROR);
      if(x != x)return 'NaN';
      if(x <= -1e21 || x >= 1e21)return String(x);
      if(x < 0){
        s = '-';
        x = -x;
      }
      if(x > 1e-21){
        e = log(x * pow(2, 69, 1)) - 69;
        z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);
        z *= 0x10000000000000;
        e = 52 - e;
        if(e > 0){
          multiply(0, z);
          j = f;
          while(j >= 7){
            multiply(1e7, 0);
            j -= 7;
          }
          multiply(pow(10, j, 1), 0);
          j = e - 1;
          while(j >= 23){
            divide(1 << 23);
            j -= 23;
          }
          divide(1 << j);
          multiply(1, 1);
          divide(2);
          m = numToString();
        } else {
          multiply(0, z);
          multiply(1 << -e, 0);
          m = numToString() + repeat.call(ZERO, f);
        }
      }
      if(f > 0){
        k = m.length;
        m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));
      } else {
        m = s + m;
      }return m;
    }
  });

  /***/
},
/* 64 */
/***/ function(module, exports, __webpack_require__) {

	var cof = __webpack_require__(32);
	module.exports = function(it, msg){
	  if(typeof it != 'number' && cof(it) != 'Number')throw TypeError(msg);
	  return +it;
	};

/***/ },
/* 65 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var toInteger = __webpack_require__(36);
  var defined   = __webpack_require__(33);

  module.exports = function repeat(count){
    var str = String(defined(this));
    var res = '';
    var n   = toInteger(count);
    if(n < 0 || n == Infinity)throw RangeError("Count can't be negative");
    for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;
    return res;
  };

  /***/
},
/* 66 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export      = __webpack_require__(6);
  var $fails       = __webpack_require__(5);
  var aNumberValue = __webpack_require__(64);
  var $toPrecision = (1).toPrecision;

  $export($export.P + $export.F * ($fails(function(){
    // IE7-
    return $toPrecision.call(1, undefined) !== '1';
  }) || !$fails(function(){
    // V8 ~ Android 4.3-
    $toPrecision.call({});
  })), 'Number', {
    toPrecision: function toPrecision(precision){
      var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');
      return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);
    }
  });

  /***/
},
/* 67 */
/***/ function(module, exports, __webpack_require__) {

	// 20.1.2.1 Number.EPSILON
	var $export = __webpack_require__(6);

	$export($export.S, 'Number', {EPSILON: Math.pow(2, -52)});

/***/ },
/* 68 */
/***/ function(module, exports, __webpack_require__) {
  // 20.1.2.2 Number.isFinite(number)
  var $export   = __webpack_require__(6);

  var _isFinite = __webpack_require__(2).isFinite;

  $export($export.S, 'Number', {
    isFinite: function isFinite(it){
      return typeof it == 'number' && _isFinite(it);
    }
  });

  /***/
},
/* 69 */
/***/ function(module, exports, __webpack_require__) {

	// 20.1.2.3 Number.isInteger(number)
	var $export = __webpack_require__(6);

	$export($export.S, 'Number', {isInteger: __webpack_require__(70)});

/***/ },
/* 70 */
/***/ function(module, exports, __webpack_require__) {
  // 20.1.2.3 Number.isInteger(number)
  var isObject = __webpack_require__(11);

  var floor    = Math.floor;
  module.exports = function isInteger(it){
    return !isObject(it) && isFinite(it) && floor(it) === it;
  };

  /***/
},
/* 71 */
/***/ function(module, exports, __webpack_require__) {

	// 20.1.2.4 Number.isNaN(number)
	var $export = __webpack_require__(6);

	$export($export.S, 'Number', {
	  isNaN: function isNaN(number){
	    return number != number;
	  }
	});

/***/ },
/* 72 */
/***/ function(module, exports, __webpack_require__) {
  // 20.1.2.5 Number.isSafeInteger(number)
  var $export   = __webpack_require__(6);

  var isInteger = __webpack_require__(70);
  var abs       = Math.abs;

  $export($export.S, 'Number', {
    isSafeInteger: function isSafeInteger(number){
      return isInteger(number) && abs(number) <= 0x1fffffffffffff;
    }
  });

  /***/
},
/* 73 */
/***/ function(module, exports, __webpack_require__) {

	// 20.1.2.6 Number.MAX_SAFE_INTEGER
	var $export = __webpack_require__(6);

	$export($export.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});

/***/ },
/* 74 */
/***/ function(module, exports, __webpack_require__) {

	// 20.1.2.10 Number.MIN_SAFE_INTEGER
	var $export = __webpack_require__(6);

	$export($export.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});

/***/ },
/* 75 */
/***/ function(module, exports, __webpack_require__) {
  var $export     = __webpack_require__(6);
  var $parseFloat = __webpack_require__(76);
  // 20.1.2.12 Number.parseFloat(string)
  $export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', {parseFloat: $parseFloat});

  /***/
},
/* 76 */
/***/ function(module, exports, __webpack_require__) {
  var $parseFloat = __webpack_require__(2).parseFloat;
  var $trim       = __webpack_require__(61).trim;

  module.exports = 1 / $parseFloat(__webpack_require__(62) + '-0') !== -Infinity ? function parseFloat(str){
    var string = $trim(String(str), 3);
    var result = $parseFloat(string);
    return result === 0 && string.charAt(0) == '-' ? -0 : result;
  } : $parseFloat;

  /***/
},
/* 77 */
/***/ function(module, exports, __webpack_require__) {
  var $export   = __webpack_require__(6);
  var $parseInt = __webpack_require__(78);
  // 20.1.2.13 Number.parseInt(string, radix)
  $export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', {parseInt: $parseInt});

  /***/
},
/* 78 */
/***/ function(module, exports, __webpack_require__) {
  var $parseInt = __webpack_require__(2).parseInt;
  var $trim     = __webpack_require__(61).trim;
  var ws        = __webpack_require__(62);
  var hex       = /^[\-+]?0[xX]/;

  module.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix){
    var string = $trim(String(str), 3);
    return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));
  } : $parseInt;

  /***/
},
/* 79 */
/***/ function(module, exports, __webpack_require__) {

	// 20.2.2.28 Math.sign(x)
	var $export = __webpack_require__(6);

	$export($export.S, 'Math', {sign: __webpack_require__(80)});

/***/ },
/* 80 */
/***/ function(module, exports) {

	// 20.2.2.28 Math.sign(x)
	module.exports = Math.sign || function sign(x){
	  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
	};

/***/ },
/* 81 */
/***/ function(module, exports, __webpack_require__) {
  var $export        = __webpack_require__(6);
  var toIndex        = __webpack_require__(37);
  var fromCharCode   = String.fromCharCode;
  var $fromCodePoint = String.fromCodePoint;

  // length should be 1, old FF problem
  $export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
    // 21.1.2.2 String.fromCodePoint(...codePoints)
    fromCodePoint: function fromCodePoint(x){
      // eslint-disable-line no-unused-vars
      var res  = [];

      var aLen = arguments.length;
      var i    = 0;
      var code;
      while(aLen > i){
        code = +arguments[i++];
        if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');
        res.push(code < 0x10000
          ? fromCharCode(code)
          : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
        );
      }return res.join('');
    }
  });

  /***/
},
/* 82 */
/***/ function(module, exports, __webpack_require__) {
  var $export   = __webpack_require__(6);
  var toIObject = __webpack_require__(30);
  var toLength  = __webpack_require__(35);

  $export($export.S, 'String', {
    // 21.1.2.4 String.raw(callSite, ...substitutions)
    raw: function raw(callSite){
      var tpl  = toIObject(callSite.raw);
      var len  = toLength(tpl.length);
      var aLen = arguments.length;
      var res  = [];
      var i    = 0;
      while(len > i){
        res.push(String(tpl[i++]));
        if(i < aLen)res.push(String(arguments[i]));
      }return res.join('');
    }
  });

  /***/
},
/* 83 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// 21.1.3.25 String.prototype.trim()
	__webpack_require__(61)('trim', function($trim){
	  return function trim(){
	    return $trim(this, 3);
	  };
	});

/***/ },
/* 84 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export = __webpack_require__(6);
  var $at     = __webpack_require__(85)(false);
  $export($export.P, 'String', {
    // 21.1.3.3 String.prototype.codePointAt(pos)
    codePointAt: function codePointAt(pos){
      return $at(this, pos);
    }
  });

  /***/
},
/* 85 */
/***/ function(module, exports, __webpack_require__) {
  var toInteger = __webpack_require__(36);
  var defined   = __webpack_require__(33);
  // true  -> String#at
  // false -> String#codePointAt
  module.exports = function(TO_STRING){
    return function(that, pos){
      var s = String(defined(that));
      var i = toInteger(pos);
      var l = s.length;
      var a;
      var b;
      if(i < 0 || i >= l)return TO_STRING ? '' : undefined;
      a = s.charCodeAt(i);
      return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
        ? TO_STRING ? s.charAt(i) : a
        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
    };
  };

  /***/
},
/* 86 */
/***/ function(module, exports, __webpack_require__) {
  // 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])
  'use strict';
  var $export   = __webpack_require__(6);
  var toLength  = __webpack_require__(35);
  var context   = __webpack_require__(87);
  var ENDS_WITH = 'endsWith';
  var $endsWith = ''[ENDS_WITH];

  $export($export.P + $export.F * __webpack_require__(89)(ENDS_WITH), 'String', {
    endsWith: function endsWith(searchString /*, endPosition = @length */){
      var that = context(this, searchString, ENDS_WITH);
      var endPosition = arguments.length > 1 ? arguments[1] : undefined;
      var len    = toLength(that.length);
      var end    = endPosition === undefined ? len : Math.min(toLength(endPosition), len);
      var search = String(searchString);
      return $endsWith
        ? $endsWith.call(that, search, end)
        : that.slice(end - search.length, end) === search;
    }
  });

  /***/
},
/* 87 */
/***/ function(module, exports, __webpack_require__) {
  // helper for String#{startsWith, endsWith, includes}
  var isRegExp = __webpack_require__(88);

  var defined  = __webpack_require__(33);

  module.exports = function(that, searchString, NAME){
    if(isRegExp(searchString))throw TypeError('String#' + NAME + " doesn't accept regex!");
    return String(defined(that));
  };

  /***/
},
/* 88 */
/***/ function(module, exports, __webpack_require__) {
  // 7.2.8 IsRegExp(argument)
  var isObject = __webpack_require__(11);

  var cof      = __webpack_require__(32);
  var MATCH    = __webpack_require__(23)('match');
  module.exports = function(it){
    var isRegExp;
    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');
  };

  /***/
},
/* 89 */
/***/ function(module, exports, __webpack_require__) {

	var MATCH = __webpack_require__(23)('match');
	module.exports = function(KEY){
	  var re = /./;
	  try {
	    '/./'[KEY](re);
	  } catch(e){
	    try {
	      re[MATCH] = false;
	      return !'/./'[KEY](re);
	    } catch(f){ /* empty */ }
	  } return true;
	};

/***/ },
/* 90 */
/***/ function(module, exports, __webpack_require__) {
  // 21.1.3.7 String.prototype.includes(searchString, position = 0)
  'use strict';
  var $export  = __webpack_require__(6);
  var context  = __webpack_require__(87);
  var INCLUDES = 'includes';

  $export($export.P + $export.F * __webpack_require__(89)(INCLUDES), 'String', {
    includes: function includes(searchString /*, position = 0 */){
      return !!~context(this, searchString, INCLUDES)
        .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  /***/
},
/* 91 */
/***/ function(module, exports, __webpack_require__) {

	var $export = __webpack_require__(6);

	$export($export.P, 'String', {
	  // 21.1.3.13 String.prototype.repeat(count)
	  repeat: __webpack_require__(65)
	});

/***/ },
/* 92 */
/***/ function(module, exports, __webpack_require__) {
  // 21.1.3.18 String.prototype.startsWith(searchString [, position ])
  'use strict';
  var $export     = __webpack_require__(6);
  var toLength    = __webpack_require__(35);
  var context     = __webpack_require__(87);
  var STARTS_WITH = 'startsWith';
  var $startsWith = ''[STARTS_WITH];

  $export($export.P + $export.F * __webpack_require__(89)(STARTS_WITH), 'String', {
    startsWith: function startsWith(searchString /*, position = 0 */){
      var that   = context(this, searchString, STARTS_WITH);
      var index  = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));
      var search = String(searchString);
      return $startsWith
        ? $startsWith.call(that, search, index)
        : that.slice(index, index + search.length) === search;
    }
  });

  /***/
},
/* 93 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var $at  = __webpack_require__(85)(true);

	// 21.1.3.27 String.prototype[@@iterator]()
	__webpack_require__(94)(String, 'String', function(iterated){
	  this._t = String(iterated); // target
	  this._i = 0;                // next index
	// 21.1.5.2.1 %StringIteratorPrototype%.next()
	}, function(){
      var O     = this._t;
      var index = this._i;
      var point;
      if(index >= O.length)return {value: undefined, done: true};
      point = $at(O, index);
      this._i += point.length;
      return {value: point, done: false};
    });

/***/ },
/* 94 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var LIBRARY        = __webpack_require__(26);
  var $export        = __webpack_require__(6);
  var redefine       = __webpack_require__(16);
  var hide           = __webpack_require__(8);
  var has            = __webpack_require__(3);
  var Iterators      = __webpack_require__(95);
  var $iterCreate    = __webpack_require__(96);
  var setToStringTag = __webpack_require__(22);
  var getPrototypeOf = __webpack_require__(97);
  var ITERATOR       = __webpack_require__(23)('iterator');
  var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
  var FF_ITERATOR    = '@@iterator';
  var KEYS           = 'keys';
  var VALUES         = 'values';

  var returnThis = function(){ return this; };

  module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){
    $iterCreate(Constructor, NAME, next);
    var getMethod = function(kind){
      if(!BUGGY && kind in proto)return proto[kind];
      switch(kind){
        case KEYS: return function keys(){ return new Constructor(this, kind); };
        case VALUES: return function values(){ return new Constructor(this, kind); };
      } return function entries(){ return new Constructor(this, kind); };
    };
    var TAG        = NAME + ' Iterator';
    var DEF_VALUES = DEFAULT == VALUES;
    var VALUES_BUG = false;
    var proto      = Base.prototype;
    var $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
    var $default   = $native || getMethod(DEFAULT);
    var $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
    var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
    var methods;
    var key;
    var IteratorPrototype;
    // Fix native
    if($anyNative){
      IteratorPrototype = getPrototypeOf($anyNative.call(new Base));
      if(IteratorPrototype !== Object.prototype){
        // Set @@toStringTag to native iterators
        setToStringTag(IteratorPrototype, TAG, true);
        // fix for some old engines
        if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);
      }
    }
    // fix Array#{values, @@iterator}.name in V8 / FF
    if(DEF_VALUES && $native && $native.name !== VALUES){
      VALUES_BUG = true;
      $default = function values(){ return $native.call(this); };
    }
    // Define iterator
    if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){
      hide(proto, ITERATOR, $default);
    }
    // Plug for library
    Iterators[NAME] = $default;
    Iterators[TAG]  = returnThis;
    if(DEFAULT){
      methods = {
        values:  DEF_VALUES ? $default : getMethod(VALUES),
        keys:    IS_SET     ? $default : getMethod(KEYS),
        entries: $entries
      };
      if(FORCED)for(key in methods){
        if(!(key in proto))redefine(proto, key, methods[key]);
      } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
    }
    return methods;
  };

  /***/
},
/* 95 */
/***/ function(module, exports) {

	module.exports = {};

/***/ },
/* 96 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var create         = __webpack_require__(44);
  var descriptor     = __webpack_require__(15);
  var setToStringTag = __webpack_require__(22);
  var IteratorPrototype = {};

  // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
  __webpack_require__(8)(IteratorPrototype, __webpack_require__(23)('iterator'), function(){ return this; });

  module.exports = function(Constructor, NAME, next){
    Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});
    setToStringTag(Constructor, NAME + ' Iterator');
  };

  /***/
},
/* 97 */
/***/ function(module, exports, __webpack_require__) {
  // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
  var has         = __webpack_require__(3);

  var toObject    = __webpack_require__(55);
  var IE_PROTO    = __webpack_require__(38)('IE_PROTO');
  var ObjectProto = Object.prototype;

  module.exports = Object.getPrototypeOf || function(O){
    O = toObject(O);
    if(has(O, IE_PROTO))return O[IE_PROTO];
    if(typeof O.constructor == 'function' && O instanceof O.constructor){
      return O.constructor.prototype;
    } return O instanceof Object ? ObjectProto : null;
  };

  /***/
},
/* 98 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.2 String.prototype.anchor(name)
	__webpack_require__(99)('anchor', function(createHTML){
	  return function anchor(name){
	    return createHTML(this, 'a', 'name', name);
	  }
	});

/***/ },
/* 99 */
/***/ function(module, exports, __webpack_require__) {
  var $export = __webpack_require__(6);
  var fails   = __webpack_require__(5);
  var defined = __webpack_require__(33);
  var quot    = /"/g;
  // B.2.3.2.1 CreateHTML(string, tag, attribute, value)
  var createHTML = function(string, tag, attribute, value) {
    var S  = String(defined(string));
    var p1 = '<' + tag;
    if(attribute !== '')p1 += ' ' + attribute + '="' + String(value).replace(quot, '&quot;') + '"';
    return p1 + '>' + S + '</' + tag + '>';
  };
  module.exports = function(NAME, exec){
    var O = {};
    O[NAME] = exec(createHTML);
    $export($export.P + $export.F * fails(function(){
      var test = ''[NAME]('"');
      return test !== test.toLowerCase() || test.split('"').length > 3;
    }), 'String', O);
  };

  /***/
},
/* 100 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.3 String.prototype.big()
	__webpack_require__(99)('big', function(createHTML){
	  return function big(){
	    return createHTML(this, 'big', '', '');
	  }
	});

/***/ },
/* 101 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.4 String.prototype.blink()
	__webpack_require__(99)('blink', function(createHTML){
	  return function blink(){
	    return createHTML(this, 'blink', '', '');
	  }
	});

/***/ },
/* 102 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.5 String.prototype.bold()
	__webpack_require__(99)('bold', function(createHTML){
	  return function bold(){
	    return createHTML(this, 'b', '', '');
	  }
	});

/***/ },
/* 103 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.6 String.prototype.fixed()
	__webpack_require__(99)('fixed', function(createHTML){
	  return function fixed(){
	    return createHTML(this, 'tt', '', '');
	  }
	});

/***/ },
/* 104 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.7 String.prototype.fontcolor(color)
	__webpack_require__(99)('fontcolor', function(createHTML){
	  return function fontcolor(color){
	    return createHTML(this, 'font', 'color', color);
	  }
	});

/***/ },
/* 105 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.8 String.prototype.fontsize(size)
	__webpack_require__(99)('fontsize', function(createHTML){
	  return function fontsize(size){
	    return createHTML(this, 'font', 'size', size);
	  }
	});

/***/ },
/* 106 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.9 String.prototype.italics()
	__webpack_require__(99)('italics', function(createHTML){
	  return function italics(){
	    return createHTML(this, 'i', '', '');
	  }
	});

/***/ },
/* 107 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.10 String.prototype.link(url)
	__webpack_require__(99)('link', function(createHTML){
	  return function link(url){
	    return createHTML(this, 'a', 'href', url);
	  }
	});

/***/ },
/* 108 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.11 String.prototype.small()
	__webpack_require__(99)('small', function(createHTML){
	  return function small(){
	    return createHTML(this, 'small', '', '');
	  }
	});

/***/ },
/* 109 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.12 String.prototype.strike()
	__webpack_require__(99)('strike', function(createHTML){
	  return function strike(){
	    return createHTML(this, 'strike', '', '');
	  }
	});

/***/ },
/* 110 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.13 String.prototype.sub()
	__webpack_require__(99)('sub', function(createHTML){
	  return function sub(){
	    return createHTML(this, 'sub', '', '');
	  }
	});

/***/ },
/* 111 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// B.2.3.14 String.prototype.sup()
	__webpack_require__(99)('sup', function(createHTML){
	  return function sup(){
	    return createHTML(this, 'sup', '', '');
	  }
	});

/***/ },
/* 112 */
/***/ function(module, exports, __webpack_require__) {

	// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)
	var $export = __webpack_require__(6);

	$export($export.S, 'Array', {isArray: __webpack_require__(43)});

/***/ },
/* 113 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var ctx            = __webpack_require__(18);
  var $export        = __webpack_require__(6);
  var toObject       = __webpack_require__(55);
  var call           = __webpack_require__(114);
  var isArrayIter    = __webpack_require__(115);
  var toLength       = __webpack_require__(35);
  var createProperty = __webpack_require__(116);
  var getIterFn      = __webpack_require__(117);

  $export($export.S + $export.F * !__webpack_require__(119)(function(iter){ Array.from(iter); }), 'Array', {
    // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
    from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){
      var O       = toObject(arrayLike);
      var C       = typeof this == 'function' ? this : Array;
      var aLen    = arguments.length;
      var mapfn   = aLen > 1 ? arguments[1] : undefined;
      var mapping = mapfn !== undefined;
      var index   = 0;
      var iterFn  = getIterFn(O);
      var length;
      var result;
      var step;
      var iterator;
      if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
      // if object isn't iterable or it's array with default iterator - use simple case
      if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){
        for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){
          createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
        }
      } else {
        length = toLength(O.length);
        for(result = new C(length); length > index; index++){
          createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
        }
      }
      result.length = index;
      return result;
    }
  });


  /***/
},
/* 114 */
/***/ function(module, exports, __webpack_require__) {

	// call something on iterator step with safe closing on error
	var anObject = __webpack_require__(10);
	module.exports = function(iterator, fn, value, entries){
	  try {
	    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
	  // 7.4.6 IteratorClose(iterator, completion)
	  } catch(e){
	    var ret = iterator['return'];
	    if(ret !== undefined)anObject(ret.call(iterator));
	    throw e;
	  }
	};

/***/ },
/* 115 */
/***/ function(module, exports, __webpack_require__) {
  // check on default Array iterator
  var Iterators  = __webpack_require__(95);

  var ITERATOR   = __webpack_require__(23)('iterator');
  var ArrayProto = Array.prototype;

  module.exports = function(it){
    return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
  };

  /***/
},
/* 116 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $defineProperty = __webpack_require__(9);
  var createDesc      = __webpack_require__(15);

  module.exports = function(object, index, value){
    if(index in object)$defineProperty.f(object, index, createDesc(0, value));
    else object[index] = value;
  };

  /***/
},
/* 117 */
/***/ function(module, exports, __webpack_require__) {
  var classof   = __webpack_require__(118);
  var ITERATOR  = __webpack_require__(23)('iterator');
  var Iterators = __webpack_require__(95);
  module.exports = __webpack_require__(7).getIteratorMethod = function(it){
    if(it != undefined)return it[ITERATOR]
      || it['@@iterator']
      || Iterators[classof(it)];
  };

  /***/
},
/* 118 */
/***/ function(module, exports, __webpack_require__) {
  // getting tag from 19.1.3.6 Object.prototype.toString()
  var cof = __webpack_require__(32);

  var TAG = __webpack_require__(23)('toStringTag');
  // ES3 wrong here

  var ARG = cof(function(){ return arguments; }()) == 'Arguments';

  // fallback for IE11 Script Access Denied error
  var tryGet = function(it, key){
    try {
      return it[key];
    } catch(e){ /* empty */ }
  };

  module.exports = function(it){
    var O;
    var T;
    var B;
    return it === undefined ? 'Undefined' : it === null ? 'Null'
      // @@toStringTag case
      : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
      // builtinTag case
      : ARG ? cof(O)
      // ES3 arguments fallback
      : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
  };

  /***/
},
/* 119 */
/***/ function(module, exports, __webpack_require__) {
  var ITERATOR     = __webpack_require__(23)('iterator');
  var SAFE_CLOSING = false;

  try {
    var riter = [7][ITERATOR]();
    riter['return'] = function(){ SAFE_CLOSING = true; };
    Array.from(riter, function(){ throw 2; });
  } catch(e){ /* empty */ }

  module.exports = function(exec, skipClosing){
    if(!skipClosing && !SAFE_CLOSING)return false;
    var safe = false;
    try {
      var arr  = [7];
      var iter = arr[ITERATOR]();
      iter.next = function(){ return {done: safe = true}; };
      arr[ITERATOR] = function(){ return iter; };
      exec(arr);
    } catch(e){ /* empty */ }
    return safe;
  };

  /***/
},
/* 120 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export        = __webpack_require__(6);
  var createProperty = __webpack_require__(116);

  // WebKit Array.of isn't generic
  $export($export.S + $export.F * __webpack_require__(5)(function(){
    function F(){}
    return !(Array.of.call(F) instanceof F);
  }), 'Array', {
    // 22.1.2.3 Array.of( ...items)
    of: function of(/* ...args */){
      var index  = 0;
      var aLen   = arguments.length;
      var result = new (typeof this == 'function' ? this : Array)(aLen);
      while(aLen > index)createProperty(result, index, arguments[index++]);
      result.length = aLen;
      return result;
    }
  });

  /***/
},
/* 121 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';

  // 22.1.3.13 Array.prototype.join(separator)
  var $export   = __webpack_require__(6);

  var toIObject = __webpack_require__(30);
  var arrayJoin = [].join;

  // fallback for not array-like strings
  $export($export.P + $export.F * (__webpack_require__(31) != Object || !__webpack_require__(122)(arrayJoin)), 'Array', {
    join: function join(separator){
      return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);
    }
  });

  /***/
},
/* 122 */
/***/ function(module, exports, __webpack_require__) {

	var fails = __webpack_require__(5);

	module.exports = function(method, arg){
	  return !!method && fails(function(){
	    arg ? method.call(null, function(){}, 1) : method.call(null);
	  });
	};

/***/ },
/* 123 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export    = __webpack_require__(6);
  var html       = __webpack_require__(46);
  var cof        = __webpack_require__(32);
  var toIndex    = __webpack_require__(37);
  var toLength   = __webpack_require__(35);
  var arraySlice = [].slice;

  // fallback for not array-like ES3 strings and DOM objects
  $export($export.P + $export.F * __webpack_require__(5)(function(){
    if(html)arraySlice.call(html);
  }), 'Array', {
    slice: function slice(begin, end){
      var len   = toLength(this.length);
      var klass = cof(this);
      end = end === undefined ? len : end;
      if(klass == 'Array')return arraySlice.call(this, begin, end);
      var start  = toIndex(begin, len);
      var upTo   = toIndex(end, len);
      var size   = toLength(upTo - start);
      var cloned = Array(size);
      var i      = 0;
      for(; i < size; i++)cloned[i] = klass == 'String'
        ? this.charAt(start + i)
        : this[start + i];
      return cloned;
    }
  });

  /***/
},
/* 124 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export   = __webpack_require__(6);
  var aFunction = __webpack_require__(19);
  var toObject  = __webpack_require__(55);
  var fails     = __webpack_require__(5);
  var $sort     = [].sort;
  var test      = [1, 2, 3];

  $export($export.P + $export.F * (fails(function(){
    // IE8-
    test.sort(undefined);
  }) || !fails(function(){
    // V8 bug
    test.sort(null);
    // Old WebKit
  }) || !__webpack_require__(122)($sort)), 'Array', {
    // 22.1.3.25 Array.prototype.sort(comparefn)
    sort: function sort(comparefn){
      return comparefn === undefined
        ? $sort.call(toObject(this))
        : $sort.call(toObject(this), aFunction(comparefn));
    }
  });

  /***/
},
/* 125 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export  = __webpack_require__(6);
  var $forEach = __webpack_require__(126)(0);
  var STRICT   = __webpack_require__(122)([].forEach, true);

  $export($export.P + $export.F * !STRICT, 'Array', {
    // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])
    forEach: function forEach(callbackfn /* , thisArg */){
      return $forEach(this, callbackfn, arguments[1]);
    }
  });

  /***/
},
/* 126 */
/***/ function(module, exports, __webpack_require__) {
  // 0 -> Array#forEach
  // 1 -> Array#map
  // 2 -> Array#filter
  // 3 -> Array#some
  // 4 -> Array#every
  // 5 -> Array#find
  // 6 -> Array#findIndex
  var ctx      = __webpack_require__(18);

  var IObject  = __webpack_require__(31);
  var toObject = __webpack_require__(55);
  var toLength = __webpack_require__(35);
  var asc      = __webpack_require__(127);
  module.exports = function(TYPE, $create){
    var IS_MAP        = TYPE == 1;
    var IS_FILTER     = TYPE == 2;
    var IS_SOME       = TYPE == 3;
    var IS_EVERY      = TYPE == 4;
    var IS_FIND_INDEX = TYPE == 6;
    var NO_HOLES      = TYPE == 5 || IS_FIND_INDEX;
    var create        = $create || asc;
    return function($this, callbackfn, that){
      var O      = toObject($this);
      var self   = IObject(O);
      var f      = ctx(callbackfn, that, 3);
      var length = toLength(self.length);
      var index  = 0;
      var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
      var val;
      var res;
      for(;length > index; index++)if(NO_HOLES || index in self){
        val = self[index];
        res = f(val, index, O);
        if(TYPE){
          if(IS_MAP)result[index] = res;            // map
          else if(res)switch(TYPE){
            case 3: return true;                    // some
            case 5: return val;                     // find
            case 6: return index;                   // findIndex
            case 2: result.push(val);               // filter
          } else if(IS_EVERY)return false;          // every
        }
      }
      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
    };
  };

  /***/
},
/* 127 */
/***/ function(module, exports, __webpack_require__) {

	// 9.4.2.3 ArraySpeciesCreate(originalArray, length)
	var speciesConstructor = __webpack_require__(128);

	module.exports = function(original, length){
	  return new (speciesConstructor(original))(length);
	};

/***/ },
/* 128 */
/***/ function(module, exports, __webpack_require__) {
  var isObject = __webpack_require__(11);
  var isArray  = __webpack_require__(43);
  var SPECIES  = __webpack_require__(23)('species');

  module.exports = function(original){
    var C;
    if(isArray(original)){
      C = original.constructor;
      // cross-realm fallback
      if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;
      if(isObject(C)){
        C = C[SPECIES];
        if(C === null)C = undefined;
      }
    } return C === undefined ? Array : C;
  };

  /***/
},
/* 129 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export = __webpack_require__(6);
  var $map    = __webpack_require__(126)(1);

  $export($export.P + $export.F * !__webpack_require__(122)([].map, true), 'Array', {
    // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])
    map: function map(callbackfn /* , thisArg */){
      return $map(this, callbackfn, arguments[1]);
    }
  });

  /***/
},
/* 130 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export = __webpack_require__(6);
  var $filter = __webpack_require__(126)(2);

  $export($export.P + $export.F * !__webpack_require__(122)([].filter, true), 'Array', {
    // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])
    filter: function filter(callbackfn /* , thisArg */){
      return $filter(this, callbackfn, arguments[1]);
    }
  });

  /***/
},
/* 131 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export = __webpack_require__(6);
  var $some   = __webpack_require__(126)(3);

  $export($export.P + $export.F * !__webpack_require__(122)([].some, true), 'Array', {
    // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])
    some: function some(callbackfn /* , thisArg */){
      return $some(this, callbackfn, arguments[1]);
    }
  });

  /***/
},
/* 132 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export = __webpack_require__(6);
  var $every  = __webpack_require__(126)(4);

  $export($export.P + $export.F * !__webpack_require__(122)([].every, true), 'Array', {
    // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])
    every: function every(callbackfn /* , thisArg */){
      return $every(this, callbackfn, arguments[1]);
    }
  });

  /***/
},
/* 133 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export = __webpack_require__(6);
  var $reduce = __webpack_require__(134);

  $export($export.P + $export.F * !__webpack_require__(122)([].reduce, true), 'Array', {
    // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])
    reduce: function reduce(callbackfn /* , initialValue */){
      return $reduce(this, callbackfn, arguments.length, arguments[1], false);
    }
  });

  /***/
},
/* 134 */
/***/ function(module, exports, __webpack_require__) {
  var aFunction = __webpack_require__(19);
  var toObject  = __webpack_require__(55);
  var IObject   = __webpack_require__(31);
  var toLength  = __webpack_require__(35);

  module.exports = function(that, callbackfn, aLen, memo, isRight){
    aFunction(callbackfn);
    var O      = toObject(that);
    var self   = IObject(O);
    var length = toLength(O.length);
    var index  = isRight ? length - 1 : 0;
    var i      = isRight ? -1 : 1;
    if(aLen < 2)for(;;){
      if(index in self){
        memo = self[index];
        index += i;
        break;
      }
      index += i;
      if(isRight ? index < 0 : length <= index){
        throw TypeError('Reduce of empty array with no initial value');
      }
    }
    for(;isRight ? index >= 0 : length > index; index += i)if(index in self){
      memo = callbackfn(memo, self[index], index, O);
    }
    return memo;
  };

  /***/
},
/* 135 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export = __webpack_require__(6);
  var $reduce = __webpack_require__(134);

  $export($export.P + $export.F * !__webpack_require__(122)([].reduceRight, true), 'Array', {
    // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])
    reduceRight: function reduceRight(callbackfn /* , initialValue */){
      return $reduce(this, callbackfn, arguments.length, arguments[1], true);
    }
  });

  /***/
},
/* 136 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export       = __webpack_require__(6);
  var $indexOf      = __webpack_require__(34)(false);
  var $native       = [].indexOf;
  var NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;

  $export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(122)($native)), 'Array', {
    // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])
    indexOf: function indexOf(searchElement /*, fromIndex = 0 */){
      return NEGATIVE_ZERO
        // convert -0 to +0
        ? $native.apply(this, arguments) || 0
        : $indexOf(this, searchElement, arguments[1]);
    }
  });

  /***/
},
/* 137 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var $export       = __webpack_require__(6);
  var toIObject     = __webpack_require__(30);
  var toInteger     = __webpack_require__(36);
  var toLength      = __webpack_require__(35);
  var $native       = [].lastIndexOf;
  var NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;

  $export($export.P + $export.F * (NEGATIVE_ZERO || !__webpack_require__(122)($native)), 'Array', {
    // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])
    lastIndexOf: function lastIndexOf(searchElement /*, fromIndex = @[*-1] */){
      // convert -0 to +0
      if(NEGATIVE_ZERO)return $native.apply(this, arguments) || 0;
      var O      = toIObject(this);
      var length = toLength(O.length);
      var index  = length - 1;
      if(arguments.length > 1)index = Math.min(index, toInteger(arguments[1]));
      if(index < 0)index = length + index;
      for(;index >= 0; index--)if(index in O)if(O[index] === searchElement)return index || 0;
      return -1;
    }
  });

  /***/
},
/* 138 */
/***/ function(module, exports, __webpack_require__) {

	// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)
	var $export = __webpack_require__(6);

	$export($export.P, 'Array', {copyWithin: __webpack_require__(139)});

	__webpack_require__(140)('copyWithin');

/***/ },
/* 139 */
/***/ function(module, exports, __webpack_require__) {
  // 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)
  'use strict';
  var toObject = __webpack_require__(55);
  var toIndex  = __webpack_require__(37);
  var toLength = __webpack_require__(35);

  module.exports = [].copyWithin || function copyWithin(target/*= 0*/, start/*= 0, end = @length*/){
    var O     = toObject(this);
    var len   = toLength(O.length);
    var to    = toIndex(target, len);
    var from  = toIndex(start, len);
    var end   = arguments.length > 2 ? arguments[2] : undefined;
    var count = Math.min((end === undefined ? len : toIndex(end, len)) - from, len - to);
    var inc   = 1;
    if(from < to && to < from + count){
      inc  = -1;
      from += count - 1;
      to   += count - 1;
    }
    while(count-- > 0){
      if(from in O)O[to] = O[from];
      else delete O[to];
      to   += inc;
      from += inc;
    }return O;
  };

  /***/
},
/* 140 */
/***/ function(module, exports, __webpack_require__) {
  // 22.1.3.31 Array.prototype[@@unscopables]
  var UNSCOPABLES = __webpack_require__(23)('unscopables');

  var ArrayProto  = Array.prototype;
  if(ArrayProto[UNSCOPABLES] == undefined)__webpack_require__(8)(ArrayProto, UNSCOPABLES, {});
  module.exports = function(key){
    ArrayProto[UNSCOPABLES][key] = true;
  };

  /***/
},
/* 141 */
/***/ function(module, exports, __webpack_require__) {

	// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)
	var $export = __webpack_require__(6);

	$export($export.P, 'Array', {fill: __webpack_require__(142)});

	__webpack_require__(140)('fill');

/***/ },
/* 142 */
/***/ function(module, exports, __webpack_require__) {
  // 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)
  'use strict';
  var toObject = __webpack_require__(55);
  var toIndex  = __webpack_require__(37);
  var toLength = __webpack_require__(35);
  module.exports = function fill(value /*, start = 0, end = @length */){
    var O      = toObject(this);
    var length = toLength(O.length);
    var aLen   = arguments.length;
    var index  = toIndex(aLen > 1 ? arguments[1] : undefined, length);
    var end    = aLen > 2 ? arguments[2] : undefined;
    var endPos = end === undefined ? length : toIndex(end, length);
    while(endPos > index)O[index++] = value;
    return O;
  };

  /***/
},
/* 143 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';

  // 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)
  var $export = __webpack_require__(6);

  var $find   = __webpack_require__(126)(5);
  var KEY     = 'find';
  var forced  = true;
  // Shouldn't skip holes
  if(KEY in [])Array(1)[KEY](function(){ forced = false; });
  $export($export.P + $export.F * forced, 'Array', {
    find: function find(callbackfn/*, that = undefined */){
      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });
  __webpack_require__(140)(KEY);

  /***/
},
/* 144 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';

  // 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)
  var $export = __webpack_require__(6);

  var $find   = __webpack_require__(126)(6);
  var KEY     = 'findIndex';
  var forced  = true;
  // Shouldn't skip holes
  if(KEY in [])Array(1)[KEY](function(){ forced = false; });
  $export($export.P + $export.F * forced, 'Array', {
    findIndex: function findIndex(callbackfn/*, that = undefined */){
      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });
  __webpack_require__(140)(KEY);

  /***/
},
/* 145 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var addToUnscopables = __webpack_require__(140);
  var step             = __webpack_require__(146);
  var Iterators        = __webpack_require__(95);
  var toIObject        = __webpack_require__(30);

  // 22.1.3.4 Array.prototype.entries()
  // 22.1.3.13 Array.prototype.keys()
  // 22.1.3.29 Array.prototype.values()
  // 22.1.3.30 Array.prototype[@@iterator]()
  module.exports = __webpack_require__(94)(Array, 'Array', function(iterated, kind){
    this._t = toIObject(iterated); // target
    this._i = 0;                   // next index
    this._k = kind;                // kind
  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()
  }, function(){
    var O     = this._t;
    var kind  = this._k;
    var index = this._i++;
    if(!O || index >= O.length){
      this._t = undefined;
      return step(1);
    }
    if(kind == 'keys'  )return step(0, index);
    if(kind == 'values')return step(0, O[index]);
    return step(0, [index, O[index]]);
  }, 'values');

  // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
  Iterators.Arguments = Iterators.Array;

  addToUnscopables('keys');
  addToUnscopables('values');
  addToUnscopables('entries');

  /***/
},
/* 146 */
/***/ function(module, exports) {

	module.exports = function(done, value){
	  return {value: value, done: !!done};
	};

/***/ },
/* 147 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(148)('Array');

/***/ },
/* 148 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var global      = __webpack_require__(2);
  var dP          = __webpack_require__(9);
  var DESCRIPTORS = __webpack_require__(4);
  var SPECIES     = __webpack_require__(23)('species');

  module.exports = function(KEY){
    var C = global[KEY];
    if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {
      configurable: true,
      get: function(){ return this; }
    });
  };

  /***/
},
/* 149 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var strong = __webpack_require__(150);

	// 23.1 Map Objects
	module.exports = __webpack_require__(154)('Map', function(get){
	  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };
	}, {
	  // 23.1.3.6 Map.prototype.get(key)
	  get: function get(key){
	    var entry = strong.getEntry(this, key);
	    return entry && entry.v;
	  },
	  // 23.1.3.9 Map.prototype.set(key, value)
	  set: function set(key, value){
	    return strong.def(this, key === 0 ? 0 : key, value);
	  }
	}, strong, true);

/***/ },
/* 150 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var dP          = __webpack_require__(9).f;
  var create      = __webpack_require__(44);
  var redefineAll = __webpack_require__(151);
  var ctx         = __webpack_require__(18);
  var anInstance  = __webpack_require__(152);
  var defined     = __webpack_require__(33);
  var forOf       = __webpack_require__(153);
  var $iterDefine = __webpack_require__(94);
  var step        = __webpack_require__(146);
  var setSpecies  = __webpack_require__(148);
  var DESCRIPTORS = __webpack_require__(4);
  var fastKey     = __webpack_require__(20).fastKey;
  var SIZE        = DESCRIPTORS ? '_s' : 'size';

  var getEntry = function(that, key){
    // fast case
    var index = fastKey(key);

    var entry;
    if(index !== 'F')return that._i[index];
    // frozen object case
    for(entry = that._f; entry; entry = entry.n){
      if(entry.k == key)return entry;
    }
  };

  module.exports = {
    getConstructor: function(wrapper, NAME, IS_MAP, ADDER){
      var C = wrapper(function(that, iterable){
        anInstance(that, C, NAME, '_i');
        that._i = create(null); // index
        that._f = undefined;    // first entry
        that._l = undefined;    // last entry
        that[SIZE] = 0;         // size
        if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);
      });
      redefineAll(C.prototype, {
        // 23.1.3.1 Map.prototype.clear()
        // 23.2.3.2 Set.prototype.clear()
        clear: function clear(){
          for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){
            entry.r = true;
            if(entry.p)entry.p = entry.p.n = undefined;
            delete data[entry.i];
          }
          that._f = that._l = undefined;
          that[SIZE] = 0;
        },
        // 23.1.3.3 Map.prototype.delete(key)
        // 23.2.3.4 Set.prototype.delete(value)
        'delete': function(key){
          var that  = this;
          var entry = getEntry(that, key);
          if(entry){
            var next = entry.n;
            var prev = entry.p;
            delete that._i[entry.i];
            entry.r = true;
            if(prev)prev.n = next;
            if(next)next.p = prev;
            if(that._f == entry)that._f = next;
            if(that._l == entry)that._l = prev;
            that[SIZE]--;
          }return !!entry;
        },
        // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)
        // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)
        forEach: function forEach(callbackfn /*, that = undefined */){
          anInstance(this, C, 'forEach');
          var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
          var entry;
          while(entry = entry ? entry.n : this._f){
            f(entry.v, entry.k, this);
            // revert to the last existing entry
            while(entry && entry.r)entry = entry.p;
          }
        },
        // 23.1.3.7 Map.prototype.has(key)
        // 23.2.3.7 Set.prototype.has(value)
        has: function has(key){
          return !!getEntry(this, key);
        }
      });
      if(DESCRIPTORS)dP(C.prototype, 'size', {
        get: function(){
          return defined(this[SIZE]);
        }
      });
      return C;
    },
    def: function(that, key, value){
      var entry = getEntry(that, key);
      var prev;
      var index;
      // change existing entry
      if(entry){
        entry.v = value;
      // create new entry
      } else {
        that._l = entry = {
          i: index = fastKey(key, true), // <- index
          k: key,                        // <- key
          v: value,                      // <- value
          p: prev = that._l,             // <- previous entry
          n: undefined,                  // <- next entry
          r: false                       // <- removed
        };
        if(!that._f)that._f = entry;
        if(prev)prev.n = entry;
        that[SIZE]++;
        // add to index
        if(index !== 'F')that._i[index] = entry;
      }return that;
    },
    getEntry: getEntry,
    setStrong: function(C, NAME, IS_MAP){
      // add .keys, .values, .entries, [@@iterator]
      // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11
      $iterDefine(C, NAME, function(iterated, kind){
        this._t = iterated;  // target
        this._k = kind;      // kind
        this._l = undefined; // previous
      }, function(){
        var that  = this;
        var kind  = that._k;
        var entry = that._l;
        // revert to the last existing entry
        while(entry && entry.r)entry = entry.p;
        // get next entry
        if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){
          // or finish the iteration
          that._t = undefined;
          return step(1);
        }
        // return step by kind
        if(kind == 'keys'  )return step(0, entry.k);
        if(kind == 'values')return step(0, entry.v);
        return step(0, [entry.k, entry.v]);
      }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);

      // add [@@species], 23.1.2.2, 23.2.2.2
      setSpecies(NAME);
    }
  };

  /***/
},
/* 151 */
/***/ function(module, exports, __webpack_require__) {

	var redefine = __webpack_require__(16);
	module.exports = function(target, src, safe){
	  for(var key in src)redefine(target, key, src[key], safe);
	  return target;
	};

/***/ },
/* 152 */
/***/ function(module, exports) {

	module.exports = function(it, Constructor, name, forbiddenField){
	  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){
	    throw TypeError(name + ': incorrect invocation!');
	  } return it;
	};

/***/ },
/* 153 */
/***/ function(module, exports, __webpack_require__) {
  var ctx         = __webpack_require__(18);
  var call        = __webpack_require__(114);
  var isArrayIter = __webpack_require__(115);
  var anObject    = __webpack_require__(10);
  var toLength    = __webpack_require__(35);
  var getIterFn   = __webpack_require__(117);
  var BREAK       = {};
  var RETURN      = {};
  var exports = module.exports = function(iterable, entries, fn, that, ITERATOR){
    var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable);
    var f      = ctx(fn, that, entries ? 2 : 1);
    var index  = 0;
    var length;
    var step;
    var iterator;
    var result;
    if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');
    // fast case for arrays with default iterator
    if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){
      result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
      if(result === BREAK || result === RETURN)return result;
    } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){
      result = call(iterator, f, step.value, entries);
      if(result === BREAK || result === RETURN)return result;
    }
  };
  exports.BREAK  = BREAK;
  exports.RETURN = RETURN;

  /***/
},
/* 154 */
/***/ function(module, exports, __webpack_require__) {
  'use strict';
  var global            = __webpack_require__(2);
  var $export           = __webpack_require__(6);
  var redefine          = __webpack_require__(16);
  var redefineAll       = __webpack_require__(151);
  var meta              = __webpack_require__(20);
  var forOf             = __webpack_require__(153);
  var anInstance        = __webpack_require__(152);
  var isObject          = __webpack_require__(11);
  var fails             = __webpack_require__(5);
  var $iterDetect       = __webpack_require__(119);
  var setToStringTag    = __webpack_require__(22);
  var inheritIfRequired = __webpack_require__(59);

  module.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){
    var Base  = global[NAME];
    var C     = Base;
    var ADDER = IS_MAP ? 'set' : 'add';
    var proto = C && C.prototype;
    var O     = {};
    var fixMethod = function(KEY){
      var fn = proto[KEY];
      redefine(proto, KEY,
        KEY == 'delete' ? function(a){
          return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
        } : KEY == 'has' ? function has(a){
          return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
        } : KEY == 'get' ? function get(a){
          return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);
        } : KEY == 'add' ? function add(a){ fn.call(this, a === 0 ? 0 : a); return this; }
          : function set(a, b){ fn.call(this, a === 0 ? 0 : a, b); return this; }
      );
    };
    if(typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){
      new C().entries().next();
    }))){
      // create collection constructor
      C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
      redefineAll(C.prototype, methods);
      meta.NEED = true;
    } else {
      var // early implementations not supports chaining
      instance             = new C;

      var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
      // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false

      var THROWS_ON_PRIMITIVES = fails(function(){ instance.has(1); });
      // most early implementations doesn't supports iterables, most modern - not close it correctly

      var ACCEPT_ITERABLES = $iterDetect(function(iter){ new C(iter); }); // eslint-disable-line no-new
      // for early implementations -0 and +0 not the same

      var BUGGY_ZERO = !IS_WEAK && fails(function(){
        // V8 ~ Chromium 42- fails only with 5+ elements
        var $instance = new C();

        var index     = 5;
        while(index--)$instance[ADDER](index, index);
        return !$instance.has(-0);
      });

      if(!ACCEPT_ITERABLES){
        C = wrapper(function(target, iterable){
          anInstance(target, C, NAME);
          var that = inheritIfRequired(new Base, target, C);
          if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);
          return that;
        });
        C.prototype = proto;
        proto.constructor = C;
      }
      if(THROWS_ON_PRIMITIVES || BUGGY_ZERO){
        fixMethod('delete');
        fixMethod('has');
        IS_MAP && fixMethod('get');
      }
      if(BUGGY_ZERO || HASNT_CHAINING)fixMethod(ADDER);
      // weak collections should not contains .clear method
      if(IS_WEAK && proto.clear)delete proto.clear;
    }

    setToStringTag(C, NAME);

    O[NAME] = C;
    $export($export.G + $export.W + $export.F * (C != Base), O);

    if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);

    return C;
  };

  /***/
},
/* 155 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var strong = __webpack_require__(150);

	// 23.2 Set Objects
	module.exports = __webpack_require__(154)('Set', function(get){
	  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };
	}, {
	  // 23.2.3.1 Set.prototype.add(value)
	  add: function add(value){
	    return strong.def(this, value = value === 0 ? 0 : value, value);
	  }
	}, strong);

/***/ }
/******/ ]);
// CommonJS export
if(typeof module != 'undefined' && module.exports)module.exports = __e;
// RequireJS export
else if(typeof define == 'function' && define.amd)define(function(){return __e});
// Export to global object
else __g.core = __e;
}(1, 1);

!function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function r(){}function e(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function n(r){var e="undefined"==typeof r?"undefined":t(r);return null===r||"undefined"===e||"boolean"===e||"number"===e||"string"===e}function o(t){var r,e,o;if(n(t))return t;if(e=t.valueOf,"function"==typeof e&&(r=e.call(t),n(r)))return r;if(o=t.toString,"function"==typeof o&&(r=o.call(t),n(r)))return r;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=h.call(arguments,1),o=function(){if(this instanceof l){var r=e.apply(this,n.concat(h.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(h.call(arguments)))},i=Math.max(0,e.length-n.length),a=[],p=0;p<i;p++)a.push("$"+p);var l=Function("binder","return function("+a.join(",")+"){return binder.apply(this,arguments)}")(o);return e.prototype&&(r.prototype=e.prototype,l.prototype=new r,r.prototype=null),l});var i,a,p,l,u,f=Function.prototype.call,c=Array.prototype,s=Object.prototype,h=c.slice,y=f.bind(s.toString),g=f.bind(s.hasOwnProperty);if((u=g(s,"__defineGetter__"))&&(i=f.bind(s.__defineGetter__),a=f.bind(s.__defineSetter__),p=f.bind(s.__lookupGetter__),l=f.bind(s.__lookupSetter__)),2!=[1,2].splice(0).length){var d=Array.prototype.splice,b=Array.prototype.push,v=Array.prototype.unshift;
!function(){function t(t){for(var r=[];t--;)r.unshift(t);return r}var r,e=[];if(e.splice.bind(e,0,0).apply(null,t(20)),e.splice.bind(e,0,0).apply(null,t(26)),r=e.length,e.splice(5,0,"XXX"),r+1==e.length)return!0}()?Array.prototype.splice=function(t,r){var e,n=h.call(arguments,2),o=n.length;if(!arguments.length)return[];if(void 0===t&&(t=0),void 0===r&&(r=this.length-t),o>0){if(r<=0){if(t==this.length)return b.apply(this,n),[];if(0==t)return v.apply(this,n),[]}return e=h.call(this,t,t+r),n.push.apply(n,h.call(this,t+r,this.length)),n.unshift.apply(n,h.call(this,0,t)),n.unshift(0,this.length),d.apply(this,n),e}return d.call(this,t,r)}:Array.prototype.splice=function(t,r){return arguments.length?d.apply(this,[void 0===t?0:t,void 0===r?this.length-t:r].concat(h.call(arguments,2))):[]}}if(1!=[].unshift(0)){var v=Array.prototype.unshift;Array.prototype.unshift=function(){return v.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(t){return"[object Array]"==y(t)});var w=Object("a"),S="a"!=w[0]||!(0 in w),m=function(r){var e=!0;return r&&r.call("foo",function(r,n,o){"object"!==("undefined"==typeof o?"undefined":t(o))&&(e=!1)}),!!r&&e};if(Array.prototype.forEach&&m(Array.prototype.forEach)||(Array.prototype.forEach=function(t){var r=U(this),e=S&&"[object String]"==y(this)?this.split(""):r,n=arguments[1],o=-1,i=e.length>>>0;if("[object Function]"!=y(t))throw new TypeError;for(;++o<i;)o in e&&t.call(n,e[o],o,r)}),Array.prototype.map&&m(Array.prototype.map)||(Array.prototype.map=function(t){var r=U(this),e=S&&"[object String]"==y(this)?this.split(""):r,n=e.length>>>0,o=Array(n),i=arguments[1];
if("[object Function]"!=y(t))throw new TypeError(t+" is not a function");for(var a=0;a<n;a++)a in e&&(o[a]=t.call(i,e[a],a,r));return o}),Array.prototype.filter&&m(Array.prototype.filter)||(Array.prototype.filter=function(t){var r,e=U(this),n=S&&"[object String]"==y(this)?this.split(""):e,o=n.length>>>0,i=[],a=arguments[1];if("[object Function]"!=y(t))throw new TypeError(t+" is not a function");for(var p=0;p<o;p++)p in n&&(r=n[p],t.call(a,r,p,e)&&i.push(r));return i}),Array.prototype.every&&m(Array.prototype.every)||(Array.prototype.every=function(t){var r=U(this),e=S&&"[object String]"==y(this)?this.split(""):r,n=e.length>>>0,o=arguments[1];if("[object Function]"!=y(t))throw new TypeError(t+" is not a function");for(var i=0;i<n;i++)if(i in e&&!t.call(o,e[i],i,r))return!1;return!0}),Array.prototype.some&&m(Array.prototype.some)||(Array.prototype.some=function(t){var r=U(this),e=S&&"[object String]"==y(this)?this.split(""):r,n=e.length>>>0,o=arguments[1];if("[object Function]"!=y(t))throw new TypeError(t+" is not a function");for(var i=0;i<n;i++)if(i in e&&t.call(o,e[i],i,r))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var r=U(this),e=S&&"[object String]"==y(this)?this.split(""):r,n=e.length>>>0;if("[object Function]"!=y(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,i=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in e){o=e[i++];break}if(++i>=n)throw new TypeError("reduce of empty array with no initial value")}for(;i<n;i++)i in e&&(o=t.call(void 0,o,e[i],i,r));
return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var r=U(this),e=S&&"[object String]"==y(this)?this.split(""):r,n=e.length>>>0;if("[object Function]"!=y(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,i=n-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in e){o=e[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(i<0)return o;do i in this&&(o=t.call(void 0,o,e[i],i,r));while(i--);return o}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(t){var r=S&&"[object String]"==y(this)?this.split(""):U(this),n=r.length>>>0;if(!n)return-1;var o=0;for(arguments.length>1&&(o=e(arguments[1])),o=o>=0?o:Math.max(0,n+o);o<n;o++)if(o in r&&r[o]===t)return o;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(t){var r=S&&"[object String]"==y(this)?this.split(""):U(this),n=r.length>>>0;if(!n)return-1;var o=n-1;for(arguments.length>1&&(o=Math.min(o,e(arguments[1]))),o=o>=0?o:n-Math.abs(o);o>=0;o--)if(o in r&&t===r[o])return o;return-1}),!Object.keys){var A=!{toString:null}.propertyIsEnumerable("toString"),j=function(){}.propertyIsEnumerable("prototype"),x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],O=x.length,E=function(t){return"[object Function]"===y(t)},T=function(r){var e=y(r),n="[object Arguments]"===e;return n||(n=!Array.isArray(e)&&null!==r&&"object"===("undefined"==typeof r?"undefined":t(r))&&"number"==typeof r.length&&r.length>=0&&E(r.callee)),
n};Object.keys=function r(e){var n=E(e),o=T(e),i=null!==e&&"object"===("undefined"==typeof e?"undefined":t(e)),a=i&&"[object String]"===y(e);if(!i&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var r=[],p=j&&n;if(a||o)for(var l=0;l<e.length;++l)r.push(String(l));else for(var u in e)p&&"prototype"===u||!g(e,u)||r.push(String(u));if(A)for(var f=e.constructor,c=f&&f.prototype===e,l=0;l<O;l++){var s=x[l];c&&"constructor"===s||!g(e,s)||r.push(s)}return r}}var N=-621987552e5,F="-000001";Date.prototype.toISOString&&new Date(N).toISOString().indexOf(F)!==-1||(Date.prototype.toISOString=function(){var t,r,e,n,o;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(n=this.getUTCFullYear(),o=this.getUTCMonth(),n+=Math.floor(o/12),o=(o%12+12)%12,t=[o+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],n=(n<0?"-":n>9999?"+":"")+("00000"+Math.abs(n)).slice(0<=n&&n<=9999?-4:-6),r=t.length;r--;)e=t[r],e<10&&(t[r]="0"+e);return n+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var _=!1;try{_=Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&new Date(N).toJSON().indexOf(F)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){}_||(Date.prototype.toJSON=function(t){var r,e=Object(this),n=o(e);if("number"==typeof n&&!isFinite(n))return null;if(r=e.toISOString,"function"!=typeof r)throw new TypeError("toISOString property is not callable");return r.call(e)}),Date.parse&&!isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||(Date=function(t){
function r(e,n,o,i,a,p,l){var u=arguments.length;if(this instanceof t){var f=1==u&&String(e)===e?new t(r.parse(e)):u>=7?new t(e,n,o,i,a,p,l):u>=6?new t(e,n,o,i,a,p):u>=5?new t(e,n,o,i,a):u>=4?new t(e,n,o,i):u>=3?new t(e,n,o):u>=2?new t(e,n):u>=1?new t(e):new t;return f.constructor=r,f}return t.apply(this,arguments)}function e(t,r){var e=r>1?1:0;return i[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)}function n(r){return Number(new t(1970,0,1,0,0,0,r))}var o=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var a in t)r[a]=t[a];return r.now=t.now,r.UTC=t.UTC,r.prototype=t.prototype,r.prototype.constructor=r,r.parse=function(r){var i=o.exec(r);if(i){var a,p=Number(i[1]),l=Number(i[2]||1)-1,u=Number(i[3]||1)-1,f=Number(i[4]||0),c=Number(i[5]||0),s=Number(i[6]||0),h=Math.floor(1e3*Number(i[7]||0)),y=Boolean(i[4]&&!i[8]),g="-"===i[9]?1:-1,d=Number(i[10]||0),b=Number(i[11]||0);return f<(c>0||s>0||h>0?24:25)&&c<60&&s<60&&h<1e3&&l>-1&&l<12&&d<24&&b<60&&u>-1&&u<e(p,l+1)-e(p,l)&&(a=60*(24*(e(p,l)+u)+f+d*g),a=1e3*(60*(a+c+b*g)+s)+h,y&&(a=n(a)),-864e13<=a&&a<=864e13)?a:NaN}return t.parse.apply(this,arguments)},r}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===(0xde0b6b3a7640080).toFixed(0)||!function(){function t(t,r){for(var e=-1;++e<a;)r+=t*p[e],
p[e]=r%i,r=Math.floor(r/i)}function r(t){for(var r=a,e=0;--r>=0;)e+=p[r],p[r]=Math.floor(e/t),e=e%t*i}function e(){for(var t=a,r="";--t>=0;)if(""!==r||0===t||0!==p[t]){var e=String(p[t]);""===r?r=e:r+="0000000".slice(0,7-e.length)+e}return r}function n(t,r,e){return 0===r?e:r%2===1?n(t,r-1,e*t):n(t*t,r/2,e)}function o(t){for(var r=0;t>=4096;)r+=12,t/=4096;for(;t>=2;)r+=1,t/=2;return r}var i,a,p;i=1e7,a=6,p=[0,0,0,0,0,0],Number.prototype.toFixed=function(i){var a,p,l,u,f,c,s,h;if(a=Number(i),a=a!==a?0:Math.floor(a),a<0||a>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(p=Number(this),p!==p)return"NaN";if(p<=-1e21||p>=1e21)return String(p);if(l="",p<0&&(l="-",p=-p),u="0",p>1e-21)if(f=o(p*n(2,69,1))-69,c=f<0?p*n(2,-f,1):p/n(2,f,1),c*=4503599627370496,f=52-f,f>0){for(t(0,c),s=a;s>=7;)t(1e7,0),s-=7;for(t(n(10,s,1),0),s=f-1;s>=23;)r(1<<23),s-=23;r(1<<s),t(1,1),r(2),u=e()}else t(0,c),t(1<<-f,0),u=e()+"0.00000000000000000000".slice(2,2+a);return a>0?(h=u.length,u=h<=a?l+"0.0000000000000000000".slice(0,a-h+2)+u:l+u.slice(0,h-a)+"."+u.slice(h-a)):u=l+u,u}}();var I=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];String.prototype.split=function(r,e){var n=this;if(void 0===r&&0===e)return[];if("[object RegExp]"!==Object.prototype.toString.call(r))return I.apply(this,arguments);var o,i,a,p,l=[],u=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),f=0,r=new RegExp(r.source,u+"g");
for(n+="",t||(o=new RegExp("^"+r.source+"$(?!\\s)",u)),e=void 0===e?-1>>>0:e>>>0;(i=r.exec(n))&&(a=i.index+i[0].length,!(a>f&&(l.push(n.slice(f,i.index)),!t&&i.length>1&&i[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(i[t]=void 0)}),i.length>1&&i.index<n.length&&Array.prototype.push.apply(l,i.slice(1)),p=i[0].length,f=a,l.length>=e)));)r.lastIndex===i.index&&r.lastIndex++;return f===n.length?!p&&r.test("")||l.push(""):l.push(n.slice(f)),l.length>e?l.slice(0,e):l}}():"0".split(void 0,0).length&&(String.prototype.split=function(t,r){return void 0===t&&0===r?[]:I.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var M=String.prototype.substr;String.prototype.substr=function(t,r){return M.call(this,t<0&&(t=this.length+t)<0?0:t,r)}}var D="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||D.trim()){D="["+D+"]";var R=new RegExp("^"+D+D+"*"),C=new RegExp(D+D+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(R,"").replace(C,"")}}8===parseInt(D+"08")&&22===parseInt(D+"0x16")||(parseInt=function(t){var r=/^0[xX]/;return function(e,n){return e=String(e).trim(),+n||(n=r.test(e)?16:10),t(e,n)}}(parseInt));var U=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}()}();
!function(){function n(n,i,t){return i in n||(n[i]=t),n}m$662$0=n}();
!function(){function r(t,e){var o;if(t instanceof Error?o=t:(t&&(t=m$829$0(t,e)),o=new Error(t)),o.context=e,!r._checkedBrowserSupport){try{throw new Error}catch(t){r._browserDoesNotSupportStackTrace=!t.stack}r._checkedBrowserSupport=!0}return r._browserDoesNotSupportStackTrace&&(o.stack=r.recordStack()),o}r.MAX_STACK_TRACE_DEPTH=25,r.MAX_DISPLAY_NAME_LENGTH=150,r._checkedBrowserSupport=!1,r._browserDoesNotSupportStackTrace=!1,r._getDisplayNameForFunction=function(t){var e=t.displayName,o=r.MAX_DISPLAY_NAME_LENGTH;if(e||(e=t.name),!e){var c=t.toString(),a=c.match(/function ([\w|\$]+)/);e=(a?a[1]:c).toString()}return e.length>o&&(e=e.substring(0,o)),e},r.recordStack=function(){var e="";try{var o,c=arguments.callee,a=c?c.caller:null,n=0,u=r.MAX_STACK_TRACE_DEPTH,_={};for(a=a.caller,a===t&&(a=a.caller);a&&n<u&&(o=r._getDisplayNameForFunction(a),!_[o]);)e+=o+"\n",a=a.caller,++n,_[o]=!0;e=e.trim()}catch(r){""===e&&(e="Could not generate a stack trace for this fatal error.")}return e};var t=function(t,e){throw new r(t,e)};m$802$1=r,m$802$0=t}();
!function(){"use strict";function t(t,n){return t.replace(/%\{(.*?)\}/g,function(e,a){if(!n)throw"Cannot use named parameters with `fmt` without a data object. String: '"+t+"'";return r(a,n,t)})}function r(t,r,e){t=t.replace(n,"");var a,i,s,u=t.indexOf(":");return u>-1&&(a=t.substr(u+1),t=t.substr(0,u)),i=r[t],s=r[t+"Formatter"],s?i=s(i,a):a&&m$802$0("fmt() was given a formatting string, but key '"+t+"' has no formatter.",{string:e}),i}var n=/\s/g;m$829$0=t}();
!function(){function t(){this.constructor=Object}m$662$0(Object,"create",function(e,r){return r&&m$802$0("this browser does not support property descriptors"),t.prototype=e,new t}),m$662$0(Object,"freeze",function(t){return t})}();
!function(){var t,e,n=window.Window;n&&(t=n.prototype);var r=window.HTMLDocument;r&&(e=r.prototype);var i=Element.prototype,o=[];if(!("addEventListener"in i)){var s=function(t,e,n){if(n)throw new Error("The optional `useCapture` argument is not supported in this browser");for(var r=0,i=o.length;r<i;r++){var s=o[r];if(s.type===t&&s.listener===e)return}var a=this,c=function(t){t.target=t.srcElement,t.currentTarget=a,e.call(a,t)},l=t,d=c;if("DOMContentLoaded"===t&&(l="readystatechange",d=function(t){"complete"===document.readyState&&c(t)},"complete"===document.readyState)){var v=document.createEventObject();v.srcElement=window,d(v)}this.attachEvent("on"+l,d),o.push({object:this,type:t,listener:e,wrapper:d})};m$662$0(i,"addEventListener",s),t&&m$662$0(t,"addEventListener",s),e&&m$662$0(e,"addEventListener",s)}if(!("removeEventListener"in i)){var a=function(t,e,n){if(n)throw new Error("The optional `useCapture` argument is not supported in this browser");for(var r=-1,i=o.length;++r<i;){var s=o[r];if(s.object===this&&s.type===t&&s.listener===e){var a;a="DOMContentLoaded"===t?"readystatechange":t,this.detachEvent("on"+a,s.wrapper),o.splice(r,1);break}}};m$662$0(i,"removeEventListener",a),t&&m$662$0(t,"removeEventListener",a),e&&m$662$0(e,"removeEventListener",a)}var c=i.hasOwnProperty("classList");if(!c){var l=function(t){this.element=t},d=l.prototype;d.item=function(t){var e=this.element.getAttribute("class"),n=e?e.trim().split(/\s+/):null;return n?n[t]:void 0},d.contains=function(t){var e=this.element.getAttribute("class"),n=e?" "+e+" ":"";return n.indexOf(" "+t+" ")>-1},d.add=function(){
for(var t=this.element,e=t.getAttribute("class"),n=e?" "+e+" ":" ",r=!1,i=arguments.length,o=0;o<i;o++){var s=arguments[o]+" ";n.indexOf(" "+s)===-1&&(n+=s,r=!0)}r&&t.setAttribute("class",n.substring(1,n.length-1))},d.remove=function(){for(var t=this.element,e=t.getAttribute("class"),n=e?" "+e+" ":" ",r=!1,i=arguments.length,o=0;o<i;o++)for(var s,a=arguments[o],c=" "+a+" ";(s=n.indexOf(c))>-1;)n=n.substr(0,s)+n.substr(s+a.length+1),r=!0;r&&(n=n.substring(1,n.length-1)," "===n&&(n=""),t.setAttribute("class",n))},d.toggle=function(t,e){var n=this.contains(t),r=!1;return 2===arguments.length?(n&&!e&&(r="remove"),!n&&e&&(r="add")):r=n?"remove":"add",r?(this[r](t),!n):n},d.toString=function(){return this.element.getAttribute("class")||""},Object.defineProperty&&Object.defineProperty(i,"classList",{get:function(t,e,n,r){return new l(this)},configurable:!0})}if(window.DOMTokenList){var v=window.DOMTokenList.prototype,u=document.createElement("div");if(u.classList.toggle("polyfill-test-class",!1)!==!1){var m=v.toggle;v.toggle=function(t,e){if(1===arguments.length)return m.call(this,t);var n=this.contains(t),r=e?!n&&"add":!!n&&"remove";return r?(this[r](t),!n):n}}if(u.classList.add("foo","bar","baz"),!u.classList.contains("baz")){var f=v.add;v.add=function(){for(var t=arguments.length,e=0;e<t;e++)f.call(this,arguments[e])}}if(u.classList.add("foo","bar","baz"),u.classList.remove("foo","bar","baz"),u.classList.contains("baz")){var h=v.remove;v.remove=function(){for(var t=arguments.length,e=0;e<t;e++)h.call(this,arguments[e])}}}m$662$0(i,"addEventListener",s),m$662$0(window,"addEventListener",s),
m$662$0(i,"removeEventListener",a),m$662$0(window,"removeEventListener",a),m$662$0(global.document,"contains",function(){var t=this.documentElement;return t.contains.apply(t,arguments)});var p=CSSStyleDeclaration.prototype;"setProperty"in p||m$662$0(p,"setProperty",function(t,e){return this.setAttribute.call(this,t,e)})}();
!function(){var t=Event.prototype;m$662$0(t,"preventDefault",function(){this.returnValue=!1}),m$662$0(t,"stopPropagation",function(){this.cancelBubble=!0})}();
!function(){"use strict";var n=function(){};m$805$0=n}();
!function(){"use strict";function n(n,u,$){r();var i=n.apply(u,$);return t(),i}function r(){i[$++]=c}function t(){for(var n,r,t,u=i[--$];c>u;)c--,n=o[c],r=f[c],t=a[c],o[c]=void 0,f[c]=null,a[c]="",n.release(r,t)}function u(n,r,t){o[c]=n,f[c]=r,a[c]=t,c++}var $=0,i=[],o=[],c=0,f=[],a=[];m$768$0=n,m$768$2=r,m$768$3=t,m$768$1=u}();
!function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=0,t=function(t){if(null===t)return"_null";if(void 0===t)return"_undefined";if(t.hasOwnProperty("_cwGUID"))return t._cwGUID;var o="undefined"==typeof t?"undefined":e(t);switch(o){case"number":Object.is(t,-0)&&(t="-0");case"string":case"boolean":return o+t;case"object":case"function":n++;var u=o+n;return r.value=u,global.Object.defineProperty(t,"_cwGUID",r),u;default:m$802$0("unrecognized object type")}},o=function(){n=0},r={value:"",enumerable:!1,writable:!1,configurable:!1};m$807$0=t,m$807$1=o}();
!function(){"use strict";function n(n){return s(n.constructor)||s(n)||"<object>"}function s(n){var s=n.__QUALIFIED_CLASS_NAME__;if(s)return n.hasOwnProperty("__QUALIFIED_CLASS_NAME__")||(s+=n.isClass&&!n.isInitialized?"(Uninitialized subclass "+m$807$0(n)+")":"(Anonymous subclass "+m$807$0(n)+")"),s}m$806$0=n}();
!function(){"use strict";function e(e,i){var n,s,r=i.length;for(n=0;n<r;n++)s=i[n],s.isClass&&m$802$0("Error: attempting to mixin class "+s.toString()+" as a mixin to "+e.toString()+". Cannot use classes as mixins.",{class:e,mixin:s}),e.hasMixin(s)||t(e,s);return e}function t(t,n){var s,a,o;return s=n.mixinDependencies,s&&e(t,s),t.mixins.push(n),a=n.staticMembers,i(t,a),r(t,a),o=t.prototype,i(o,n),r(o,n),t.mixinWasApplied(n),t}function i(e,t){if(t){var i=t.__superMap,n=e[c];n=n?Object.create(n):{};for(var s in i){var r=i[s];n[s]=e[r]}e[c]=n}}function n(e){e._trackRetain=f,e._trackRelease=d,e.referenceTracker={}}function s(e,t,i){var n=t?m$806$0(t):"Unknown referencer",s=i?i+" - "+n:n,r=e[s];return r||(r=e[s]={descriptor:s,referenceCount:0,highestReferenceCount:0,timestamps:[],hasOverreleased:!1}),r}function r(e,t){if(t){var i=Object.getOwnPropertyNames(t);i.push.apply(i,Object.getOwnPropertySymbols(t));for(var n=i.length,s=0;s<n;s++){var r=i[s];if("staticMembers"!==r&&"mixinDependencies"!==r){for(var a=t[r];a&&a.initializeMember;)a=a.initializeMember(e,r);void 0!==a&&(e[r]=a)}}}}function a(e){e.isDisposing=!0,o(e),e.dispose(),e._baseDisposeCalled||m$802$0("Base dispose was never invoked. Overridden dispose methods must always call `super()`."),e.isDisposing=!1,e.isDisposed=!0}function o(e){var t=e._weakReferences;if(t){var i,n,s,r,a=t.length,o=m$537$0.begin();for(i=0;i<a;i+=3)s=t[i],s&&(n=t[i+1],r=t[i+2],n.call(s,r,o));o.end(),t.length=0}}var c="__s",l=0,u={isClass:!0,name:null,isNamed:null,mixins:[],ancestors:[],superclass:null,create:function(){var e=new this.Constructor,t=e._metadataKeysForCreate;
if(t){var i,n,s,r=e._metadataForCreateByKey,a=t.length;for(i=0;i<a;i++)n=t[i],s=r[n].initializeMemberForInstance(e,n),void 0!==s?e[n]=s:delete e[n]}return e.init.apply(e,arguments),e._baseInitCalled||m$802$0("Base init was never invoked. Overridden init methods must always call `super()`."),e.isInitialized=!0,e},mixinWasApplied:m$805$0,isInitialized:!0,extend:function(){var t=global.Object.create(this),i=t.prototype=global.Object.create(t.prototype);t.isInitialized=!1,i.isInitialized=!1,t.mixins=t.mixins.slice();var n=new Function;return n.prototype=i,t.Constructor=n,i.constructor=t,t.ancestors=this.ancestors.slice(),t.ancestors.push(this),t.superclass=this,e(t,arguments),t._baseInitCalled=!1,i._baseInitCalled=!1,t.init(),t._baseInitCalled||m$802$0("Base init was never invoked. Overridden init methods must always call `super()`."),t.isInitialized=!0,t},init:function(){this._baseInitCalled=!0},hasMixin:function(e){return this.mixins.indexOf(e)>=0},subclassOf:function(e){return this.ancestors.indexOf(e)>=0},kindOf:function(e){return!!e&&(this.hasMixin(e)||this.subclassOf(e)||this===e)},toString:function(){return"[Class "+m$806$0(this)+"]"},toJSON:function(){return this.toString()},prototype:{_cwGUID:"",init:function(e){arguments.length>1&&m$802$0("Default initializer only supports at most one argument; if you would like to apply a mixin it should be done when calling .extend()."),r(this,e),this.trackReferences&&n(this),this._baseInitCalled=!0},_baseInitCalled:!1,_metadataKeysForCreate:null,isObject:!0,isInitialized:!0,isDisposing:!1,isDisposed:!1,_retainCount:0,retain:function(e,t){
return this.isDisposed&&m$802$0("Cannot retain an object that has already been disposed.",this),this._retainCount++,this._trackRetain(e,t),this},release:function(e,t){var i=--this._retainCount;return this._trackRelease(e,t),i<0&&m$802$0("Cannot release an object more times than it has been retained.",{object:this,referenceTracker:this.referenceTracker,overreleasedReference:this.overreleasedReference}),0===i&&a(this),this},autorelease:function(){return m$768$1(this),this},trackReferences:!1,referenceTracker:null,overreleasedReference:null,dispose:function(){this._baseDisposeCalled=!0},registerWeakReference:function(e,t,i){var n,s=this._weakReferences;if(s){var r=this._weakReferenceAvailableIndicesLength;r>=0?(n=this._weakReferenceAvailableIndices[r],this._weakReferenceAvailableIndicesLength=r-1):n=s.length+1}else s=this._weakReferences=[],this._weakReferenceAvailableIndices=[],this._weakReferenceAvailableIndicesLength=-1,n=1;return s[n-1]=e,s[n]=t,s[n+1]=i,n},deregisterWeakReference:function(e){var t=this._weakReferences;t[e-1]||(e===l?m$802$0("Attempted to deregister the null weak reference token.",this):m$802$0("Cannot deregister a weak reference that wasn't registered or was previously deregistered.",this)),t[e-1]=t[e]=t[e+1]=null,this._weakReferenceAvailableIndices[++this._weakReferenceAvailableIndicesLength]=e},_weakReferences:null,_weakReferenceAvailableIndices:null,_weakReferenceAvailableIndicesLength:-1,_trackRetain:m$805$0,_trackRelease:m$805$0,hasMixin:function(e){return this.constructor.hasMixin(e)},instanceOf:function(e){if(!e)return!1;if(e.isClass){var t=e&&e.Constructor;
return!!t&&this instanceof t}return this.hasMixin(e)}}};Object.defineProperties(u,{name:{get:function(e,t,i,n){return m$806$0(this)}},isNamed:{get:function(e,t,i,n){return this.hasOwnProperty("__QUALIFIED_CLASS_NAME__")}}});var h=new Function;h.prototype=u.prototype,u.Constructor=h,u.prototype.constructor=u;var f=function(e,t){var i=s(this.referenceTracker,e,t),n=++i.referenceCount;i.highestReferenceCount=Math.max(n,i.highestReferenceCount);var r=m();i.timestamps.push(r)},d=function(e,t){var i=s(this.referenceTracker,e,t),n=--i.referenceCount,r=0-m();i.timestamps.push(r),n<0&&(i.hasOverreleased=!0,this.overreleasedReference=i)},m=function(){var e=Date.now();return function(){return(Date.now()-e)/1e3}}();m$616$1=l,m$616$0=u}();
!function(){"use strict";var e=m$616$0.extend({debugType:"Base",isCacheable:!0,calculateValueForNode:null,previousValueWasReplaced:m$805$0,flushNode:m$805$0,notifyNode:m$805$0,didAddParentToNode:m$805$0,didRemoveParentFromNode:m$805$0,didAddChildToNode:m$805$0,didRemoveChildFromNode:m$805$0,willRemoveChildFromNode:m$805$0,willRemoveParentFromNode:m$805$0,validateDescendantDownstreamNodeManager:m$805$0,wasDirtiedByParent:m$805$0,wasDirtiedBySelf:m$805$0,nodeWillFree:m$805$0,addDebugInfoForNode:m$805$0,staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.NodeManager"}});m$543$0=e}();
!function(){"use strict";var t={staticMembers:{init:function(t){return this.isAbstract&&!this.hasOwnProperty("isAbstract")&&(this.isAbstract=!1),this.__s._A3$Fd$init.call(this,t)},isAbstract:!0,__superMap:{_A3$Fd$init:"init"}},init:function(t){this.constructor.isAbstract?m$802$0("this class cannot be instantiated because it is abstract"):this.__s._A3$Lq$init.call(this,t)},__superMap:{_A3$Lq$init:"init"}};m$633$0=t}();
!function(){"use strict";function n(n,t,r,i){void 0===r&&(r=0),void 0===i&&(i=r);var o=t.length;n.length=o+r-i;for(var e=i,u=r;e<o;e++,u++)n[u]=t[e];return n}m$764$0=n}();
!function(){"use strict";function n(n,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),t.length=0,m$764$0(t,n,i,o)}var t=[];m$762$0=n}();
!function(){"use strict";function t(t){var e=m$762$0(arguments,0,1);return t.define.apply(t,e)}var e=m$616$0.extend({staticMembers:{define:function(){return this.create.apply(this,arguments)},__QUALIFIED_CLASS_NAME__:"CW.Metadata"},value:void 0,initializeMember:function(t,e){return t.hasMixin(m$625$0)||m$802$0("cannot add metadata to a class without CW.MetadataSupport"),t.registerMetadata(e,this),this.getValue(t,e)},wasRegistered:m$805$0,getValue:function(t,e){return this.value},initializeMemberForInstance:null,requiresSupport:null,allowedOnClass:!1,allowedOnInstance:!0,allowAtExtend:!0,allowAtRuntime:!1,allowAtCreate:!1,isOnlyMetadataForKey:!0});m$624$1=t,m$624$0=e}();
!function(){"use strict";function n(n,t){return n&&n.instanceOf?n.instanceOf(t):(t===global.Event||"function"==typeof t)&&n instanceof t}m$620$0=n}();
!function(){"use strict";function n(n,i){return n&&n.kindOf&&n.kindOf(i)}m$623$0=n}();
!function(){"use strict";function t(t){t.hasOwnProperty(o)||(a(t,o),e(t[o]),a(t,m),a(t,l),t._metadataKeysForCreate&&(t._metadataKeysForCreate=t._metadataKeysForCreate.slice()))}function a(t,a){t[a]&&(t[a]=Object.create(t[a]))}function e(t){for(var e in t)a(t,e)}function i(a,e){a||m$802$0("'key' is required"),e||m$802$0("'metadata' is required"),m$620$0(e,m$624$0)||m$802$0("Metadata must inherit from CW.Metadata");var i=e.key;i&&i!==a&&m$802$0("metadata cannot be registered on key '"+a+"'; it is already registered for a different key '"+i);var s=e.requiresSupport,n=this.isClass?this:this.constructor;s&&!n.kindOf(s)&&m$802$0("This class does not mix in the required support for metadata of type "+m$806$0(e)+".",{metadata:e,requiresSupport:s}),this.isClass?(e.allowedOnClass||m$802$0("This metadata cannot be added to a class because `allowedOnClass` is false (key: '"+a+"', class: "+this+", metadata: "+e.constructor+").",{key:a,onClass:this,metadata:e}),this.isInitialized||e.allowAtExtend||e.allowAtCreate||m$802$0("New static metadata may not be added at extend time when `allowAtExtend` and `allowAtCreate` are false (key: '"+a+"', class: "+this+", metadata: "+e.constructor+").",{key:a,onClass:this,metadata:e})):(e.allowedOnInstance||m$802$0("This metadata cannot be added to an instance because `allowedOnInstance` is false (key: '"+a+"', instance of: "+this.constructor+", metadata: "+e.constructor+").",{key:a,instance:this,metadata:e}),this.constructor.isInitialized||this.isInitialized||e.allowAtExtend||m$802$0("New metadata may not be added in extend when `allowAtExtend` is false (key: '"+a+"', instance of: "+this.constructor+", metadata: "+e.constructor+").",{
key:a,instance:this,metadata:e}),!this.constructor.isInitialized||this.isInitialized||e.allowAtCreate||m$802$0("New metadata may not be added in create when `allowAtCreate` is false (key: '"+a+"', instance of: "+this.constructor+", metadata: "+e.constructor+").",{key:a,instance:this,metadata:e})),this.isInitialized&&(e.allowAtRuntime?this.initializeRuntime():m$802$0("New metadata may not be added at runtime when `allowAtRuntime` is false (key: '"+a+"', instance: "+this+", metadata: "+e.constructor+").",{key:a,instance:this,metadata:e}));var r=e.constructor,d=this._metadataByKey[a],o=r.ancestors;d&&d.isOnlyMetadataForKey&&e.isOnlyMetadataForKey&&!e.instanceOf(d.constructor)&&m$802$0("isOnlyMetadataForKey metadata may only be overridden if the new value is the same type or a subclass (key: '"+a+"', target: "+this+", metadata: "+e.constructor+").",{key:a,target:this,metadata:e}),t(this);for(var m=this._metadataByKey,l=o.length,y=this._metadataByType;r&&r!==m$624$0;){var h=m$807$0(r),$=y[h];$||($=y[h]={},c[h]=r),d||(d=$[a]),$[a]=e,r=o[--l]}e.isOnlyMetadataForKey&&(m[a]=e);var u=this._metadataForCreateByKey,f=this._metadataKeysForCreate;e.initializeMemberForInstance?(u&&f||(u=this._metadataForCreateByKey={},f=this._metadataKeysForCreate=[]),u[a]&&f.splice(f.indexOf(a),1),f.push(a),u[a]=e):u&&u[a]&&(u[a]=void 0,f.splice(f.indexOf(a),1)),e.key=a;var _=e.getValue(this,a);this.isInitialized&&void 0!==_&&(this[a]=_),e.wasRegistered(this,a,d)}function s(t){return this._metadataByType[m$807$0(t)]||y}function n(t){return this._metadataByKey[t]}var r={initializeMember:function(){return{}}
},d={staticMembers:{init:function(a){var e=this.prototype;t(this),t(e),this.__s._9w$UO$init.call(this,a),e.initializeClass(),this.initializeClass(),this.initializeInstance()},_metadataByType:r,_metadataByKey:r,registerMetadata:i,getMetadataByType:s,getMetadata:n,initializeClass:m$805$0,initializeInstance:m$805$0,initializeRuntime:m$805$0,__superMap:{_9w$UO$init:"init"}},init:function(t){this.__s._9w$1CF$init.call(this,t),this.initializeInstance()},_metadataByType:r,_metadataByKey:r,registerMetadata:i,getMetadataByType:s,getMetadata:n,initializeClass:m$805$0,initializeInstance:m$805$0,initializeRuntime:m$805$0,__superMap:{_9w$1CF$init:"init"}},o="_metadataByType",m="_metadataByKey",l="_metadataForCreateByKey",c={},y={};m$625$0=d}();
!function(){"use strict";function n(n){return null!==n&&void 0!==n}m$771$0=n}();
!function(){"use strict";function n(n){return!(!n||!n.isClass)}m$774$0=n}();
!function(){"use strict";function t(t){return!(!t||!t.isObject)}m$775$0=t}();
!function(){"use strict";function o(o){return"object"===("undefined"==typeof o?"undefined":t(o))&&null!==o&&!Array.isArray(o)&&!m$775$0(o)&&!m$774$0(o)}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};m$780$0=o}();
!function(){"use strict";function r(r){var t=arguments.length;t<=1&&m$802$0("[CW.Utils#mixin] Must provide objects to mixin method");for(var i=1;i<t;i++){var n=arguments[i];if(n)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}m$818$0=r}();
!function(){"use strict";var t=function(){var t=arguments.length;0===t&&m$802$0("[CW.Utils#merge] Must provides objects to merge");var e=m$762$0(arguments,1);return e[0]={},m$818$0.apply(this,e)};m$817$0=t}();
!function(){"use strict";var e="[CW.Property#extendedForAccumulatorDefaultValue] Cannot extend property.",t=m$616$0.extend({init:function(e){this.value=e,this.__s._9M$cc$init.call(this)},value:null,initializeMember:function(t,a){var r,s=t[a],u=this.value;return Array.isArray(s)?r=s.concat(u):m$780$0(s)?m$780$0(u)?r=m$817$0(s,u):m$802$0(e+" The default value of the superclass property is a hash, but the subclass does not provide a hash.",{value:u,property:this}):m$774$0(s)?m$780$0(u)?r=s.extend(u):m$802$0(e+" The default value of the superclass property is a class, but the subclass does not provide a hash.",{value:u,property:this}):m$771$0(s)?m$802$0(e+" This property class returned a default value that is not valid for aggregation.  It must be either an array or a hash object.",{property:this,previousValue:s}):m$780$0(u)||Array.isArray(u)?r=u:m$802$0(e+" If the default value of the superclass property is "+s+", the subclass must provide a hash or an array.",{value:u,property:this}),r},__superMap:{_9M$cc$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Accumulator"}}),a=function(){return t.create.apply(t,arguments)};m$589$0=t,m$589$1=a}();
!function(){"use strict";function i(i){var s=i.getMetadataByType(m$635$0),t="";for(var a in s)s[a].validate(i,a)||(t+="\n    "+a);return t}var s={mixinDependencies:[m$633$0,m$625$0],initializeClass:function(){var s=i(this),t=this.constructor;t.isAbstract=!!s,t.missingRequires=s,this.__s._A4$vV$initializeClass.call(this)},staticMembers:{initializeClass:function(){var s=i(this);this.isAbstract=this.isAbstract||!!s,this.missingRequires+=s,this.__s._A4$13e$initializeClass.call(this)},__superMap:{_A4$13e$initializeClass:"initializeClass"}},init:function(i){this.constructor.isAbstract?m$802$0(this+" cannot be instantiated because it is abstract. Missing keys: "+this.constructor.missingRequires):this.__s._A4$1A6$init.call(this,i)},__superMap:{_A4$vV$initializeClass:"initializeClass",_A4$1A6$init:"init"}};m$634$0=s}();
!function(){"use strict";var e=m$624$0.extend({validate:function(e,t){return t in e},requiresSupport:m$634$0,isOnlyMetadataForKey:!1,allowedOnClass:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Required"}});m$635$0=e}();
!function(){"use strict";function n(n){return n instanceof global.Function||!(!n||"function"!=typeof n||n instanceof global.Element)}m$777$0=n}();
!function(){"use strict";var t=m$635$0.extend({requiredKey:null,validate:function(t,i){if(this._validating)return this._validating=!1,!1;this._validating=!0;var a=t[i];if(m$777$0(a)&&a!==this.default)return this._validating=!1,!0;var e;if(i=this.requiredKey||i,Array.isArray(i)){e=!0;for(var r=i.length,n=0;n<r;n++)e=e&&this._validate(t,i[n])}else e=this._validate(t,i);return this._validating=!1,e},_validating:!1,_validate:function(i,a){var e=i.getMetadataByType(t),r=e[a],n=i[a];return r?r.validate(i,a):m$777$0(n)},getValue:function(){return this.default},default:void 0,staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.RequiredMethod"}});m$637$0=t}();
!function(){"use strict";var $={mixinDependencies:[m$634$0],get:m$624$1(m$637$0),set:m$624$1(m$637$0)};m$588$0=$}();
!function(){"use strict";var t={toString:function(){return"CW.ITSELF"}};Object.freeze(t),m$622$0=t}();
!function(){"use strict";function r(r){return!!Array.isArray(r)||r&&""+r=="[object Arguments]"}m$772$0=r}();
!function(){"use strict";var r=function(r,t,c){return Array.prototype.slice.call(r,0|t,c)};m$766$0=r}();
!function(){"use strict";var t=function(t,l){var r,a=t;if(m$772$0(t)){if(a=m$766$0(t),l){for(var $=a.length,c=0,f=0;f<$;f++)r=l.call(this,a[f],l,f),r!==e&&(a[c]=r,c++);c!==$&&(a.length=c)}}else if(m$780$0(t)){a=global.Object.create(global.Object.getPrototypeOf(t));for(var i=Object.keys(t),n=i.length,o=0;o<n;o++){var g=i[o];r=t[g],l&&(r=l.call(this,r,l,g)),r!==e&&(a[g]=r)}}return a},e={};m$787$0=t,m$787$1=e}();
!function(){"use strict";var t=function(t){return m$787$0.call(this,t)};m$790$0=t}();
!function(){"use strict";var i={mixinDependencies:[m$625$0],staticMembers:{initializeInstance:function(){var i=this.getMetadataByType(m$619$0);for(var t in i){var a,n=i[t];a=this.hasOwnProperty(t)?this[t]:n.value,this[t]=n.instantiate(t,a,this)}this.__s._9s$NP$initializeInstance.call(this)},__superMap:{_9s$NP$initializeInstance:"initializeInstance"}},initializeInstance:function(){var i=this.getMetadataByType(m$619$0);for(var t in i){var a=i[t],n=this[t];this[t]=a.instantiate(t,n,this)}this.__s._9s$T_$initializeInstance.call(this)},__superMap:{_9s$T_$initializeInstance:"initializeInstance"}};m$621$0=i}();
!function(){"use strict";function instance(r,t){return Instance.define(r,t)}var Instance=m$624$0.extend({instantiate:null,init:function(r){r===Array&&(r=[]),this.value=r;for(var t=[],n=1,a=arguments.length;n<a;n++)t.push(arguments[n]);this.configs=t,this.__s._9q$1Jf$init.call(this)},wasRegistered:function(r,t){var n=this.value;m$774$0(n)?this.instantiate=cwClassInstantiator:m$777$0(n)?this.instantiate=jsConstructorInstantiator:Array.isArray(n)?this.instantiate=arrayInstantiator:m$802$0("Error on key '%{key}': CW.instance may only instantiate CW classes, JavaScript constructors, and arrays.",{key:t,object:r,type:n})},configs:null,requiresSupport:m$621$0,isOnlyMetadataForKey:!1,allowedOnClass:!0,__superMap:{_9q$1Jf$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Instance"}}),cwClassInstantiator=function(r,t,n){if(m$775$0(t))return t;var a,s;m$780$0(t)||Array.isArray(t)?(a=this.value,s=[t]):(a=t,s=this.configs);var i=a.create.apply(a,s);return i.owner=i.owner||n,i},_jsConstructorHelpers=[],jsConstructorInstantiator=function jsConstructorInstantiator(key,value,_owner){if(!m$777$0(value))return value;var Constructor=value,args=this.configs,argsCount=args.length,helper=_jsConstructorHelpers[argsCount];if(!helper){var helperString="(function (Constructor%{comma}%{args}) {\n    return new Constructor(%{args});\n})",commaString=argsCount?", ":"",argsString="";if(argsCount){var argsStringArray=[],i;for(i=0;i<argsCount;i++)argsStringArray.push("arg"+i);argsString=argsStringArray.join(", ")}helperString=m$829$0(helperString,{comma:commaString,args:argsString}),helper=_jsConstructorHelpers[argsCount]=eval(helperString);
}return args=m$790$0(args),args.unshift(Constructor),helper.apply(null,args)},arrayInstantiator=function(r,t,n){return m$790$0(t)};m$619$0=Instance,m$619$1=instance}();
!function(){"use strict";var n=function(n){return n.substring(n.lastIndexOf(".")+1)};m$816$0=n}();
!function(){"use strict";function $($,t){if($)return m$623$0($,m$631$0)||m$620$0($,m$588$0)?$.get(t):$[t]}m$627$0=$}();
!function(){"use strict";var n=function(n,r){for(var t,i,u=0,f=r;f&&(i=n.indexOf(".",u))!==-1;)t=n.substring(u,i),f=m$627$0(f,t),u=i+1;return f};m$819$0=n}();
!function(){"use strict";function $($,t,m){if($)return m$623$0($,m$631$0)||m$620$0($,m$588$0)?$.set(t,m):$[t]=m,$}m$628$0=$}();
!function(){"use strict";function t(){this._properties=this.getMetadataByType(m$629$0)}function i(){var t,i,e,s=this.getMetadataByType(m$629$0),n=$.staticMembers.defaultValuePrefix;for(t in s)e=s[t],e.initForObject&&e.initForObject(this,t);this.propertiesAreInitialized=!0;for(t in s){e=s[t];var r=n+t;i=this[r],delete this[r],m$777$0(i)&&(i=i.call(this)),i===m$622$0&&(i=this),e.setInitialValueForObject&&e.setInitialValueForObject(this,t,i)}}function e(t,i){var e=m$819$0(t,this);return e||m$802$0("cannot call set on null or undefined object"),m$628$0(e,m$816$0(t),i),this}function s(t){var i=m$819$0(t,this);if(i)return m$627$0(i,m$816$0(t))}function n(t){var i=this._properties[t];return i?i.getForObject(this,t):this[t]}function r(t,i){var e=this._properties[t];return e?e.setForObject(this,t,i):this[t]=i,this}function a(){for(var t={},i=0;i<arguments.length;i++)t[arguments[i]]=this.get(arguments[i]);return t}function l(t){for(var i in t)t.hasOwnProperty(i)&&this.set(i,t[i]);return this}function o(){return Array.prototype.map.call(arguments,this.get,this)}function c(t,i){t.length>i.length&&m$802$0("Not enough values to set");for(var e=0;e<t.length;e++)this.set(t[e],i[e]);return this}function h(t,i){i.set(this,t,null)}var $={mixinDependencies:[m$621$0,m$588$0],staticMembers:{get:n,set:r,setPath:e,getPath:s,getPropertiesAsObject:a,setPropertiesWithObject:l,getPropertiesAsArray:o,setPropertiesWithArrays:c,weaklyReferencedObjectWasDisposed:h,_weakReferenceTokens:null,initializeClass:function(){this.__s._A1$198$initializeClass.call(this),t.call(this)},initializeInstance:function(){this.__s._A1$1Ca$initializeInstance.call(this),
i.call(this)},defaultValuePrefix:"__CW__",propertiesAreInitialized:!1,mixinWasApplied:function(){this.propertiesAreInitialized=!1},__superMap:{_A1$198$initializeClass:"initializeClass",_A1$1Ca$initializeInstance:"initializeInstance"}},initializeClass:function(){this.__s._A1$1Mg$initializeClass.call(this),t.call(this)},initializeInstance:function(){this.__s._A1$1Pg$initializeInstance.call(this),i.call(this)},dispose:function(){var t,i,e=this._properties;for(t in e)i=e[t],i.disposeForObject(this,t);this.__s._A1$1aS$dispose.apply(this,arguments)},get:n,set:r,setPath:e,getPath:s,getPropertiesAsObject:a,setPropertiesWithObject:l,getPropertiesAsArray:o,setPropertiesWithArrays:c,weaklyReferencedObjectWasDisposed:h,_weakReferenceTokens:null,propertiesAreInitialized:!1,beginBatchSet:function(){return m$538$0.begin(this)},__superMap:{_A1$1Mg$initializeClass:"initializeClass",_A1$1Pg$initializeInstance:"initializeInstance",_A1$1aS$dispose:"dispose"}};m$631$0=$}();
!function(){"use strict";var t=m$616$0.extend(m$631$0,{toString:function(){var t=m$806$0(this);return"[Object "+t+":"+m$807$0(this)+"]"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Object"}});m$626$0=t}();
!function(){"use strict";var t=m$626$0.extend({message:"",validate:function(t){return!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.Validator"}});m$532$0=t}();
!function(){"use strict";function e(e,r,n){e&&e.retain&&e.retain(r,n)}function r(e,r,n){e&&e.release&&e.release(r,n)}function n(e,r,n,$){return e&&e.registerWeakReference?e.registerWeakReference(r,n,$):m$616$1}function $(e,r){r!==m$616$1&&e&&e.deregisterWeakReference&&e.deregisterWeakReference(r)}var t="strong",i="weak",a="unsafe";m$630$0=t,m$630$1=i,m$630$2=a,m$630$3=e,m$630$4=r,m$630$5=n,m$630$6=$}();
!function(){"use strict";function t(t){return n.test(t)}var n=/^[$A-Z_][$A-Z_0-9]*$/i;m$783$0=t}();
!function(){"use strict";function n(n){return"boolean"==typeof n}m$773$0=n}();
!function(){"use strict";function n(n){return"number"==typeof n}m$778$0=n}();
!function(){"use strict";function t(t){return"string"==typeof t}m$781$0=t}();
!function(){"use strict";function t(t){var y=t.type;if(null!==y){var p=e(y,t);p!==y&&(t.type=p);var m,b;"integer"===p?(m=r,t.typeIsPrimitive=!0):"number"===p?(m=n,t.typeIsPrimitive=!0):"string"===p?(m=m$781$0,t.typeIsPrimitive=!0):"boolean"===p?(m=m$773$0,t.typeIsPrimitive=!0):"simple-object"===p?m=m$780$0:"hash"===p?m=f:p.isClass?m=o(p):"function"===(b="undefined"==typeof p?"undefined":s(p))||a(p)?m=u(p):"object"===b?m=i(p):m$802$0('Cannot create property "%{key}" with unknown type `%{type}`.',{property:t,key:t.key,type:p}),m=c(m),t._validateType=m}}function e(t,e){switch(void 0===t&&m$802$0('Error defining property "%{key}". You must specify a type, or provide a `validate` method.',{property:e,key:e.key}),t){case Number:t="number";break;case String:t="string";break;case Boolean:t="boolean";break;case"object":t=Object;break;case"function":t=Function}return t}function n(t){return m$778$0(t)&&!Number.isNaN(t)}function r(t){return(0|t)===t}function o(t){return function(e){var n;return e.isObject&&((n=e.constructor)===t||n.subclassOf(t))}}function i(t){return function(e){return e.hasMixin&&e.hasMixin(t)}}function u(t){return function(e){return e instanceof t}}function c(t){return function(e){return!m$771$0(e)||t.call(this,e)}}function f(t){var e=t.constructor;if(e===Object)return!0;var n;for(n=0;n<m;n++)if(e===p[n])return!0;return!1}function y(t){p[m]=t,m++}var a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};a="function"!=typeof global.XMLHttpRequest?function(t){
return t.prototype&&t.prototype.constructor}:m$805$0;var p=[],m=0;m$632$0=t,m$632$1=y}();
!function(){"use strict";function _setUpWeakRefHash(e,t){var r=e._weakReferenceTokens;r||(r=e._weakReferenceTokens={}),r[t]=m$616$1}function _manageSwappingValuesWeak(e,t,r){var i=this.key,n=e._weakReferenceTokens,s=n[i];m$630$6(t,s);var a=m$630$5(r,e,e.weaklyReferencedObjectWasDisposed,i);n[i]=a}var PROPERTY_NOT_WRITTEN={},VALUE_SENTINEL="$value",Property=m$624$0.extend({staticMembers:{registerHashConstructor:function(e){m$632$1(e)},_getForObjectString:"",_setForObjectReadWriteString:"",__QUALIFIED_CLASS_NAME__:"CW.Property"},readOnly:!1,defaultValue:void 0,set:null,get:null,setterReturnArray:[],usesBuiltinGet:!1,usesBuiltinSet:!1,isComputedProperty:!1,type:null,typeIsPrimitive:!1,strong:!1,weak:!1,unsafe:!1,reference:"",validators:null,init:function(e){m$780$0(e)?(this.defaultValue=e.defaultValue,delete e.defaultValue,this.__s._9_$5oW$init.call(this,e)):(this.defaultValue=e,this.__s._9_$5jq$init.call(this));var t=this.validators;if(t&&t.length){var r;for(r=0;r<t.length;++r){var i=t[r];m$620$0(i,m$532$0)||(t[r]=i.create())}}},requiresSupport:m$631$0,allowedOnClass:!0,getValue:function(){return this.defaultValue},_ivar:null,_getParamOffset:0,_setParamOffset:0,_callsGetSuper:!1,_callsSetSuper:!1,_validateType:function(){return!0},_manageSwappingValues:function(e,t,r){var i="Strong ref for `"+this.key+"`";m$630$3(r,e,i),m$630$4(t,e,i)},_referenceId:void 0,wasRegistered:function(e,t,r){this.__s._9_$6g9$wasRegistered.apply(this,arguments),r&&this._inheritFromSuperMap(e,r,t),this._didFirstPropertyRegister||(!this.writeDependencies&&this.dependencies&&(this.writeDependencies=this.dependencies),
r&&this.inheritFrom(r),this._setUpInternalVariables(t),this._synthesizeInternalMethods(),this._setUpReferenceFlag(e,t),this.reference===m$630$1&&this.defaultValue&&m$802$0("A weak-reference property may not provide a default value ('%{key})'.",{key:t,object:e}),this._setUpReferenceManagers(),this._didFirstPropertyRegister=!0),this._moveDefaultValuesToPrepareForNativeAccessors(e,t),e[m$631$0.staticMembers.defaultValuePrefix+t]=e[t],this.setUpNativeAccessors(e,t)},inheritFrom:function(e){this.get||e.usesBuiltinGet||(this.get=e.get),this.set||e.usesBuiltinSet||(this.set=e.set),e.dependencies&&(this.dependencies?this._callsGetSuper&&(this.dependencies=e.dependencies.concat(this.dependencies),this._getParamOffset=e.dependencies.length):this.dependencies=e.dependencies),e.writeDependencies&&(this.writeDependencies?this._callsGetSuper&&(this.writeDependencies=e.writeDependencies.concat(this.writeDependencies),this._setParamOffset=e.writeDependencies.length):this.writeDependencies=e.writeDependencies),e.hasOwnProperty("readOnly")&&!this.hasOwnProperty("readOnly")&&(this.readOnly=e.readOnly),e.hasOwnProperty("strong")&&!this.hasOwnProperty("strong")&&(this.strong=e.strong),e.hasOwnProperty("weak")&&!this.hasOwnProperty("weak")&&(this.weak=e.weak),e.hasOwnProperty("unsafe")&&!this.hasOwnProperty("unsafe")&&(this.unsafe=e.unsafe)},_inheritFromSuperMap:function(e,t,r){var i=e.__s,n=this.__superMap,s=!1;for(var a in n){var o=n[a];"get"!==o&&"set"!==o||(s=!0,i[a]=t[o],"get"===o&&(this._callsGetSuper=!0),"set"===o&&(this._callsSetSuper=!0))}s&&this._didFirstPropertyRegister&&m$802$0("Calling super from within a getter or setter is not permited for properties on mixins when the mixin is mixed into multiple parent classes. key: %{key}",{
key:r,object:e})},_setUpReferenceFlag:function(e,t){var r=this.strong,i=this.weak,n=this.unsafe;r?(i&&m$802$0("Cannot define a property as both strong and weak.",{key:t,object:e}),n&&m$802$0("Cannot define a property as both strong and unsafe.",{key:t,object:e}),this.reference=m$630$0):i?(n&&m$802$0("Cannot define a property as both weak and unsafe.",{key:t,object:e}),this.reference=m$630$1):n?this.reference=m$630$2:this.reference=m$630$2},_setUpReferenceManagers:function(){var e=this.reference;e===m$630$2||this.typeIsPrimitive?this._manageSwappingValues=m$805$0:e===m$630$1&&(this._manageSwappingValues=_manageSwappingValuesWeak,this._setUpWeakRefHashIfNeeded=_setUpWeakRefHash)},_setUpInternalVariables:function(e){this._ivar="_"+e,this.dependencies=this._validateDependecyArray(this.dependencies),this.writeDependencies=this._validateDependecyArray(this.writeDependencies)},_moveDefaultValuesToPrepareForNativeAccessors:function(e,t){var r=m$631$0.staticMembers.defaultValuePrefix;e.hasOwnProperty(t)&&(e[r+t]=e[t])},_validateDependecyArray:function(e){return e},_synthesizeInternalMethods:function(){if(this._synthesizeAccessorsIfNeeded(),this._mutateAccessorsForSuperIfNeeded(),this._synthesizeInternalSet(),this._fillSetPathMap(),this.shouldManuallyValidateType()){var e=this;this._validateType=function(t){return e.validateTypeForValue(t)}}else m$632$0(this);if(this._setUpInternalAccessors(),this.getForObject||this._synthesizeGetForObject(),!this.setForObject){var t=this.writeDependencies;t&&(this.setterReturnArray=new Array(t.length)),this._synthesizeSetForObject()}},shouldManuallyValidateType:function(){
return!1},validateTypeForValue:function(e){return!1},_synthesizeAccessorsIfNeeded:function(){this.get||(this.usesBuiltinGet=!0,this.get=function(e,t,r,i){return e}),this.set||(this.usesBuiltinSet=!0,this.set=function(e,t,r,i,n){return e}),this.isComputedProperty=!this.usesBuiltinGet||!this.usesBuiltinSet},_mutateAccessorsForSuperIfNeeded:function(){var e=this.get;if(!e.generated){var t=this._getParamOffset;this.get=function(r,i,n,s){return e.call(this,r,i,t,s)},this.get.generated=!0}var r=this.set;if(!r.generated){var i=this._setParamOffset;this.set=function(e,t,n,s,a){return r.call(this,e,t,n,i,a)},this.set.generated=!0}},_fillSetPathMap:function(){var e=this.writeDependencySetPathMap;e||(e=this.writeDependencySetPathMap=[!1]);for(var t=e.length,r=0;r<t;r++)e[r]=e[r]?this.internalSetPath:this.internalSet},initForObject:function(e,t){this._setUpWeakRefHashIfNeeded(e,t)},_setUpWeakRefHashIfNeeded:m$805$0,setInitialValueForObject:function(e,t,r){void 0!==r&&this.setForObjectReadWrite(e,t,r)},disposeForObject:function(e,t){var r=this._ivar;this._manageSwappingValues(e,e[r]),e[r]=void 0},setUpNativeAccessors:function(e,t){var r=this,i=this.setForObject,n=this.getForObject;Object.defineProperty(e,t,{get:function(e,i,s,a){return n.call(r,this,t)},set:function(e,n,s,a,o){return i.call(r,this,t,e)},configurable:!0})},_setUpInternalAccessors:m$805$0,getForObject:null,_synthesizeGetForObject:function _synthesizeGetForObject(){var dependencies=this.dependencies,getter=this.get,self=this,getForObjectString=Property._getForObjectTemplate;if(!getForObjectString){var getForObjectTemplate=function(e,t){
return e.propertiesAreInitialized?getter.call(e,e.COMPILED_ACCESSOR_STRING,dependencies,0,self):e.COMPILED_DEFAULT_VALUE_STRINGIFIED_KEY};getForObjectString=getForObjectTemplate.toString(),getForObjectString="("+getForObjectString+")",Property._getForObjectString=getForObjectString}var defaultValueStringifiedKey=JSON.stringify(m$631$0.staticMembers.defaultValuePrefix+this.key);defaultValueStringifiedKey="["+defaultValueStringifiedKey+"]",getForObjectString=getForObjectString.replace(/\.COMPILED_DEFAULT_VALUE_STRINGIFIED_KEY/g,defaultValueStringifiedKey);var ivar=this._ivar,accessorString=m$783$0(ivar)?"."+ivar:"["+JSON.stringify(ivar)+"]";getForObjectString=getForObjectString.replace(/\.COMPILED_ACCESSOR_STRING/g,accessorString),this.getForObject=eval(getForObjectString)},setForObject:null,setForObjectReadWrite:null,_synthesizeSetForObject:function _synthesizeSetForObject(){var writeDependencies=this.writeDependencies,setterReturnArray=this.setterReturnArray,setter=this.set,self=this,validateType=this._validateType,setterReturnArrayLength=setterReturnArray.length,setPathMap=this.writeDependencySetPathMap;this.clearSetterReturnArray(setterReturnArray);var unmangledFatalError=m$802$0,setForObjectReadWriteString=Property._setForObjectReadWriteTemplate;if(!setForObjectReadWriteString){var setForObjectReadWriteTemplate=function(e,t,r){if(!e.propertiesAreInitialized)return void(e.COMPILED_DEFAULT_VALUE_STRINGIFIED_KEY=r);var i=e.COMPILED_ACCESSOR_STRING,n=setter.call(e,r,i,setterReturnArray,0,self);validateType.call(e,n)||unmangledFatalError("Type error: cannot set value `%{value}` to property `%{key}` on %{object}.",{
object:e,key:t,value:n,setValue:r}),void 0!==n&&(e.COMPILED_ACCESSOR_STRING=n);for(var s=0;s<setterReturnArrayLength;s++)setterReturnArray[s]!==PROPERTY_NOT_WRITTEN&&setPathMap[s](e,writeDependencies[s],setterReturnArray[s]);return this._manageSwappingValues(e,i,n),this.clearSetterReturnArray(setterReturnArray),n};setForObjectReadWriteString=setForObjectReadWriteTemplate.toString(),setForObjectReadWriteString="("+setForObjectReadWriteString+")",Property._setForObjectReadWriteTemplate=setForObjectReadWriteString}var ivar=this._ivar,accessorString=m$783$0(ivar)?"."+ivar:"["+JSON.stringify(ivar)+"]",defaultValueStringifiedKey=JSON.stringify(m$631$0.staticMembers.defaultValuePrefix+this.key);defaultValueStringifiedKey="["+defaultValueStringifiedKey+"]",setForObjectReadWriteString=setForObjectReadWriteString.replace(/\.COMPILED_DEFAULT_VALUE_STRINGIFIED_KEY/g,defaultValueStringifiedKey),setForObjectReadWriteString=setForObjectReadWriteString.replace(/\.COMPILED_ACCESSOR_STRING/g,accessorString);var setForObjectReadWrite=eval(setForObjectReadWriteString);if(this.setForObjectReadWrite=setForObjectReadWrite,this.readOnly){var defaultValueKey=m$631$0.staticMembers.defaultValuePrefix+this.key;this.setForObject=function(e,t,r){return e.propertiesAreInitialized?void m$802$0("Cannot set `"+t+"`: it is read-only.",{key:t,object:e,property:this,value:r}):void(e[defaultValueKey]=r)}}else this.setForObject=setForObjectReadWrite},clearSetterReturnArray:function(e){for(var t=e.length,r=0;r<t;r++)e[r]=PROPERTY_NOT_WRITTEN},internalGet:function(e,t){return e.get(t)},internalGetPath:function(e,t){
return e.getPath(t)},_synthesizeInternalSet:function _synthesizeInternalSet(){var LOCAL_VALUE_SENTINEL=VALUE_SENTINEL,internalSetString=Property._internalSetString;if(!internalSetString){var internalSetTemplate=function(e,t,r){return t===LOCAL_VALUE_SENTINEL?(e.COMPILED_ACCESSOR_STRING=r,r):e.set(t,r)};internalSetString=internalSetTemplate.toString(),internalSetString="("+internalSetString+")",Property._internalSetString=internalSetString}var ivar=this._ivar,accessorString=m$783$0(ivar)?"."+ivar:"["+JSON.stringify(ivar)+"]";internalSetString=internalSetString.replace(/\.COMPILED_ACCESSOR_STRING/g,accessorString),this.internalSet=eval(internalSetString)},internalSet:null,internalSetPath:function(e,t,r){return e.setPath(t,r)},__superMap:{_9_$5jq$init:"init",_9_$5oW$init:"init",_9_$6g9$wasRegistered:"wasRegistered"}}),property=function(e){return Property.define.apply(Property,arguments)};m$629$2=VALUE_SENTINEL,m$629$0=Property,m$629$1=property}();
!function(){"use strict";var s={staticMembers:{sharedInstance:m$629$1({get:function(s,t,e,n){return this.hasOwnProperty("_sharedInstance")&&this._sharedInstance||(this._sharedInstance=this.create())},set:function(s,t,e,n,a){this._sharedInstance=s}})},dispose:function(){this.constructor._sharedInstance===this&&delete this.constructor._sharedInstance,this.__s._AD$Ph$dispose.apply(this,arguments)},__superMap:{_AD$Ph$dispose:"dispose"}};m$643$0=s}();
!function(){"use strict";function e(e){(!e||e<0)&&(e=0);var s,r="",t=c;for(s=0;s<e;++s)r+=t;return r}var s="group",r="debug",t="info",o="warn",n="error",i="none",g="ERROR: ",d="INFO:  ",a="WARN:  ",u="DEBUG: ",_="GROUP: ",c="    ",h={group:_,debug:u,info:d,warn:a,error:g},l={debug:4,info:3,warn:2,error:1,group:1,none:0},L=m$626$0.extend({staticMembers:{LOG_LEVEL_NONE:i,LOG_LEVEL_GROUP:s,LOG_LEVEL_DEBUG:r,LOG_LEVEL_INFO:t,LOG_LEVEL_WARN:o,LOG_LEVEL_ERROR:n,__QUALIFIED_CLASS_NAME__:"CW.Logger"},messagePrefix:null,outputMessagePrefix:null,recordedMessagePrefix:null,logOutputLevel:o,logRecordingLevel:r,recordedLogMessagesMaximumLength:500,_recordedLogMessagesEnd:-1,reporter:global.console,_recordedLogMessages:null,_indentationLevel:0,init:function(e){this.__s._Cr$2XK$init.call(this),e&&this.set("reporter",e),this._recordedLogMessages=[]},debug:function(e){this._handleMessage(r,arguments)},info:function(e){this._handleMessage(t,arguments)},warn:function(e){this._handleMessage(o,arguments)},error:function(e){this._handleMessage(n,arguments)},group:function(e){this._handleMessage(s,arguments),this.get("logRecordingLevel")!==i&&this._indentationLevel++},groupEnd:function(){this._outputMessage("groupEnd","");var e=this.get("logRecordingLevel");this._indentationLevel>0&&e!==i&&this._indentationLevel--},outputRecordedLogMessages:function(){for(var e=this._orderedRecordedLogMessages(),s=0;s<e.length;s++)this._outputMessage("log",e[s])},stringifyRecordedLogMessages:function(){return this._orderedRecordedLogMessages().join("\n")},_orderedRecordedLogMessages:function(){var e=[],s=this._recordedLogMessages||[],r=this.recordedLogMessagesMaximumLength-1,t=this._recordedLogMessagesEnd,o=t;
if(s.length>0)do e.push(s[o]),o=0===o?r:o-1;while(s[o]&&o!==t);return e.reverse()},_handleMessage:function(e,s){var r=this._shouldOutputType(e),t=this._shouldRecordType(e);if(r||t){var o=this.messagePrefix||"",n=o+m$829$0.apply(this,s);r&&this._outputMessage(e,n),t&&this._recordMessage(e,n)}},_shouldOutputType:function(e){var s=l,r=s[e],t=s[this.logOutputLevel];return r<=t},_shouldRecordType:function(e){var s=l,r=s[e],t=s[this.logRecordingLevel];return r<=t},_outputMessage:function(e,s){var r=this.get("reporter"),t=r?r[e]:null,o=this.outputMessagePrefix||"";t&&Function.prototype.call.call(t,r,o+s)},_recordMessage:function(e,s){var r=this._recordedLogMessages,t=this._createRecordedMessageString(e,s),o=this.recordedLogMessagesMaximumLength-1,n=this._recordedLogMessagesEnd,i=n===o?0:n+1;r[i]=t,this._recordedLogMessagesEnd=i},_createRecordedMessageString:function(s,r){var t=e(this._indentationLevel),o=(new Date).toUTCString()+":  ",n=h[s],i=this.recordedMessagePrefix||"";return t+o+i+n+r},__superMap:{_Cr$2XK$init:"init"}}),M=L.create();m$809$0=L,m$809$1=M}();
!function(){"use strict";function n(){var n;return fe===-1?n=new vn(Un):(n=de[fe],fe--),n[0]=1,n}function e(n){fe++,de[fe]=n}function r(){Ce++}function t(){Ce--,0===Ce&&B()}function o(n,e,r){var t=0,o=Pn;r|=0,t|=r,te>0?o=re[--te]:(o=Bn++,Bn>Hn&&(ge(),me())),Yn[o]=t;var a=o<<1+Sn,i=a+En;return Gn[a]=Pn,Gn[i]=Pn,Mn[a]=0,Mn[i]=0,On[o]=n,Jn[o]=e,Qn[o]=void 0,Zn[o]=void 0,ne[o]=Pn,o}function a(n){return On[n]}function i(n,e){On[e]=n}function u(n,e){var r=Yn[n],t=r&ln;r&hn&&t!==bn&&On[n].didAddParentToNode(Jn[n],n,e,Mn[(n<<1)+Sn])}function d(n,e){var r=Yn[n],t=r&ln;r&hn&&t!==bn&&On[n].didRemoveParentFromNode(Jn[n],n,e,Mn[(n<<1)+Sn])}function f(n,e){var r=Yn[n],t=r&ln;r&hn&&t!==bn&&On[n].didAddChildToNode(Jn[n],n,e,Mn[(n<<1)+En])}function c(n,e){var r=Yn[n],t=r&ln;r&hn&&t!==bn&&On[n].didRemoveChildFromNode(Jn[n],n,e,Mn[(n<<1)+En])}function v(n,e){var r=Yn[n],t=r&ln;r&hn&&t!==bn&&On[n].willRemoveChildFromNode(Jn[n],n,e,Mn[(n<<1)+En])}function s(n,e){var r=Yn[n],t=r&ln;r&hn&&t!==bn&&On[n].willRemoveParentFromNode(Jn[n],n,e,Mn[(n<<1)+Sn])}function l(n){var e=Yn[n];e&gn&&On[n].nodeWillFree(Jn[n],n)}function N(n){p(n,bn),D(n,Sn,!1),D(n,En,!1),l(n),On[n]=Qn[n]=Jn[n]=Zn[n]=void 0,ne[n]=Pn,De?(ie>=ue&&he(),ae[ie++]=n):m(n)}function g(){var n=0,e=ie;for(n=0;n<e;n++)m(ae[n]),ae[n]=Pn;ie=0}function m(n){te>=oe&&he(),re[te++]=n}function F(n){D(n,En,!0)}function h(n){D(n,Sn,!0)}function w(n,e){var r=Gn[e],t=Pn;qn!==Pn?(t=0|qn,qn=Wn[qn+Vn]):(t=0|zn,zn+=Xn,zn>jn&&Fe()),Wn[t+Ln]=n,Wn[t+Vn]=r,Gn[e]=t,Mn[e]++}function I(n,e){for(var r=Gn[e],t=Pn,o=Pn;r!==Pn;){if(t=Wn[r+Ln],t===n){o!==Pn?Wn[o+Vn]=Wn[r+Vn]:Gn[e]=Wn[r+Vn],
Wn[r+Vn]=qn,qn=r,Mn[e]--;break}o=r,r=Wn[r+Vn]}}function D(n,e,r){De++;for(var t=(n<<1)+e,o=Gn[t],a=o,i=Pn,u=e===Sn?En:Sn;o!==Pn;){var f=Wn[o];e===Sn?(r&&s(n,f),v(f,n)):(r&&v(n,f),s(f,n)),o=Wn[o+Vn]}for(o=a,Gn[t]=Pn,Mn[t]=0;o!==Pn;){var l=Wn[o];if((Yn[l]&ln)!==bn&&I(n,(l<<1)+u),e===Sn?(r&&d(n,l),c(l,n)):(r&&c(n,l),d(l,n)),i=Wn[o+Vn],i<0){Wn[o+Vn]=qn,qn=a;break}o=i}De--,0===De&&g()}function C(n,e,r){var t=(e<<1)+En,o=(n<<1)+Sn;w(n,t),w(e,o),f(e,n),u(n,e),r&&V(n,e)}function $(n,e,r){v(e,n),s(n,e),I(n,(e<<1)+En),I(e,(n<<1)+Sn),c(e,n),d(n,e),r&&V(n,e)}function T(n){return Jn[n]}function A(n,e){Jn[e]=n}function p(n,e){var r=Yn[n];Yn[n]=r&Nn|e}function y(n,e){var r=Yn[n];return Yn[n]=r|e,Yn[n]}function R(n,e){var r=Yn[n];return Yn[n]=r&~e,Yn[n]}function b(n,e){L(e,n),Y(),B()}function P(){arguments.length%2!==0&&m$802$0("Invalid number of arguments on setValuesForNodes, arguments should be a paired list of nodeIDs and values.",arguments);for(var n=0;n<arguments.length;n+=2)L(arguments[n+1],arguments[n]);Y(),B()}function S(n){V(n,Pn),Y(),B()}function E(n,e){k(e,n,e,yn,!0)}function L(n,e){k(n,e,n,yn)}function V(n,e){k(n,void 0,e,Rn)}function k(n,e,r,t,o){dn(n)||m$802$0("Tried to dirty an undefined node");var a=Yn[n],i=a&ln;i!==pn||a&Tn||m$802$0("Cycle found in dataflow graph");var u=a&In,d=u&&i===yn,f=d?j(n):void 0;p(n,pn),q(e,n),Q(r,n),u&&(t===Rn?On[n].wasDirtiedByParent(T(n),n,e,f):t===yn&&On[n].wasDirtiedBySelf(T(n),n,e,f)),o||(x(n),_(n)),p(n,t)}function _(n){var e=Yn[n],r=e&mn||e&Fn||e&Cn,t=e&$n;r&&!t&&(ce.length<=ce[0]&&Ie(),ce[ce[0]]=n,ce[0]++,y(n,$n))}function x(n,e){var r=Yn[n];
if(!e&&r&wn)U(n);else for(var t=(n<<1)+En,o=Mn[t],a=Gn[t],i=o-1;a!==Pn;)e&&!e[i]||V(Wn[a+Ln],n),i--,a=Wn[a+Vn]}function U(n){var e=Yn[n],r=e&Tn;r||(le<=se&&we(),ve[se]=n,se++,y(n,Tn))}function Y(){for(var n,e=0;e<se;e++){n=ve[e];var r=On[n].getActiveChildrenForNode(n);x(n,r)}for(var t=0;t<se;t++)n=ve[t],R(n,Tn);se=0}function B(){if(!(Ce>0)){De++;var r=ce;ce=n();var t,o=0,a=0;for(t=1;t<r[0];t++)o=r[t],R(o,$n);for(t=1;t<r[0];t++)o=r[t],a=Yn[o],o!==Pn&&(a&ln)!==bn&&(a&mn&&On[o].flushNode(Jn[o],o),a&Cn&&W(o));for(t=1;t<r[0];t++)o=r[t],a=Yn[o],o!==Pn&&(a&ln)!==bn&&a&Fn&&On[o].notifyNode(Jn[o],o);e(r),De--,0===De&&g()}}function H(n,e){for(var r=(n<<1)+Sn,t=Mn[r],o=Gn[r],a=t-1,i=a+1;i<e.length;i++)e[i]=void 0;for(;o!==Pn;){var u=Wn[o+Ln];e[a]=W(u),a--,o=Wn[o+Vn]}return e}function O(n,e,r){for(var t=r||0,o=(n<<1)+Sn,a=Mn[o],i=Gn[o],u=a-1+t,d=u+1;d<e.length;d++)e[d]=Pn;for(;i!==Pn;){var f=Wn[i+Ln];e[u]=f,u--,i=Wn[i+Vn]}return e}function G(n,e,r){for(var t=r||0,o=(n<<1)+En,a=Mn[o],i=Gn[o],u=a-1+t,d=u+1;d<e.length;d++)e[d]=Pn;for(;i!==Pn;){var f=Wn[i+Ln];e[u]=f,u--,i=Wn[i+Vn]}return e}function K(n,e){for(var r=(e<<1)+En,t=Gn[r],o=Mn[r]-1;t!==Pn;){if(Wn[t+Ln]===n)return o;t=Wn[t+Vn],o--}return Pn}function M(n,e){for(var r=(n<<1)+Sn,t=Gn[r],o=Mn[r]-1;t!==Pn;){if(Wn[t+Ln]===e)return o;t=Wn[t+Vn],o--}return Pn}function W(n){dn(n)||m$802$0("Tried to getValue for an undefined node");var e=Yn[n],r=e&ln,t=On[n],o=t.isCacheable;if(r===An&&o)return z(n);var a,i=e&Dn;i&&(a=z(n));var u=r!==yn,d=T(n),f=t.calculateValueForNode(d,n,u);return p(n,An),q(void 0,n),o&&X(f,n),i&&t.previousValueWasReplaced(d,n,a),
f}function z(n){return Qn[n]}function X(n,e){Qn[e]=n}function j(n){return Zn[n]}function q(n,e){Zn[e]=n}function J(n){return ne[n]}function Q(n,e){ne[e]=n}function Z(n,e){function r(n){for(var r,t=[];n!==Pn;)r=Wn[n+Ln],e>0?t.unshift(Z(r,e-1)):t.unshift(r),n=Wn[n+Vn];return t}void 0===e&&(e=0);var t,o=Yn[n];switch(o&ln){case An:t="CLEAN";break;case pn:t="DIRTYING";break;case yn:t="DIRTY_SELF";break;case Rn:t="DIRTY_PARENT"}var a=n<<1,i=Gn[a+Vn],u=r(i),d=Gn[a+Ln],f=r(d),c=On[n],v={id:n,wantsFlush:!!(o&mn),wantsNotify:!!(o&Fn),wantsFreeTracking:!!(o&gn),wantsRelationshipTracking:!!(o&hn),wantsActiveChildren:!!(o&wn),wantsDirtyTracking:!!(o&In),status:t,children:u,parents:f,manager:c,data:Qn[n],context:Jn[n],stateData:Zn[n]};return c&&c.addDebugInfoForNode&&c.addDebugInfoForNode(Jn[n],v,n),v}function nn(n,e,r){void 0===e&&(e=0),void 0===r&&(r=n.length-1);for(var t=[],o=e;o<=r&&!(o>=n.length);o++)t.push(Z(n[o]));return t}function en(n,e,r){var t="";return n[e].forEach(function(n){var o=(n&&void 0!==n.id?n.id:n)+(n&&n.status?" ("+n.status+")":"")+": "+n.toString();t+=r+o+"\n",n&&n[e]&&(t+=en(n,e,r+"  "))}),t}function rn(n,e){void 0===e&&(e=7);var r=Z(n,e);return"Parents of "+n+":\n"+en(r,"parents","")}function tn(n,e){void 0===e&&(e=7);var r=Z(n,e);return"Children of "+n+":\n"+en(r,"children","")}function on(n,e,r){return nn(n,e,r).map(function(n){return(n&&void 0!==n.id?n.id:n)+":"+n.toString()})}function an(){var n=[],e={};return{stack:n,nodes:e}}function un(){sn=!0}function dn(n){return void 0!==n&&null!==n&&n!==Pn}var fn=global.Array,cn=global.Int16Array||fn,vn=global.Int32Array||fn,sn=!1,ln=7,Nn=~ln,gn=8,mn=16,Fn=32,hn=64,wn=128,In=256,Dn=512,Cn=2048,$n=8192,Tn=16384,An=0,pn=1,yn=2,Rn=3,bn=4,Pn=-1,Sn=0,En=1,Ln=0,Vn=1,kn=1024,_n=2048,xn=256,Un=256,Yn=new cn(kn),Bn=1,Hn=kn,On=new Array(kn),Gn=new vn(_n),Kn=_n,Mn=new vn(_n),Wn=new vn(_n),zn=0,Xn=2,jn=_n,qn=Pn,Jn=new Array(kn),Qn=new Array(kn),Zn=new Array(kn),ne=new vn(kn),ee=_n,re=new vn(xn),te=0,oe=xn,ae=new vn(xn),ie=0,ue=xn,de=[],fe=-1,ce=n(),ve=new vn(Un),se=0,le=Un,Ne=!global.Int16Array,ge=Ne?m$805$0:function(){
Hn*=2,ee*=2;var n=new cn(Hn);n.set(Yn);var e=new vn(ee);e.set(ne),Yn=n,ne=e},me=Ne?m$805$0:function(){Kn*=2;var n=new vn(Kn);n.set(Gn),Gn=n;var e=new vn(Kn);e.set(Mn),Mn=e},Fe=Ne?m$805$0:function(){jn*=2;var n=new vn(jn);n.set(Wn),Wn=n},he=Ne?m$805$0:function(){oe*=2,ue*=2;var n=new vn(oe);n.set(re),re=n;var e=new vn(ue);e.set(ae),ae=e},we=Ne?m$805$0:function(){le*=2;var n=new vn(le);n.set(ve),ve=n},Ie=Ne?m$805$0:function(){var n=2*ce.length,e=new vn(n);e.set(ce),ce=e},De=0,Ce=0,$e={NULL_INDEX:Pn,dumpNode:Z,dumpChildren:tn,dumpParents:rn,dumpNodes:nn,dumpNodeNames:on,debugNextCycle:un,dumpStack:an,setNodeBit:y,removeNodeBit:R,addChildToNode:C,removeChildFromNode:$,setValueForNode:b,setValuesForNodes:P,setNodeToDirtyFromParent:S,passValueToNode:E,getValueForNode:W,getDataForNode:z,setDataForNode:X,getStateDataForNode:j,setStateDataForNode:q,getStateIDForNode:J,setStateIDForNode:Q,getContextForNode:T,setContextForNode:A,getManagerForNode:a,setManagerForNode:i,getParentIDs:O,getChildrenIDs:G,getChildIndex:K,getParentIndex:M,FLUSH:mn,NOTIFY:Fn,RELATIONSHIPS:hn,FREE:gn,ACTIVE_CHILDREN:wn,DIRTY_TRACKING:In,PREVIOUS_VALUE_TRACKING:Dn,PULL_ON_FLUSH:Cn,allocNode:o,freeNode:N,disconnectParentsFromNode:h,disconnectChildrenFromNode:F,pullDataFromParents:H,triggerFlush:B,pause:r,resume:t,_sanitizeNodeID:function(n){return null!==n&&void 0!==n||(n=Pn),0|n},nodeIsDirty:function(n){var e=Yn[n]&ln;return e&yn||e&Rn}};m$541$0=$e}();
!function(){"use strict";var e=m$541$0.NULL_INDEX,t=m$543$0.extend({debugType:"Base",property:null,key:null,init:function(e){this.property=e,this.key=e.key,this.get=e.get,this.internalGet=e.internalGet,void 0!==e.cacheable&&(this.isCacheable=e.cacheable),this.dependencyCount=e.dependencies?e.dependencies.length:0,this.readOnly=e.readOnly,this.reference=e.reference,this.collectors=[],this.collectorsCount=0,this.validateType=e._validateType,e.isDependentComputedProperty&&(this._validateNewParent=m$805$0,this.isDependentComputedProperty=!0),this.__s._8g$mA$init.call(this)},isDependentComputedProperty:!1,readOnly:!1,validateType:null,get:null,internalGet:null,setUpNode:m$805$0,calculateValueForNode:function(t,r,n){var o=m$541$0.getDataForNode(r),a=this.getCollector();m$541$0.getParentIDs(r,a);for(var l=m$541$0.getValueForNode(a[0]),i=1;i<a.length;i++)a[i-1]=a[i];a[a.length-1]=e;var s=this.get.call(t,l,a,0,this.property);return this.releaseCollector(a),this.validateType(s)||m$802$0('Type error: cannot return value %{value} from observable property "%{key}" on %{object}. Value passed type check at `set` time, but was transformed inappropriately by an upstream property’s getter or setter.',{object:t,key:this.key,value:s}),this._manageForCalculateValueForNode(t,o,s),s},_manageForCalculateValueForNode:m$805$0,didAddParentToNode:function(e,t,r){this._validateNewParent(t,r)},_validateNewParent:function(e,t){var r=m$541$0.getManagerForNode(t);r.validateDescendantDownstreamNodeManager(this,e,t)},validateDescendantDownstreamNodeManager:m$805$0,_throwValidationError:function(e,t,r){m$802$0(r,{
reference:e.reference,parentReference:this.reference,key:e.key,object:m$541$0.getContextForNode(t),parentKey:this.key,property:e.property})},dependencyCount:null,collectors:null,collectorsCount:0,getCollector:function(){var e;return e=this.collectorsCount>0?this.collectors[--this.collectorsCount]:new Array(this.dependencyCount)},releaseCollector:function(e){var t,r=this.dependencyCount;for(t=0;t<r;t++)e[t]=null;this.collectors[this.collectorsCount++]=e},addDebugInfoForNode:function(e,t,r){t.type=this.debugType+" Downstream Node",t.object=e,t.key=this.key,t.toString=function(){return e+"."+this.key+" (Downstream)"},t.name=t.toString()},__superMap:{_8g$mA$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.DownstreamNodeManager"}});m$546$0=t}();
!function(){"use strict";var e={},t=m$543$0.extend({debugType:"Base",key:null,init:function(e){e&&(this.property=e,this.key=e.key,this.set=e.set,this.internalGet=e.internalGet,this.validateType=e._validateType,this._valueOffsetCount=1,this.setterReturnArray=new Array(e.writeDependencies?e.writeDependencies.length:e.dependencies?e.dependencies.length:0),this.clearReturnArray(this.setterReturnArray)),this.dependencyCollector=[],this.__s._8m$bv$init.call(this)},property:null,isCacheable:!0,validateType:null,reference:null,set:null,internalGet:null,_valueOffsetCount:0,setUpNode:m$805$0,validateDescendantDownstreamNodeManager:function(e,t,r){e.property!==this.property&&m$802$0("A property’s upstream node may only connect to the downstream node for the same property (key: %{key}, downstream property key: {%downstreamKey}). …If you get this error, please contact the CoreWeb team, as you’ve discovered a unicorn.",{key:this.key,downstreamKey:e.key})},willRemoveChildFromNode:function(e,t,r){m$541$0.getValueForNode(t)},wasDirtiedByParent:function(e,t,r,a){this._manageForWasDirtiedByParent(a,e)},_manageForWasDirtiedByParent:m$805$0,wasDirtiedBySelf:function(e,t,r,a){this._manageForWasDirtiedBySelf(r,a,e)},_manageForWasDirtiedBySelf:m$805$0,calculateValueForNode:function(t,r,a){var n,o=m$541$0.getDataForNode(r);if(a){var i=m$541$0.getStateIDForNode(r);if(n=this.pullDataFromParent(r,i),n===e)return o}else n=m$541$0.getStateDataForNode(r),m$541$0.setStateDataForNode(void 0,r);var s=this.setterReturnArray,l=this.set.call(t,n,o,s,0,this.property);return this.validateType(l)||m$802$0('Type error: cannot set value `%{value}` to observable property "%{key}" on %{object}. (Note that `set` may have been called on a downstream property.)',{
object:t,key:this.key,value:l,setValue:n}),this.passValuesToChildren(r,s,l),this.clearReturnArray(s),this._manageForCalculateValueForNode(l,n,t),l},_manageForCalculateValueForNode:m$805$0,pullDataFromParent:function(t,r){if(m$541$0.getStateDataForNode(t)===e){var a=m$541$0.getManagerForNode(r).property,n=a.key,o=a.dependencies!==a.writeDependencies;o?m$802$0("Infinite loop detected in the %{property} observable property. This is likely because you are attempting to get the write dependency '%{key}' inside your setter.",{key:this.key,property:n}):m$802$0("Infinite loop detected in the %{property} observable property. Try adding a writeDependencies array that contains only the dependencies you actually write to (not %{key}).",{key:this.key,property:n})}m$541$0.setStateDataForNode(e,t),r<0&&m$802$0("Couldn't tell which parent set the upstream node (%{nodeID})",{node:t}),m$541$0.getValueForNode(r);var i=m$541$0.getStateDataForNode(t);return i===e&&(i=m$541$0.getDataForNode(t)),i},clearReturnArray:function(t){for(var r=t.length,a=0;a<r;a++)t[a]=e},passValuesToChildren:function(t,r,a){var n=this.dependencyCollector;m$541$0.getChildrenIDs(t,n);for(var o=this._valueOffsetCount,i=r.length,s=0;s<i;s++){var l=n[s+o];r[s]!==e&&l>=0&&m$541$0.getStateIDForNode(l)===t&&m$541$0.passValueToNode(r[s],l)}m$541$0.passValueToNode(a,n[0])},dependencyCollector:null,setterReturnArray:null,addDebugInfoForNode:function(e,t,r){t.type=this.debugType+" Upstream Node",t.object=e,t.key=this.key,t.toString=function(){return e+"."+this.key+" (Upstream)"},t.name=t.toString()},__superMap:{_8m$bv$init:"init"},
staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.UpstreamNodeManager"}});m$552$0=t}();
!function(){"use strict";function o(){var o=-1;return o=h>0?N[--h]:c++,a[o]=t,i[o]=t,r[o]=void 0,s[o]=void 0,d[o]=t,$[o]=t,m[o]=t,u[o]=t,o}function e(o){a[o]=t,i[o]=t,d[o]=t,r[o]=void 0,s[o]=void 0,$[o]=t,m[o]=t,u[o]=t,N[h++]=o}var t=m$541$0.NULL_INDEX,n=m$541$0._sanitizeNodeID,a=[],r=[],i=[],d=[],s=[],$=[],m=[],u=[],c=0,N=[],h=0,p=m$543$0.extend({staticMembers:{init:function(){this.__s._8a$25j$init.apply(this,arguments),this.managers={}},instanceFor:function(o,e){var t=this.managers[e];return t||(t=this.managers[e]=this.create(o,e)),t},__superMap:{_8a$25j$init:"init"},__QUALIFIED_CLASS_NAME__:"CW.ChainedLookupNodeManager"},type:"ChainedLookupNodeManager",lookupID:"",init:function(o,e){this.__s._8a$2Up$init.call(this),this.lookupID=this.type+": "+e,this.key=o,this.lookupPath=e},setUpForObject:function(e,t){var r=e.downstreamNodes,i=this.lookupID,d=n(r[i]);if(d<0){r[i]=d=e.allocNode(this,m$541$0.PULL_ON_FLUSH|m$541$0.FREE);var s=o();a[s]=t,m$541$0.addChildToNode(d,t,!0),m$541$0.setDataForNode(s,d)}return d},calculateValueForNode:function(o,e,d){var $=m$541$0.getDataForNode(e),m=s[m$541$0.getValueForNode(a[$])],u=i[$];if(m!==r[$]){if(u>=0&&m$541$0.removeChildFromNode(e,u),u=t,m){var c=this.key,N=m.downstreamNodes;N&&(u=n(N[c])),u>=0?m$541$0.addChildToNode(e,u,!1):m$802$0("Chained lookup found a missing or non-observable segment in the chain (segment: "+this.key+", chain: "+this.lookupPath+", on object: "+m+").",{key:this.key,lookupPath:this.lookupPath,object:m})}i[$]=u,r[$]=m}return u>0?s[$]=m$541$0.getValueForNode(u):s[$]=void 0,$},nodeWillFree:function(o,t){var n=m$541$0.getDataForNode(t);
e(n)},addDebugInfoForNode:function(o,e,t){e.type=this.type,e.object=o,e.key=this.lookupID,e.toString=function(){return this.object+"."+this.key},e.name=e.toString()},__superMap:{_8a$2Up$init:"init"}}),l=p.extend({staticMembers:{instanceFor:function(o){var e=this.managers[o];return e||(e=this.managers[o]=this.create(o)),e},__QUALIFIED_CLASS_NAME__:"CW.ChainedLookupRootNodeManager"},type:"ChainedLookupRootNodeManager",init:function(o){this.__s._8a$4RI$init.call(this,o,o)},setUpForObject:function(e){var t,a=e.downstreamNodes,d=this.lookupID,s=n(a[d]);if(s<0){t=n(a[this.key]),t<0&&m$802$0("Chained binding could not look up key on object (key: "+this.key+", object: "+e+").",{key:this.key,object:e}),a[d]=s=e.allocNode(this,m$541$0.PULL_ON_FLUSH);var $=o();m$541$0.setDataForNode($,s),i[$]=t,r[$]=e,m$541$0.addChildToNode(s,t,!0)}return s},calculateValueForNode:function(o,e,t){var n=m$541$0.getDataForNode(e),a=i[n],r=m$541$0.getValueForNode(a);return s[n]=r,n},__superMap:{_8a$4RI$init:"init"}}),F=[0,0],g=[0],k=m$543$0.extend({calculateValueForNode:function(o,e,t){if(t){var n=m$541$0.getDataForNode(e),a=u[n];m$541$0.getValueForNode(a),m$541$0.getParentIDs(e,F);var r,i=F[1];return m$541$0._sanitizeNodeID(i)>0&&(r=m$541$0.getValueForNode(i)),r}return m$541$0.getStateDataForNode(e)},isCacheable:!1,addDebugInfoForNode:function(o,e,t){e.type="ChainedLookupProxyNode (downstream)",e.object=o,e.key="[downstream proxy]",e.toString=function(){return this.object+"[downstream proxy]"},e.name=e.toString()},didRemoveParentFromNode:function(o,e,t,n){var a=m$541$0.getDataForNode(e);i[a]===t&&(i[a]=-1);
},validateDescendantDownstreamNodeManager:function(o,e,n){m$541$0.getParentIDs(n,F);var a=F[1];if(a!==t){var r=m$541$0.getManagerForNode(a);r.validateDescendantDownstreamNodeManager(o,e,a)}},didAddParentToNode:function(o,e,n,a){if(1!==a){m$541$0.getChildrenIDs(e,g);var r=g[0];if(r!==t){var i=m$541$0.getManagerForNode(r);if(!i.isDependentComputedProperty&&i.instanceOf(m$546$0)){var d=m$541$0.getManagerForNode(n);d.validateDescendantDownstreamNodeManager(i,r,n)}}}}}).create(),_=m$552$0.extend({calculateValueForNode:function(o,e,t){var n=m$541$0.getDataForNode(e);m$541$0.getChildrenIDs(e,g);var a,r=g[0];if(t){var i=m$541$0.getStateIDForNode(e);a=this.pullDataFromParent(e,i)}else a=m$541$0.getStateDataForNode(e);return a!==n&&m$541$0.passValueToNode(a,r),n},addDebugInfoForNode:function(o,e,t){e.type="ChainedLookupProxyNode (upstream)",e.object=o,e.key="[upstream proxy]",e.toString=function(){return this.object+"[upstream proxy]"},e.name=e.toString()},didRemoveChildFromNode:function(o,e,t,n){var a=m$541$0.getDataForNode(e);d[a]===t&&(d[a]=-1)}}).create(),y=p.extend({type:"ChainedLookupTerminalNodeManager",connectUpstreamProxyNodeToLookedUpNodes:function(o,e,t){m$541$0.addChildToNode(o,e,t)},connectDownstreamProxyNodeToLookedUpNodes:function(o,e){m$541$0.addChildToNode(o,e,!1)},disconnectProxyNodeFromLookupUpNodes:function(o,e){m$541$0.removeChildFromNode(o,e)},getDownstreamProxyNode:function(o){var e=o.downstreamNodes,t=this.lookupID,a=n(e[t]),r=m$541$0.getDataForNode(a);return $[r]},getUpstreamProxyNode:function(o){var e=o.downstreamNodes,t=this.lookupID,a=n(e[t]),r=m$541$0.getDataForNode(a);
return m[r]},setUpForObject:function(e,t,r){var i,d,s,c=e.downstreamNodes,N=this.lookupID,h=n(c[N]);return h<=0&&(c[N]=h=e.allocNode(this,m$541$0.PULL_ON_FLUSH|m$541$0.FREE|m$541$0.RELATIONSHIPS),i=o(),m$541$0.setDataForNode(i,h),u[i]=h,a[i]=t,d=e.allocNode(k,m$541$0.RELATIONSHIPS),c["Downstream Proxy for "+N]=d,$[i]=d,m$541$0.setDataForNode(i,d),m$541$0.addChildToNode(d,h,!1),s=e.allocNode(_,m$541$0.RELATIONSHIPS),e.upstreamNodes["Upstream Proxy for "+N]=s,m[i]=s,m$541$0.setDataForNode(i,s),this._shouldFlushUpstream=!!r,m$541$0.addChildToNode(h,t,!0)),h},calculateValueForNode:function(o,e,u){var c=m$541$0.getDataForNode(e),N=s[m$541$0.getValueForNode(a[c])],h=r[c];if(N!==h){r[c]=N;var p=this.key,l=m[c],F=$[c],g=i[c],k=d[c];if(h&&(d[c]=t,i[c]=t,this.disconnectFromPreviousProperty(h,p,k,g,l,F)),N){var _,y=N.downstreamNodes;y&&(_=n(y[p])),y=N.upstreamNodes;var f;y&&(f=n(y[p])),this.hookUpToNewProperty(N,p,f,_,l,F),d[c]=f,i[c]=_}}return this._shouldFlushUpstream=!1,c},disconnectFromPreviousProperty:function(o,e,t,n,a,r){r>=0&&n>=0&&this.disconnectProxyNodeFromLookupUpNodes(r,n),a>=0&&t>=0&&this.disconnectProxyNodeFromLookupUpNodes(t,a)},hookUpToNewProperty:function(o,e,t,n,a,r){n>0?(t>0&&this.connectUpstreamProxyNodeToLookedUpNodes(t,a,this._shouldFlushUpstream),this.connectDownstreamProxyNodeToLookedUpNodes(r,n)):m$802$0("Chained lookup found a missing or non-observable segment in the chain (segment: %{key}, chain: %{lookupPath}, on object: %{object}).",{key:this.key,lookupPath:this.lookupPath,object:o})},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ChainedLookupTerminalNodeManager"
}}),f=y.extend({init:function(o,e){e+="Downstream",this.__s._8a$ANV$init.call(this,o,e)},connectUpstreamProxyNodeToLookedUpNodes:function(o,e,t){m$541$0.addChildToNode(e,o,t)},connectDownstreamProxyNodeToLookedUpNodes:function(o,e){m$541$0.addChildToNode(e,o,!0)},disconnectProxyNodeFromLookupUpNodes:function(o,e){m$541$0.removeChildFromNode(e,o)},disconnectFromPreviousProperty:function(o,e){o.unbind(e)},hookUpToNewProperty:function(o,e,t,n,a,r){var i=o.getMetadataByType(m$545$0)[e];i||m$802$0("Chained lookup found a missing or non-observable segment in the chain (segment: %{key}, chain: %{lookupPath}, on object: %{object}).",{key:this.key,lookupPath:this.lookupPath,object:o}),i._disconnectNodes(n,t),i._configurePropertyAsBound(n,t),this.__s._8a$Av5$hookUpToNewProperty.apply(this,arguments),m$541$0.triggerFlush()},nodeWillFree:function(o,e){var t=this.key,n=m$541$0.getDataForNode(e),a=r[n];a&&(a.isDisposed||(a.unbind(t),this.__s._8a$B5C$nodeWillFree.apply(this,arguments)))},__superMap:{_8a$ANV$init:"init",_8a$Av5$hookUpToNewProperty:"hookUpToNewProperty",_8a$B5C$nodeWillFree:"nodeWillFree"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.DownstreamChainedLookupTerminalNodeManager"}});m$540$0=p,m$540$1=l,m$540$2=y,m$540$3=f}();
!function(){"use strict";function t(t){var e=t.toString(16).toUpperCase();return e.length%2!==0&&(e="0"+e),e.match(/\d\d/g).join(" ")}function e(t,e){return n.create({name:t,value:e,level:0})}var l=[4278190080,4294901760,4294967040,4294967280,4294967295],u=[24,16,8,4,0],n=m$626$0.extend({name:null,value:null,level:null,parent:null,group:null,fullValue:null,fullName:null,hasLevel:m$629$1({readOnly:!0,get:function(t,e,l,u){return"number"==typeof this.level}}),init:function(t){this.__s._8y$127$init.call(this,t);var e=this.name,l=this.value,n=this.parent,i=this.level,r=this.get("hasLevel"),s=r?l<<u[i]:null;n&&!n.get("hasLevel")&&m$802$0(this+" Cannot init. parent does not have an assigned level"),this.items=[],this._flags={},this.fullValue=n?n.fullValue+s:s,this.fullName=n?n.fullName+"."+e:e,this._nextSubitemValue=0},freeze:function(){Object.freeze(this._flags),Object.freeze(this.items),Object.freeze(this)},flagAs:function(){for(var t=arguments.length,e=this._flags,l=0;l<t;l++)e[arguments[l]]=!0;return this},flagged:function(t){return!!this._flags[t]},equals:function(t){return this.group===t.group&&t.fullValue===this.fullValue},subitemOf:function(t){return this.level>t.level&&this.group===t.group&&(this.fullValue&l[t.level])===t.fullValue},superitemOf:function(t){return this.level<t.level&&this.group===t.group&&(t.fullValue&l[this.level])===this.fullValue},contains:function(t){return this.equals(t)||t.subitemOf(this)},createSubitem:function(t){return n.create({name:t,value:this._getNextSubitemValue(),parent:this,level:this.level+1,group:this.group})},toString:function(){return this._toString(!1);
},toJSON:function(){return""+this},toStringFull:function(){return this._toString(!0)},_toString:function(e){var l=this.group,u=l?l.name:"CW.Enum.Item",n=e||!l?" <"+t(this.fullValue)+">":"";return"["+u+": "+this.fullName+n+"]"},_getNextSubitemValue:function(){return this._nextSubitemValue++,this._nextSubitemValue},__superMap:{_8y$127$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Enum.Item"}});n.prototype.substateOf=n.prototype.subitemOf,n.prototype.superstateOf=n.prototype.superitemOf,m$564$0=n,m$564$1=e}();
!function(){"use strict";function e(e,r){var i,u,a,l=n.create({name:e}),m=l.items;if(m$777$0(r)){var s=t(l,null);r(s)}else if(m$780$0(r))for(var f in r)i=m$564$0.create({name:f,value:r[f],group:l}),m.push(i),l[f]=i;else if(m$772$0(r))for(u=0,a=r.length;u<a;u++){var c=r[u];i=m$564$0.create({name:c,value:u,group:l}),m.push(i),l[c]=i}else m$802$0("Cannot create enum group. Invalid value");for(m=l.items,a=m.length,u=0;u<a;u++)m[u].freeze();return l.freeze(),l}function t(e,n){var r=1;return function(i,u){var a=null;n?(a=n.createSubitem(i),n.items.push(a)):a=m$564$0.create({name:i,value:r,parent:null,level:0,group:e});var l=a.fullName.replace(/\./g,"");if(e.items.push(a),e[l]=a,n&&(n[i]=a),r+=1,u){var m=t(e,a);u(m)}return a}}var n=m$626$0.extend({items:null,name:null,id:null,init:function(e){this.__s._8x$Vq$init.call(this,e),this.items=[],this.id=r,r++},toStaticMixin:function(){var e={};return this.get("items").forEach(function(t){t.get("level")||(e[t.get("name")]=t)}),{staticMembers:e}},freeze:function(){Object.freeze(this.items),Object.freeze(this)},getItemForValue:function(e){for(var t=this.items,n=0,r=t.length;n<r;n++){var i=t[n];if(i.get("value")===e)return i}return null},toString:function(){return"[CW.Enum.Group: "+this.name+"]"},__superMap:{_8x$Vq$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Enum.Group"}}),r=1;m$563$0=n,m$563$1=e}();
!function(){"use strict";function t(t,o,r,i,a){var s,d=o.components,c=d.length,h=0,m=o.rootObject||t;for(s=d[h];m&&(!m.downstreamNodes||void 0===m.downstreamNodes[s]);)m=m[s],s=d[++h];if(!m||h===c){var N=d.join(".");m$802$0("No observable properties found along binding path ("+N+").",{object:t,path:N})}return h===c-1?e(m,s,a):n(m,d,h,r,i,a)}function e(t,e,n){var o=t.upstreamNodes[e];o=i(o),o>0&&(n.upstreamNode=o);var r=t.downstreamNodes[e];return r=i(r),r>0&&(n.downstreamNode=r),n}function n(t,e,n,o,r,i){var a,s,d=e.length,c=e[n],h=c;for(a=m$540$1.instanceFor(c),s=a.setUpForObject(t),n++;n<d-1;n++)c=e[n],h+="."+c,a=m$540$0.instanceFor(c,h),s=a.setUpForObject(t,s);c=e[n],h+="."+c;var m;return m=r?m$540$2.instanceFor(c,h):m$540$3.instanceFor(c,h),m.setUpForObject(t,s,o),i.downstreamNode=m.getDownstreamProxyNode(t),i.upstreamNode=m.getUpstreamProxyNode(t),i}function o(t){return d.create(t)}function r(t){for(var e=[],n=/((?:(?:\\\\)*|(?:\\\.)|[^\\.])+)(?:\.|$)/g,o=t.length;n.lastIndex<o;){var r=n.exec(t);r=r[1],0===r.length&&m$802$0("Cannot create CW.Binding with an empty component ('%{path}').",{path:t}),r=r.replace(/\\\./g,"."),r=r.replace(/\\\\/g,"\\"),e.push(r)}return e}var i=m$541$0._sanitizeNodeID,a={upstreamNode:0,downstreamNode:0,clear:function(){this.upstreamNode=0,this.downstreamNode=0}},s=m$563$1("BindingConnection",function(t){t("CONNECT"),t("DONT_CONNECT"),t("OPTIONAL")}),d=m$616$0.extend(s.toStaticMixin(),{staticMembers:{createForPaths:function(t){var e,n,o=t?t.length:0,r=new Array(o);if(!t)return r;for(e=0;e<o;e++)n=t[e],n.instanceOf&&n.instanceOf(this)||(n=this.create(n)),
r[e]=n;return r},hookUpBinding:function(e,n,o,r,i,s,d){n&&m$781$0(n)&&(n=this.create(n)),o&&m$781$0(o)&&(o=this.create(o)),void 0===s&&(s=this.OPTIONAL),void 0===d&&(d=this.CONNECT),a.clear(),t(e,n,r,!0,a);var c=a.upstreamNode,h=a.downstreamNode;a.clear(),t(e,o,r,!1,a);var m=a.upstreamNode,N=a.downstreamNode;if(d!==this.DONT_CONNECT)if(h>0&&N>0)m$541$0.addChildToNode(N,h,i);else if(d===this.CONNECT)return!1;if(s!==this.DONT_CONNECT)if(c>0&&m>0)m$541$0.addChildToNode(c,m,r);else if(s===this.CONNECT)return!1;return!0},hookUpDownstreamNode:function(e,n,o,r){a.clear(),t(e,n,!1,!0,a);var i=a.downstreamNode;return!(i<=0)&&(m$541$0.addChildToNode(o,i,r),!0)},__QUALIFIED_CLASS_NAME__:"CW.Binding"},rootObject:null,path:"",components:null,init:function(t,e){this.__s._8Z$3QV$init.call(this),t||m$802$0("Cannot create CW.Binding with no path.",{path:t});var n=!1;"."===t[0]&&(n=!0,t=t.substring(1));var o=r(t),i=o[0];n||"global"!==i&&"🌐"!==i||(e=global,o.shift()),0!==o.length&&""!==o[0]||m$802$0("Cannot create CW.Binding with an invalid path ('%{path}').",{path:t,rootObject:e}),this.components=o,this.path=o.join("."),e&&(this.rootObject=e)},__superMap:{_8Z$3QV$init:"init"}});m$539$0=d,m$539$1=o,m$539$2=r}();
!function(){"use strict";var e=m$541$0.NULL_INDEX,t={initializeInstance:function(){this._nodes=[];var e=this.upstreamNodes={},t=this.downstreamNodes={};this._connectables=[],this._connectableTargets=[],m$541$0.pause(),this.initializeObservers(e,t),this.initializeSignals(e,t),this.__s._8e$aH$initializeInstance.call(this),this._connectAllConnectables(),m$541$0.triggerFlush(),m$541$0.resume()},initializeObservers:function(t,n){var i=this.getMetadataByType(m$557$5);for(var s in i){var a=i[s],o=this.allocNode(a.manager,m$541$0.PULL_ON_FLUSH);n[s]=o,this.addConnectable(a,o,e)}},initializeSignals:function(e,t){var n=this.getMetadataByType(m$558$1);for(var i in n){var s=n[i],a=this.allocNode(s,m$541$0.PULL_ON_FLUSH|m$541$0.NOTIFY);s.initializeEvent(a),e[i]=t[i]=a}},upstreamNodes:null,downstreamNodes:null,_connectables:null,_connectableTargets:null,isConnected:!1,addConnectable:function(e,t,n){this.isConnected?e.connect(this,t,n):(this._connectables.push(e),this._connectableTargets.push(t),this._connectableTargets.push(n))},_connectAllConnectables:function(){var t,n=this._connectables,i=this._connectableTargets,s=n.length,a=e,o=e;for(t=0;t<s;t++)a=i[2*t],o=i[2*t+1],n[t].connect(this,a,o);this._connectables=this._connectableTargets=null,this.isConnected=!0},allocNode:function(e,t){var n=m$541$0.allocNode(e,this,t);return this._nodes.push(n),n},freeNode:function(e){var t=this._nodes,n=t.indexOf(e);n>=0?t.splice(n,1):m$802$0("CW.Observable `freeNode` called with a node not managed by this Observable!",{nodeID:e,observable:this}),m$541$0.freeNode(e)},dispose:function(){var t,n=this._nodes,i=n.length,s=e;
for(t=0;t<i;t++)s=n[t],m$541$0.freeNode(s);this._nodes=null,this.downstreamNodes=null,this.upstreamNodes=null,this.__s._8e$2a_$dispose.call(this)},observe:function(){var e;if(m$780$0(arguments[0]))e=m$557$0.create(this,arguments[0]);else{var t=m$762$0(arguments);t.unshift(this),t.push(!0),e=m$557$0.create.apply(m$557$0,t)}return e.connect(),e},listen:function(){var e;if(m$780$0(arguments[0]))e=m$557$2.create(this,arguments[0]);else{var t=m$762$0(arguments);t.unshift(this),t.push(!1),e=m$557$2.create.apply(m$557$2,t)}return e.connect(),e},bindingFor:function(e){return m$539$0.create(e,this)},propertyChanged:function(e){var t=this.downstreamNodes[e];+t!==t&&m$802$0("propertyChanged must be called with the key of an observable property (key: "+e+", object: "+this+").",{object:this,key:e}),m$541$0.setNodeToDirtyFromParent(t)},bind:function(e,t){var n=this.getMetadataByType(m$545$0);if(n){var i=n[e];i||m$802$0("Bind must be called on an observable property",e),i.bind(this,t)}return this},unbind:function(e){var t=this.getMetadataByType(m$545$0);if(t){var n=t[e];n||m$802$0("Unbind must be called on an observable property",e),n.unbind(this)}return this},__superMap:{_8e$aH$initializeInstance:"initializeInstance",_8e$2a_$dispose:"dispose"}},n=m$790$0(t);n.mixinDependencies=[m$625$0,m$631$0],n.staticMembers=m$790$0(t),m$544$0=n}();
!function(){"use strict";var e=m$546$0.extend({debugType:"Strong",validateDescendantDownstreamNodeManager:function(e,r,t){var n=e.reference;n===m$630$1&&this._throwValidationError(e,r,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a weak and a strong property together.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.DownstreamStrongNodeManager"}});m$548$0=e}();
!function(){"use strict";var e=m$548$0.extend({debugType:"Strong Computed",init:function(){this.__s._8h$DZ$init.apply(this,arguments),this._referenceDescriptorComputedCache="Observable strong ref for `"+this.key+"` (downstream cached computed value)"},_referenceDescriptorComputedCache:void 0,_manageForCalculateValueForNode:function(e,t,r){m$630$3(r,e,this._referenceDescriptorComputedCache)},previousValueWasReplaced:function(e,t,r){m$630$4(r,e,this._referenceDescriptorComputedCache)},nodeWillFree:function(e,t){m$630$4(m$541$0.getDataForNode(t),e,this._referenceDescriptorComputedCache)},__superMap:{_8h$DZ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.DownstreamStrongComputedNodeManager"}});m$547$0=e}();
!function(){"use strict";var e=m$546$0.extend({debugType:"Unsafe",validateDescendantDownstreamNodeManager:function(e,n,r){e.reference!==m$630$2&&this._throwValidationError(e,n,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a %{reference} property up to an unsafe one.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.DownstreamUnsafeNodeManager"}});m$549$0=e}();
!function(){"use strict";var e=m$546$0.extend({debugType:"Weak",validateDescendantDownstreamNodeManager:function(e,r,t){e.reference===m$630$0&&this._throwValidationError(e,r,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a weak and a strong property together.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.DownstreamWeakNodeManager"}});m$551$0=e}();
!function(){"use strict";var e=m$551$0.extend({debugType:"Weak Computed",_manageForCalculateValueForNode:function(e,a,n){var o=this.key,r=e._weakReferenceTokens[o];m$630$6(a,r),e._weakReferenceTokens[o]=m$630$5(n,e,e.weaklyReferencedObjectWasDisposed,o)},nodeWillFree:function(e,a){var n=this.key,o=e._weakReferenceTokens,r=o[n],t=m$541$0.getDataForNode(a);m$630$6(t,r)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.DownstreamWeakComputedNodeManager"}});m$550$0=e}();
!function(){"use strict";var e=m$552$0.extend({debugType:"ReadOnly",flushNode:function(e,t){var a=m$541$0.getStateDataForNode(t),r=m$541$0.getStateIDForNode(t);m$802$0("Cannot write to read-only property: "+this.key,{object:e,value:a,parentID:r})},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.UpstreamReadOnlyNodeManager"}});m$553$0=e}();
!function(){"use strict";var e=m$553$0.extend({debugType:"ReadOnly Strong",nodeWillFree:function(e,r){var t=m$541$0.getDataForNode(r);m$630$4(t,e,"Observable strong ref for `"+this.key+"` (read-only default value)")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.UpstreamReadOnlyStrongNodeManager"}});m$554$0=e}();
!function(){"use strict";var e=m$552$0.extend({debugType:"Strong",init:function(e){this.__s._8p$Bv$init.apply(this,arguments);var r=this.key;this._stateArrayReferenceDescriptor="Observable strong ref for `"+r+"` (upstream state preprocessing storage)",this._ownValueReferenceDescriptor="Observable strong ref for `"+r+"` (upstream own-value storage)"},_manageForWasDirtiedByParent:function(e,r){m$630$4(e,r,this._stateArrayReferenceDescriptor)},_manageForWasDirtiedBySelf:function(e,r,t){var a=this._stateArrayReferenceDescriptor;m$630$3(e,t,a),m$630$4(r,t,a)},_manageForCalculateValueForNode:function(e,r,t){m$630$3(e,t,this._ownValueReferenceDescriptor),m$630$4(r,t,this._stateArrayReferenceDescriptor)},previousValueWasReplaced:function(e,r,t){m$630$4(t,e,this._ownValueReferenceDescriptor)},nodeWillFree:function(e,r){var t=m$541$0.getStateDataForNode(r),a=m$541$0.getDataForNode(r);m$630$4(t,e,this._stateArrayReferenceDescriptor),m$630$4(a,e,this._ownValueReferenceDescriptor)},_stateArrayReferenceDescriptor:void 0,_ownValueReferenceDescriptor:void 0,__superMap:{_8p$Bv$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.UpstreamStrongNodeManager"}});m$555$0=e}();
!function(){"use strict";var e=m$552$0.extend({calculateValueForNode:function(e,a,t,r){var o=this.key,l=e._weakReferenceTokens,s=l[o],c=m$541$0.getDataForNode(a);m$630$6(c,s);var u=this.__s._8q$NY$calculateValueForNode.apply(this,arguments);return l[o]=m$630$5(u,e,e.weaklyReferencedObjectWasDisposed,o),u},__superMap:{_8q$NY$calculateValueForNode:"calculateValueForNode"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableProperties.UpstreamWeakRootValueNodeManager"}});m$556$0=e}();
!function(){"use strict";function _internalGet(e,t){return m$541$0.getValueForNode(t)}var NULL_INDEX=m$541$0.NULL_INDEX,temporaryArray=[],ObservableProperty=m$629$0.extend({staticMembers:{_getterString:"",_setterString:"",isInsideSetter:!1,getDependencyValuesAsTempArray:function(e,t,r,i){temporaryArray.length=0;for(var n=0;n<t.length;n++){var s=t[n+r];m$541$0._sanitizeNodeID(s)>0&&(temporaryArray[n]=i.internalGet(e,s))}return temporaryArray},__QUALIFIED_CLASS_NAME__:"CW.ObservableProperty"},readOnly:null,cacheable:void 0,binding:void 0,downstreamBindings:null,dependencies:null,writeDependencies:null,bindings:null,writeBindings:null,_valueCount:0,didChange:null,isComputedProperty:!1,isDependentComputedProperty:!1,isRootValueProperty:!1,requiresSupport:m$544$0,downstreamNodeManagerClass:null,upstreamNodeManagerClass:null,downstreamNodeManager:null,upstreamNodeManager:null,weakRootValueUpstreamNodeManager:null,init:function(e){m$620$0(e,m$539$0)&&(e={binding:e}),this.__s._8f$B2r$init.call(this,e)},getValue:function(e,t){var r=this.binding||this.defaultValue;return void 0===r&&(this.get||this.set)&&m$620$0(e[m$631$0.staticMembers.defaultValuePrefix+t],m$539$0)?null:r},inheritFrom:function(e){this.__s._8f$BIy$inheritFrom.apply(this,arguments),this.didChange||(this.didChange=e.didChange);var t=e.downstreamBindings;if(t){var r=this.downstreamBindings;r?this.downstreamBindings=m$818$0(global.Object.create(t),r):this.downstreamBindings=t}},wasRegistered:function(e,t,r){this.__s._8f$BcK$wasRegistered.apply(this,arguments),this._didFirstObservablePropertyRegister||(this._validateProvidedInitValues(t),
this._validateProvidedAccessors(t),this.reference!==m$630$1||this.readOnly||(this._setRootValueNodeManagerIfNeeded=this._setRootValueNodeManagerIfNeededWeakWritable,this._setBoundNodeManagerIfNeeded=this._setBoundNodeManagerIfNeededWeakWritable),this.setUpManagers(),t=t.replace(/\\/g,"\\\\"),t=t.replace(/\./g,"\\."),this._ownBinding=m$539$1(t),this.initializeNodeFlags(),this._didFirstObservablePropertyRegister=!0),this._setUpDidChangeObserver(e,t)},_validateProvidedInitValues:function(e){var t=this.binding,r=this.defaultValue;m$771$0(t)&&m$771$0(r)&&m$802$0("You can't define an observable property with both a binding and a defaultValue (%{key}).",{key:e,property:this}),m$620$0(r,m$539$0)&&m$802$0("You can’t pass bindings into a property definition on `defaultValue`; you must pass it in on `binding` (%{key}).",{binding:t,property:this,key:e}),m$781$0(t)&&(this.binding=m$539$1(t));var i=this.computedDownstreamBindings=[],n=this.downstreamBindings;for(var s in n){var a=n[s];if(m$771$0(a)){if(m$781$0(a)&&(a=m$539$1(a)),m$620$0(a,m$539$0)){if(a.rootObject||"(owner)"===a.components.shift()){i.push({upstreamSide:a,downstreamSide:m$539$1(e+"."+s)});continue}m$802$0("Right side of downstream bindings must begin with `'(owner).'`: `'%{path}'`",{path:a.path})}m$802$0("Right side of downstream bindings must be a string or a binding",{binding:a})}}},_validateProvidedAccessors:function(e){var t=this.dependencies,r=this.writeDependencies,i=t&&t.length>0,n=r?r.length>0:i,s=this.isDependentComputedProperty=i||n,a=this.reference;i&&this.usesBuiltinGet&&m$802$0("Computed properties with dependencies must provide a getter (%{key}).",{
property:this,dependencies:t,key:e}),n&&this.usesBuiltinSet&&!this.readOnly&&m$802$0("Computed properties with (explicit or implicit) write-dependencies must either include a setter or be marked readOnly (%{key}).",{property:this,dependencies:t,key:e}),this.isComputedProperty&&a===m$630$1&&m$802$0("Computed properties may not be WEAK references (%{key}).",{property:this,dependencies:t,key:e}),this.cacheable!==!1||a===m$630$2||this.typeIsPrimitive||m$802$0("Non-cacheable, non-primitively-typed properties may not be STRONG or WEAK references; you must manage them yourself. (%{key}).",{property:this,key:e}),s&&(r&&(this.writeBindings=m$539$0.createForPaths(this.writeDependencies)),this.bindings=m$539$0.createForPaths(this.dependencies))},_setUpDidChangeObserver:function(e,t){if(this.didChange){var r="_"+t+"_didChangeObserver";e.registerMetadata(r,m$557$1(t,this.didChange))}},setUpManagers:function(){var e=this.upstreamNodeManagerClass,t=this.downstreamNodeManagerClass,r=this.reference;e||(e=this.readOnly?r===m$630$0?m$554$0:m$553$0:r===m$630$0?m$555$0:m$552$0),t||(t=r===m$630$0?this.usesBuiltinGet||this.cacheable===!1?this.typeIsPrimitive?m$546$0:m$548$0:m$547$0:r===m$630$1?this.usesBuiltinGet||this.cacheable===!1?m$551$0:m$550$0:m$549$0),this.upstreamNodeManager=e.create(this),this.downstreamNodeManager=t.create(this),r===m$630$1&&(this.weakRootValueUpstreamNodeManager=m$556$0.create(this))},initializeNodeFlags:function(){var e=this.upstreamNodeFlags,t=this.downstreamNodeFlags;if(e===-1||t===-1){var r=this.reference;r===m$630$0&&this.typeIsPrimitive&&(r=m$630$2),e===-1&&(e=m$541$0.DIRTY_TRACKING,
this.readOnly&&(e|=m$541$0.FLUSH),r!==m$630$1&&r!==m$630$0||(e|=m$541$0.PULL_ON_FLUSH),r===m$630$0&&(e|=m$541$0.PREVIOUS_VALUE_TRACKING),r!==m$630$2&&(e|=m$541$0.FREE),this.upstreamNodeFlags=e),t===-1&&(t=m$541$0.RELATIONSHIPS,r===m$630$2||this.usesBuiltinGet||this.cacheable===!1||(t|=m$541$0.FREE,r===m$630$0&&(t|=m$541$0.PREVIOUS_VALUE_TRACKING)),this.downstreamNodeFlags=t)}},upstreamNodeFlags:-1,downstreamNodeFlags:-1,initForObject:function(e,t){var r,i=NULL_INDEX,n=NULL_INDEX,s=this.downstreamNodeManager;r=this.reference===m$630$1&&this.isRootValueProperty?this.weakRootValueUpstreamNodeManager:this.upstreamNodeManager,i=e.allocNode(s,this.downstreamNodeFlags),e.downstreamNodes[t]=i,n=e.allocNode(r,this.upstreamNodeFlags),e.upstreamNodes[t]=n,e.addConnectable(this,i,n),this.__s._8f$GIR$initForObject.apply(this,arguments)},setInitialValueForObject:function(e,t,r){var i=e.downstreamNodes[t],n=e.upstreamNodes[t];if(m$541$0.getManagerForNode(i).setUpNode(e,i),m$541$0.getManagerForNode(n).setUpNode(e,n),m$620$0(r,m$539$0)){var s=r;this.isDependentComputedProperty&&m$802$0("Dependent computed properties cannot be created with a binding (%{key}).",{property:this,key:t,object:e}),m$541$0.setDataForNode(s,i)}else this.readOnly?(this.reference===m$630$0&&m$630$3(r,e,"Observable strong ref for `"+t+"` (read-only default value)"),m$541$0.setDataForNode(r,n)):void 0!==r&&m$541$0.passValueToNode(r,n)},connect:function(e,t,r){var i;this.isRootValueProperty=!this.isDependentComputedProperty,this._configurePropertyAsRootValue(t,r);var n=this._ownBinding;if(this.isDependentComputedProperty){
var s,a,o,d=this.bindings,$=this.writeBindings,p=r>=0&&void 0!==m$541$0.getStateDataForNode(r);if(d&&(s=d.length)>0)for(a=0;a<s;a++)o=d[a],i=m$539$0.hookUpBinding(e,o,n,p,!0,m$539$0.DONT_CONNECT,m$539$0.CONNECT),i||m$802$0("Unable to connect dependency for computed property (key: "+this.key+", dependency: "+o.path+").",{object:e,property:this,key:this.key,dependency:o.path});if($&&(s=$.length)>0)for(a=0;a<s;a++)o=$[a],i=m$539$0.hookUpBinding(e,o,n,p,!0,m$539$0.CONNECT,m$539$0.DONT_CONNECT),i||m$802$0("Unable to connect write dependency for computed property (key: "+this.key+", dependency: "+o.path+").",{object:e,property:this,key:this.key,dependency:o.path})}else{var l;t>=0&&(l=m$541$0.getDataForNode(t)),l&&l.instanceOf&&l.instanceOf(m$539$0)&&(this.isRootValueProperty=!1,this.bind(e,l),m$541$0.setDataForNode(void 0,t),r&&m$541$0.setDataForNode(void 0,r))}for(var m=this.computedDownstreamBindings,h=m.length,u=0;u<h;u++){var g=m[u];m$539$0.hookUpBinding(e,g.upstreamSide,g.downstreamSide,!1,!0)}},_configurePropertyAsRootValue:function(e,t){m$541$0.addChildToNode(e,t,!0),this._setRootValueNodeManagerIfNeeded(e,t)},_setRootValueNodeManagerIfNeeded:m$805$0,_setRootValueNodeManagerIfNeededWeakWritable:function(e,t){m$541$0.setManagerForNode(this.weakRootValueUpstreamNodeManager,t)},bind:function(e,t){var r=this.key;this.isDependentComputedProperty&&m$802$0("Cannot bind property %{key}. Properties with dependencies cannot be bound.",{property:this,key:this.key,object:e});var i=e.downstreamNodes[r],n=e.upstreamNodes[r];this._disconnectNodes(i,n),this._configurePropertyAsBound(i,n);var s=t;
s&&s.instanceOf&&s.instanceOf(m$539$0)||(s=m$539$0.create(s));var a=m$539$0.hookUpBinding(e,s,this._ownBinding,!1,!0);a||m$802$0("Unable to bind property (key: "+this.key+", binding: "+s.path+").",{object:e,property:this,key:this.key,binding:s,path:s.path}),e.isConnected&&m$541$0.triggerFlush()},_configurePropertyAsBound:function(e,t){this._setBoundNodeManagerIfNeeded(e,t)},_setBoundNodeManagerIfNeeded:m$805$0,_setBoundNodeManagerIfNeededWeakWritable:function(e,t){m$541$0.setManagerForNode(this.upstreamNodeManager,t)},unbind:function(e){var t=this.key;this.isDependentComputedProperty&&m$802$0("Cannot unbind property %{key}. Properties with dependencies cannot be unbound.",{property:this,key:this.key,object:e});var r=e.downstreamNodes[t],i=e.upstreamNodes[t];this._disconnectNodes(r,i),this._configurePropertyAsRootValue(r,i),m$541$0.passValueToNode(void 0,i),e.isConnected&&m$541$0.triggerFlush()},_disconnectNodes:function(e,t){t>0&&m$541$0.disconnectChildrenFromNode(t),m$541$0.disconnectParentsFromNode(e)},_getter:null,_setter:null,_setUpInternalAccessors:function _setUpInternalAccessors(){var key=this.key,unmangledDF=m$541$0,defaultValueKey=m$631$0.staticMembers.defaultValuePrefix+key,defaultValueStringifiedKey=JSON.stringify(defaultValueKey);defaultValueStringifiedKey="["+defaultValueStringifiedKey+"]";var accessorString=m$783$0(key)?"."+key:"["+JSON.stringify(key)+"]",getterString=ObservableProperty._getterString;if(!getterString){var getterTemplate=function(){if(!this.propertiesAreInitialized)return this.COMPILED_DEFAULT_VALUE_STRINGIFIED_KEY;var e=ObservableProperty.isInsideSetter;
ObservableProperty.isInsideSetter=!1;var t=this.downstreamNodes.COMPILED_ACCESSOR_STRING,r=unmangledDF.getValueForNode(t);return ObservableProperty.isInsideSetter=e,r};getterString=getterTemplate.toString(),getterString="("+getterString+")",ObservableProperty._getterString=getterString}if(getterString=getterString.replace(/\.COMPILED_DEFAULT_VALUE_STRINGIFIED_KEY/g,defaultValueStringifiedKey),getterString=getterString.replace(/\.COMPILED_ACCESSOR_STRING/g,accessorString),this._getter=eval(getterString),this.readOnly)this._setter=function(e){return this.propertiesAreInitialized?void m$802$0("Cannot write to read-only property: "+key,{object:this,value:e}):void(this[defaultValueKey]=e)};else{var setterString=ObservableProperty._setterString;if(!setterString){var setterTemplate=function(e){if(!this.propertiesAreInitialized)return void(this.COMPILED_DEFAULT_VALUE_STRINGIFIED_KEY=e);var t=ObservableProperty.isInsideSetter;ObservableProperty.isInsideSetter=!0;var r=this.upstreamNodes.COMPILED_ACCESSOR_STRING;t&&unmangledDF.nodeIsDirty(r)?unmangledDF.passValueToNode(e,r):unmangledDF.setValueForNode(e,r),ObservableProperty.isInsideSetter=t};setterString=setterTemplate.toString(),setterString="("+setterString+")",ObservableProperty._setterString=setterString}setterString=setterString.replace(/\.COMPILED_DEFAULT_VALUE_STRINGIFIED_KEY/g,defaultValueStringifiedKey),setterString=setterString.replace(/\.COMPILED_ACCESSOR_STRING/g,accessorString),this._setter=eval(setterString)}},internalGet:_internalGet,internalGetPath:_internalGet,_synthesizeInternalGet:m$805$0,setUpNativeAccessors:function(e,t){
Object.defineProperty(e,t,{get:this._getter,set:this._setter,configurable:!0})},getForObject:function(e,t){return this._getter.call(e)},setForObject:function(e,t,r){return this._setter.call(e,r)},disposeForObject:function(e,t){},__superMap:{_8f$B2r$init:"init",_8f$BIy$inheritFrom:"inheritFrom",_8f$BcK$wasRegistered:"wasRegistered",_8f$GIR$initForObject:"initForObject"}}),observableProperty=function(e){return ObservableProperty.define.apply(ObservableProperty,arguments)};m$545$0=ObservableProperty,m$545$1=observableProperty}();
!function(){"use strict";var t={staticMembers:{_pool:m$619$1(global.Array),_poolSize:0,init:function(){this.__s._9K$80$init.apply(this,arguments),this._poolSize=0},create:function(){var t;return t=this._poolSize>0?this._pool[--this._poolSize]:this.__s._9K$By$create.call(this),t.initFromPool.apply(t,arguments),t},__superMap:{_9K$80$init:"init",_9K$By$create:"create"}},release:function(){var t=--this._retainCount;if(t<0&&m$802$0("Cannot release an object that has never been retained.",{object:this}),0===t){var i=this.constructor;i._pool[i._poolSize++]=this,this.didEnterPool()}return this},initFromPool:m$805$0,didEnterPool:m$805$0};m$587$0=t}();
!function(){"use strict";var e={DEFAULT:0,FORCE_FIRE:1,SKIP_FIRE:2},t=m$626$0.extend(m$587$0,{didFire:!1,_fireState:!1,previousValues:null,context:null,type:"",initFromPool:function(e){e&&m$780$0(e)&&(this.type=e.type||"",this.didFire=e.didFire||!1,this.forceFire=e.forceFire||!1,this.previousValues=e.previousValues||null,this.context=e.context||null,this._fireState=e._fireState||!1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.DataflowEvents.SignalEvent"}});m$559$1=e,m$559$0=t}();
!function(){"use strict";function e(e,t){var n=m$541$0.getDataForNode(e),i=m$559$0.create({previousValues:n.previousValues,_fireState:m$559$1.DEFAULT,didFire:!0});i.retain();for(var r=i.previousValues,s=t.length,a=0;a<s;a++)r[a]=t[a];return n.previousValues=null,n.release(),i}var t=m$541$0.NULL_INDEX,n={UNKNOWN:void 0,SIGNAL:1,OTHER:2},i=m$543$0.extend({_onlyFireIfChanged:!0,_debug_dependencyNames:null,_debug_key:null,_observedTypes:null,_observesSignals:!0,init:function(e,t,n){this.__s._8r$27l$init.call(this),void 0===n&&(n=!0),m$777$0(t)||m$802$0("Cannot create CW.ObserverNodeManager without an observer function to call when there is a change."),this.observer=t,this._inputCollector=new Array(e),this._observedTypes=new Array(e),n||(this._onlyFireIfChanged=n,this.invokeObserverCallback=this._actuallyInvokeObserverCallback)},calculateValueForNode:function(e,t,n){n||m$802$0("Observers should not be set directly, they must pull from their parents.",t);var i=this._inputCollector;m$541$0.pullDataFromParents(t,i);var r=m$541$0.getDataForNode(t),s=r;return r._fireState!==m$559$1.SKIP_FIRE?s=this.invokeObserverCallback(e,i,r,t):r._fireState=m$559$1.DEFAULT,s},invokeObserverCallback:function(e,t,n,i){return n._fireState===m$559$1.FORCE_FIRE||this._didObservedValuesChange(t,n.previousValues)?this._actuallyInvokeObserverCallback(e,t,n,i):n},_actuallyInvokeObserverCallback:function(t,n,i,r){var s=m$545$0.isInsideSetter;return m$545$0.isInsideSetter=!1,this._substituteSignalInputsIfNeccessary(),this.observer.apply(t,n),m$545$0.isInsideSetter=s,e(r,n)},_substituteSignalInputsIfNeccessary:function(){
if(this._observesSignals){for(var e,t,i=!1,r=this._inputCollector,s=this._observedTypes,a=0;a<r.length;a++)e=s[a],e===n.UNKNOWN&&(e=this._getValueType(r[a]),e!==n.UNKNOWN&&(s[a]=e)),e===n.SIGNAL?(t=r[a],t&&!t.didFire&&(r[a]=void 0),i=!0):e===n.UNKNOWN&&(i=!0);this._observesSignals=i}},_didObservedValuesChange:function(e,t){var i=e,r=t;if(i.length!==r.length)return!0;for(var s,a,o=this._observedTypes,$=i.length,l=0;l<$;l++)if(s=o[l],a=i[l],s===n.UNKNOWN&&(s=o[l]=this._getValueType(a)),s===n.SIGNAL){if(a&&a.didFire)return!0}else if(a!==r[l])return!0;return!1},_getValueType:function(e){return void 0===e?n.UNKNOWN:m$620$0(e,m$559$0)?n.SIGNAL:n.OTHER},clearInputCollectors:function(){for(var e=this._inputCollector,t=e.length,n=0;n<t;n++)e[n]=void 0},addDebugInfoForNode:function(e,t,n){t.type="Observer",t.object=e,t.key=this._debug_key||"(Anonymous)",t.dependencyNames=this._debug_dependencyNames,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},__superMap:{_8r$27l$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObserverNodeManager"}}),r=m$624$0.extend({init:function(e){var t,n,i,r=this.notifyOnCreate;if(m$780$0(e))t=e.inputs,n=e.callback,void 0!==e.notifyOnCreate&&(r=e.notifyOnCreate),void 0!==e.onlyFireIfChanged&&(i=e.onlyFireIfChanged);else{t=m$762$0(arguments);var s=t.pop();m$777$0(s)||(void 0!==s&&(r=s),s=t.pop()),n=s}this.bindings=m$539$0.createForPaths(t),this.manager=this.managerClass.create(t.length,n,i),this.manager._debug_inputNames=t,this.notifyOnCreate=r,this.__s._8r$4xF$init.call(this)},wasRegistered:function(e,t){this.__s._8r$4zm$wasRegistered.apply(this,arguments),
this.manager._debug_key=t},getValue:function(e,t){return function(){var e=this.downstreamNodes[t],n=m$541$0.getDataForNode(e);n._fireState=m$559$1.FORCE_FIRE,m$541$0.setNodeToDirtyFromParent(e)}},notifyOnCreate:!0,manager:null,managerClass:i,requiresSupport:m$544$0,bindings:null,allowAtCreate:!0,connect:function(e,t){for(var n,i,r=this.bindings,s=this.notifyOnCreate,a=0,o=r.length;a<o;a++)n=r[a],i=m$539$0.hookUpDownstreamNode(e,n,t,!0),i||m$802$0("Observer could not hook up to one of its observed properties.",{object:e,observer:this,binding:n,bindingPath:n.path});var $=m$559$0.create({previousValues:[],_fireState:s?m$559$1.FORCE_FIRE:m$559$1.SKIP_FIRE});$.retain(),m$541$0.setDataForNode($,t),e.isConnected&&m$541$0.triggerFlush()},__superMap:{_8r$4xF$init:"init",_8r$4zm$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObserverMetadata"}}),s=r.extend({notifyOnCreate:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ListenerMetadata$557"}}),a=r.extend({node:t,init:function(e,t){if(e&&e.hasMixin&&e.hasMixin(m$544$0)||m$802$0("CW.Observer requires an owning object"),this.owningObject=e,m$780$0(t))this.__s._8r$69R$init.call(this,t);else{var n=m$762$0(arguments);n.shift(),this.__s._8r$6C5$init.apply(this,n)}this.node=e.allocNode(this.manager,m$541$0.PULL_ON_FLUSH)},connect:function(){return this.__s._8r$6HH$connect.call(this,this.owningObject,this.node)},disconnect:function(){m$541$0.disconnectParentsFromNode(this.node),this.manager.clearInputCollectors()},__superMap:{_8r$69R$init:"init",_8r$6C5$init:"init",_8r$6HH$connect:"connect"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Observer"
}}),o=a.extend({notifyOnCreate:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Listener"}}),$=function(){return r.define.apply(r,arguments)},l=function(){return s.define.apply(s,arguments)};m$557$4=i,m$557$5=r,m$557$0=a,m$557$2=o,m$557$1=$,m$557$3=l}();
!function(){"use strict";var e={key:"Signal Not Set Sentinel"},t=m$624$0.extend({requiresSupport:m$544$0,defaultArgument:void 0,isCacheable:!0,init:function(e){return m$780$0(e)?this.__s._8s$Uc$init.apply(this,arguments):(this.defaultArgument=e,void this.__s._8s$Vd$init.call(this))},notifyNode:function(e,t){var a=m$541$0.getDataForNode(t);a.context=null,a.didFire=!1,this.didPropagate.call(e)},calculateValueForNode:function(t,i,r){var n=m$541$0.getStateDataForNode(i);if(r){m$541$0.setStateDataForNode(e,i);var o=m$541$0.getStateIDForNode(i);m$541$0.getValueForNode(o),n=m$541$0.getStateDataForNode(i)}if(n===e){var $=m$541$0.getDataForNode(i);n=$}else n=a(i,this._debug_key,n);return this.willPropagate.call(t,n),n},validateDescendantDownstreamNodeManager:m$805$0,getValue:function(e,t){var a=this.defaultArgument;return function(e){var i=this.downstreamNodes[t];if(void 0!==i){var r=void 0===e?a:e;m$545$0.isInsideSetter&&m$541$0.nodeIsDirty(i)?m$541$0.passValueToNode(r,i):m$541$0.setValueForNode(r,i)}}},didPropagate:m$805$0,willPropagate:m$805$0,wasRegistered:function(e,t){this.__s._8s$1RP$wasRegistered.apply(this,arguments),this._debug_key=t},addDebugInfoForNode:function(e,t,a){t.type="Signal",t.object=e,t.key=this._debug_key,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},initializeEvent:function(t){var i=a(t,this._debug_key,null);i.didFire=!1,m$541$0.setDataForNode(i,t),m$541$0.setStateDataForNode(e,t)},__superMap:{_8s$Uc$init:"init",_8s$Vd$init:"init",_8s$1RP$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.SignalMetadata"}}),a=function(e,t,a){
var i=m$541$0.getDataForNode(e),r=m$559$0.create({type:t,context:a,didFire:!0});return r.retain(),i&&i.release(),r},i=function(){return t.create.apply(t,arguments)};m$558$1=t,m$558$0=i}();
!function(){"use strict";var t=m$635$0.extend({metadataType:null,validate:function(t,a){if(!m$620$0(t,m$625$0))return!1;var e=t.getMetadata(a);return m$620$0(e,this.metadataType)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.RequiredMetadata"}});m$636$0=t}();
!function(){"use strict";var e=m$636$0.extend({metadataType:m$545$0,staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.RequiredObservableProperty"}});m$638$0=e}();
!function(){"use strict";var $={mixinDependencies:[m$634$0],x:m$624$1(m$638$0),y:m$624$1(m$638$0)},m=m$626$0.extend(m$544$0,$,{x:m$545$1(0),y:m$545$1(0),staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Point2D"}});m$560$1=$,m$560$0=m}();
!function(){"use strict";var e=m$636$0.extend({metadataType:m$629$0,staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.RequiredProperty"}});m$639$0=e}();
!function(){"use strict";var $={mixinDependencies:[m$634$0],height:m$624$1(m$638$0),width:m$624$1(m$638$0)},m=m$626$0.extend(m$544$0,$,{height:m$545$1(0),width:m$545$1(0),staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Size"}});m$562$1=$,m$562$0=m}();
!function(){"use strict";var t={mixinDependencies:[m$562$1],origin:m$624$1(m$639$0),top:m$624$1(m$639$0),bottom:m$624$1(m$639$0),left:m$624$1(m$639$0),right:m$624$1(m$639$0),isAbove:function(t){return this.get("bottom")<=t.get("top")},isBelow:function(t){return this.get("top")>=t.get("bottom")},isLeftOf:function(t){return this.get("right")<=t.get("left")},isRightOf:function(t){return this.get("left")>=t.get("right")},intersects:function(t){return!(this.isAbove(t)||this.isBelow(t)||this.isRightOf(t)||this.isLeftOf(t))},containsPoint:function(t){var e=t.get("x"),i=t.get("y");return e>=this.get("left")&&e<this.get("right")&&i>=this.get("top")&&i<this.get("bottom")}},e=m$626$0.extend(m$544$0,t,{_origin:null,origin:m$545$1({cacheable:!0,dependencies:["x","y"],get:function(t,e,i,n){var $=n.internalGet(this,e[1+i]),s=n.internalGet(this,e[0+i]),r=this._origin;return r?(r.set("x",s),r.set("y",$)):r=this._origin=m$560$0.create({x:s,y:$}),r},set:function(t,e,i,n,$){m$775$0(t)||(t=m$560$0.create(t)),i[0+n]=t.get("x"),i[1+n]=t.get("y"),this._origin=t},writeDependencySetPathMap:["false","false"]}),x:m$545$1(),y:m$545$1(),width:m$545$1(),height:m$545$1(),top:m$545$1({binding:m$539$1("y"),readOnly:!0}),bottom:m$545$1({readOnly:!0,cacheable:!0,dependencies:["height","y"],get:function(t,e,i,n){return n.internalGet(this,e[1+i])+n.internalGet(this,e[0+i])}}),left:m$545$1({binding:m$539$1("x"),readOnly:!0,cacheable:!0}),right:m$545$1({readOnly:!0,cacheable:!0,dependencies:["width","x"],get:function(t,e,i,n){return n.internalGet(this,e[1+i])+n.internalGet(this,e[0+i])}}),dispose:function(){var t=this._origin;
t&&t.dispose(),this.__s._8v$1ky$dispose.apply(this,arguments)},__superMap:{_8v$1ky$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Rect"}});m$561$1=t,m$561$0=e}();
!function(){"use strict";var t={mixinDependencies:[m$634$0],createIterator:function(){return this.iteratorClass.create(this)},iteratorClass:m$624$1(m$639$0)};t[Symbol.iterator]=function(){return this.createIterator()},m$594$0=t}();
!function(){"use strict";var e={mixinDependencies:[m$634$0,m$594$0],length:m$639$0.define(),toArray:function(){for(var e=this.createIterator().retain(),r=[],t=0;e.get("isValid");){var a=e.get("value");r[t++]=a,e.moveToNext()}return e.release(),r},reduce:function(e,r,t){var a,i,o=this.createIterator().retain();for(arguments.length>=2?(a=r,i=0):o.isValid?(a=o.value,o.moveToNext(),i=1):m$802$0("reduce of empty array with no initial value");o.isValid;){var n=o.value;a=e.call(t,a,n,i++,this),o.moveToNext()}return o.release(),a},find:function(e,r){for(var t=this.createIterator().retain(),a=0;t.get("isValid");){var i=t.get("value");if(e.call(r,i,a++,this))return t.release(),i;t.moveToNext()}t.release()},every:function(e,r){for(var t=this.createIterator().retain(),a=0;t.get("isValid");){var i=t.get("value");if(!e.call(r,i,a++,this))return t.release(),!1;t.moveToNext()}return t.release(),!0},some:function(e,r){for(var t=this.createIterator().retain(),a=0;t.get("isValid");){var i=t.get("value");if(e.call(r,i,a++,this))return t.release(),!0;t.moveToNext()}return t.release(),!1},forEach:function(e,r){for(var t=this.createIterator().retain(),a=0;t.get("isValid");){var i=t.get("value");e.call(r,i,a++,this),t.moveToNext()}t.release()},contains:function(e){for(var r=this.createIterator().retain();r.get("isValid");){var t=r.get("value");if(t===e)return r.release(),!0;r.moveToNext()}return r.release(),!1}};m$593$0=e}();
!function(){"use strict";var i={mixinDependencies:[m$634$0,m$593$0],init:function(i){var t,e;if(1!==arguments.length)for(this.__s._9V$Kq$init.call(this),t=0,e=arguments.length;t<e;t++)this.add(arguments[t]);else if(!m$771$0(i)||m$780$0(i))this.__s._9V$Or$init.apply(this,arguments);else if(m$778$0(i))for(this.__s._9V$Qe$init.call(this),t=0,e=i;t<e;t++)this.add(void 0);else if(m$772$0(i))for(this.__s._9V$Xx$init.call(this),t=0,e=i.length;t<e;t++)this.add(i[t]);else m$620$0(i,m$593$0)?(this.__s._9V$bj$init.call(this),this.addEach(i)):(this.__s._9V$dO$init.call(this),this.add(i))},contains:function(i){return i=this.encode(i),this.__s._9V$fa$contains.call(this,i)},add:m$624$1(m$637$0),addEach:function(i){i.forEach(this.add,this)},remove:m$624$1(m$637$0),delete:function(){return this.remove.apply(this,arguments)},removeEach:function(i){i.forEach(this.remove,this)},filter:function(i,t){for(var e=this.constructor.create(),n=this.createIterator().retain(),s=0;n.get("isValid");){s++;var $=n.get("value"),a=i.call(t,$,s,this);a===!0&&e.add($),n.moveToNext()}return n.release(),e},serializer:null,encode:function(i,t){var e=this.serializer;return e&&e.encode&&(i=e.encode(i,t)),i},decode:function(i,t){var e=this.serializer;return e&&e.decode&&(i=e.decode(i,t)),i},__superMap:{_9V$Kq$init:"init",_9V$Or$init:"init",_9V$Qe$init:"init",_9V$Xx$init:"init",_9V$bj$init:"init",_9V$dO$init:"init",_9V$fa$contains:"contains"}};m$598$0=i}();
!function(){"use strict";var $={mixinDependencies:[m$634$0],clone:m$624$1(m$637$0)};m$617$0=$}();
!function(){"use strict";var e={done:!1,value:null},$={mixinDependencies:[m$634$0,m$617$0],next:function(){return e.value=this.get("value"),e.done=!this.get("isValid"),this.moveToNext(),e},moveToNext:m$624$1(m$637$0),isValid:m$624$1(m$639$0),value:m$624$1(m$639$0)};m$595$0=$}();
!function(){"use strict";var $={mixinDependencies:[m$595$0],value:m$624$1(m$639$0),remove:m$624$1(m$637$0),add:m$624$1(m$637$0)};m$604$0=$}();
!function(){"use strict";var e={done:!1,value:null},o={mixinDependencies:[m$595$0],moveToNext:m$624$1(m$637$0,{requiredKey:"moveBy",default:function(){return this.moveBy(1)}}),moveToPrevious:m$624$1(m$637$0,{requiredKey:"moveBy",default:function(){return this.moveBy(-1)}}),previous:function(){return e.value=this.get("value"),e.done=this.get("isValid"),this.moveBy(-1),e},moveBy:m$624$1(m$637$0,{requiredKey:["moveToNext","moveToPrevious"],default:function(e){if(e>0)for(;0!==e--;)this.moveToNext();else if(e<0)for(;0!==e++;)this.moveToPrevious();return this}})};m$591$0=o}();
!function(){"use strict";var t={mixinDependencies:[m$591$0],position:m$629$1(0),countAfter:m$629$1({readOnly:!0,get:function(t,n,e,i){return this.get("length")-this.get("position")-1}}),countBefore:m$629$1({readOnly:!0,get:function(t,n,e,i){return this.get("position")}}),moveTo:function(t){return this.set("position",t),this},length:m$624$1(m$639$0),moveBy:function(t){return this.moveTo(this.get("position")+t)}};m$611$0=t}();
!function(){"use strict";var t=m$626$0.extend(m$611$0,m$604$0,{init:function(t,e){this.__s._9e$D9$init.call(this),this.set("source",t),this.set("position",e||0)},source:m$629$1(),value:m$629$1({get:function(t,e,i,n){return this.get("source").objectAt(this.get("position"))},set:function(t,e,i,n,s){return this.get("source").setIndex(this.get("position"),t),t}}),isValid:m$629$1({readOnly:!0,get:function(t,e,i,n){var s=this.get("position");return s>=0&&s<this.get("length")}}),length:m$629$1({readOnly:!0,get:function(t,e,i,n){return this.getPath("source.length")}}),clone:function(){return this.constructor.create(this.get("source"),this.get("position"))},remove:function(){return this.get("source").removeAt(this.get("position"))[0]},add:function(t){var e=this.get("source"),i=e.get("length"),n=this.get("position")+1;e.insertAt(n,t);var s=e.get("length")!==i;return s&&this.set("position",Math.min(n,i)),s},__superMap:{_9e$D9$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.OrderedListIterator"}});m$607$0=t}();
!function(){"use strict";var e={mixinDependencies:[m$594$0],createIteratorAtEnd:m$624$1(m$637$0)};m$592$0=e}();
!function(){"use strict";var t={mixinDependencies:[m$592$0,m$598$0],createIterator:function(){return this.createIteratorAt(0)},createIteratorAtEnd:function(){return this.createIteratorAt(this.get("length")-1)},createIteratorAt:m$624$1(m$637$0)};m$610$0=t}();
!function(){"use strict";function t(t,e,i,n,r){var s=t.objectAt(r);for(t.swap(r,n),r=n;i<n;){var h=t.objectAt(i),o=e(h,s);o<=0?i++:t.swap(i,--n)}return t.swap(r,n),n}function e(i,n,r,s){var h=s-r+1;if(!(h<=1)){var o=Math.floor((r+s)/2);o=t(i,n,r,s,o),e(i,n,r,o-1),e(i,n,o+1,s)}}function i(t,e){return void 0===e?void 0===t?0:-1:void 0===t?1:(t=String(t),e=String(e),t<e?-1:t>e?1:0)}function n(t,e){t<0&&(t=e+t);var i=e-1;return t>i?t=i:t<0&&(t=0),t}function r(t,e,i,n,r){t<0&&m$802$0("Invalid length %{length}. Must be a positive integer.",{length:t,object:this});var s=this.get("_internalLength"),o=s-t;return o>0?this.splice(t,o):o<0&&(h.length=-o+2,h[0]=s,h[1]=0,this.splice.apply(this,h)),t}var s={mixinDependencies:[m$634$0,m$598$0,m$610$0],staticMembers:{resizingLengthSetter:r},lastItem:m$629$1({get:function(t,e,i,n){return this.objectAt(this.get("length")-1)},set:function(t,e,i,n,r){return this.setIndex(this.get("length")-1,t),t}}),push:function(){var t=this.get("length"),e=m$762$0(arguments,2);return e[0]=t,e[1]=0,this.splice.apply(this,e),t+arguments.length},pop:function(){var t=this.get("length")-1,e=this.objectAt(t);return this.splice(t,1),e},unshift:function(){var t=this.get("length"),e=m$762$0(arguments,2);return e[0]=0,e[1]=0,this.splice.apply(this,e),t+arguments.length},shift:function(){var t=this.objectAt(0);return this.splice(0,1),t},insertAt:function(t){var e=m$762$0(arguments,2,1);return e[0]=t,e[1]=0,this.splice.apply(this,e),this},removeAt:function(t,e){return void 0===e&&(e=1),this.splice(t,e)},add:function(t){return this.push(t),!0},remove:function(t){var e=this.indexOf(t);
return e!==-1&&(this.splice(e,1),!0)},slice:function(t,e){var i=this.get("length");if(0===i)return[];t=void 0===t?0:n(t,i),e=void 0===e||e>i?i:n(e,i);for(var r=e-t,s=new Array(r),h=0;h<r;h++)s[h]=this.objectAt(h+t);return s},indexOf:function(t,e){var i=this.get("length");e=void 0===e?0:n(e,i);for(var r=e;r<i;r++)if(this.objectAt(r)===t)return r;return-1},contains:function(t){return this.indexOf(t)!==-1},lastIndexOf:function(t,e){var i=this.get("length");e=void 0===e?i-1:n(e,i);for(var r=e;r>=0;r--)if(this.objectAt(r)===t)return r;return-1},splice:function(t,e){var i=this._internalLength;t<0?(t=i+t,t<0&&(t=0)):t>i&&(t=i);var n=arguments.length;if((1===n||e+t>i)&&(e=i-t),2===n&&0===e)return[];var r=m$762$0(arguments);return r[0]=t,r[1]=e,this.rawSplice.apply(this,r)},rawSplice:m$624$1(m$637$0),objectAt:m$624$1(m$637$0),iteratorClass:m$629$1({readOnly:!0,defaultValue:m$607$0}),createIteratorAt:function(t){return this.get("iteratorClass").create(this,t)},join:function(t){void 0===t&&(t=",");for(var e=this.get("length"),i="",n=0;n<e;n++){var r=this.objectAt(n);0!==n&&(i+=t),m$771$0(r)&&(i+=r.toString())}return i},toString:function(){return this.join(", ")},reverse:function(){for(var t=this.get("length")-1,e=0;e<t;e++,t--)this.swap(e,t);return this},setIndex:function(t,e){return t>this.length&&(this.length=t+1),this.splice(t,1,e),this},swap:function(t,e){var i=this.objectAt(e);return this.setIndex(e,this.objectAt(t)),this.setIndex(t,i),this},sort:function(t){return t||(t=i),e(this,t,0,this.get("length")-1),this},reduce:function(t,e,i){var n,r=0,s=this.length;arguments.length>=2?n=e:s>0?(n=this.objectAt(0),
r=1):m$802$0("reduce of empty array with no initial value");for(var h=r;h<s;h++)n=t.call(i,n,h,this.objectAt(h),this);return n},find:function(t,e){for(var i=this.get("length"),n=0;n<i;n++){var r=this.objectAt(n);if(t.call(e,r,n,this))return r}},findIndex:function(t,e){for(var i=this.get("length"),n=0;n<i;n++){var r=this.objectAt(n);if(t.call(e,r,n,this))return n}return-1},clear:function(){return this.splice(0,this.get("length")),this},map:function(t,e){for(var i=this.constructor.create(),n=0,r=this.get("length");n<r;n++){var s=t.call(e,this.objectAt(n),n,this);i.setIndex(n,s)}return i},_internalLength:m$639$0.create()},h=[];m$608$0=s}();
!function(){"use strict";function r(r){r&&(Array.isArray(r)||m$620$0(r,m$590$0))||m$802$0("CW.Utils.appendArrays expects an array and got: "+r);for(var e=1,t=arguments.length;e<t;e++){var $=arguments[e],n=r.length,a=$.length,s=0,i=n;if(m$620$0($,m$590$0))for(;s<a;s++,i++)r.splice(i,0,$.objectAt(s));else for(;s<a;s++,i++)r.splice(i,0,$[s])}return r}m$761$0=r}();
!function(){"use strict";function t(t){return m$787$0.call(this,t,m$787$0)}m$789$0=t}();
!function(){"use strict";function t(){return this._array&&this._array.length||0}var r=m$626$0.extend(m$608$0,{init:function(t){var r,e=!1;m$772$0(t)?r=m$766$0(t):m$620$0(t,m$593$0)?r=t.toArray():(r=[],e=!0),this._array=r,e?this.__s._9N$PC$init.apply(this,arguments):this.__s._9N$Pv$init.call(this);var i=this.serializer;if(i&&i.encode)for(var n=0,a=r.length;n<a;n++)r[n]=i.encode(r[n],n)},appendArrays:function(){e.length=0,e[0]=1/0;for(var t=0,r=arguments.length;t<r;t++){var i=arguments[t];m$761$0(e,i)}return this.insertAt.apply(this,e),this},_array:null,rawSplice:function(t,r){var e,i,n=this._array,a=arguments,s=this.get("serializer");if(s&&s.encode)for(a=m$762$0(arguments,0,0),e=2,i=a.length;e<i;e++)a[e]=s.encode(a[e],e-2);var $=n.splice.apply(n,a);if(s&&s.decode)for(e=0,i=$.length;e<i;e++)$[e]=s.decode($[e],e);return $},objectAt:function(t){return this.decode(this._array[t],t)},length:m$629$1({get:t,set:m$608$0.staticMembers.resizingLengthSetter}),_internalLength:m$629$1({readOnly:!0,get:t}),shallowCopy:function(){return this.constructor.create(m$790$0(this._array))},toJSON:function(){return m$789$0(this._array)},__superMap:{_9N$PC$init:"init",_9N$Pv$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Array"}}),e=[];m$590$0=r}();
!function(){"use strict";function o(o){return null===o||"object"!==("undefined"==typeof o?"undefined":t(o))&&"function"!=typeof o}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};m$779$0=o}();
!function(){"use strict";var t=function(t){var n="";try{var r=t&&t.toJSON&&t.toJSON()||t;n=m$779$0(r)?""+r:JSON.stringify(r)}catch(r){try{n=t+" (could not `JSON.stringify()`)"}catch(t){n="(cannot stringify context)"}}return n};m$800$0=t}();
!function(){"use strict";var t=m$590$0.extend(m$643$0,{toJSON:function(){var t=this.toArray();if(t.length<=1)return t[0];for(var n=[],r=0,e=t.length;r<e;r++)n.push("*** Context "+(r+1)+": ***\n"+m$800$0(t[r]));return n.join("\n")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Utils.MultiContext"}});m$795$0=t}();
!function(){"use strict";var n=function(n,a,$){if(t){if(m$498$0.isExceptionHandlingFatal)return;t=!1}if(e)return n.apply($,a);if(!m$498$0.get("isExceptionHandlingEnabled"))return m$768$0(n,$,a);e=!0;try{return m$768$0(n,$,a)}catch(n){var i=m$795$0.get("sharedInstance");i.get("length")&&(i.push(n.context),i.reverse(),n.context=i),m$498$0.exceptionHandler(n),m$498$0.exceptionWasHandled=!0,m$498$0.isExceptionHandlingFatal&&(t=!0),m$795$0.set("sharedInstance",null)}finally{e=!1}},e=!1,t=!1;m$794$0=n}();
!function(){"use strict";var t={mixinDependencies:[m$634$0],action:m$637$0.create()},e=m$563$1("AppStates",function(t){t("NEW"),t("COMPLETE")}),i=m$626$0.extend(m$544$0,m$643$0,t,{staticMembers:{states:e,__QUALIFIED_CLASS_NAME__:"CW.AppInitializer"},dependencies:m$619$1(Array),run:function(t){this.action(t),this.get("isAsync")||this.complete()},isAsync:!1,state:m$545$1(e.NEW),complete:function(){this.set("state",e.COMPLETE)}});m$497$1=t,m$497$0=i}();
!function(){"use strict";var t="en-us",e=m$626$0.extend(m$544$0,m$643$0,{DEFAULT_LOCALE:t,_locales:{},getRegistryFor:function(t){var e=this._locales[t]&&this._locales[t];return e||(e=this._locales[t]={}),e},addValuesFor:function(t,e){for(var r=this.getRegistryFor(t),i=Object.keys(e),s=0,o=i.length;s<o;s++){var n=i[s];r[n]=e[n]}},locale:m$545$1(t),getValue:function(t,e){var r=this.get("locale"),i=this.getRegistryFor(r),s=i[t];if(!s)for(var o=r.split(/-|_/),n=0,a=o.length;n<a+1;n++){o.pop();var _=o.join("-");if(i=this.getRegistryFor(_),s=i[t])break}if(!s){var l=this.getRegistryFor(this.DEFAULT_LOCALE),c=this.DEFAULT_LOCALE.split(/-|_/)[0],g=this.getRegistryFor(c),u=l[t]||g[t];if(!u)return t;s=u}return e?m$829$0(s,e):s},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Locale"}}),r=e.get("sharedInstance"),i=function(t,e){return r.addValuesFor(t,e)},s=function(t,e){return r.getValue(t,e)},o=function(t){r.set("locale",t)},n=function(){return r.get("locale")};if(window.__CW_BUILD_INFO){var a=window.__CW_BUILD_INFO.locale;o(a);var _=__CW____EMBEDDED_LOC_STRINGS;if(_){var l,c=_.length;for(l=0;l<c;l++)i(a,_[l])}}m$565$0=e,m$565$2=i,m$565$1=s,m$565$3=o,m$565$4=n}();
!function(){"use strict";function r(r,t,e){if(!r)return h;t||null===t||t===!1||(t=i);var d=t||e?m$807$0(t)+l+r+l+!!e:r,g=s[d];if(g)return g;if(Array.isArray(t))return s[d]=n(r,t,e);var A,$,m,C,p,w=r.length,P="";for(A=0;A<w;A++)$=r[A-1],m=r[A],C=m.toLowerCase(),p=r[A+1],P+=$&&c(m)&&c($)&&(!o($)&&o(m)||u($)&&f(m)||p&&o($)&&o(m)&&a(p))?v+C:C;return s[d]=P}function n(n,e,i){var u=t(e),a=n.match(u);if(!a||!a.length)return r(n,null,i);for(var o=n.split(u),c=r(o[0]),l=0,h=a.length;l<h;l++){var s=a[l];i||(s=s.toLowerCase());var d=o[l+1];d&&(d=r(d,null,i)),c+=(c&&v)+s,d&&(c+=(f(d[0])?v:"")+d)}return c}function t(r){var n=m$807$0(r),t=d[n];if(t)return t;var e=r.map(function(r){if("i"===r[0]&&o(r[1]))return"I"+r.substring(1)});return r=r.concat(e.filter(function(r){return!!r})),t=d[n]=new RegExp(r.join("|"),"g")}function e(r,n){var t=r.charCodeAt(0),e=n.charCodeAt(0),i={};return function(r){var n=i[r];if(void 0!==n)return n;var u=r.charCodeAt(0);return n=i[r]=u>=t&&u<=e}}var i=["iOS","iPhone","iPad","iPod","WebKit"],u=e("0","9"),a=e("a","z"),o=e("A","Z"),f=function(r){return a(r)||o(r)},c=function(r){return f(r)||u(r)},v="-",l="#",h="",s={},d={};m$830$0=r}();
!function(){"use strict";function n(n){for(var r={},t=n.length,u=0;u<t;u++){var c=n[u];r[c]=!0}return r}m$763$0=n}();
!function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=["is-","are-","has-"],e=m$763$0(["isConnected","isInitialized","isDisposed","isAbstract","propertiesAreInitialized"]),n={},i=function(t,o,i){i=i||"";var s=m$775$0(t),f=s?e:n;for(var u in t)if(!f[u]&&"_"!==u[0]&&t.hasOwnProperty(u)){var p=s?t.get(u):t[u];r(u,p,o,i)}},r=function(e,n,i,r){r=r||"";var p="undefined"==typeof n?"undefined":t(n);if("boolean"===p){for(var y,a,c=m$830$0(e),l=0;y=o[l];l++)a=y.length,c.substring(0,a)===y&&(c=c.substring(a));c&&i.classList.toggle(c,n)}else{if("object"===p||"function"===p){var b=n&&n.toString;b!==s&&b!==f&&b!==u||(n=null)}var m=r+m$830$0(e);n||0===n?i.setAttribute(m,""+n):i.removeAttribute(m)}},s=Object.prototype.toString,f=Function.prototype.toString,u=m$626$0.prototype.toString;m$820$0=i,m$820$1=r}();
!function(){"use strict";var n=function(n){var i=n._exceptionHandling_wrappedFunction;return i?i===!0?n:i:(i=function(){return m$794$0(n,arguments,this)},i._exceptionHandling_wrappedFunction=!0,n._exceptionHandling_wrappedFunction=i,i)};m$801$0=n}();
!function(){"use strict";var n=function(n,t,e,r){return n.addEventListener(t,m$801$0(e),r||!1)};m$792$0=n}();
!function(){"use strict";var i=m$561$0.extend({init:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.__s._AJ$A8$init.apply(this,arguments),m$792$0(window,"resize",this.updateDimensions.bind(this))},x:0,y:0,width:0,height:0,updateDimensions:function(){this.set("width",window.innerWidth),this.set("height",window.innerHeight)},__superMap:{_AJ$A8$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.BrowserWindow"}});m$649$0=i}();
!function(){"use strict";var e=m$626$0.extend(m$643$0,{init:function(e){var i=e&&e.userAgent;i?delete e.userAgent:i=window.navigator.userAgent,i=i.toLowerCase();var s,t,r,o,n,d=/\sedge\//.test(i),a=!d&&/chrome/.test(i),m=!d&&!a&&/safari/.test(i),v=!d&&!a&&!m&&/firefox/.test(i),g=!d&&!a&&!m&&!v&&/trident|msie/.test(i),c=d,$=!c&&/applewebkit/.test(i)&&!/edge/.test(i),I=!c&&!$&&/trident/.test(i),f=!c&&!$&&!I&&/gecko/.test(i);d?(s=i.match(/(?:edge).(\d+)\.(\d+)/),o=i.match(/(?:edge).(\d+)/)):(s=i.match(/(?:chrome|version|firefox|msie|rv).(\d+)\.(\d+)/),o=i.match(/(?:applewebkit|gecko|trident).(\d+)/)),s&&(t=parseInt(s[1],10),r=parseInt(s[2],10)),o&&(n=parseInt(o[1])),this.__s._AI$ny$init.call(this,{isChrome:a,isSafari:m,isFirefox:v,isEdge:d,isIE:g,isIE9OrLower:g&&t<10,isIE8OrLower:g&&t<9,majorVersion:t,minorVersion:r,isEdgeHTML:c,isWebKit:$,isGecko:f,isTrident:I,engineMajorVersion:n})},isChrome:void 0,isFirefox:void 0,isEdge:void 0,isIE:void 0,isIE9OrLower:void 0,isIE8OrLower:void 0,isSafari:void 0,majorVersion:void 0,minorVersion:void 0,isEdgeHTML:void 0,isWebKit:void 0,isGecko:void 0,isTrident:void 0,engineMajorVersion:void 0,window:m$619$1(m$649$0),__superMap:{_AI$ny$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.Browser"}});m$648$0=e}();
!function(){"use strict";var i=[{name:"dppx",multiple:1},{name:"dpi",multiple:window.screen.logicalXDPI||96}],e="",t=NaN,o=!1;!function(){if(window.matchMedia)for(var a,n,s=0;a=i[s];s++){n=a.name;var d="(min-resolution: 1"+n+")",r=window.matchMedia(d),c=r?r.media:null;if(c&&c.indexOf("min-resolution")!==-1)return o=!0,e=n,void(t=a.multiple)}}();var a=m$626$0.extend(m$544$0,m$643$0,{isMac:void 0,isWindows:void 0,isiOS:void 0,osMajorVersion:void 0,osMinorVersion:void 0,isiPhone:void 0,isiPad:void 0,isiPhoneLikeDevice:void 0,isiPadLikeDevice:void 0,devicePixelRatio:m$545$1({get:function(i,e,t,o){return this._devicePixelRatio||(this._devicePixelRatio=this._getDevicePixelRatio())},readOnly:!0}),_getDevicePixelRatio:function(){return window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1},_devicePixelRatio:NaN,isRetina:void 0,init:function(i){var e=i&&i.userAgent;e?delete i.userAgent:e=window.navigator.userAgent,this.__s._AN$2BY$init.apply(this,arguments),e=e.toLowerCase();var t=!!/mac/.test(e)&&!/like mac/.test(e),o=!!/windows/.test(e);this.isMac=t,this.isWindows=o;var a,n,s,d=e.match(/\b(iPad|iPhone|iPod)\b.*\bOS (\d+)_(\d+)/i);if(d){var r=d[1];a="iphone"===r||"ipod"===r,n="ipad"===r,s=a||n}else a=n=s=!1;this.isiPhone=a,this.isiPad=n,this.isiOS=s;var c,h,l;t?(c=e.match(/mac os x (\d+)[ _\.](\d+)/),c&&(h=c[1],l=c[2])):o?(c=e.match(/windows[ a-z]+?(\d+)[ _\.](\d+)/),c&&(h=c[1],l=c[2])):s&&(h=d[2],l=d[3]),h&&(this.osMajorVersion=parseInt(h,10)),l&&(this.osMinorVersion=parseInt(l,10)),this.isRetina=window.devicePixelRatio>1,this._updateDevicePixelRatio(),m$792$0(window,"resize",this._updateDevicePixelRatio.bind(this),!1);
},_updateDevicePixelRatio:function(){if(m$648$0.getPath("sharedInstance.isFirefox")){var i=this._forceWindowResizeNotificationCanvas;i||(i=this._forceWindowResizeNotificationCanvas=document.createElement("canvas"),i.width=1,i.height=1,this._forceWindowResizeNotificationCanvasContext=i.getContext("2d"),i.classList.add("ff-force-window-resize-notification"),i.style.position="absolute",i.style.left="-1000px",i.style.top="-1000px",document.body.appendChild(i));this._forceWindowResizeNotificationCanvasContext}var e=this._getDevicePixelRatio();e!==this._devicePixelRatio&&(this._devicePixelRatio=e,this._detectChangeAwayFromDPR(e),this.propertyChanged("devicePixelRatio"))},_detectChangeAwayFromDPR:function(i){if(window.matchMedia){var a,n=.001,s=Math.round(i/n)*n,d=s+n,r=s-n,c=m$801$0(this._updateDevicePixelRatio.bind(this)),h=this._dprQueryListCache||(this._dprQueryListCache={}),l=this._activeMediaQueryListPair,v=h[s];v||(v=h[s]={},a="(-webkit-min-device-pixel-ratio: "+r+"), (min--moz-device-pixel-ratio: "+r+")"+(o?", (min-resolution: "+r*t+e+")":""),v.lowerBound=window.matchMedia(a),a="(-webkit-max-device-pixel-ratio: "+d+"), (max--moz-device-pixel-ratio: "+d+")"+(o?", (max-resolution: "+d*t+e+")":""),v.upperBound=window.matchMedia(a)),v!==l&&(l&&(l.lowerBound.removeListener(c),l.upperBound.removeListener(c)),v.lowerBound.addListener(c),v.upperBound.addListener(c),this._activeMediaQueryListPair=v)}},_dprQueryListCache:null,_resMultiple:t,__superMap:{_AN$2BY$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.Device"}});m$653$0=a}();
!function(){"use strict";function $($,t){var n="data-";m$820$0(t||m$653$0.get("sharedInstance"),$,n),m$820$0(t||m$648$0.get("sharedInstance"),$,n)}m$672$0=$}();
!function(){"use strict";var e=m$497$0.extend({action:function(){m$672$0(document.documentElement),m$565$0.get("sharedInstance").observe("locale",function(e){m$820$1("lang",e,document.documentElement)})},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.AppInitializers.DocumentElementInititalizer"}});m$499$0=e}();
!function(){"use strict";var t=m$497$0.extend({isAsync:!0,_loadedCount:m$545$1(0),_imageCount:m$545$1(),_isRunning:m$545$1(),_stateDidChange:m$557$1("_loadedCount","_imageCount","_isRunning",function(t,e,i){i&&t===e&&this.complete()}),action:function(t){var e=null,i=window.__CW_BUILD_INFO;i&&(e=m$653$0.get("sharedInstance").get("isRetina")?i.images2x:i.images1x),e||(e=[]),this.set("_imageCount",e.length);for(var n=0;n<e.length;n++){var a=e[n],s=document.createElement("img");m$792$0(s,"load",this._imageDidLoad.bind(this)),s.src=a}this.set("_isRunning",!0)},_imageDidLoad:function(){this.set("_loadedCount",this.get("_loadedCount")+1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.AppInitializers.SpritePreloader"}});m$504$0=t}();
!function(){"use strict";var t=m$497$0.extend({action:function(t){t.get("rootElement")||m$802$0("Must provide a `rootElement`")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.AppInitializers.RootElementInitializer"}});m$501$0=t}();
!function(){"use strict";var r=function(r,t){var e,n,$=arguments.length;if(m$620$0(r,m$588$0))for(e=2;e<$;e++)n=arguments[e],t[n]=r.get(n);else for(e=2;e<$;e++)n=arguments[e],t[n]=r[n];return t};m$788$0=r}();
!function(){"use strict";function t(t,e,i){for(var n=0,r=i.length;n<r;n++){var s=i[n],a=e[s];void 0!==a&&(t[s]=a)}}var e=m$626$0.extend({staticMembers:{nativePropertiesToCopy:["ctrlKey","shiftKey","altKey","metaKey","relatedTarget"],eventPropertiesToCopy:["bubbles","cwType","ctrlKey","shiftKey","altKey","metaKey","relatedTarget","nativeEvent"],__QUALIFIED_CLASS_NAME__:"CW.Responder.Event"},init:function(e){if(e){if(m$620$0(e,this.constructor))return t(this,e,this.constructor.eventPropertiesToCopy),void this.__s._Ai$RY$init.call(this);var i=e.nativeEvent;i&&t(this,i,this.constructor.nativePropertiesToCopy)}this.__s._Ai$WX$init.apply(this,arguments),this.cwType||(this.cwType=this.type)},bubbles:!0,cwType:null,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,relatedTarget:null,nativeEvent:null,preventDefault:function(){this.nativeEvent.preventDefault()},__superMap:{_Ai$RY$init:"init",_Ai$WX$init:"init"}});m$674$0=e}();
!function(){"use strict";var t=m$674$0.extend({staticMembers:{nativePropertiesToCopy:m$589$1(["screenX","screenY","clientX","clientY","button","buttons","detail","target"]),eventPropertiesToCopy:m$589$1(["screenX","screenY","clientX","clientY","button","buttons","detail","target"]),__QUALIFIED_CLASS_NAME__:"CW.Responder.Events.MouseEvent"},init:function(t){if(this.__s._Aj$GA$init.call(this,t),t){var e=t.nativeEvent;if(e&&!this.target){var n=e.srcElement;n&&(this.target=n)}}},screenX:0,screenY:0,clientX:0,clientY:0,button:0,buttons:0,detail:0,target:null,targetView:null,__superMap:{_Aj$GA$init:"init"}});m$675$0=t}();
!function(){"use strict";var t="mouse",e="pen",i="touch",r=m$675$0.extend({staticMembers:{nativePropertiesToCopy:m$589$1(["pointerId","width","height","pressure","tiltX","tiltY","pointerType","isPrimary"]),eventPropertiesToCopy:m$589$1(["pointerId","width","height","pressure","tiltX","tiltY","pointerType","isPrimary"]),__QUALIFIED_CLASS_NAME__:"CW.Responder.Events.PointerEvent"},pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",isPrimary:!1});m$676$1=t,m$676$2=e,m$676$3=i,m$676$0=r}();
!function(){"use strict";var E={BACKSPACE:8,TAB:9,RETURN:13,ENTER:13,SHIFT:16,CTRL:17,OPTION:18,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,INSERT:45,CMD:91};m$688$0=E}();
!function(){"use strict";var i=m$763$0([m$688$0.SHIFT,m$688$0.CTRL,m$688$0.OPTION,m$688$0.CMD]),e=m$626$0.extend({init:function(i){"string"==typeof i?(this.__s._Ay$HZ$init.call(this),this._initFromString(i)):this.__s._Ay$Iz$init.apply(this,arguments)},getKeyCode:function(i){var e=i.trim().toUpperCase();return m$688$0[e]||e.charCodeAt(0)},addKey:function(e){i[e]?this._addModifier(e):this._addSequencedKey(e)},clear:function(){this.modifiers&&(this.modifiers.length=0),this.keys&&(this.keys.length=0)},toString:function(){var i="";return this.modifiers&&(i+=this.modifiers.sort().join("+")+":"),this.keys&&(i+=this.keys.join(",")),i},_initFromString:function(e){var t,s,n,r;if(/\+/.test(e))for(t=e.split("+"),s=0,n=t.length;s<n;s++){var o=this.getKeyCode(t[s]);i[o]?this._addModifier(o):(r&&m$802$0("Invalid key sequence: "+e+". Key sequences do not support pressing two (non-modifier) keys at the same time"),r=!0,this._addSequencedKey(o))}else for(t=e.split(/\s/),s=0,n=t.length;s<n;s++)this._addSequencedKey(this.getKeyCode(t[s]))},_addModifier:function(i){var e=this.modifiers||(this.modifiers=[]);e.push(i)},_addSequencedKey:function(i){var e=this.keys||(this.keys=[]);e.push(i)},__superMap:{_Ay$HZ$init:"init",_Ay$Iz$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Responder.KeySequence"}});m$690$0=e}();
!function(){"use strict";var t=m$626$0.extend(m$604$0,{_set:null,_map:null,_keys:null,init:function(t,e){this._set=t;var s=this._map=t._map;this._keys=e||global.Object.keys(s),this.__s._9l$A4$init.apply(this,arguments)},moveToNext:function(){return this._keys.pop(),this},isValid:m$629$1({readOnly:!0,get:function(t,e,s,i){return!!this._keys.length}}),_getCurrentItem:function(){var t=this._keys;return this._set.decode(this._map[t[t.length-1]])},value:m$629$1({get:function(t,e,s,i){return this._getCurrentItem()},set:function(t,e,s,i,n){var r=this._getCurrentItem();return this._set.remove(r),this._set.add(t),this._keys.pop(),this._keys.push(m$807$0(t)),t}}),clone:function(){return this.constructor.create(this._set,m$790$0(this._keys))},remove:function(){var t=this.get("value");return this._set.remove(t),this.moveToNext(),t},add:function(t){return this._keys.pop(),this._keys.push(m$807$0(t)),this._set.add(t)},__superMap:{_9l$A4$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.SetIterator"}});m$614$0=t}();
!function(){"use strict";var e=m$626$0.extend(m$598$0,{_map:m$619$1(global.Object),length:m$629$1({readOnly:!0,defaultValue:0}),size:m$629$1({readOnly:!0,get:function(e,t,n,r){return this.length}}),add:function(e){e=this.encode(e);var t=m$807$0(e),n=this._map;return!n.hasOwnProperty(t)&&(n[t]=e,this._length++,!0)},remove:function(e){e=this.encode(e);var t=m$807$0(e),n=this._map;return!!n.hasOwnProperty(t)&&(delete n[t],this._length--,!0)},contains:function(e){e=this.encode(e);var t=m$807$0(e);return this._map.hasOwnProperty(t)},iteratorClass:m$629$1({readOnly:!0,defaultValue:m$614$0}),staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Set"}});m$613$0=e}();
!function(){"use strict";var n=function(n,t){var i=arguments;return i[0]=m$801$0(n),window.setTimeout.apply(window,i)};m$799$0=n}();
!function(){"use strict";var e=m$626$0.extend(m$643$0,m$544$0,{timeToKeepKeySequence:1e3,activeKeySequence:m$629$1({readOnly:!0,get:function(e,t,i,c){return this._keySequence||(this._keySequence=m$690$0.create())}}),activeKeys:m$545$1({readOnly:!0,defaultValue:function(){return m$613$0.create()}}),_activeKeyLocations:m$619$1(Object),keyDown:function(e){this._timer&&(clearTimeout(this._timer),delete this._timer);var t=this.get("activeKeySequence"),i=e.which;t.addKey(i);var c=this.get("_activeKeyLocations"),a=this.get("activeKeys").contains(i),n=1<<e.location;c[i]|=n,a||(this.get("activeKeys").add(i),this.propertyChanged("activeKeys"))},keyUp:function(e){var t=this._keySequence;if(t){this._timer&&clearTimeout(this._timer),this._timer=m$799$0(function(){t.clear()},this.get("timeToKeepKeySequence"));var i=e.which,c=this.get("_activeKeyLocations"),a=1<<e.location,n=~a,s=c[i]&=n;s||(this.get("activeKeys").delete(i),this.propertyChanged("activeKeys"))}},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Responder.KeyManager"}});m$689$0=e}();
!function(){"use strict";function e(e,n){n||m$802$0("CW.Responder.sendEvent: Must receive an event.");for(var r=arguments.length,t=1,v=[];t<r;t++)v[t-1]=arguments[t];for(var a=e;a;){if(a.handleEvent){var i=a.handleEvent.apply(a,v);if(i||void 0===i)return!0}a=a.nextResponder}return!1}m$693$0=e}();
!function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e={mixinDependencies:[m$544$0,m$625$0],nextResponder:m$629$1(),sendEvent:function(t){var e=m$762$0(arguments);return e.unshift(this),m$693$0.apply(void 0,e)},handleEvent:function(t){for(var e=!1,n=arguments.length,r=1,o=[];r<n;r++)o[r-1]=arguments[r];var i=this[t];if(i&&(e=i.apply(this,o)),!e){var s=this._specialEventHandlers;s&&(i=s[t])&&(e=i.apply(this,o))}return e},_registeredShortcuts:m$619$1(Object),registerShortcutKeyCombo:function(e,n,r){var o=m$690$0.create(e),i=o.toString(),s=this._registeredShortcuts;s[i]&&m$802$0("Shortcut already registered for `"+e+"` on "+this),n||m$802$0("Cannot register shortcut for `"+e+"`, because no action was provided");var u="undefined"==typeof n?"undefined":t(n);"function"!==u&&("string"===u?(n=this[n],"function"!=typeof n&&m$802$0("Cannot register shortcut for `"+e+"`, because the action is not a function")):m$802$0("Cannot register shortcut for `"+e+"`, because the action is not a function")),s[i]={action:n,context:r};var c=this._specialEventHandlers||(this._specialEventHandlers={});c.keyDown=this.triggerShortcutIfExists},triggerShortcutIfExists:function(t){var e=m$689$0.get("sharedInstance"),n=this._registeredShortcuts,r=e.get("activeKeySequence"),o=r.toString(),i=n[o];return!!i&&(r.clear(),i.action.call(this,i.context),!0)},getPointerCapture:function(t){return n[t]},setPointerCapture:function(t){n[t]=this;
},releasePointerCapture:function(t){n[t]===this&&delete n[t]},pointerOver:null,pointerDown:null,pointerMove:null,pointerUp:null,pointerOut:null,pointerEnter:null,pointerLeave:null,wheel:null},n={};m$691$0=e}();
!function(){"use strict";function e(){return"createTouch"in document&&!m$653$0.get("sharedInstance").get("isWindows")}var t="pointer",i="touch",o="mouse",n=m$626$0.extend({init:function(e){this.__s._AK$GQ$init.call(this,e);var n;this.isPointerSupported?n=t:this.isTouchSupported?n=i:this.isMouseSupported&&(n=o),this.pointerEventClass=n||null},pointerEventClass:void 0,isPointerSupported:!1,isTouchSupported:!1,isMouseSupported:!1,isMouseWheelSupported:!1,isInputSupported:!1,__superMap:{_AK$GQ$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.Capabilities.Event"}}),s=n.create({isPointerSupported:window.navigator.msPointerEnabled||window.navigator.pointerEnabled,isTouchSupported:e(),isMouseSupported:"onmousedown"in document,isMouseWheelSupported:"onwheel"in document||"onmousewheel"in document,isInputSupported:!m$648$0.get("sharedInstance").get("isIE9OrLower")});m$650$0=n,m$650$1=s}();
!function(){"use strict";function t(){return this._items.length}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e={mixinDependencies:[m$634$0],didRemoveItem:function(t){}},n=m$626$0.extend(m$608$0,{_items:[],_index:0,_sizeLimit:null,init:function(t){var e;"object"===("undefined"==typeof t?"undefined":i(t))?(e=t.sizeLimit,this.set("delegate",t.delegate)):e=t,("number"!=typeof e||e<=0)&&m$802$0("sizeLimit must be a positive integer before pushing items."),this._sizeLimit=e,this._items=[];for(var n=1,s=arguments.length;n<s;n++)this.push(arguments[n]);this.__s._9j$19e$init.call(this)},delegate:null,rawSplice:function(){this.normalizeIndex();var t=this._items,i=this._sizeLimit,e=t.splice.apply(t,arguments),n=t.length;return n>i&&(this._items=t.splice(0,i),e=this._items),this._index=t.length,e},normalizeIndex:function(){var t=this._items,i=this._sizeLimit,e=this._index,n=[];if(!i||e<i||e%i===0)return t;for(var s=e;s%i!==0;)n.push(t[s%i]),s++;for(var r=0,o=e%i;r<o;r++)n.push(t[r]);return this._items=n,this._index=n.length,n},toArray:function(){return this.normalizeIndex(),this._items},push:function(){for(var t,i,e=this.get("delegate"),n=e?e.get("didRemoveItem"):null,s=0,r=arguments.length;s<r;s++)t=this._index%this._sizeLimit,i=this._items[t],this._items[t]=arguments[s],this._index++,i&&n&&n(i)},objectAt:function(t){var i=this._sizeLimit,e=this._items,n=this._index%i,s=t+n;return"number"!=typeof i||t<0||t>=i?void 0:e.length<i||0===n?e[t]:s<i?e[s]:e[s-i];
},length:m$629$1({get:t}),_internalLength:m$629$1({get:t}),__superMap:{_9j$19e$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.RollingArray"}});m$612$1=e,m$612$0=n}();
!function(){"use strict";function e(e){return m$620$0(e,window.SVGElementInstance)?e.correspondingElement:e}function t(t,r){var n=r.cwType,i="pointerUp"===n||"pointerCancel"===n||"pointerMove"===n,s=t.get("element")===e(r.target);return i||s}function r(t){return n(e(t.target))}function n(e){for(var t;e&&!(t=e.view);)e=e.parentNode;return t}function i(e){return e.preventDefault&&e.preventDefault(),!1}var s=m$626$0.extend(m$691$0,{events:null,init:function(e){var t=e&&e.element;if(t){var r=global.document,n=t;t===r&&(n=r.body),this._cursorLockElement=n,delete e.element}this.__s._A_$ZV$init.apply(this,arguments),t&&this.addEventListenersToElement(t)},addEventListenersToElement:function(e){var t=global.document;!t||e!==t.body&&e!==t.documentElement||(e=global.document),o(e),this._listenedElements.push(e);var r=this.get("events");if(r)for(var n=0,i=r.length;n<i;n++){var s=r[n],a=s.useCapture,c=s.handlers;for(var l in c)m$792$0(e,l,c[l].bind(this),a)}},_listenedElements:m$619$1(Array),dispatchEvent:function(e){e||m$802$0("RootResponder#dispatchEvent requires an event.");var n=e.cwType;"keyDown"!==n&&"keyUp"!==n||m$689$0.get("sharedInstance")[n](e);var i,s=this.getPointerCapture(e.pointerId),o=r(e);if(e.targetView=o,this._synthesizePointerMoveEventsIfNecessary(e),s){if(!t(s,e))return;i=s}else{i=o;var c;if(!i&&(c=m$498$0.application)){var l=c.activePane;l&&l.view&&(i=l.view)}}i||(i=this),this.willDispatchEvent(e);var v=!1;return e.bubbles?v=m$693$0(i,n,e):i.handleEvent&&(a[0]=n,a[1]=e,v=i.handleEvent.apply(i,a),a[0]="",a[1]=null),this.didDispatchEvent(e,v),v},_synthesizePointerMoveEventsIfNecessary:function(e){
var t=e.cwType;"pointerOut"===t&&this._checkIfPointerLeft(e),"pointerMove"===t&&this._dispatchPointerEnterOrLeave(e,e.targetView);var r;if(e.pointerType===m$676$3){if("pointerUp"===t||"pointerCancel"===t){var n=m$676$0.create({nativeEvent:e,cwType:"pointerOut"});for(this.dispatchEvent(n),r=e.targetView;r;){var i=m$676$0.create({cwType:"pointerLeave",bubbles:!1,target:r.element});this.dispatchEvent(i),r=r.parent}}if("pointerDown"===t){var s=m$676$0.create({nativeEvent:e,cwType:"pointerOver"});for(this.dispatchEvent(s),r=e.targetView;r;){var o=m$676$0.create({cwType:"pointerEnter",bubbles:!1,target:r.element});this.dispatchEvent(o),r=r.parent}}}},_checkIfPointerLeft:function(e){for(var t=e.relatedTarget,r=this._listenedElements,n=r.length,i=0;i<n;i++)if(r[i].contains(t))return;return this._pointerLeft(e)},_previousPointerMoveView:null,_previousViewAncestors:m$619$1(Array),_previousViewAncestorsSwap:m$619$1(Array),_pointerLeft:function(e){return this._dispatchPointerEnterOrLeave(e,null),!1},_dispatchPointerEnterOrLeave:function(e,t){if(t!==this._previousPointerMoveView){var r=this._previousViewAncestorsSwap;for(r.length=0;t;)r.push(t),t=t.parent;for(var n=r.length-1,i=this._previousViewAncestors,s=i.length-1;i[s]===r[n]&&s>=0&&n>=0;)s--,n--;var o;for(o=0;o<=s;o++){var a=i[o];if(!a.isDisposed){var c=m$676$0.create({cwType:"pointerLeave",bubbles:!1,target:a.element});this.dispatchEvent(c)}}for(o=0;o<=n;o++){var l=m$676$0.create({cwType:"pointerEnter",bubbles:!1,target:r[o].element});this.dispatchEvent(l)}this._previousViewAncestors=r,this._previousViewAncestorsSwap=i,this._previousPointerMoveView=t;
}},willDispatchEvent:m$805$0,didDispatchEvent:m$805$0,lockCursor:function(e){var t;switch(e){case"default":t="cw-global-cursor-default";break;case"pointer":t="cw-global-cursor-pointer";break;case"horizontal-resize":t="cw-global-cursor-horizontal-resize";break;case"vertical-resize":t="cw-global-cursor-vertical-resize"}var r=this._cursorLockElement;t&&r.classList.add(t),this._cursorLockClassName=t,r.addEventListener("selectstart",i)},releaseCursor:function(){var e=this._cursorLockClassName,t=this._cursorLockElement;e&&t.classList.remove(e),this._cursorLockClassName=null,t.removeEventListener("selectstart",i)},__superMap:{_A_$ZV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Responder.RootResponder"}}),o=function(e){if(m$650$1.isPointerSupported){var t=global.document;e===t&&(e=t.body);var r=e.style;r?(r.msTouchAction="none",r.touchAction="none"):m$809$1.warn("Could not attach `touch-action` property to the `RootResponder`’s element. Some touch events will be handled by default browser behavior instead of going to the `RootResponder`.")}},a=new Array(2);m$692$0=s,m$692$1=r,m$692$2=n}();
!function(){"use strict";function n(n){var e={},r={pointerOver:"PointerOver",pointerDown:"PointerDown",pointerMove:"PointerMove",pointerUp:"PointerUp",pointerOut:"PointerOut",pointerCancel:"PointerCancel"};for(var o in r){var i=r[o];i=n?"MS"+i:i.toLowerCase(),e[i]=t(o)}return e}function t(n){return function(t){t.cwType=n,this.dispatchEvent(t)}}var e=n(window.navigator.msPointerEnabled);m$685$0=n,m$685$1=e}();
!function(){"use strict";function e(e,t,i){for(var o=i.changedTouches,r=o.length,c=0;c<r;c++)n(e,i,t,o[c])}function n(e,n,o,r,c){var u=r.identifier,a=e.getPointerCapture(u);a?c=a:c||(c=t(r),i(e,n,r,c));var f=m$676$0.create({cwType:o,pointerId:r.identifier,nativeEvent:n,pointerType:m$676$3,target:c});m$788$0(r,f,"screenX","screenY","clientX","clientY"),e.dispatchEvent(f)}function t(e){var n=e.clientX,t=e.clientY;return document.elementFromPoint(n,t)}function i(e,t,i,o){var r=i.identifier,c=u[r];c!==o&&(c&&n(e,t,"pointerOut",i,c),o&&(c&&n(e,t,"pointerOver",i,o),u[r]=o))}function o(e){for(var n=e.length,t=0;t<n;t++){var i=e[t];delete u[i.identifier]}}function r(){for(var e in u)delete u[e]}var c={touchstart:function(n){e(this,"pointerDown",n)},touchmove:function(n){e(this,"pointerMove",n)},touchend:function(n){e(this,"pointerUp",n),o(n.changedTouches)},touchcancel:function(n){e(this,"pointerCancel",n),o(n.changedTouches)}},u={};m$686$0=c,m$686$1=r}();
!function(){"use strict";var e={},o={pointerOver:"mouseover",pointerDown:"mousedown",pointerMove:"mousemove",pointerUp:"mouseup",pointerOut:"mouseout",pointerCancel:"mousecancel"},t=function(e){return function(o){var t=m$676$0.create({cwType:e,nativeEvent:o,pointerType:m$676$1,width:1,height:1});this.dispatchEvent(t)}};for(var n in o){var r=o[n];e[r]=t(n)}m$684$0=e}();
!function(){"use strict";var e=m$626$0.extend(m$643$0,{deltaMultiplierForScrollEvent:function(e){var r=1;e&&"mousewheel"===e.type&&(r=-.025);var t=m$648$0.get("sharedInstance");return t.isWebKit&&t.engineMajorVersion>=538?r=1:t.isSafari?r=-1/3:t.isFirefox?(r=.5,e&&1===e.deltaMode&&(r=40)):t.isIE&&(r=-1),r},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.Scrolling"}});m$671$0=e}();
!function(){"use strict";var t=m$675$0.extend({staticMembers:{eventPropertiesToCopy:m$589$1(["deltaX","deltaY"]),__QUALIFIED_CLASS_NAME__:"CW.Responder.Events.WheelEvent"},init:function(t){if(this.__s._Al$CY$init.call(this,t),t){var e=t.nativeEvent;if(e){var l=m$671$0.sharedInstance.deltaMultiplierForScrollEvent(e);"mousewheel"===e.type?(this.deltaX=e.wheelDeltaX,this.deltaY=e.wheelDeltaY||e.wheelDelta):(this.deltaX=e.deltaX,this.deltaY=e.deltaY),this.deltaY=this.deltaY||0,this.deltaX=this.deltaX||0,this.deltaY*=l,this.deltaX*=l}}},deltaX:0,deltaY:0,__superMap:{_Al$CY$init:"init"}});m$677$0=t}();
!function(){"use strict";var e="onwheel"in document?"wheel":"mousewheel",t={};t[e]=function(e){e=m$677$0.create({nativeEvent:e}),e.cwType="wheel",this.dispatchEvent(e)},m$687$0=t}();
!function(){"use strict";var e=m$626$0.extend(m$643$0,{generate:function(e,n){for(var r in n){var t=n[r];e[t]=this.createEventHandler(r)}return e},createEventHandler:function(e){var n=function(n){n.cwType=e,this.dispatchEvent(n)};return n},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Responder.Handlers.HandlerGenerator"}});m$681$0=e}();
!function(){"use strict";var o={},e={keyDown:"keydown",keyPress:"keypress",keyUp:"keyup",compositionStart:"compositionstart",compositionUpdate:"compositionupdate",compositionEnd:"compositionend"},t=m$681$0.get("sharedInstance");t.generate(o,e),m$683$0=o}();
!function(){"use strict";var e={},c={didReceiveFocus:"focus",didReceiveBlur:"blur"},i=m$681$0.get("sharedInstance");i.generate(e,c),m$680$0=e}();
!function(){"use strict";var e={},t={input:"input",selectionDidChange:"select"},n=m$681$0.get("sharedInstance");n.generate(e,t),m$682$0=e}();
!function(){"use strict";var r={},a={dragStart:"dragstart",dragEnter:"dragenter",dragOver:"dragover",dragLeave:"dragleave",drag:"drag",drop:"drop",dragEnd:"dragend"},e=m$681$0.get("sharedInstance");e.generate(r,a);var d=r.dragover;r.dragover=function(r){d.apply(this,arguments)};var t=r.drop;r.drop=function(r){t.apply(this,arguments),r.preventDefault()},m$679$0=r}();
!function(){"use strict";var c={change:function(c){c.cwType="change",this.dispatchEvent(c)}};m$678$0=c}();
!function(){"use strict";var e=[{handlers:m$683$0,useCapture:!1},{handlers:m$680$0,useCapture:!0},{handlers:m$682$0,useCapture:!1},{handlers:m$679$0,useCapture:!1},{handlers:m$678$0,useCapture:!1}];m$650$1.isMouseWheelSupported&&e.push({handlers:m$687$0,useCapture:!1});var s;switch(m$650$1.pointerEventClass){case"pointer":s=m$685$1;break;case"touch":s=m$686$0;break;case"mouse":s=m$684$0}s&&e.push({useCapture:!1,handlers:s}),m$697$0=e}();
!function(){"use strict";var e=m$497$0.extend({dependencies:[m$501$0],action:function(e){e.set("rootResponder",m$692$0.create({element:e.get("rootElement"),events:m$697$0}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.AppInitializers.RootResponderInitializer"}});m$502$0=e}();
!function(){"use strict";var t=m$497$0.extend({action:function(t){var e=t.get("rootViewController");e||m$802$0("Must provide a `rootViewController`"),e.isClass&&(e=e.create(),t.set("rootViewController",e))},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.AppInitializers.RootViewControllerInitializer"}});m$503$0=t}();
!function(){"use strict";var e={mixinDependencies:[m$544$0],parent:m$545$1(),parentKey:m$545$1()};m$615$0=e}();
!function(){"use strict";function t(t){return t=s(t)+t,r(t)}function e(t,e){if(0!==e&&!e)return"";if(!isNaN(e)){var r=u[t];return void 0===r&&(r=a),e+r}return e}function r(t){var e=m[t];if(e)return e;if(!t)return"";0!==t.indexOf("-ms-")&&0!==t.indexOf("-webkit-")||(t=t.substring(1));var r,n=t,s=n.length;for(r=0;r<s;r++)"-"===n[r]&&r<s-1&&(n=n.substring(0,r)+n[r+1].toUpperCase()+n.substring(r+2),s--);return m[t]=n,n}function n(t,e){var r;r=t._computedStyle,r||(r=t._computedStyle=document.defaultView.getComputedStyle(t,null));var n=r.getPropertyValue(e);return!n&&y[e]&&(n=y[e](r)||n),n}function s(t){var e=g[t];if(void 0!==e)return e;t.match($)&&m$802$0('Attempting to set style "'+t+"\". Use the dashed form of the style's name instead.");var n,s,i,a=p.length,u=!1;for(n=0;n<a;n++)if(s=p[n],i=_.style[r(s+t)],"string"==typeof i){u=!0,s&&p.length>2&&(p=["",s]);break}return u?g[t]=s:m$809$1.warn("Using unsupported style "+t+"."),u?s:""}function i(){for(var t in l)l.hasOwnProperty(t)&&(A[t]=!0);var e=f.create(document.createElement("div"));for(t in A)if(A.hasOwnProperty(t)){var r=e.transform(t,1).getInline("transform");r&&"none"!==r||(A[t]=!1),e.transform()}}var a="px",u={"animation-duration":"s","animation-delay":"s","animation-iteration-count":"","column-count":"",columns:"","font-size-adjust":"","font-weight":"",opacity:"",order:"",orphans:"","tab-size":"","transition-delay":"s","transition-duration":"s",widows:"","z-index":""},o={translate:{subkeys:"translateX translateY translateZ".split(" "),defaultUnit:"px",processArgs:function(){S<2&&m$802$0("When adding a `translate` transform, at least two arguments (for X and Y) are required.");
}},translateDevicePixels:{subkeys:"translateX translateY translateZ".split(" "),defaultUnit:"px",processArgs:function(){S<2&&m$802$0("When adding a `translate` transform, at least two arguments (for X and Y) are required.");for(var t=m$653$0.getPath("sharedInstance.devicePixelRatio"),e=0;e<S;e++){var r=v[e];r=Math.ceil(r*t)/t,v[e]=r}}},scale:{subkeys:"scaleX scaleY scaleZ".split(" "),defaultUnit:"",processArgs:function(){1===S&&(S=2,v[1]=v[0])}},rotate:{subkeys:"rotateX rotateY rotateZ".split(" "),defaultUnit:"deg",processArgs:function(){2===S&&m$802$0("When adding a `rotate` transform, either one or three arguments (for Z-only or X, Y, Z) are required."),1===S&&(S=3,v[2]=v[0],v[0]=v[1]=void 0)}},skew:{subkeys:"skewX skewY".split(" "),defaultUnit:"deg",processArgs:function(){}},matrix:{subkeys:[],_name:"matrix",_requiredArgs:6,processArgs:function(){o.matrix3d.processArgs.call(this)}},matrix3d:{subkeys:[],_name:"matrix3d",_requiredArgs:16,processArgs:function(){var t,e,r=1===S&&v[0];if(r&&Array.isArray(r))for(S=r.length,t=0;t<S;t++)v[t]=r[t];for(S!==this._requiredArgs&&m$802$0("When adding a `"+this._name+"` transform, exactly "+this._requiredArgs+" arguments are required."),t=0;t<S;t++)e=v[t],isNaN(e)&&m$802$0("All arguments to `"+this._name+"` must be numbers."),v[t]=(+e).toFixed(15)}}},l=function(){var t,e,r,n,s,i,a,u={};for(t in o)for(e=o[t],r=e.defaultUnit,n=e.subkeys,a=n.length,i=0;i<a;i++)s=n[i],u[s]=r;return u}(),f=m$616$0.extend(m$588$0,{element:null,_unflushedStyles:null,_unflushedStyleKeys:null,_unflushedStyleKeysLen:0,_pauseCount:0,init:function(t){this.element=t,
this._unflushedStyles={},this._unflushedStyleKeys=[],this.__s._C4$2Fy$init.call(this)},set:function(r,n,s,i,a){if(1===arguments.length)return this._setWithHash(r);n=e(r,n),r=t(r);var u=this._unflushedStyles;return u[r]||(this._unflushedStyleKeys[this._unflushedStyleKeysLen++]=r),u[r]=n,this._flushStylesToElement(),this},get:function(t,e,r,i){return t=s(t)+t,n(this.element,t)},getInline:function(e){return e=t(e),this.element.style[e]},clear:function(t){return t?this.set(t,void 0):this._clearAll()},transform:function(t){if(!arguments.length)return this._partialTransformString=null,this.set("transform","");var e,r,n,s,i,a,u=o[t],f=this._partialTransformString||"";if(this._partialTransformString=null,u){for(e=u.subkeys,r=u.defaultUnit,i=arguments.length,S=i-1,s=1;s<i;s++)v[s-1]=arguments[s];if(u.processArgs(),e.length>=S)for(s=0;s<S;s++)n=v[s],void 0!==n&&(isNaN(n)||(n+=r),a=e[s],A[a]&&("rotateZ"!==a||A.rotateX||A.rotateY||(a="rotate"),f+=(s?" ":"")+a+"("+n+")"));else for(f+=t+"(",s=0;s<S;s++)n=v[s],f+=n+(s<S-1?", ":")")}else n=arguments[1],void 0!==n&&A[t]&&(isNaN(n)||(n+=l[t]),"rotateZ"!==t||A.rotateX||A.rotateY||(t="rotate"),f+=t+"("+n+")");return this.set("transform",f),c.styleInstance=this,c._partialTransformString=f+" ",c},layerBack:function(){return this.translateZ(0)},forceRedraw:function(){var t=this.element,e=t.parentNode;if(e){var r=t.nextSibling;e.removeChild(t),e.insertBefore(t,r)}return this},layerBackIf:function(t){return this.translateZ(t?0:void 0)},pause:function(){return this._pauseCount++,this},resume:function(){return--this._pauseCount<=0&&(this._pauseCount=0),
this._hasUnflushedStyles&&this._flushStylesToElement(),this},_setWithHash:function(t){this.pause(!0);for(var e in t)t.hasOwnProperty(e)&&this.set(e,t[e]);return this.resume(!0),this},_clearAll:function(){return this.element.style.cssText="",this},_flushStylesToElement:function(){if(this._pauseCount)return void(this._hasUnflushedStyles=!0);var t,e,r=this.element.style,n=this._unflushedStyles,s=this._unflushedStyleKeys,i=this._unflushedStyleKeysLen;for(t=0;t<i;t++)e=s[t],s[t]=void 0,r[e]=n[e],n[e]=void 0;this._unflushedStyleKeysLen=0},__superMap:{_C4$2Fy$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.UI.Style$760"}}),h=function(){var t={transform:!0,layerBack:!0,layerBackIf:!0},e=function(e){t[e]=!0};return Object.keys(o).forEach(e),Object.keys(l).forEach(e),t}();!function(){var t=f.prototype,e=[],r=function(t){return function(){for(var r=e.length=arguments.length+1,n=r-1;n>=1;n--)e[n]=arguments[n-1];return e[0]=t,this.transform.apply(this,e)}};for(var n in o)t[n]=r(n);for(var s in l)t[s]=r(s)}();var c=function(){var t={styleInstance:null,_partialTransformString:null},e=f.prototype,r=function(t){return h[t]?function(){var e=this.styleInstance;return e._partialTransformString=this._partialTransformString,e[t].apply(e,arguments)}:function(){var e=this.styleInstance;return e[t].apply(e,arguments)}};for(var n in e)!e.hasOwnProperty(n)||!e[n]instanceof Function||"_"===n[0]||"constructor"===n||t[n]||(t[n]=r(n));return t}(),m={},d=["style","variant","weight","size","family"],y={font:function(t){for(var e="",r=0,n=d.length;r<n;r++){var s=d[r],i=t.getPropertyValue("font-"+s);if(i&&(e&&(e+=" "),
e+=i,"size"===s)){var a=t.getPropertyValue("line-height");a&&(e+="/"+a)}}return e}},p=["","-ms-","-moz-","-webkit-","-o-"],g={},_=document.createElement("div"),v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,$=/[A-Z]/,A={};i();var b=A,k=i,w=function(){var t=f.create(),e=t.pause,r=t.resume;return t.pause=function(t){return t?e.call(this):void m$802$0("Cannot `pause` the shared CW.UI.Style instance.")},t.resume=function(t){return t?r.call(this):void m$802$0("Cannot `resume` the shared CW.UI.Style instance.")},t}(),x=function(t,e,r){if(t){var n=arguments.length;if(n>1){var s=t._cwStyleProxy;if(s||(s=w,w.element=t),3===n)return s.set(e,r);if(2===n)return s.set(e)}return t._cwStyleProxy||(t._cwStyleProxy=f.create(t))}};m$760$1=b,m$760$2=k,m$760$0=x}();
!function(){"use strict";function t(){return"ArrayChange: {index: "+this.index+", object: "+this.object+", operation: "+this.operation+"}"}function e(e,n,r,i){this._sourceArray=e,this.index=n,this._item=r,this.operation=i,this.toString=t}function n(t,n,r,i){if(h.length>0){var o=h.pop();return o._sourceArray=t,o.index=n,o.object=r,o.operation=i,o}return new e(t,n,r,i)}function r(t){t._sourceArray=null,t.object=null,h.length<s&&h.push(t)}var i="REMOVE",o="INSERT",s=100;Object.defineProperty(e.prototype,"object",{get:function(t,e,n,r){var i=this._item,o=this._sourceArray;return o&&o.decode&&(i=o.decode(i)),i},set:function(t,e,n,r,i){return this._item=t}});var h=[],a=m$590$0.extend({staticMembers:{REMOVE:i,INSERT:o,__QUALIFIED_CLASS_NAME__:"CW.ArrayChangeList"},owner:null,reverseChanges:function(t){for(var e=this.get("length");e--;){var n=this.objectAt(e);n.operation===i?t.splice(n.index,0,n.object):t.splice(n.index,1)}return t},applyChanges:function(t){var e=this.get("length"),n=m$620$0(t,m$534$0);n&&t.beginBatchedChanges();for(var r=0;r<e;r++){var o=this.objectAt(r);o.operation===i?t.splice(o.index,1):t.splice(o.index,0,o.object)}return n&&t.endBatchedChanges(),t},recordRemoval:function(t,e){this.push(n(this.owner,t,e,i)),this.set("lengthDelta",this.get("lengthDelta")-1)},recordInsertion:function(t,e){this.push(n(this.owner,t,e,o)),this.set("lengthDelta",this.get("lengthDelta")+1)},lengthDelta:m$629$1(0),clear:function(){for(var t=this.get("length");t--;){var e=this.objectAt(t);r(e)}this.set("length",0),this.set("lengthDelta",0)},toString:function(){for(var t=this.get("length"),e="ArrayChangeList("+t+")\n",n=0;n<t;n++){
var r=this.objectAt(n);n>0&&(e+="\n"),e+=r.toString()}return e}});m$533$0=a}();
!function(){"use strict";var $={mixinDependencies:[m$595$0,m$544$0],isValid:m$624$1(m$638$0),shouldObserveChanges:!0};m$606$0=$}();
!function(){"use strict";var e=m$607$0.extend(m$606$0,m$544$0,{position:m$545$1(),source:m$545$1(),isValid:m$545$1({dependencies:["source.length","position"],get:function(e,s,t,i){var r=i.internalGet(this,s[1+t]);return r>=0&&r<i.internalGetPath(this,s[0+t])}}),value:m$545$1({dependencies:["position","source"],writeDependencies:[],set:function(e,s,t,i,r){var n=this.shouldObserveChanges;this.shouldObserveChanges=!1;var h=this.__s._8V$JX$set.apply(this,arguments);return this.shouldObserveChanges=n,h},__superMap:{_8V$JX$set:"set"}}),remove:function(){var e=this.shouldObserveChanges;this.shouldObserveChanges=!1;var s=this.__s._8V$NJ$remove.apply(this,arguments);return this.shouldObserveChanges=e,this.propertyChanged("value"),s},init:function(){this.__s._8V$Pl$init.apply(this,arguments);var e=this.get("source");e._registerIterator(this)},dispose:function(){var e=this.get("source");e._unregisterIterator(this),this.__s._8V$fB$dispose.apply(this,arguments)},__superMap:{_8V$NJ$remove:"remove",_8V$Pl$init:"init",_8V$fB$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableArrayIterator"}});m$535$0=e}();
!function(){"use strict";var r=function(r,e){if(e.remove)return void e.remove(r);Array.isArray(e)||m$802$0("removeItemFromArray: argument array must be an Array or implement a remove method");var m=e.indexOf(r);m>=0&&e.splice(m,1)};m$765$0=r}();
!function(){"use strict";function t(t){var e=t.get("changes"),s=e.get("length");if(s){var r=!!e.get("lengthDelta"),i=!!t.objectWasInserted,h=!!t.objectWasRemoved;if(i||h){var o,c;for(o=0;o<s;o++)c=e.objectAt(o),c.operation===a&&i?t.objectWasInserted(c.index,c.object):c.operation===n&&h&&t.objectWasRemoved(c.index,c.object)}r&&t.propertyChanged("length"),t.contentsDidChange(t.get("changes"))}}var e=m$590$0.extend(m$544$0,{lastItem:m$545$1({depedencies:["length","contentsDidChange"],get:function(t,e,a,n){return this.objectAt(this.length-1)}}),rawSplice:function(t,e){var a,n=arguments.length,s=t+e,r=this.get("changes");for(a=s-1;a>=t;a--)r.recordRemoval(a,this._array[a]);var i=this.__s._8U$1WM$rawSplice.apply(this,arguments),h=n;for(a=2;a<h;a++)r.recordInsertion(a+t-2,arguments[a]);m$541$0.pause(),this.notifyIfNecessary();var o=this._iterators,c=o.length;if(c>0){var $=n-2,d=$-e;for(a=0;a<c;a++){var g=o[a];if(g.shouldObserveChanges){var _=g.get("position");_>=t&&(_<s?g.set("position",void 0):g.set("position",_+d))}}}return m$541$0.resume(),i},notifyIfNecessary:function(){0===this._batchCount&&t(this)},length:m$545$1({cacheable:!1,didChange:function(){}}),sort:function(){this.beginBatchedChanges();var t=this.__s._8U$2AX$sort.apply(this,arguments);return this.endBatchedChanges(),t},addEach:function(){this.beginBatchedChanges();var t=this.__s._8U$2Cw$addEach.apply(this,arguments);return this.endBatchedChanges(),t},changes:m$619$1(m$533$0),_batchCount:0,beginBatchedChanges:function(){this._batchCount++},endBatchedChanges:function(){this._batchCount--,this.notifyIfNecessary(),this._batchCount<0&&m$802$0("Mismatched batched changes in observable array: "+this,{
array:this})},contentsDidChange:m$558$0({didPropagate:function(){this.get("changes").clear()}}),objectWasInserted:null,objectWasRemoved:null,iteratorClass:m$535$0,_iterators:m$619$1(Array),_registerIterator:function(t){this._iterators.push(t)},_unregisterIterator:function(t){m$765$0(t,this._iterators)},__superMap:{_8U$1WM$rawSplice:"rawSplice",_8U$2AX$sort:"sort",_8U$2Cw$addEach:"addEach"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ObservableArray"}}),a=m$533$0.INSERT,n=m$533$0.REMOVE;m$534$0=e}();
!function(){"use strict";function e(e){e||m$802$0("An element is required to be able to measure it");var t=e.getBoundingClientRect();return 0!==t.height||0!==t.width||document.body.contains(e)?t:(m$809$1.error("Tried to measure an element that is not in the document",e),null)}m$759$0=e}();
!function(){"use strict";var s={mixinDependencies:[m$544$0],staticMembers:{className:m$629$1({get:function(e,a,t,i){if(m$771$0(e)&&this.hasOwnProperty("_className"))return e;if(!this.superclass.kindOf(s))return!1;if(!this.isNamed)return!1;var r=m$830$0(this.name.replace(/\$[0-9]+$/,"")).replace(/\./g,"-");return this._className=r}}),_classNamesFromJSClassHierarchyCache:null,_getClassNamesFromJSClassHierarchy:function(){if(this.hasOwnProperty("_classNamesFromJSClassHierarchyCache")&&this._classNamesFromJSClassHierarchyCache)return this._classNamesFromJSClassHierarchyCache;var e;return this.kindOf(s)?(e=this._getClassNamesFromJSClassHierarchy.call(this.superclass),this.className!==!1&&(e=e.concat(this.className))):e=[],this._classNamesFromJSClassHierarchyCache=e}},document:document,element:m$545$1(),style:m$545$1({readOnly:!0,dependencies:["element"],get:function(s,e,a,t){return m$760$0(t.internalGet(this,e[0+a]))}}),rect:m$629$1({readOnly:!0,get:function(s,e,a,t){var i=this.element;return m$759$0(i)}}),origin:m$629$1({readOnly:!0,get:function(s,e,a,t){var i=this.rect;return i?{x:i.left,y:i.top}:null}}),additionalClassNames:m$545$1({readOnly:!0}),_suppressApplicationOfClassNamesToElement:!0,_applyClassNamesToElement:m$557$1("element","additionalClassNames",function(s,e){if(s&&!this._suppressApplicationOfClassNamesToElement){var a=this.element.classList;if(e&&a.add.apply(a,e),this.shouldApplyClassHierarchyClassNames()){var t=this.constructor._getClassNamesFromJSClassHierarchy();a.add.apply(a,t)}}}),shouldApplyClassHierarchyClassNames:function(){return!0},init:function(){this.__s._Bs$1dr$init.apply(this,arguments),
this._suppressApplicationOfClassNamesToElement=!1,this._applyClassNamesToElement()},__superMap:{_Bs$1dr$init:"init"}};m$747$0=s}();
!function(){"use strict";function e(e,n){var r=t(e);for(var a in n){var i=n[a];if(m$772$0(i))for(var l=i.length,o=0;o<l;o++)s(r,a,i[o]);else m$780$0(i)?s(r,a,i):m$802$0("Template extension must be a CW.template or an array of CW.templates.")}return r}function t(e){return m$787$0(e,r)}function n(e,t){return h[t]?a:r}function r(e,t,r){return $[r]?m$787$0(e,n(e,r)):m$787$1}function a(e,t,r){return m$787$0(e,n(e,r))}function s(e,n,r){r=t(r);var a=l(e),s=a[n];s||m$802$0("unable to find outlet with name "+n+" to extend"),r.tagname!==p&&(s.tagname=r.tagname),s.attributes=m$817$0(s.attributes,r.attributes),s.styles=m$817$0(s.styles,r.styles),s.children=i(s.children,r.children),s.classes=i(s.classes,r.classes)}function i(){for(var e,t=arguments.length,n=0;n<t;n++){var r=arguments[n];r&&(e=e?e.concat(r):r)}return e}function l(e){var t=e._namesCache;return t||(e._namesCache=t=o(e,{root:e})),t}function o(e,t){if(e){var n=e.name;if(n){var r=t[n];r&&e!==r?m$802$0("invalid node name: '"+n+"' is already used"):t[n]=e}var a=e.children;if(a)for(var s=a.length,i=0;i<s;i++){var l=a[i];o(l,t)}return t}}function u(){return f.length>0?f.pop():[]}function m(e){e.length=0,f.push(e)}var d="_renderedValue",c={mixinDependencies:[m$747$0],staticMembers:{init:function(t){var n=this.template;if(n){m$780$0(n)||m$802$0("Template must be a CW.template");var r=0;!this.hasOwnProperty("template")&&n.classes&&(r=n.classes.length);var a=this._templateExtensionsArray;if(a){for(var s=a.length,i=0;i<s;i++)n=e(n,a[i]);this.template=n,delete this._templateExtensionsArray,m(a)}var l=n.classes;if(l)for(var o=r,u=l.length;o<u;o++)if("string"==typeof l[o]){
this.className=!1;break}this.registerOutletAndSubOutlets(n)}this.__s._Bz$1gJ$init.call(this,t)},_templateExtensionsArray:null,mixinWasApplied:function(){var e=this.templateExtensions;if(e){var t=this._templateExtensionsArray;t||(t=this._templateExtensionsArray=u()),t.push(e),delete this.templateExtensions}},template:{type:"ELEMENT",tagname:"div",children:[]},templateExtensions:null,_nodeHandlers:{},_registerNodeHandlers:{},_renderNodeHandlers:{},registerOutletAndSubOutlets:function(e,t){if(m$781$0(e))return e;var n=e.type;if(n){var r=n.toLowerCase(),a=this._registerNodeHandlers[r];if(a){var s=this._nodeHandlers[r];e.parent=t,a.call(s,this,e)}}},__superMap:{_Bz$1gJ$init:"init"}},init:function(e){var t=this.element=this.generateElementNode();t.view=this,this.__s._Bz$2oI$init.apply(this,arguments)},renderNodeAndSubNodes:function(e){if(m$781$0(e))return e;var t=e.type.toLowerCase(),n=this.constructor,r=n._nodeHandlers[t],a=n._renderNodeHandlers[t];return r||m$802$0("No handler context for template node type: "+t),a||m$802$0("No handler for template node type: "+t),a.call(r,this,e)},generateElementNode:function(){var e=this.constructor.get("template");if(e){var t=d+m$807$0(this.get("document")),n=e[t];return n||(n=e[t]=this.renderNodeAndSubNodes(e)),n.cloneNode(!0)}},__superMap:{_Bz$2oI$init:"init"}},$=m$763$0(["attribute","attributes","children","classes","data","falsevalue","index","name","namespace","observerWasRegistered","property","styles","tagname","truevalue","type","unit"]),h=m$763$0(["styles","classes","attributes","children"]),p="ext",f=[];m$754$0=c}();
!function(){"use strict";var e=m$616$0.extend({nodeType:"",initializeMember:function(e,r){var t=this.nodeType.toLowerCase();e._nodeHandlers[t]=this,e._renderNodeHandlers[t]=this.render,e._registerNodeHandlers[t]=this.register},render:m$805$0,register:m$805$0,staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.UI.ViewSupport.Template.Handler"}});m$753$0=e}();
!function(){"use strict";function t(t){for(var e=[];t.parent;)e.push(t.index),t=t.parent;return e}function e(t,e){for(var r=e.length,n=r-1;n>=0;n--){var a=e[n];t=t.childNodes.item(a)}return t}function r(t,e,r){var n=m$539$2(e),a=n[0],u=t.getMetadata(a);u&&u.instanceOf(r)||t.registerMetadata(a,r.create())}function n(r,n){var a=t(n);this.prototype.registerMetadata(r,m$545$1({readOnly:!0,dependencies:["element"],get:function(t,r,n,u){return e(u.internalGet(this,r[0+n]),a)}}))}function a(t){var e=t.name="_outlet_parent_"+m$807$0(t);return n.call(this,e,t),e}function u(t){if(t.hasOwnProperty("validvalues")){var e=m$763$0(t.validvalues);return function(t){if(e[t])return t}}if(t.hasOwnProperty("truevalue")){var r=t.truevalue;if(t.hasOwnProperty("falsevalue")){var n=t.falsevalue;return function(t){return t?r:n}}return function(t){if(t)return r}}return f}function i(t,e){return t.attributes.signal||e}var f=function(t){return t};m$757$2=r,m$757$0=n,m$757$1=a,m$757$3=u,m$757$4=i}();
!function(){"use strict";var e={mixinDependencies:[m$754$0,m$747$0],staticMembers:{handler:m$753$0.create({nodeType:"ELEMENT",register:function(e,r){var t=r.name;t&&m$757$0.call(e,t,r);var n,a,s=r.classes;if(s){var d=s.length;for(a=0;a<d;a++)e.registerOutletAndSubOutlets(s[a],r)}var i=r.styles;if(i)for(n in i)e.registerOutletAndSubOutlets(i[n],r);var l=r.attributes;if(l)for(n in l){var u,o=l[n];u=m$780$0(o)?o.namespace:null,e.registerOutletAndSubOutlets(o,r)}var c=r.children;if(c){var f=c.length;for(a=0;a<f;a++){var v=c[a];v.index=a,e.registerOutletAndSubOutlets(v,r)}}},render:function(e,r){var t,n,a=e.get("document"),s=r.namespace,d=r.tagname,i=s?a.createElementNS(s,d):a.createElement(d),l=r.classes;if(l){var u=i.classList,o=l.length;for(n=0;n<o;n++){var c=e.renderNodeAndSubNodes(l[n]);c&&u.add(c)}}var f=r.styles;if(f)for(t in f)m$760$0(i,t,e.renderNodeAndSubNodes(f[t]));var v=r.attributes;if(v)for(t in v){var m,$=v[t];m=m$780$0($)?$.namespace:null,m?i.setAttributeNS(m,t,e.renderNodeAndSubNodes($)):i.setAttribute(t,e.renderNodeAndSubNodes($))}var b=r.children;if(b){var N=b.length;for(n=0;n<N;n++){var g=b[n];g.index=n,i.appendChild(e.renderNodeAndSubNodes(g))}}return i}})}};m$750$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$625$0,m$544$0],removeChild:function(e,t){this.getMetadataByType(m$704$0)[e].removeChild(this,e,t)},dispose:function(){var e=this.getMetadataByType(m$704$0);for(var t in e)this.getMetadata(t).readOnly||this.set(t,null);this.__s._BC$Qj$dispose.apply(this,arguments)},__superMap:{_BC$Qj$dispose:"dispose"}};m$705$0=e}();
!function(){"use strict";var e=m$624$0.extend({isOnlyMetadataForKey:!1,requiresSupport:m$705$0,removeChild:function(e,t,a){},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ParentMetadata"}});m$704$0=e}();
!function(){"use strict";var e=m$534$0.extend({owner:null,ownerKey:"",init:function(e,t,r){this.owner=e,this.ownerKey=t,this.__s._BA$E6$init.call(this,r);for(var i=this.get("length"),s=0;s<i;s++){var n=this.objectAt(s),a=n.get("parent");a&&a.removeChild(n.get("parentKey"),n),n.set("parent",e),n.set("parentKey",t)}},swap:function(e,t){if(e>t){var r=e;e=t,t=r}var i=this._array,s=i[t],n=i[e];i[t]=n,i[e]=s;var a=this.changes;a.recordRemoval(t,s),a.recordRemoval(e,n),a.recordInsertion(e,n),a.recordInsertion(t,s),this.notifyIfNecessary()},rawSplice:function(e,t){var r,i,s=arguments.length,n=e+t,a=this.owner,o=this.ownerKey;for(this.beginBatchedChanges(),r=n-1;r>=e;r--)i=this.objectAt(r),i.set("parent",null),i.set("parentKey",null);for(n=s,r=2;r<n;r++){i=arguments[r];var h=i.get("parent"),$=i.get("parentKey");if(h===a&&$===o){var _=this.indexOf(i);_<e&&e--}h&&h.removeChild($,i)}var l=this.__s._BA$v3$rawSplice.apply(this,arguments);for(this.endBatchedChanges(),r=2;r<n;r++)i=arguments[r],i.set("parent",a),i.set("parentKey",o);return l},dispose:function(){for(var e=this.get("length"),t=0;t<e;t++){var r=this.objectAt(t);r.set("parent",null),r.set("parentKey",null)}this.__s._BA$16E$dispose.apply(this,arguments)},__superMap:{_BA$E6$init:"init",_BA$v3$rawSplice:"rawSplice",_BA$16E$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ParentArray$703"}}),t=m$704$0.extend({init:function(e){this.value=e,this.__s._BA$18Q$init.call(this)},removeChild:function(e,t,r){var i=e.get(t);i.remove(r)},wasRegistered:function(t,r){this.__s._BA$1BW$wasRegistered.apply(this,arguments);var i="_"+r;
t.registerMetadata(r,m$545$1({get:function(t,s,n,a){var o=this[i];return o||(this[i]=o=e.create(this,r),o.retain()),o},set:function(t,s,n,a,o){var h=this[i];h&&h.release(),(Array.isArray(t)||m$620$0(t,m$590$0)||m$772$0(t))&&(t=e.create(this,r,t),t.retain()),null===t||void 0===t||m$620$0(t,e)?this[i]=t:m$802$0(this.toString()+"#"+r+" must be an array or observable array")}}))},__superMap:{_BA$18Q$init:"init",_BA$1BW$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ParentArrayProperty"}}),r=function(e){return t.define.apply(t,arguments)};m$703$0=t,m$703$1=r}();
!function(){"use strict";function e(e){for(var t=e.get("length"),n=0;n<t;n++){var r=e.objectAt(n),a=r.object;a.hasOwnProperty("_changeRefCount")||(a._changeRefCount=0),r.operation===m$533$0.REMOVE?a._changeRefCount--:a._changeRefCount++}}function t(e,t,n){e.insertBefore(t,n||null)}function n(e,t){e.removeChild(t)}var r={mixinDependencies:[m$544$0,m$705$0,m$754$0],staticMembers:{handler:m$753$0.create({nodeType:"MULTIVIEWOUTLET",register:function(r,a){var i=a.name;i||m$802$0("View template error: multi-view outlets (`<views>`) must specify a name (like `<views name='foo'>`).",{view:r});var o,s,d=a.classes,u=a.styles,f=a.attributes,l=m$807$0(a),g="_outlet_"+i+l,c=(d||u||f)&&{name:g,parent:a,index:0};m$757$0.call(r,g,a);var m=r.prototype,$=m.getMetadata(i);if($||m.registerMetadata(i,m$703$1()),d){var v=d.length;for(s=0;s<v;s++)r.registerOutletAndSubOutlets(d[s],c)}if(u)for(o in u)r.registerOutletAndSubOutlets(u[o],c);if(f)for(o in f)if("tagName"!==o){var h,b=f[o];h=m$780$0(b)?b.namespace:null,r.registerOutletAndSubOutlets(b,c)}if(!a.observerWasRegistered){var _="__templateObserver__"+i+"DidChange"+l,p=function(e){for(var r,a=this.get(g);r=a.firstChild;)n(a,r);if(e)for(var i=e.get("length"),o=0;o<i;o++){var s=e.objectAt(o);r=s.get("element"),t(a,r)}};p.displayName=_,m.registerMetadata(_,m$557$1(i,p));var C="__templateObserver__"+i+"ContentDidChange"+l,N=function(r){if(r){var a,o,s,d=r.context,u=this.get(g);e(d);for(var f=d.get("length"),l=0;l<f;l++){var c=d.objectAt(l);a=c.object,o=a.get("element"),c.operation===m$533$0.REMOVE&&a.hasOwnProperty("_changeRefCount")&&a._changeRefCount<0?(n(u,o),
delete a._changeRefCount):a.hasOwnProperty("_changeRefCount")&&a._changeRefCount>0&&(s=u.children[c.index],t(u,o,s),delete a._changeRefCount)}var m,$=this.get(i);for(l=$.get("length")-1;l>=0;l--)a=$.objectAt(l),o=a.get("element"),t(u,o,m),m=o}};N.displayName=C,m.registerMetadata(C,m$557$1(i+".contentsDidChange",N)),a.observerWasRegistered=!0}},render:function(e,t){var n,r,a=e.get("document"),i=t.classes,o=t.styles,s=t.attributes,d=s&&s.tagName||"div",u=a.createElement(d);if(i){var f=u.classList,l=i.length;for(r=0;r<l;r++){var g=e.renderNodeAndSubNodes(i[r]);g&&f.add(g)}}if(o)for(n in o)m$760$0(u,n,e.renderNodeAndSubNodes(o[n]));if(s)for(n in s)if("tagName"!==n){var c,m=s[n];c=m$780$0(m)?m.namespace:null,c?u.setAttributeNS(c,n,e.renderNodeAndSubNodes(m)):u.setAttribute(n,e.renderNodeAndSubNodes(m))}return u}})}};m$751$0=r}();
!function(){"use strict";var t=m$704$0.extend({init:function(t){this.value=t,this.__s._BD$d_$init.call(this)},removeChild:function(t,e,i){t.set(e,null)},wasRegistered:function(t,e){this.__s._BD$gX$wasRegistered.apply(this,arguments),m$620$0(t.getMetadata(e),m$545$0)||t.registerMetadata(e,m$545$1())},__superMap:{_BD$d_$init:"init",_BD$gX$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.ParentProperty"}}),e=function(e){return t.define.apply(t,arguments)};m$706$0=t,m$706$1=e}();
!function(){"use strict";var e={mixinDependencies:[m$544$0,m$754$0,m$705$0],staticMembers:{handler:m$753$0.create({nodeType:"VIEWOUTLET",register:function(e,t){var r=t.name;r||m$802$0("View template error: view outlets (`<view>`) must specify a name (like `<view name='foo'>`).",{view:e}),t.parent||m$802$0("View template error: view outlets (`<view>`) may not be the root element in your template.",{view:e});var a=m$807$0(t),i="_outlet_"+r+a,n=e.prototype;if(m$757$0.call(e,i,t),m$757$2(n,r,m$706$0),!t.observerWasRegistered){var s="_previous_"+r,l="__templateObserver__"+r+"DidChange"+a,m=function(e){var t=this.get(i),a=t.parentNode;if(e){var n=e.get("element");n!==t&&(a.replaceChild(n,t),this.propertyChanged(i))}else t.__cw__isTemplatePlaceholder__||(a.replaceChild(this.createPlaceholderElement(),t),this.propertyChanged(i));var l=this[s];if(e!==l){if(l&&!l.isDisposed){var m=l.get("parent"),o=l.get("parentKey");m===this&&o===r&&(l.isDisposed||(l.set("parent",null),l.set("parentKey",null)))}if(e){var p=e.get("parent");p&&p.removeChild(e.get("parentKey"),e),e.set("parent",this),e.set("parentKey",r)}this[s]=e}};m.displayName=l,n.registerMetadata(l,m$557$1(r,m)),t.observerWasRegistered=!0}},render:function(e,t){return e.createPlaceholderElement()}})},createPlaceholderElement:function(){var e=this.get("document"),t=e.createElement("div");return t.__cw__isTemplatePlaceholder__=!0,t}};m$758$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$544$0,m$754$0],staticMembers:{handler:m$753$0.create({nodeType:"DATAOUTLET",register:function(e,t){var r=t.name,a=m$807$0(t),n="_outlet_"+r+a,s=e.prototype,$=m$757$3(t);if(m$757$0.call(e,n,t),m$757$2(s,r,m$545$0),!t.observerWasRegistered){var i="__templateObserver__"+r+"DidChange"+m$807$0(t);i=m$757$4(t,i);var m;m="false"===t.attributes.escape?function(e){var t=this.get(n);e=$(e),t.innerHTML=null==e?"":e}:function(e){var t=this.get(n);e=$(e),t.data=null==e?"":e},m.displayName=i,s.registerMetadata(i,m$557$1(r,m)),t.observerWasRegistered=!0}},render:function(e,t){return"false"===t.attributes.escape?e.get("document").createElement("span"):e.get("document").createTextNode("​")}})}};m$755$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$754$0],staticMembers:{handler:m$753$0.create({nodeType:"TEXT",render:function(e,t){return e.get("document").createTextNode(t.data)}})}};m$756$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$544$0,m$754$0,m$750$0],staticMembers:{handler:m$753$0.create({nodeType:"CLASSNAMEOUTLET",register:function(e,r){var t=r.name,a=r.parent,$=a.name,s=e.prototype,i=m$757$3(r);if($||($=m$757$1.call(e,a)),m$757$2(s,t,m$545$0),!r.observerWasRegistered){var m=m$807$0(r),n="__templateObserver__"+t+"DidChange"+m;n=m$757$4(r,n);var v="__templateObserver__previous"+t+m,d=function(e){var r=this.get($).classList,t=this[v];t&&r.remove(t);var a=i(e);a&&r.add(a),this[v]=a};d.displayName=n,s.registerMetadata(n,m$557$1(t,d)),r.observerWasRegistered=!0}}})}};m$749$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$544$0,m$754$0,m$750$0],staticMembers:{handler:m$753$0.create({nodeType:"STYLEOUTLET",register:function(e,$){var r=$.name,t=$.unit||"",a=$.parent,m=a.name,i=$.property,n=e.prototype,s=m$757$3($);if(m||(m=m$757$1.call(e,a)),m$757$2(n,r,m$545$0),!$.observerWasRegistered){var o="__templateObserver__"+r+"DidChange"+m$807$0($);o=m$757$4($,o);var p=function(e){var $=this.get(m);e=s(e),t&&null!=e&&(e+=t),m$760$0($,i,e)};p.displayName=o,n.registerMetadata(o,m$557$1(r,p)),$.observerWasRegistered=!0}}})}};m$752$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$544$0,m$754$0,m$750$0],staticMembers:{handler:m$753$0.create({nodeType:"ATTRIBUTEOUTLET",register:function(e,t){var r=t.name,$=t.parent,n=$.name,i=t.attribute,a=e.prototype,m=m$757$3(t);if(n||(n=m$757$1.call(e,$)),m$757$2(a,r,m$545$0),!t.observerWasRegistered){var o="__templateObserver__"+r+"DidChange"+m$807$0(t);o=m$757$4(t,o);var s=function(e){var t=this.get(n);e=m(e),null===e||void 0===e||e.toString===Object.prototype.toString||e.toString===Function.prototype.toString?t.removeAttribute(i):t.setAttribute(i,e)};s.displayName=o,a.registerMetadata(o,m$557$1(r,s)),t.observerWasRegistered=!0}},render:function(e,t){var r=e[t.name];return r=m$620$0(r,m$539$0)?"":r,r||""}})}};m$748$0=e}();
!function(){"use strict";var t=m$626$0.extend(m$615$0,m$691$0,m$748$0,m$749$0,m$750$0,m$751$0,m$752$0,m$755$0,m$756$0,m$758$0,m$747$0,{init:function(t){(t&&t.isRootView||this.isRootView)&&(this._isAttached=!1),this.__s._BL$yB$init.apply(this,arguments)},staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaRole",attributes:{},attribute:"role"},"aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},"aria-labelledby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledBy",attributes:{},attribute:"aria-labelledby"},"aria-describedby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedBy",attributes:{},attribute:"aria-describedby"},"aria-disabled":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDisabled",attributes:{},attribute:"aria-disabled"},"aria-hidden":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaHidden",attributes:{},attribute:"aria-hidden"},"aria-controls":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaControls",attributes:{},attribute:"aria-controls"}}}},__QUALIFIED_CLASS_NAME__:"CW.UI.View"},nextResponder:m$629$1({get:function(t,i,e,a){var r=this._nextResponder;return r?r:this.parent}}),isRootView:!1,_didAttach:function(){this._isAttached=!0,this.propertyChanged("isAttached")},_didDetach:function(){this._isAttached=!1,this.propertyChanged("isAttached")},isAttached:m$545$1({readOnly:!0,dependencies:["parent.isAttached"],
get:function(t,i,e,a){return this.isRootView?this._isAttached:a.internalGetPath(this,i[0+e])}}),ariaRole:m$545$1(),ariaLabel:m$545$1(),ariaLabelledBy:m$545$1(),ariaDescribedBy:m$545$1(),ariaDisabled:m$545$1(),ariaHidden:m$545$1(),ariaControls:m$545$1(),__superMap:{_BL$yB$init:"init"}});m$714$0=t}();
!function(){"use strict";function i(i){i._view&&m$802$0("Cannot load view: a view is already loaded"),i.viewWillLoad();var e=i.createView().retain();e.set("viewController",i),e.set("nextResponder",i),i._view=e,i._isViewLoaded=!0,i._loadChildViews(e),i.viewDidLoad(e),i.propertyChanged("view")}function e(i,e){var t=i._view;t||m$802$0("Cannot unload view: no view is loaded."),i.viewWillUnload(t),i._view=null,i._isViewLoaded=!1,e||i.propertyChanged("view"),i.viewDidUnload(),t.release()}var t=m$626$0.extend(m$544$0,m$691$0,{parent:m$629$1(null),_isViewLoaded:!1,_isAttached:!1,isViewLoaded:m$629$1({readOnly:!0,defaultValue:!1,get:function(i,e,t,n){return this._isViewLoaded}}),isAttached:m$545$1({defaultValue:!1,readOnly:!0,get:function(i,e,t,n){return this._isAttached}}),isRootViewController:!1,view:m$545$1({readOnly:!0,cacheable:!1,get:function(e,t,n,o){return this._view||i(this),this._view}}),nextResponder:m$629$1({get:function(i,e,t,n){if(i)return i;var o=this.get("view");return o?o.get("parent"):null}}),viewClass:m$714$0,init:function(){this._childViewControllers=[],this.__s._BM$yF$init.apply(this,arguments)},dispose:function(){var i=this._childViewControllers,t=0,n=i.length;for(t=0;t<n;t++)i[t].set("parent",null),i[t].release();this.get("isViewLoaded")&&e(this,!0),this.__s._BM$1CY$dispose.apply(this,arguments)},viewWillLoad:function(){},viewDidLoad:function(i){},viewWillUnload:function(i){},viewDidUnload:function(){},createView:function(){return this.viewClass.create({isRootView:this.get("isRootViewController")})},loadView:function(){this.get("isViewLoaded")||i(this)},unloadView:function(){
this.get("isViewLoaded")&&e(this)},reloadView:function(){this.get("isViewLoaded")&&e(this,!0),i(this)},willMoveToParentViewController:function(i){i&&i.get("isAttached")&&!this._isAttached?this.willAttach():!i&&this._isAttached&&this.willDetach()},didMoveToParentViewController:function(i){i&&i.get("isAttached")&&!this._isAttached?this.didAttach():!i&&this._isAttached&&this.didDetach()},willAttach:function(){var i,e=this._childViewControllers,t=e.length;for(i=0;i<t;i++)e[i].willAttach()},didAttach:function(){this.get("isRootViewController")&&this.get("view")._didAttach();var i,e=this._childViewControllers,t=e.length;for(i=0;i<t;i++)e[i].didAttach();this._isAttached=!0,this.propertyChanged("isAttached")},willDetach:function(){var i,e=this._childViewControllers,t=e.length;for(i=0;i<t;i++)e[i].willDetach()},didDetach:function(){var i,e=this._childViewControllers,t=e.length;for(i=0;i<t;i++)e[i].didDetach();this.get("isRootViewController")&&this.get("view")._didDetach(),this._isAttached=!1,this.propertyChanged("isAttached")},addChildViewController:function(i){var e=this._childViewControllers;i.get("parent")&&m$802$0("Cannot add view controller because it is already a child of a view controller",{parent:this,child:i}),e.push(i),i.set("parent",this),i.retain()},removeChildViewController:function(i){var e=this._childViewControllers;e.indexOf(i)<0&&m$802$0("Cannot remove view controller because it is not a child of this view controller",{parent:this,child:i}),i.set("parent",null),i.release(),m$765$0(i,e)},_loadChildViews:function(i){for(var e=this._childViewControllers,t=0;t<e.length;t++){
var n=e[t];i.set(n._destinationViewOutlet,n.get("view"))}},__superMap:{_BM$yF$init:"init",_BM$1CY$dispose:"dispose"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.UI.ViewController"}});m$715$0=t}();
!function(){"use strict";var e=m$714$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"panes"}],classes:["cw-pane-container"]},__QUALIFIED_CLASS_NAME__:"CW.UI.PaneManagerView$716"}}),a=m$715$0.extend({viewClass:e,_paneStack:m$619$1(Array),addPane:function(e){e||m$802$0("Must pass a pane to addPane"),e.retain();var a=this._paneStack;a.indexOf(e)!==-1&&m$802$0("Cannot add duplicate pane onto stack"),e.willMoveToParentViewController(this),this.addChildViewController(e),this.getPath("view.panes").push(e.get("view")),a.push(e),this.propertyChanged("activePane"),e.didMoveToParentViewController(this),e.release()},removePane:function(e){e||m$802$0("Must pass a pane to removePane"),e.retain();var a=this._paneStack;0===a.length&&m$802$0("Cannot remove pane from empty pane stack");var n=a.indexOf(e);n===-1&&m$802$0("Cannot remove pane; not a current pane"),e.willMoveToParentViewController(null),a.splice(n,1),this.getPath("view.panes").remove(e.get("view")),this.removeChildViewController(e),this.propertyChanged("activePane"),e.didMoveToParentViewController(null),e.release()},bringToFront:function(e){var a=this._paneStack,n=a.indexOf(e);n===-1&&m$802$0("Cannot bring to front; not a current pane"),a.splice(n,1),a.push(e),this.propertyChanged("activePane")},activePane:m$545$1({readOnly:!0,get:function(e,a,n,t){var r=this._paneStack;return r[r.length-1]}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.UI.PaneManager"}});m$716$0=a}();
!function(){"use strict";var e=m$497$0.extend({dependencies:[m$501$0,m$502$0,m$503$0],action:function(e){var t=m$716$0.create({isRootViewController:!0,application:e});e.set("_paneManager",t),t.willAttach(),e.get("rootElement").appendChild(t.get("view").get("element")),t.get("view").set("nextResponder",e.get("rootResponder")),t.didAttach(),t.addPane(e.get("rootViewController"))},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.AppInitializers.PaneManagerInitializer"}});m$500$0=e}();
!function(){"use strict";var n=m$563$1("AppStates",function(n){n("NEW"),n("INITIALIZING"),n("READY")}),t=function(n){var t=e&&e.get("application");if(t)return t.handleException.apply(t,arguments)},e=m$626$0.extend(m$544$0,{staticMembers:{application:m$545$1(),states:n,isExceptionHandlingEnabled:m$629$1({get:function(n,i,a,r){if(m$771$0(n))return n;if(!e||!e.get("application")){var o=this.exceptionHandler;if(!o||o===t)return!1}return!0}}),isExceptionHandlingFatal:!0,exceptionHandler:t,exceptionWasHandled:!1,__QUALIFIED_CLASS_NAME__:"CW.Application"},handleException:m$805$0,init:function(){e.get("application")&&m$802$0("Only one application may be instantiated per JS context."),this.__s._7v$15N$init.apply(this,arguments),e.set("application",this)},state:n.NEW,_runAllInitializers:function(n){var t=this,e=this.get("Initializers"),i=[],a=e.length;if(0===a)return void n();e.forEach(function(e){var r=e.get("sharedInstance"),o=r.get("dependencies"),s=t.observe(r.bindingFor("state"),function(t){t===m$497$0.states.COMPLETE&&(a--,s.disconnect(),0===a&&n())});if(0===o.length)i.push(r);else{var l=o.map(function(n){return n.get("sharedInstance").bindingFor("state")});l.push(function(){for(var n=0,e=arguments.length;n<e;n++)if(arguments[n]!==m$497$0.states.COMPLETE)return;r.run(t)}),r.observe.apply(r,l)}});for(var r=0,o=i.length;r<o;r++)i[r].run(t)},Initializers:[m$499$0,m$504$0],rootElement:document.body,rootViewController:null,_paneManager:m$545$1(),rootResponder:null,registerInitializer:function(n){n||m$802$0("Initializer cannot be null"),n&&!n.hasMixin(m$497$1)&&m$802$0("Initializer must match the Initializer protocol"),
this.Initializers.push(n)},run:m$801$0(function(){this.set("state",n.INITIALIZING),this._runAllInitializers(function(){this.set("state",n.READY)}.bind(this))}),addPane:function(n){this.get("_paneManager").addPane(n)},removePane:function(n){this.get("_paneManager").removePane(n)},bringToFront:function(n){this.get("_paneManager").removePane(n)},activePane:m$545$1({binding:m$539$1("_paneManager.activePane"),readOnly:!0}),__superMap:{_7v$15N$init:"init"}});m$498$0=e}();
!function(){"use strict"}();
!function(){"use strict";var t=m$616$0.extend({_poolArray:null,_poolObjectCount:0,objectClass:null,init:function(){this.__s._Ct$FX$init.apply(this,arguments),this._poolArray=[],this._poolObjectCount=0,this._generateClosures()},_generateClosures:function(){var t=this._poolObjectCount,o=this._poolArray,e=this.objectClass;this.getOrCreate=function(){var i;return t>0?(i=o[t-1],o[t-1]=void 0,t--):i=e.create(),i},this.returnToPool=function(e){o[t]=e,t++}},getOrCreate:null,returnToPool:null,__superMap:{_Ct$FX$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Utils._ObjectPool"}});m$811$0=t}();
!function(){"use strict";var t=m$616$0.extend({staticMembers:{begin:function(){var t=e.getOrCreate();return t._isReady=!0,t},__QUALIFIED_CLASS_NAME__:"CW.BatchSetter"},init:function(){this.__s._8X$S8$init.apply(this,arguments),this._toSetArray=[],this._toSetObservableArray=[]},_isReady:!1,_toSetArray:null,_toSetObservableArray:null,begin:function(){m$802$0("BatchSetter Begin must be called on the class, reusing BatchSetter objects is not allowed.")},set:function(t,e,a,r,s){this._isReady||m$802$0("BatchSetter Begin must be called on the class before calling set, reusing BatchSetter objects is not allowed. (Path: %{path})",{path:e,object:t,value:a}),t&&e||m$802$0("BatchSetter Set requires a path and an object. (Path: %{path}, Object: %{object})",{path:e,object:t,value:a});var n=m$539$0.create(e,t);return this._toSetArray.push(n),this._toSetArray.push(a),this},setIfChanged:function(t,e,a){this._isReady||m$802$0("BatchSetter Begin must be called on the class before calling set, reusing BatchSetter objects is not allowed. (Path: %{path}, Object: %{object})",{path:e,object:t,value:a});var r=t.getPath(e);return a!==r&&this.set(t,e,a),this},end:function(){this._actuallySet(),this._resetInternals(),this._returnSelfToPool()},_actuallySet:function(){for(var t=this._toSetArray,e=this._toSetObservableArray,a=t.length,r=0;r<a;r+=2){for(var s=t[r],n=t[r+1],i=s.components,o=s.rootObject,h=i.length,l=0;l<h-1;l++)o=o[i[l]];var c=i[h-1],u=o.upstreamNodes?o.upstreamNodes[c]:void 0;u?(e.push(n),e.push(u)):o[c]=n}m$541$0.setValuesForNodes.apply(this,e)},_resetInternals:function(){this._clearSetArray(),
this._isReady=!1},_returnSelfToPool:function(){e.returnToPool(this)},_clearSetArray:function(){this._toSetArray.length=0,this._toSetObservableArray.length=0},__superMap:{_8X$S8$init:"init"}}),e=m$811$0.create({objectClass:t});m$537$0=t}();
!function(){"use strict";var t=m$626$0.extend({staticMembers:{begin:function(t){var n=e.getOrCreate();return n._isReady=!0,n._rootObject=t,n._batchSetter=m$537$0.begin(),n},__QUALIFIED_CLASS_NAME__:"CW.BatchSetterForObject"},begin:function(){m$802$0("BatchSetterForObject Begin must be called on the class, reusing BatchSetterForObject objects is not allowed.")},init:function(t){this.__s._8Y$FS$init.call(this),this._rootObject=t},_rootObject:null,set:function(t,e,n,i,o){this._batchSetter.set(this._rootObject,t,e)},setIfChanged:function(t,e){this._batchSetter.setIfChanged(this._rootObject,t,e)},end:function(){this._batchSetter.end(),this._resetAndReturnSelfToPool()},_resetAndReturnSelfToPool:function(){this._batchSetter=null,this._rootObject=null,e.returnToPool(this)},__superMap:{_8Y$FS$init:"init"}}),e=m$811$0.create({objectClass:t});m$538$0=t}();
!function(){if(m$648$0.get("sharedInstance").isIE9OrLower){var t=window.setTimeout;window.setTimeout=function(n,r){if(arguments.length>2){var e=Array.prototype.slice.call(arguments,2);return t(function(){n.apply(this,e)},r)}return t(n,r)};var n=window.setInterval;window.setInterval=function(t,r){if(arguments.length>2){var e=Array.prototype.slice.call(arguments,2);return n(function(){t.apply(this,e)},r)}return n(t,r)}}}();
!function(){if(window.performance||(window.performance={}),!window.performance.now){var n,o=window.performance.timing;n=o&&o.navigationStart?o.navigationStart:Date.now(),window.performance.now=function(){return Date.now()-n}}}();
!function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){"use strict";function e(e){return"function"==typeof e||"object"===("undefined"==typeof e?"undefined":t(e))&&null!==e}function n(t){return"function"==typeof t}function r(e){return"object"===("undefined"==typeof e?"undefined":t(e))&&null!==e}function o(){}function i(){return function(){process.nextTick(a)}}function s(){var t=0,e=new K(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(a,1)}}function a(){for(var t=0;t<Y;t+=2){var e=U[t],n=U[t+1];e(n),U[t]=void 0,U[t+1]=void 0}Y=0}function f(){}function l(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function p(t){try{return t.then}catch(t){return B.error=t,B}}function d(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function _(t,e,n){I(function(t){var r=!1,o=d(n,e,function(n){r||(r=!0,e!==n?v(t,n):b(t,n))},function(e){r||(r=!0,g(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,g(t,o))},t)}function y(t,e){e._state===q?b(t,e._result):t._state===z?g(t,e._result):A(e,void 0,function(e){v(t,e)},function(e){g(t,e)})}function m(t,e){if(e.constructor===t.constructor)y(t,e);else{var r=p(e);r===B?g(t,B.error):void 0===r?b(t,e):n(r)?_(t,e,r):b(t,e);
}}function v(t,n){t===n?g(t,l()):e(n)?m(t,n):b(t,n)}function w(t){t._onerror&&t._onerror(t._result),E(t)}function b(t,e){t._state===W&&(t._result=e,t._state=q,0===t._subscribers.length||I(E,t))}function g(t,e){t._state===W&&(t._state=z,t._result=e,I(w,t))}function A(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+q]=n,o[i+z]=r,0===i&&t._state&&I(E,t)}function E(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function S(){this.error=null}function j(t,e){try{return t(e)}catch(t){return G.error=t,G}}function P(t,e,r,o){var i,s,u,c,a=n(r);if(a){if(i=j(r,o),i===G?(c=!0,s=i.error,i=null):u=!0,e===i)return void g(e,h())}else i=o,u=!0;e._state!==W||(a&&u?v(e,i):c?g(e,s):t===q?b(e,i):t===z&&g(e,i))}function T(t,e){try{e(function(e){v(t,e)},function(e){g(t,e)})}catch(e){g(t,e)}}function k(t,e,n,r){this._instanceConstructor=t,this.promise=new t(f,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&b(this.promise,this._result))):g(this.promise,this._validationError())}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function C(t){this._id=X++,this._state=void 0,this._result=void 0,
this._subscribers=[],f!==t&&(n(t)||M(),this instanceof C||O(),T(this,t))}var R;R=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var x,D=R,Y=(Date.now||function(){return(new Date).getTime()},Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!==("undefined"==typeof e?"undefined":t(e)))throw new TypeError("Argument must be an object");return o.prototype=e,new o},0),I=function(t,e){U[Y]=t,U[Y+1]=e,Y+=2,2===Y&&x()},F="undefined"!=typeof window?window:{},K=F.MutationObserver||F.WebKitMutationObserver,N="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,U=new Array(1e3);x="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?i():K?s():N?u():c();var W=void 0,q=1,z=2,B=new S,G=new S;k.prototype._validateInput=function(t){return D(t)},k.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},k.prototype._init=function(){this._result=new Array(this.length)};var H=k;k.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===W&&r<t;r++)this._eachEntry(n[r],r)},k.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;r(t)?t.constructor===n&&t._state!==W?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(n.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(q,e,t))},k.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===W&&(this._remaining--,this._abortOnReject&&t===z?g(r,n):this._result[e]=this._makeResult(t,e,n)),
0===this._remaining&&b(r,this._result)},k.prototype._makeResult=function(t,e,n){return n},k.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){n._settledAt(q,e,t)},function(t){n._settledAt(z,e,t)})};var J=function(t,e){return new H(this,t,!0,e).promise},L=function(t,e){function n(t){v(i,t)}function r(t){g(i,t)}var o=this,i=new o(f,e);if(!D(t))return g(i,new TypeError("You must pass an array to race.")),i;for(var s=t.length,u=0;i._state===W&&u<s;u++)A(o.resolve(t[u]),void 0,n,r);return i},Q=function(e,n){var r=this;if(e&&"object"===("undefined"==typeof e?"undefined":t(e))&&e.constructor===r)return e;var o=new r(f,n);return v(o,e),o},V=function(t,e){var n=this,r=new n(f,e);return g(r,t),r},X=0,Z=C;C.all=J,C.race=L,C.resolve=Q,C.reject=V,C.prototype={constructor:C,then:function(t,e){var n=this,r=n._state;if(r===q&&!t||r===z&&!e)return this;var o=new this.constructor(f),i=n._result;if(r){var s=arguments[r-1];I(function(){P(r,o,s,i)})}else A(n,o,t,e);return o},catch:function(t){return this.then(null,t)}};var $=function(){var t;t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),n(e)}();e||(t.Promise=Z)},tt={Promise:Z,polyfill:$};"function"==typeof define&&define.amd?define(function(){return tt}):"undefined"!=typeof module&&module.exports?module.exports=tt:"undefined"!=typeof this&&(this.ES6Promise=tt)}).call(global),ES6Promise&&ES6Promise.polyfill()}();
!function(){m$662$0(Number,"isInteger",function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}),m$662$0(Number,"isFinite",function(n){return"number"==typeof n&&isFinite(n)}),m$662$0(Number,"isNaN",function(n){return"number"==typeof n&&isNaN(n)})}();
!function(){!function(){if(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.MozRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.MozCancelAnimationFrame||window.msCancelAnimationFrame,!window.requestAnimationFrame||!window.cancelAnimationFrame){var n=window.performance&&window.performance.now&&window.performance||{now:function(){var n=Date.now();return function(){return Date.now()-n}}()},i=1,o=0,e=n.now(),a=[],w=i;window.requestAnimationFrame=function(w){return a.push(w),o||(o=setTimeout(t,Math.max(0,e+16-n.now()))),i++},window.cancelAnimationFrame=function(n){var i=n-w;a[i]&&(a[i]=void 0)};var t=function(){o=0,e=n.now();for(var i=a.length,t=0;t<i;t++){var m=a[t];m&&m(e)}r(i),w+=i},r=function(n){for(var i=n,o=a.length;i<o;i++)a[i-n]=a[i];a.length-=n}}}()}();

/**
 * Polyfill.Intl
 * =============
 *
 * https://github.com/andyearnshaw/Intl.js
 * (c) 2013 Andy Earnshaw, released under the MIT license
 * Version 1.0.0-rc-1 (8c7b4b18e2). Added 12/15/2014
 *
 * ------------------------------------------------------------------
 * @namespace Polyfill
 * @export Intl
 * @import Licenses.Polyfill.Intl
 * @raw
 */

(function() {
    "use strict";

    var
        // extlang       = 3ALPHA              ; selected ISO 639 codes
        //                 *2("-" 3ALPHA)      ; permanently reserved
        $$exp$$extlang = '[a-z]{3}(?:-[a-z]{3}){0,2}',

        // language      = 2*3ALPHA            ; shortest ISO 639 code
        //                 ["-" extlang]       ; sometimes followed by
        //                                     ; extended language subtags
        //               / 4ALPHA              ; or reserved for future use
        //               / 5*8ALPHA            ; or registered language subtag
        $$exp$$language = '(?:[a-z]{2,3}(?:-' + $$exp$$extlang + ')?|[a-z]{4}|[a-z]{5,8})',

        // script        = 4ALPHA              ; ISO 15924 code
        $$exp$$script = '[a-z]{4}',

        // region        = 2ALPHA              ; ISO 3166-1 code
        //               / 3DIGIT              ; UN M.49 code
        $$exp$$region = '(?:[a-z]{2}|\\d{3})',

        // variant       = 5*8alphanum         ; registered variants
        //               / (DIGIT 3alphanum)
        $$exp$$variant = '(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3})',

        //                                     ; Single alphanumerics
        //                                     ; "x" reserved for private use
        // singleton     = DIGIT               ; 0 - 9
        //               / %x41-57             ; A - W
        //               / %x59-5A             ; Y - Z
        //               / %x61-77             ; a - w
        //               / %x79-7A             ; y - z
        $$exp$$singleton = '[0-9a-wy-z]',

        // extension     = singleton 1*("-" (2*8alphanum))
        $$exp$$extension = $$exp$$singleton + '(?:-[a-z0-9]{2,8})+',

        // privateuse    = "x" 1*("-" (1*8alphanum))
        $$exp$$privateuse = 'x(?:-[a-z0-9]{1,8})+',

        // irregular     = "en-GB-oed"         ; irregular tags do not match
        //               / "i-ami"             ; the 'langtag' production and
        //               / "i-bnn"             ; would not otherwise be
        //               / "i-default"         ; considered 'well-formed'
        //               / "i-enochian"        ; These tags are all valid,
        //               / "i-hak"             ; but most are deprecated
        //               / "i-klingon"         ; in favor of more modern
        //               / "i-lux"             ; subtags or subtag
        //               / "i-mingo"           ; combination
        //               / "i-navajo"
        //               / "i-pwn"
        //               / "i-tao"
        //               / "i-tay"
        //               / "i-tsu"
        //               / "sgn-BE-FR"
        //               / "sgn-BE-NL"
        //               / "sgn-CH-DE"
        $$exp$$irregular = '(?:en-GB-oed'
                  + '|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)'
                  + '|sgn-(?:BE-FR|BE-NL|CH-DE))',

        // regular       = "art-lojban"        ; these tags match the 'langtag'
        //               / "cel-gaulish"       ; production, but their subtags
        //               / "no-bok"            ; are not extended language
        //               / "no-nyn"            ; or variant subtags: their meaning
        //               / "zh-guoyu"          ; is defined by their registration
        //               / "zh-hakka"          ; and all of these are deprecated
        //               / "zh-min"            ; in favor of a more modern
        //               / "zh-min-nan"        ; subtag or sequence of subtags
        //               / "zh-xiang"
        $$exp$$regular = '(?:art-lojban|cel-gaulish|no-bok|no-nyn'
                + '|zh-(?:guoyu|hakka|min|min-nan|xiang))',

        // grandfathered = irregular           ; non-redundant tags registered
        //               / regular             ; during the RFC 3066 era
        $$exp$$grandfathered = '(?:' + $$exp$$irregular + '|' + $$exp$$regular + ')',

        // langtag       = language
        //                 ["-" script]
        //                 ["-" region]
        //                 *("-" variant)
        //                 *("-" extension)
        //                 ["-" privateuse]
        $$exp$$langtag = $$exp$$language + '(?:-' + $$exp$$script + ')?(?:-' + $$exp$$region + ')?(?:-'
                + $$exp$$variant + ')*(?:-' + $$exp$$extension + ')*(?:-' + $$exp$$privateuse + ')?';

    var $$exp$$expBCP47Syntax = RegExp('^(?:'+$$exp$$langtag+'|'+$$exp$$privateuse+'|'+$$exp$$grandfathered+')$', 'i');

    var $$exp$$expVariantDupes = RegExp('^(?!x).*?-('+$$exp$$variant+')-(?:\\w{4,8}-(?!x-))*\\1\\b', 'i');

    var $$exp$$expSingletonDupes = RegExp('^(?!x).*?-('+$$exp$$singleton+')-(?:\\w+-(?!x-))*\\1\\b', 'i');

    var $$exp$$expExtSequences = RegExp('-'+$$exp$$extension, 'ig');
    var $$cldr$$expDTComponents = /(?:[Eec]{1,6}|G{1,5}|(?:[yYu]+|U{1,5})|[ML]{1,5}|d{1,2}|a|[hkHK]{1,2}|m{1,2}|s{1,2}|z{1,4})(?=([^']*'[^']*')*[^']*$)/g;

    // Skip over patterns with these datetime components
    var $$cldr$$unwantedDTCs = /[QxXVOvZASjgFDwWIQqH]/;

    // Maps the number of characters in a CLDR pattern to the specification
    var $$cldr$$dtcLengthMap = {
            month:   [ 'numeric', '2-digit', 'short', 'long', 'narrow' ],
            weekday: [ 'short', 'short', 'short', 'long', 'narrow' ],
            era:     [ 'short', 'short', 'short', 'long', 'narrow' ]
        };

    var $$cldr$$dtKeys = ["weekday", "era", "year", "month", "day"];
    var $$cldr$$tmKeys = ["hour", "minute", "second", "timeZoneName"];

    function $$cldr$$isDateFormatOnly(obj) {
        for (var i = 0; i < $$cldr$$tmKeys.length; i += 1) {
            if (obj.hasOwnProperty($$cldr$$tmKeys[i])) {
                return false;
            }
        }
        return true;
    }

    function $$cldr$$isTimeFormatOnly(obj) {
        for (var i = 0; i < $$cldr$$dtKeys.length; i += 1) {
            if (obj.hasOwnProperty($$cldr$$dtKeys[i])) {
                return false;
            }
        }
        return true;
    }

    function $$cldr$$createDateTimeFormat(format) {
        if ($$cldr$$unwantedDTCs.test(format))
            return undefined;

        var formatObj = {};

        // Replace the pattern string with the one required by the specification, whilst
        // at the same time evaluating it for the subsets and formats
        formatObj.pattern = format.replace($$cldr$$expDTComponents, function ($0) {
            // See which symbol we're dealing with
            switch ($0.charAt(0)) {
                case 'E':
                case 'e':
                case 'c':
                    formatObj.weekday = $$cldr$$dtcLengthMap.weekday[$0.length-1];
                    return '{weekday}';

                // Not supported yet
                case 'G':
                    formatObj.era = $$cldr$$dtcLengthMap.era[$0.length-1];
                    return '{era}';

                case 'y':
                case 'Y':
                case 'u':
                case 'U':
                    formatObj.year = $0.length === 2 ? '2-digit' : 'numeric';
                    return '{year}';

                case 'M':
                case 'L':
                    formatObj.month = $$cldr$$dtcLengthMap.month[$0.length-1];
                    return '{month}';

                case 'd':
                    formatObj.day = $0.length === 2 ? '2-digit' : 'numeric';
                    return '{day}';

                case 'a':
                    return '{ampm}';

                case 'h':
                case 'H':
                case 'k':
                case 'K':
                    formatObj.hour = $0.length === 2 ? '2-digit' : 'numeric';
                    return '{hour}';

                case 'm':
                    formatObj.minute = $0.length === 2 ? '2-digit' : 'numeric';
                    return '{minute}';

                case 's':
                    formatObj.second = $0.length === 2 ? '2-digit' : 'numeric';
                    return '{second}';

                case 'z':
                    formatObj.timeZoneName = $0.length < 4 ? 'short' : 'long';
                    return '{timeZoneName}';
            }
        });

        // From http://www.unicode.org/reports/tr35/tr35-dates.html#Date_Format_Patterns:
        //  'In patterns, two single quotes represents a literal single quote, either
        //   inside or outside single quotes. Text within single quotes is not
        //   interpreted in any way (except for two adjacent single quotes).'
        formatObj.pattern = formatObj.pattern.replace(/'([^']*)'/g, function ($0, literal) {
            return literal ? literal : "'";
        });

        if (formatObj.pattern.indexOf('{ampm}') > -1) {
            formatObj.hour12 = true;
            formatObj.pattern12 = formatObj.pattern;
            formatObj.pattern = formatObj.pattern.replace('{ampm}', '').replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
        }

        return formatObj;
    }

    function $$cldr$$createDateTimeFormats(formats) {
        var availableFormats = formats.availableFormats;
        var timeFormats = formats.timeFormats;
        var dateFormats = formats.dateFormats;
        var order = formats.medium;
        var result = [];
        var key, format, computed, i, j;
        var timeRelatedFormats = [];
        var dateRelatedFormats = [];

        function expandFormat(key, pattern) {
            // Expand component lengths if necessary, as allowed in the LDML spec
            // Get the lengths of 'M' and 'E' substrings in the date pattern
            // as arrays that can be joined to create a new substring
            var M = new Array((key.match(/M/g)||[]).length + 1);
            var E = new Array((key.match(/E/g)||[]).length + 1);

            // note from caridy: I'm not sure we really need this, seems to be
            //                   useless since it relies on the keys from CLDR
            //                   instead of the actual format pattern, but I'm not sure.
            if (M.length > 2)
                pattern = pattern.replace(/(M|L)+/, M.join('$1'));

            if (E.length > 2)
                pattern = pattern.replace(/([Eec])+/, E.join('$1'));

            return pattern;
        }

        // Map available (custom) formats into a pattern for createDateTimeFormats
        for (key in availableFormats) {
            if (availableFormats.hasOwnProperty(key)) {
                format = expandFormat(key, availableFormats[key]);
                computed = $$cldr$$createDateTimeFormat(format);
                if (computed) {
                    result.push(computed);
                    // in some cases, the format is only displaying date specific props
                    // or time specific props, in which case we need to also produce the
                    // combined formats.
                    if ($$cldr$$isDateFormatOnly(computed)) {
                        dateRelatedFormats.push(format);
                    } else if ($$cldr$$isTimeFormatOnly(computed)) {
                        timeRelatedFormats.push(format);
                    }
                }
            }
        }

        // combine custom time and custom date formats when they are orthogonals to complete the
        // formats supported by browsers by relying on the value of "formats.medium" which defines
        // how to join custom formats into a single pattern.
        for (i = 0; i < timeRelatedFormats.length; i += 1) {
            for (j = 0; j < dateRelatedFormats.length; j += 1) {
                format = order
                    .replace('{0}', timeRelatedFormats[i])
                    .replace('{1}', dateRelatedFormats[j])
                    .replace(/^[,\s]+|[,\s]+$/gi, '');
                computed = $$cldr$$createDateTimeFormat(format);
                if (computed) {
                    result.push(computed);
                }
            }
        }

        // Map time formats into a pattern for createDateTimeFormats
        for (key in timeFormats) {
            if (timeFormats.hasOwnProperty(key)) {
                format = expandFormat(key, timeFormats[key]);
                computed = $$cldr$$createDateTimeFormat(format);
                if (computed) {
                    result.push(computed);
                }
            }
        }

        // Map date formats into a pattern for createDateTimeFormats
        for (key in dateFormats) {
            if (dateFormats.hasOwnProperty(key)) {
                format = expandFormat(key, dateFormats[key]);
                computed = $$cldr$$createDateTimeFormat(format);
                if (computed) {
                    result.push(computed);
                }
            }
        }

        return result;
    }

    var $$core$$Intl = {},

        $$core$$realDefineProp = (function () {
            var sentinel = {};
            try {
                Object.defineProperty(sentinel, 'a', {});
                return 'a' in sentinel;
            } catch (e) {
                return false;
            }
        })(),

        // Need a workaround for getters in ES3
        $$core$$es3  = !$$core$$realDefineProp && !Object.prototype.__defineGetter__,

        // We use this a lot (and need it for proto-less objects)
        $$core$$hop = Object.prototype.hasOwnProperty,

        // Naive defineProperty for compatibility
        $$core$$defineProperty = $$core$$realDefineProp ? Object.defineProperty : function (obj, name, desc) {
            if ('get' in desc && obj.__defineGetter__)
                obj.__defineGetter__(name, desc.get);

            else if (!$$core$$hop.call(obj, name) || 'value' in desc)
                obj[name] = desc.value;
        },

        // Array.prototype.indexOf, as good as we need it to be
        $$core$$arrIndexOf = Array.prototype.indexOf || function (search) {
            /*jshint validthis:true */
            var t = this;
            if (!t.length)
                return -1;

            for (var i = arguments[1] || 0, max = t.length; i < max; i++) {
                if (t[i] === search)
                    return i;
            }

            return -1;
        },

        // Create an object with the specified prototype (2nd arg required for Record)
        $$core$$objCreate = Object.create || function (proto, props) {
            var obj;

            function F() {}
            F.prototype = proto;
            obj = new F();

            for (var k in props) {
                if ($$core$$hop.call(props, k))
                    $$core$$defineProperty(obj, k, props[k]);
            }

            return obj;
        },

        // Snapshot some (hopefully still) native built-ins
        $$core$$arrSlice  = Array.prototype.slice,
        $$core$$arrConcat = Array.prototype.concat,
        $$core$$arrPush   = Array.prototype.push,
        $$core$$arrJoin   = Array.prototype.join,
        $$core$$arrShift  = Array.prototype.shift,
        $$core$$arrUnshift= Array.prototype.unshift,

        // Naive Function.prototype.bind for compatibility
        $$core$$fnBind = Function.prototype.bind || function (thisObj) {
            var fn = this,
                args = $$core$$arrSlice.call(arguments, 1);

            // All our (presently) bound functions have either 1 or 0 arguments. By returning
            // different function signatures, we can pass some tests in ES3 environments
            if (fn.length === 1) {
                return function (a) {
                    return fn.apply(thisObj, $$core$$arrConcat.call(args, $$core$$arrSlice.call(arguments)));
                };
            }
            else {
                return function () {
                    return fn.apply(thisObj, $$core$$arrConcat.call(args, $$core$$arrSlice.call(arguments)));
                };
            }
        },

        // Default locale is the first-added locale data for us
        $$core$$defaultLocale,

        // Object housing internal properties for constructors
        $$core$$internals = $$core$$objCreate(null),

        // Keep internal properties internal
        $$core$$secret = Math.random(),

        // An object map of date component keys, saves using a regex later
        $$core$$dateWidths = $$core$$objCreate(null, { narrow:{}, short:{}, long:{} }),

        // Each constructor prototype should be an instance of the constructor itself, but we
        // can't initialise them as such until some locale data has been added, so this is how
        // we keep track
        $$core$$numberFormatProtoInitialised = false,
        $$core$$dateTimeFormatProtoInitialised = false,

        // Some regular expressions we're using
        $$core$$expCurrencyCode = /^[A-Z]{3}$/,
        $$core$$expUnicodeExSeq = /-u(?:-[0-9a-z]{2,8})+/gi, // See `extension` below

        // IANA Subtag Registry redundant tag and subtag maps
        $$core$$redundantTags = {
            tags: {
                "art-lojban":   "jbo",       "i-ami":        "ami",       "i-bnn":       "bnn",  "i-hak":      "hak",
                "i-klingon":    "tlh",       "i-lux":        "lb",        "i-navajo":    "nv",   "i-pwn":      "pwn",
                "i-tao":        "tao",       "i-tay":        "tay",       "i-tsu":       "tsu",  "no-bok":     "nb",
                "no-nyn":       "nn",        "sgn-BE-FR":    "sfb",       "sgn-BE-NL":   "vgt",  "sgn-CH-DE":  "sgg",
                "zh-guoyu":     "cmn",       "zh-hakka":     "hak",       "zh-min-nan":  "nan",  "zh-xiang":   "hsn",
                "sgn-BR":       "bzs",       "sgn-CO":       "csn",       "sgn-DE":      "gsg",  "sgn-DK":     "dsl",
                "sgn-ES":       "ssp",       "sgn-FR":       "fsl",       "sgn-GB":      "bfi",  "sgn-GR":     "gss",
                "sgn-IE":       "isg",       "sgn-IT":       "ise",       "sgn-JP":      "jsl",  "sgn-MX":     "mfs",
                "sgn-NI":       "ncs",       "sgn-NL":       "dse",       "sgn-NO":      "nsl",  "sgn-PT":     "psr",
                "sgn-SE":       "swl",       "sgn-US":       "ase",       "sgn-ZA":      "sfs",  "zh-cmn":     "cmn",
                "zh-cmn-Hans":  "cmn-Hans",  "zh-cmn-Hant":  "cmn-Hant",  "zh-gan":      "gan",  "zh-wuu":     "wuu",
                "zh-yue":       "yue"
            },
            subtags: {
                  BU: "MM",   DD: "DE",   FX: "FR",   TP: "TL",   YD: "YE",   ZR: "CD",  heploc: "alalc97",
                'in': "id",   iw: "he",   ji:  "yi",  jw: "jv",   mo: "ro",  ayx: "nun", bjd: "drl",
                 ccq: "rki", cjr: "mom", cka: "cmr", cmk: "xch", drh: "khk", drw: "prs", gav: "dev",
                 hrr: "jal", ibi: "opa", kgh: "kml", lcq: "ppr", mst: "mry", myt: "mry", sca: "hle",
                 tie: "ras", tkk: "twm", tlw: "weo", tnf: "prs", ybd: "rki", yma: "lrr"
            },
            extLang: {
                aao: [ "aao", "ar"  ], abh: [ "abh", "ar"  ], abv: [ "abv", "ar"  ], acm: [ "acm", "ar"  ],
                acq: [ "acq", "ar"  ], acw: [ "acw", "ar"  ], acx: [ "acx", "ar"  ], acy: [ "acy", "ar"  ],
                adf: [ "adf", "ar"  ], ads: [ "ads", "sgn" ], aeb: [ "aeb", "ar"  ], aec: [ "aec", "ar"  ],
                aed: [ "aed", "sgn" ], aen: [ "aen", "sgn" ], afb: [ "afb", "ar"  ], afg: [ "afg", "sgn" ],
                ajp: [ "ajp", "ar"  ], apc: [ "apc", "ar"  ], apd: [ "apd", "ar"  ], arb: [ "arb", "ar"  ],
                arq: [ "arq", "ar"  ], ars: [ "ars", "ar"  ], ary: [ "ary", "ar"  ], arz: [ "arz", "ar"  ],
                ase: [ "ase", "sgn" ], asf: [ "asf", "sgn" ], asp: [ "asp", "sgn" ], asq: [ "asq", "sgn" ],
                asw: [ "asw", "sgn" ], auz: [ "auz", "ar"  ], avl: [ "avl", "ar"  ], ayh: [ "ayh", "ar"  ],
                ayl: [ "ayl", "ar"  ], ayn: [ "ayn", "ar"  ], ayp: [ "ayp", "ar"  ], bbz: [ "bbz", "ar"  ],
                bfi: [ "bfi", "sgn" ], bfk: [ "bfk", "sgn" ], bjn: [ "bjn", "ms"  ], bog: [ "bog", "sgn" ],
                bqn: [ "bqn", "sgn" ], bqy: [ "bqy", "sgn" ], btj: [ "btj", "ms"  ], bve: [ "bve", "ms"  ],
                bvl: [ "bvl", "sgn" ], bvu: [ "bvu", "ms"  ], bzs: [ "bzs", "sgn" ], cdo: [ "cdo", "zh"  ],
                cds: [ "cds", "sgn" ], cjy: [ "cjy", "zh"  ], cmn: [ "cmn", "zh"  ], coa: [ "coa", "ms"  ],
                cpx: [ "cpx", "zh"  ], csc: [ "csc", "sgn" ], csd: [ "csd", "sgn" ], cse: [ "cse", "sgn" ],
                csf: [ "csf", "sgn" ], csg: [ "csg", "sgn" ], csl: [ "csl", "sgn" ], csn: [ "csn", "sgn" ],
                csq: [ "csq", "sgn" ], csr: [ "csr", "sgn" ], czh: [ "czh", "zh"  ], czo: [ "czo", "zh"  ],
                doq: [ "doq", "sgn" ], dse: [ "dse", "sgn" ], dsl: [ "dsl", "sgn" ], dup: [ "dup", "ms"  ],
                ecs: [ "ecs", "sgn" ], esl: [ "esl", "sgn" ], esn: [ "esn", "sgn" ], eso: [ "eso", "sgn" ],
                eth: [ "eth", "sgn" ], fcs: [ "fcs", "sgn" ], fse: [ "fse", "sgn" ], fsl: [ "fsl", "sgn" ],
                fss: [ "fss", "sgn" ], gan: [ "gan", "zh"  ], gds: [ "gds", "sgn" ], gom: [ "gom", "kok" ],
                gse: [ "gse", "sgn" ], gsg: [ "gsg", "sgn" ], gsm: [ "gsm", "sgn" ], gss: [ "gss", "sgn" ],
                gus: [ "gus", "sgn" ], hab: [ "hab", "sgn" ], haf: [ "haf", "sgn" ], hak: [ "hak", "zh"  ],
                hds: [ "hds", "sgn" ], hji: [ "hji", "ms"  ], hks: [ "hks", "sgn" ], hos: [ "hos", "sgn" ],
                hps: [ "hps", "sgn" ], hsh: [ "hsh", "sgn" ], hsl: [ "hsl", "sgn" ], hsn: [ "hsn", "zh"  ],
                icl: [ "icl", "sgn" ], ils: [ "ils", "sgn" ], inl: [ "inl", "sgn" ], ins: [ "ins", "sgn" ],
                ise: [ "ise", "sgn" ], isg: [ "isg", "sgn" ], isr: [ "isr", "sgn" ], jak: [ "jak", "ms"  ],
                jax: [ "jax", "ms"  ], jcs: [ "jcs", "sgn" ], jhs: [ "jhs", "sgn" ], jls: [ "jls", "sgn" ],
                jos: [ "jos", "sgn" ], jsl: [ "jsl", "sgn" ], jus: [ "jus", "sgn" ], kgi: [ "kgi", "sgn" ],
                knn: [ "knn", "kok" ], kvb: [ "kvb", "ms"  ], kvk: [ "kvk", "sgn" ], kvr: [ "kvr", "ms"  ],
                kxd: [ "kxd", "ms"  ], lbs: [ "lbs", "sgn" ], lce: [ "lce", "ms"  ], lcf: [ "lcf", "ms"  ],
                liw: [ "liw", "ms"  ], lls: [ "lls", "sgn" ], lsg: [ "lsg", "sgn" ], lsl: [ "lsl", "sgn" ],
                lso: [ "lso", "sgn" ], lsp: [ "lsp", "sgn" ], lst: [ "lst", "sgn" ], lsy: [ "lsy", "sgn" ],
                ltg: [ "ltg", "lv"  ], lvs: [ "lvs", "lv"  ], lzh: [ "lzh", "zh"  ], max: [ "max", "ms"  ],
                mdl: [ "mdl", "sgn" ], meo: [ "meo", "ms"  ], mfa: [ "mfa", "ms"  ], mfb: [ "mfb", "ms"  ],
                mfs: [ "mfs", "sgn" ], min: [ "min", "ms"  ], mnp: [ "mnp", "zh"  ], mqg: [ "mqg", "ms"  ],
                mre: [ "mre", "sgn" ], msd: [ "msd", "sgn" ], msi: [ "msi", "ms"  ], msr: [ "msr", "sgn" ],
                mui: [ "mui", "ms"  ], mzc: [ "mzc", "sgn" ], mzg: [ "mzg", "sgn" ], mzy: [ "mzy", "sgn" ],
                nan: [ "nan", "zh"  ], nbs: [ "nbs", "sgn" ], ncs: [ "ncs", "sgn" ], nsi: [ "nsi", "sgn" ],
                nsl: [ "nsl", "sgn" ], nsp: [ "nsp", "sgn" ], nsr: [ "nsr", "sgn" ], nzs: [ "nzs", "sgn" ],
                okl: [ "okl", "sgn" ], orn: [ "orn", "ms"  ], ors: [ "ors", "ms"  ], pel: [ "pel", "ms"  ],
                pga: [ "pga", "ar"  ], pks: [ "pks", "sgn" ], prl: [ "prl", "sgn" ], prz: [ "prz", "sgn" ],
                psc: [ "psc", "sgn" ], psd: [ "psd", "sgn" ], pse: [ "pse", "ms"  ], psg: [ "psg", "sgn" ],
                psl: [ "psl", "sgn" ], pso: [ "pso", "sgn" ], psp: [ "psp", "sgn" ], psr: [ "psr", "sgn" ],
                pys: [ "pys", "sgn" ], rms: [ "rms", "sgn" ], rsi: [ "rsi", "sgn" ], rsl: [ "rsl", "sgn" ],
                sdl: [ "sdl", "sgn" ], sfb: [ "sfb", "sgn" ], sfs: [ "sfs", "sgn" ], sgg: [ "sgg", "sgn" ],
                sgx: [ "sgx", "sgn" ], shu: [ "shu", "ar"  ], slf: [ "slf", "sgn" ], sls: [ "sls", "sgn" ],
                sqk: [ "sqk", "sgn" ], sqs: [ "sqs", "sgn" ], ssh: [ "ssh", "ar"  ], ssp: [ "ssp", "sgn" ],
                ssr: [ "ssr", "sgn" ], svk: [ "svk", "sgn" ], swc: [ "swc", "sw"  ], swh: [ "swh", "sw"  ],
                swl: [ "swl", "sgn" ], syy: [ "syy", "sgn" ], tmw: [ "tmw", "ms"  ], tse: [ "tse", "sgn" ],
                tsm: [ "tsm", "sgn" ], tsq: [ "tsq", "sgn" ], tss: [ "tss", "sgn" ], tsy: [ "tsy", "sgn" ],
                tza: [ "tza", "sgn" ], ugn: [ "ugn", "sgn" ], ugy: [ "ugy", "sgn" ], ukl: [ "ukl", "sgn" ],
                uks: [ "uks", "sgn" ], urk: [ "urk", "ms"  ], uzn: [ "uzn", "uz"  ], uzs: [ "uzs", "uz"  ],
                vgt: [ "vgt", "sgn" ], vkk: [ "vkk", "ms"  ], vkt: [ "vkt", "ms"  ], vsi: [ "vsi", "sgn" ],
                vsl: [ "vsl", "sgn" ], vsv: [ "vsv", "sgn" ], wuu: [ "wuu", "zh"  ], xki: [ "xki", "sgn" ],
                xml: [ "xml", "sgn" ], xmm: [ "xmm", "ms"  ], xms: [ "xms", "sgn" ], yds: [ "yds", "sgn" ],
                ysl: [ "ysl", "sgn" ], yue: [ "yue", "zh"  ], zib: [ "zib", "sgn" ], zlm: [ "zlm", "ms"  ],
                zmi: [ "zmi", "ms"  ], zsl: [ "zsl", "sgn" ], zsm: [ "zsm", "ms"  ]
            }
        },

        // Currency minor units output from get-4217 grunt task, formatted
        $$core$$currencyMinorUnits = {
            BHD: 3, BYR: 0, XOF: 0, BIF: 0, XAF: 0, CLF: 4, CLP: 0, KMF: 0, DJF: 0,
            XPF: 0, GNF: 0, ISK: 0, IQD: 3, JPY: 0, JOD: 3, KRW: 0, KWD: 3, LYD: 3,
            OMR: 3, PYG: 0, RWF: 0, TND: 3, UGX: 0, UYI: 0, VUV: 0, VND: 0
        };

    // Sect 6.2 Language Tags
    // ======================

    /**
     * The IsStructurallyValidLanguageTag abstract operation verifies that the locale
     * argument (which must be a String value)
     *
     * - represents a well-formed BCP 47 language tag as specified in RFC 5646 section
     *   2.1, or successor,
     * - does not include duplicate variant subtags, and
     * - does not include duplicate singleton subtags.
     *
     * The abstract operation returns true if locale can be generated from the ABNF
     * grammar in section 2.1 of the RFC, starting with Language-Tag, and does not
     * contain duplicate variant or singleton subtags (other than as a private use
     * subtag). It returns false otherwise. Terminal value characters in the grammar are
     * interpreted as the Unicode equivalents of the ASCII octet values given.
     */
    function /* 6.2.2 */$$core$$IsStructurallyValidLanguageTag(locale) {
        // represents a well-formed BCP 47 language tag as specified in RFC 5646
        if (!$$exp$$expBCP47Syntax.test(locale))
            return false;

        // does not include duplicate variant subtags, and
        if ($$exp$$expVariantDupes.test(locale))
            return false;

        // does not include duplicate singleton subtags.
        if ($$exp$$expSingletonDupes.test(locale))
            return false;

        return true;
    }

    /**
     * The CanonicalizeLanguageTag abstract operation returns the canonical and case-
     * regularized form of the locale argument (which must be a String value that is
     * a structurally valid BCP 47 language tag as verified by the
     * IsStructurallyValidLanguageTag abstract operation). It takes the steps
     * specified in RFC 5646 section 4.5, or successor, to bring the language tag
     * into canonical form, and to regularize the case of the subtags, but does not
     * take the steps to bring a language tag into “extlang form” and to reorder
     * variant subtags.

     * The specifications for extensions to BCP 47 language tags, such as RFC 6067,
     * may include canonicalization rules for the extension subtag sequences they
     * define that go beyond the canonicalization rules of RFC 5646 section 4.5.
     * Implementations are allowed, but not required, to apply these additional rules.
     */
    function /* 6.2.3 */$$core$$CanonicalizeLanguageTag (locale) {
        var match, parts;

        // A language tag is in 'canonical form' when the tag is well-formed
        // according to the rules in Sections 2.1 and 2.2

        // Section 2.1 says all subtags use lowercase...
        locale = locale.toLowerCase();

        // ...with 2 exceptions: 'two-letter and four-letter subtags that neither
        // appear at the start of the tag nor occur after singletons.  Such two-letter
        // subtags are all uppercase (as in the tags "en-CA-x-ca" or "sgn-BE-FR") and
        // four-letter subtags are titlecase (as in the tag "az-Latn-x-latn").
        parts = locale.split('-');
        for (var i = 1, max = parts.length; i < max; i++) {
            // Two-letter subtags are all uppercase
            if (parts[i].length === 2)
                parts[i] = parts[i].toUpperCase();

            // Four-letter subtags are titlecase
            else if (parts[i].length === 4)
                parts[i] = parts[i].charAt(0).toUpperCase() + parts[i].slice(1);

            // Is it a singleton?
            else if (parts[i].length === 1 && parts[i] !== 'x')
                break;
        }
        locale = $$core$$arrJoin.call(parts, '-');

        // The steps laid out in RFC 5646 section 4.5 are as follows:

        // 1.  Extension sequences are ordered into case-insensitive ASCII order
        //     by singleton subtag.
        if ((match = locale.match($$exp$$expExtSequences)) && match.length > 1) {
            // The built-in sort() sorts by ASCII order, so use that
            match.sort();

            // Replace all extensions with the joined, sorted array
            locale = locale.replace(
                RegExp('(?:' + $$exp$$expExtSequences.source + ')+', 'i'),
                $$core$$arrJoin.call(match, '')
            );
        }

        // 2.  Redundant or grandfathered tags are replaced by their 'Preferred-
        //     Value', if there is one.
        if ($$core$$hop.call($$core$$redundantTags.tags, locale))
            locale = $$core$$redundantTags.tags[locale];

        // 3.  Subtags are replaced by their 'Preferred-Value', if there is one.
        //     For extlangs, the original primary language subtag is also
        //     replaced if there is a primary language subtag in the 'Preferred-
        //     Value'.
        parts = locale.split('-');

        for (var i = 1, max = parts.length; i < max; i++) {
            if ($$core$$hop.call($$core$$redundantTags.subtags, parts[i]))
                parts[i] = $$core$$redundantTags.subtags[parts[i]];

            else if ($$core$$hop.call($$core$$redundantTags.extLang, parts[i])) {
                parts[i] = $$core$$redundantTags.extLang[parts[i]][0];

                // For extlang tags, the prefix needs to be removed if it is redundant
                if (i === 1 && $$core$$redundantTags.extLang[parts[1]][1] === parts[0]) {
                    parts = $$core$$arrSlice.call(parts, i++);
                    max -= 1;
                }
            }
        }

        return $$core$$arrJoin.call(parts, '-');
    }

    /**
     * The DefaultLocale abstract operation returns a String value representing the
     * structurally valid (6.2.2) and canonicalized (6.2.3) BCP 47 language tag for the
     * host environment’s current locale.
     */
    function /* 6.2.4 */$$core$$DefaultLocale () {
        return $$core$$defaultLocale;
    }

    // Sect 6.3 Currency Codes
    // =======================

    /**
     * The IsWellFormedCurrencyCode abstract operation verifies that the currency argument
     * (after conversion to a String value) represents a well-formed 3-letter ISO currency
     * code. The following steps are taken:
     */
    function /* 6.3.1 */$$core$$IsWellFormedCurrencyCode(currency) {
        var
            // 1. Let `c` be ToString(currency)
            c = String(currency),

            // 2. Let `normalized` be the result of mapping c to upper case as described
            //    in 6.1.
            normalized = $$core$$toLatinUpperCase(c);

        // 3. If the string length of normalized is not 3, return false.
        // 4. If normalized contains any character that is not in the range "A" to "Z"
        //    (U+0041 to U+005A), return false.
        if ($$core$$expCurrencyCode.test(normalized) === false)
            return false;

        // 5. Return true
        return true;
    }

    // Sect 9.2 Abstract Operations
    // ============================
    function /* 9.2.1 */$$core$$CanonicalizeLocaleList (locales) {
    // The abstract operation CanonicalizeLocaleList takes the following steps:

        // 1. If locales is undefined, then a. Return a new empty List
        if (locales === undefined)
            return new $$core$$List();

        var
            // 2. Let seen be a new empty List.
            seen = new $$core$$List(),

            // 3. If locales is a String value, then
            //    a. Let locales be a new array created as if by the expression new
            //    Array(locales) where Array is the standard built-in constructor with
            //    that name and locales is the value of locales.
            locales = typeof locales === 'string' ? [ locales ] : locales,

            // 4. Let O be ToObject(locales).
            O = $$core$$toObject(locales),

            // 5. Let lenValue be the result of calling the [[Get]] internal method of
            //    O with the argument "length".
            // 6. Let len be ToUint32(lenValue).
            len = O.length,

            // 7. Let k be 0.
            k = 0;

        // 8. Repeat, while k < len
        while (k < len) {
            var
                // a. Let Pk be ToString(k).
                Pk = String(k),

                // b. Let kPresent be the result of calling the [[HasProperty]] internal
                //    method of O with argument Pk.
                kPresent = Pk in O;

            // c. If kPresent is true, then
            if (kPresent) {
                var
                    // i. Let kValue be the result of calling the [[Get]] internal
                    //     method of O with argument Pk.
                    kValue = O[Pk];

                // ii. If the type of kValue is not String or Object, then throw a
                //     TypeError exception.
                if (kValue == null || (typeof kValue !== 'string' && typeof kValue !== 'object'))
                    throw new TypeError('String or Object type expected');

                var
                    // iii. Let tag be ToString(kValue).
                    tag = String(kValue);

                // iv. If the result of calling the abstract operation
                //     IsStructurallyValidLanguageTag (defined in 6.2.2), passing tag as
                //     the argument, is false, then throw a RangeError exception.
                if (!$$core$$IsStructurallyValidLanguageTag(tag))
                    throw new RangeError("'" + tag + "' is not a structurally valid language tag");

                // v. Let tag be the result of calling the abstract operation
                //    CanonicalizeLanguageTag (defined in 6.2.3), passing tag as the
                //    argument.
                tag = $$core$$CanonicalizeLanguageTag(tag);

                // vi. If tag is not an element of seen, then append tag as the last
                //     element of seen.
                if ($$core$$arrIndexOf.call(seen, tag) === -1)
                    $$core$$arrPush.call(seen, tag);
            }

            // d. Increase k by 1.
            k++;
        }

        // 9. Return seen.
        return seen;
    }

    /**
     * The BestAvailableLocale abstract operation compares the provided argument
     * locale, which must be a String value with a structurally valid and
     * canonicalized BCP 47 language tag, against the locales in availableLocales and
     * returns either the longest non-empty prefix of locale that is an element of
     * availableLocales, or undefined if there is no such element. It uses the
     * fallback mechanism of RFC 4647, section 3.4. The following steps are taken:
     */
    function /* 9.2.2 */$$core$$BestAvailableLocale (availableLocales, locale) {
        var
           // 1. Let candidate be locale
           candidate = locale;

        // 2. Repeat
        while (true) {
            // a. If availableLocales contains an element equal to candidate, then return
            // candidate.
            if ($$core$$arrIndexOf.call(availableLocales, candidate) > -1)
                return candidate;

            var
                // b. Let pos be the character index of the last occurrence of "-"
                // (U+002D) within candidate. If that character does not occur, return
                // undefined.
                pos = candidate.lastIndexOf('-');

            if (pos < 0)
                return;

            // c. If pos ≥ 2 and the character "-" occurs at index pos-2 of candidate,
            //    then decrease pos by 2.
            if (pos >= 2 && candidate.charAt(pos - 2) === '-')
                pos -= 2;

            // d. Let candidate be the substring of candidate from position 0, inclusive,
            //    to position pos, exclusive.
            candidate = candidate.substring(0, pos);
        }
    }

    /**
     * The LookupMatcher abstract operation compares requestedLocales, which must be
     * a List as returned by CanonicalizeLocaleList, against the locales in
     * availableLocales and determines the best available language to meet the
     * request. The following steps are taken:
     */
    function /* 9.2.3 */$$core$$LookupMatcher (availableLocales, requestedLocales) {
        var
            // 1. Let i be 0.
            i = 0,

            // 2. Let len be the number of elements in requestedLocales.
            len = requestedLocales.length,

            // 3. Let availableLocale be undefined.
            availableLocale;

        // 4. Repeat while i < len and availableLocale is undefined:
        while (i < len && !availableLocale) {
            var
                // a. Let locale be the element of requestedLocales at 0-origined list
                //    position i.
                locale = requestedLocales[i],

                // b. Let noExtensionsLocale be the String value that is locale with all
                //    Unicode locale extension sequences removed.
                noExtensionsLocale = String(locale).replace($$core$$expUnicodeExSeq, ''),

                // c. Let availableLocale be the result of calling the
                //    BestAvailableLocale abstract operation (defined in 9.2.2) with
                //    arguments availableLocales and noExtensionsLocale.
                availableLocale = $$core$$BestAvailableLocale(availableLocales, noExtensionsLocale);

            // d. Increase i by 1.
            i++;
        }

        var
            // 5. Let result be a new Record.
            result = new $$core$$Record();

        // 6. If availableLocale is not undefined, then
        if (availableLocale !== undefined) {
            // a. Set result.[[locale]] to availableLocale.
            result['[[locale]]'] = availableLocale;

            // b. If locale and noExtensionsLocale are not the same String value, then
            if (String(locale) !== String(noExtensionsLocale)) {
                var
                    // i. Let extension be the String value consisting of the first
                    //    substring of locale that is a Unicode locale extension sequence.
                    extension = locale.match($$core$$expUnicodeExSeq)[0],

                    // ii. Let extensionIndex be the character position of the initial
                    //     "-" of the first Unicode locale extension sequence within locale.
                    extensionIndex = locale.indexOf('-u-');

                // iii. Set result.[[extension]] to extension.
                result['[[extension]]'] = extension;

                // iv. Set result.[[extensionIndex]] to extensionIndex.
                result['[[extensionIndex]]'] = extensionIndex;
            }
        }
        // 7. Else
        else
            // a. Set result.[[locale]] to the value returned by the DefaultLocale abstract
            //    operation (defined in 6.2.4).
            result['[[locale]]'] = $$core$$DefaultLocale();

        // 8. Return result
        return result;
    }

    /**
     * The BestFitMatcher abstract operation compares requestedLocales, which must be
     * a List as returned by CanonicalizeLocaleList, against the locales in
     * availableLocales and determines the best available language to meet the
     * request. The algorithm is implementation dependent, but should produce results
     * that a typical user of the requested locales would perceive as at least as
     * good as those produced by the LookupMatcher abstract operation. Options
     * specified through Unicode locale extension sequences must be ignored by the
     * algorithm. Information about such subsequences is returned separately.
     * The abstract operation returns a record with a [[locale]] field, whose value
     * is the language tag of the selected locale, which must be an element of
     * availableLocales. If the language tag of the request locale that led to the
     * selected locale contained a Unicode locale extension sequence, then the
     * returned record also contains an [[extension]] field whose value is the first
     * Unicode locale extension sequence, and an [[extensionIndex]] field whose value
     * is the index of the first Unicode locale extension sequence within the request
     * locale language tag.
     */
    function /* 9.2.4 */$$core$$BestFitMatcher (availableLocales, requestedLocales) {
        return $$core$$LookupMatcher(availableLocales, requestedLocales);
    }

    /**
     * The ResolveLocale abstract operation compares a BCP 47 language priority list
     * requestedLocales against the locales in availableLocales and determines the
     * best available language to meet the request. availableLocales and
     * requestedLocales must be provided as List values, options as a Record.
     */
    function /* 9.2.5 */$$core$$ResolveLocale (availableLocales, requestedLocales, options, relevantExtensionKeys, localeData) {
        if (availableLocales.length === 0) {
            throw new ReferenceError('No locale data has been provided for this object yet.');
        }

        // The following steps are taken:
        var
            // 1. Let matcher be the value of options.[[localeMatcher]].
            matcher = options['[[localeMatcher]]'];

        // 2. If matcher is "lookup", then
        if (matcher === 'lookup')
            var
                // a. Let r be the result of calling the LookupMatcher abstract operation
                //    (defined in 9.2.3) with arguments availableLocales and
                //    requestedLocales.
                r = $$core$$LookupMatcher(availableLocales, requestedLocales);

        // 3. Else
        else
            var
                // a. Let r be the result of calling the BestFitMatcher abstract
                //    operation (defined in 9.2.4) with arguments availableLocales and
                //    requestedLocales.
                r = $$core$$BestFitMatcher(availableLocales, requestedLocales);

        var
            // 4. Let foundLocale be the value of r.[[locale]].
            foundLocale = r['[[locale]]'];

        // 5. If r has an [[extension]] field, then
        if ($$core$$hop.call(r, '[[extension]]'))
            var
                // a. Let extension be the value of r.[[extension]].
                extension = r['[[extension]]'],
                // b. Let extensionIndex be the value of r.[[extensionIndex]].
                extensionIndex = r['[[extensionIndex]]'],
                // c. Let split be the standard built-in function object defined in ES5,
                //    15.5.4.14.
                split = String.prototype.split,
                // d. Let extensionSubtags be the result of calling the [[Call]] internal
                //    method of split with extension as the this value and an argument
                //    list containing the single item "-".
                extensionSubtags = split.call(extension, '-'),
                // e. Let extensionSubtagsLength be the result of calling the [[Get]]
                //    internal method of extensionSubtags with argument "length".
                extensionSubtagsLength = extensionSubtags.length;

        var
            // 6. Let result be a new Record.
            result = new $$core$$Record();

        // 7. Set result.[[dataLocale]] to foundLocale.
        result['[[dataLocale]]'] = foundLocale;

        var
            // 8. Let supportedExtension be "-u".
            supportedExtension = '-u',
            // 9. Let i be 0.
            i = 0,
            // 10. Let len be the result of calling the [[Get]] internal method of
            //     relevantExtensionKeys with argument "length".
            len = relevantExtensionKeys.length;

        // 11 Repeat while i < len:
        while (i < len) {
            var
                // a. Let key be the result of calling the [[Get]] internal method of
                //    relevantExtensionKeys with argument ToString(i).
                key = relevantExtensionKeys[i],
                // b. Let foundLocaleData be the result of calling the [[Get]] internal
                //    method of localeData with the argument foundLocale.
                foundLocaleData = localeData[foundLocale],
                // c. Let keyLocaleData be the result of calling the [[Get]] internal
                //    method of foundLocaleData with the argument key.
                keyLocaleData = foundLocaleData[key],
                // d. Let value be the result of calling the [[Get]] internal method of
                //    keyLocaleData with argument "0".
                value = keyLocaleData['0'],
                // e. Let supportedExtensionAddition be "".
                supportedExtensionAddition = '',
                // f. Let indexOf be the standard built-in function object defined in
                //    ES5, 15.4.4.14.
                indexOf = $$core$$arrIndexOf;

            // g. If extensionSubtags is not undefined, then
            if (extensionSubtags !== undefined) {
                var
                    // i. Let keyPos be the result of calling the [[Call]] internal
                    //    method of indexOf with extensionSubtags as the this value and
                    // an argument list containing the single item key.
                    keyPos = indexOf.call(extensionSubtags, key);

                // ii. If keyPos ≠ -1, then
                if (keyPos !== -1) {
                    // 1. If keyPos + 1 < extensionSubtagsLength and the length of the
                    //    result of calling the [[Get]] internal method of
                    //    extensionSubtags with argument ToString(keyPos +1) is greater
                    //    than 2, then
                    if (keyPos + 1 < extensionSubtagsLength
                            && extensionSubtags[keyPos + 1].length > 2) {
                        var
                            // a. Let requestedValue be the result of calling the [[Get]]
                            //    internal method of extensionSubtags with argument
                            //    ToString(keyPos + 1).
                            requestedValue = extensionSubtags[keyPos + 1],
                            // b. Let valuePos be the result of calling the [[Call]]
                            //    internal method of indexOf with keyLocaleData as the
                            //    this value and an argument list containing the single
                            //    item requestedValue.
                            valuePos = indexOf.call(keyLocaleData, requestedValue);

                        // c. If valuePos ≠ -1, then
                        if (valuePos !== -1)
                            var
                                // i. Let value be requestedValue.
                                value = requestedValue,
                                // ii. Let supportedExtensionAddition be the
                                //     concatenation of "-", key, "-", and value.
                                supportedExtensionAddition = '-' + key + '-' + value;
                    }
                    // 2. Else
                    else {
                        var
                            // a. Let valuePos be the result of calling the [[Call]]
                            // internal method of indexOf with keyLocaleData as the this
                            // value and an argument list containing the single item
                            // "true".
                            valuePos = indexOf(keyLocaleData, 'true');

                        // b. If valuePos ≠ -1, then
                        if (valuePos !== -1)
                            var
                                // i. Let value be "true".
                                value = 'true';
                    }
                }
            }
            // h. If options has a field [[<key>]], then
            if ($$core$$hop.call(options, '[[' + key + ']]')) {
                var
                    // i. Let optionsValue be the value of options.[[<key>]].
                    optionsValue = options['[[' + key + ']]'];

                // ii. If the result of calling the [[Call]] internal method of indexOf
                //     with keyLocaleData as the this value and an argument list
                //     containing the single item optionsValue is not -1, then
                if (indexOf.call(keyLocaleData, optionsValue) !== -1) {
                    // 1. If optionsValue is not equal to value, then
                    if (optionsValue !== value) {
                        // a. Let value be optionsValue.
                        value = optionsValue;
                        // b. Let supportedExtensionAddition be "".
                        supportedExtensionAddition = '';
                    }
                }
            }
            // i. Set result.[[<key>]] to value.
            result['[[' + key + ']]'] = value;

            // j. Append supportedExtensionAddition to supportedExtension.
            supportedExtension += supportedExtensionAddition;

            // k. Increase i by 1.
            i++;
        }
        // 12. If the length of supportedExtension is greater than 2, then
        if (supportedExtension.length > 2) {
            var
                // a. Let preExtension be the substring of foundLocale from position 0,
                //    inclusive, to position extensionIndex, exclusive.
                preExtension = foundLocale.substring(0, extensionIndex),
                // b. Let postExtension be the substring of foundLocale from position
                //    extensionIndex to the end of the string.
                postExtension = foundLocale.substring(extensionIndex),
                // c. Let foundLocale be the concatenation of preExtension,
                //    supportedExtension, and postExtension.
                foundLocale = preExtension + supportedExtension + postExtension;
        }
        // 13. Set result.[[locale]] to foundLocale.
        result['[[locale]]'] = foundLocale;

        // 14. Return result.
        return result;
    }

    /**
     * The LookupSupportedLocales abstract operation returns the subset of the
     * provided BCP 47 language priority list requestedLocales for which
     * availableLocales has a matching locale when using the BCP 47 Lookup algorithm.
     * Locales appear in the same order in the returned list as in requestedLocales.
     * The following steps are taken:
     */
    function /* 9.2.6 */$$core$$LookupSupportedLocales (availableLocales, requestedLocales) {
        var
            // 1. Let len be the number of elements in requestedLocales.
            len = requestedLocales.length,
            // 2. Let subset be a new empty List.
            subset = new $$core$$List(),
            // 3. Let k be 0.
            k = 0;

        // 4. Repeat while k < len
        while (k < len) {
            var
                // a. Let locale be the element of requestedLocales at 0-origined list
                //    position k.
                locale = requestedLocales[k],
                // b. Let noExtensionsLocale be the String value that is locale with all
                //    Unicode locale extension sequences removed.
                noExtensionsLocale = String(locale).replace($$core$$expUnicodeExSeq, ''),
                // c. Let availableLocale be the result of calling the
                //    BestAvailableLocale abstract operation (defined in 9.2.2) with
                //    arguments availableLocales and noExtensionsLocale.
                availableLocale = $$core$$BestAvailableLocale(availableLocales, noExtensionsLocale);

            // d. If availableLocale is not undefined, then append locale to the end of
            //    subset.
            if (availableLocale !== undefined)
                $$core$$arrPush.call(subset, locale);

            // e. Increment k by 1.
            k++;
        }

        var
            // 5. Let subsetArray be a new Array object whose elements are the same
            //    values in the same order as the elements of subset.
            subsetArray = $$core$$arrSlice.call(subset);

        // 6. Return subsetArray.
        return subsetArray;
    }

    /**
     * The BestFitSupportedLocales abstract operation returns the subset of the
     * provided BCP 47 language priority list requestedLocales for which
     * availableLocales has a matching locale when using the Best Fit Matcher
     * algorithm. Locales appear in the same order in the returned list as in
     * requestedLocales. The steps taken are implementation dependent.
     */
    function /*9.2.7 */$$core$$BestFitSupportedLocales (availableLocales, requestedLocales) {
        // ###TODO: implement this function as described by the specification###
        return $$core$$LookupSupportedLocales(availableLocales, requestedLocales);
    }

    /**
     * The SupportedLocales abstract operation returns the subset of the provided BCP
     * 47 language priority list requestedLocales for which availableLocales has a
     * matching locale. Two algorithms are available to match the locales: the Lookup
     * algorithm described in RFC 4647 section 3.4, and an implementation dependent
     * best-fit algorithm. Locales appear in the same order in the returned list as
     * in requestedLocales. The following steps are taken:
     */
    function /*9.2.8 */$$core$$SupportedLocales (availableLocales, requestedLocales, options) {
        // 1. If options is not undefined, then
        if (options !== undefined) {
            var
                // a. Let options be ToObject(options).
                options = new $$core$$Record($$core$$toObject(options)),
                // b. Let matcher be the result of calling the [[Get]] internal method of
                //    options with argument "localeMatcher".
                matcher = options.localeMatcher;

            // c. If matcher is not undefined, then
            if (matcher !== undefined) {
                // i. Let matcher be ToString(matcher).
                matcher = String(matcher);

                // ii. If matcher is not "lookup" or "best fit", then throw a RangeError
                //     exception.
                if (matcher !== 'lookup' && matcher !== 'best fit')
                    throw new RangeError('matcher should be "lookup" or "best fit"');
            }
        }
        // 2. If matcher is undefined or "best fit", then
        if (matcher === undefined || matcher === 'best fit')
            var
                // a. Let subset be the result of calling the BestFitSupportedLocales
                //    abstract operation (defined in 9.2.7) with arguments
                //    availableLocales and requestedLocales.
                subset = $$core$$BestFitSupportedLocales(availableLocales, requestedLocales);
        // 3. Else
        else
            var
                // a. Let subset be the result of calling the LookupSupportedLocales
                //    abstract operation (defined in 9.2.6) with arguments
                //    availableLocales and requestedLocales.
                subset = $$core$$LookupSupportedLocales(availableLocales, requestedLocales);

        // 4. For each named own property name P of subset,
        for (var P in subset) {
            if (!$$core$$hop.call(subset, P))
                continue;

            // a. Let desc be the result of calling the [[GetOwnProperty]] internal
            //    method of subset with P.
            // b. Set desc.[[Writable]] to false.
            // c. Set desc.[[Configurable]] to false.
            // d. Call the [[DefineOwnProperty]] internal method of subset with P, desc,
            //    and true as arguments.
            $$core$$defineProperty(subset, P, {
                writable: false, configurable: false, value: subset[P]
            });
        }
        // "Freeze" the array so no new elements can be added
        $$core$$defineProperty(subset, 'length', { writable: false });

        // 5. Return subset
        return subset;
    }

    /**
     * The GetOption abstract operation extracts the value of the property named
     * property from the provided options object, converts it to the required type,
     * checks whether it is one of a List of allowed values, and fills in a fallback
     * value if necessary.
     */
    function /*9.2.9 */$$core$$GetOption (options, property, type, values, fallback) {
        var
            // 1. Let value be the result of calling the [[Get]] internal method of
            //    options with argument property.
            value = options[property];

        // 2. If value is not undefined, then
        if (value !== undefined) {
            // a. Assert: type is "boolean" or "string".
            // b. If type is "boolean", then let value be ToBoolean(value).
            // c. If type is "string", then let value be ToString(value).
            value = type === 'boolean' ? Boolean(value)
                      : (type === 'string' ? String(value) : value);

            // d. If values is not undefined, then
            if (values !== undefined) {
                // i. If values does not contain an element equal to value, then throw a
                //    RangeError exception.
                if ($$core$$arrIndexOf.call(values, value) === -1)
                    throw new RangeError("'" + value + "' is not an allowed value for `" + property +'`');
            }

            // e. Return value.
            return value;
        }
        // Else return fallback.
        return fallback;
    }

    /**
     * The GetNumberOption abstract operation extracts a property value from the
     * provided options object, converts it to a Number value, checks whether it is
     * in the allowed range, and fills in a fallback value if necessary.
     */
    function /* 9.2.10 */$$core$$GetNumberOption (options, property, minimum, maximum, fallback) {
        var
            // 1. Let value be the result of calling the [[Get]] internal method of
            //    options with argument property.
            value = options[property];

        // 2. If value is not undefined, then
        if (value !== undefined) {
            // a. Let value be ToNumber(value).
            value = Number(value);

            // b. If value is NaN or less than minimum or greater than maximum, throw a
            //    RangeError exception.
            if (isNaN(value) || value < minimum || value > maximum)
                throw new RangeError('Value is not a number or outside accepted range');

            // c. Return floor(value).
            return Math.floor(value);
        }
        // 3. Else return fallback.
        return fallback;
    }

    // 11.1 The Intl.NumberFormat constructor
    // ======================================

    // Define the NumberFormat constructor internally so it cannot be tainted
    function $$core$$NumberFormatConstructor () {
        var locales = arguments[0];
        var options = arguments[1];

        if (!this || this === $$core$$Intl) {
            return new $$core$$Intl.NumberFormat(locales, options);
        }

        return $$core$$InitializeNumberFormat($$core$$toObject(this), locales, options);
    }

    $$core$$defineProperty($$core$$Intl, 'NumberFormat', {
        configurable: true,
        writable: true,
        value: $$core$$NumberFormatConstructor
    });

    // Must explicitly set prototypes as unwritable
    $$core$$defineProperty($$core$$Intl.NumberFormat, 'prototype', {
        writable: false
    });

    /**
     * The abstract operation InitializeNumberFormat accepts the arguments
     * numberFormat (which must be an object), locales, and options. It initializes
     * numberFormat as a NumberFormat object.
     */
    function /*11.1.1.1 */$$core$$InitializeNumberFormat (numberFormat, locales, options) {
        var
        // This will be a internal properties object if we're not already initialized
            internal = $$core$$getInternalProperties(numberFormat),

        // Create an object whose props can be used to restore the values of RegExp props
            regexpState = $$core$$createRegExpRestore();

        // 1. If numberFormat has an [[initializedIntlObject]] internal property with
        // value true, throw a TypeError exception.
        if (internal['[[initializedIntlObject]]'] === true)
            throw new TypeError('`this` object has already been initialized as an Intl object');

        // Need this to access the `internal` object
        $$core$$defineProperty(numberFormat, '__getInternalProperties', {
            value: function () {
                // NOTE: Non-standard, for internal use only
                if (arguments[0] === $$core$$secret)
                    return internal;
            }
        });

        // 2. Set the [[initializedIntlObject]] internal property of numberFormat to true.
        internal['[[initializedIntlObject]]'] = true;

        var
        // 3. Let requestedLocales be the result of calling the CanonicalizeLocaleList
        //    abstract operation (defined in 9.2.1) with argument locales.
            requestedLocales = $$core$$CanonicalizeLocaleList(locales);

        // 4. If options is undefined, then
        if (options === undefined)
            // a. Let options be the result of creating a new object as if by the
            // expression new Object() where Object is the standard built-in constructor
            // with that name.
            options = {};

        // 5. Else
        else
            // a. Let options be ToObject(options).
            options = $$core$$toObject(options);

        var
        // 6. Let opt be a new Record.
            opt = new $$core$$Record(),

        // 7. Let matcher be the result of calling the GetOption abstract operation
        //    (defined in 9.2.9) with the arguments options, "localeMatcher", "string",
        //    a List containing the two String values "lookup" and "best fit", and
        //    "best fit".
            matcher =  $$core$$GetOption(options, 'localeMatcher', 'string', new $$core$$List('lookup', 'best fit'), 'best fit');

        // 8. Set opt.[[localeMatcher]] to matcher.
        opt['[[localeMatcher]]'] = matcher;

        var
        // 9. Let NumberFormat be the standard built-in object that is the initial value
        //    of Intl.NumberFormat.
        // 10. Let localeData be the value of the [[localeData]] internal property of
        //     NumberFormat.
            localeData = $$core$$internals.NumberFormat['[[localeData]]'],

        // 11. Let r be the result of calling the ResolveLocale abstract operation
        //     (defined in 9.2.5) with the [[availableLocales]] internal property of
        //     NumberFormat, requestedLocales, opt, the [[relevantExtensionKeys]]
        //     internal property of NumberFormat, and localeData.
            r = $$core$$ResolveLocale(
                    $$core$$internals.NumberFormat['[[availableLocales]]'], requestedLocales,
                    opt, $$core$$internals.NumberFormat['[[relevantExtensionKeys]]'], localeData
                );

        // 12. Set the [[locale]] internal property of numberFormat to the value of
        //     r.[[locale]].
        internal['[[locale]]'] = r['[[locale]]'];

        // 13. Set the [[numberingSystem]] internal property of numberFormat to the value
        //     of r.[[nu]].
        internal['[[numberingSystem]]'] = r['[[nu]]'];

        // The specification doesn't tell us to do this, but it's helpful later on
        internal['[[dataLocale]]'] = r['[[dataLocale]]'];

        var
        // 14. Let dataLocale be the value of r.[[dataLocale]].
            dataLocale = r['[[dataLocale]]'],

        // 15. Let s be the result of calling the GetOption abstract operation with the
        //     arguments options, "style", "string", a List containing the three String
        //     values "decimal", "percent", and "currency", and "decimal".
            s = $$core$$GetOption(options, 'style', 'string', new $$core$$List('decimal', 'percent', 'currency'), 'decimal');

        // 16. Set the [[style]] internal property of numberFormat to s.
        internal['[[style]]'] = s;

        var
        // 17. Let c be the result of calling the GetOption abstract operation with the
        //     arguments options, "currency", "string", undefined, and undefined.
            c = $$core$$GetOption(options, 'currency', 'string');

        // 18. If c is not undefined and the result of calling the
        //     IsWellFormedCurrencyCode abstract operation (defined in 6.3.1) with
        //     argument c is false, then throw a RangeError exception.
        if (c !== undefined && !$$core$$IsWellFormedCurrencyCode(c))
            throw new RangeError("'" + c + "' is not a valid currency code");

        // 19. If s is "currency" and c is undefined, throw a TypeError exception.
        if (s === 'currency' && c === undefined)
            throw new TypeError('Currency code is required when style is currency');

        // 20. If s is "currency", then
        if (s === 'currency') {
            // a. Let c be the result of converting c to upper case as specified in 6.1.
            c = c.toUpperCase();

            // b. Set the [[currency]] internal property of numberFormat to c.
            internal['[[currency]]'] = c;

            var
            // c. Let cDigits be the result of calling the CurrencyDigits abstract
            //    operation (defined below) with argument c.
                cDigits = $$core$$CurrencyDigits(c);
        }

        var
        // 21. Let cd be the result of calling the GetOption abstract operation with the
        //     arguments options, "currencyDisplay", "string", a List containing the
        //     three String values "code", "symbol", and "name", and "symbol".
            cd = $$core$$GetOption(options, 'currencyDisplay', 'string', new $$core$$List('code', 'symbol', 'name'), 'symbol');

        // 22. If s is "currency", then set the [[currencyDisplay]] internal property of
        //     numberFormat to cd.
        if (s === 'currency')
            internal['[[currencyDisplay]]'] = cd;

        var
        // 23. Let mnid be the result of calling the GetNumberOption abstract operation
        //     (defined in 9.2.10) with arguments options, "minimumIntegerDigits", 1, 21,
        //     and 1.
            mnid = $$core$$GetNumberOption(options, 'minimumIntegerDigits', 1, 21, 1);

        // 24. Set the [[minimumIntegerDigits]] internal property of numberFormat to mnid.
        internal['[[minimumIntegerDigits]]'] = mnid;

        var
        // 25. If s is "currency", then let mnfdDefault be cDigits; else let mnfdDefault
        //     be 0.
            mnfdDefault = s === 'currency' ? cDigits : 0,

        // 26. Let mnfd be the result of calling the GetNumberOption abstract operation
        //     with arguments options, "minimumFractionDigits", 0, 20, and mnfdDefault.
            mnfd = $$core$$GetNumberOption(options, 'minimumFractionDigits', 0, 20, mnfdDefault);

        // 27. Set the [[minimumFractionDigits]] internal property of numberFormat to mnfd.
        internal['[[minimumFractionDigits]]'] = mnfd;

        var
        // 28. If s is "currency", then let mxfdDefault be max(mnfd, cDigits); else if s
        //     is "percent", then let mxfdDefault be max(mnfd, 0); else let mxfdDefault
        //     be max(mnfd, 3).
            mxfdDefault = s === 'currency' ? Math.max(mnfd, cDigits)
                        : (s === 'percent' ? Math.max(mnfd, 0) : Math.max(mnfd, 3)),

        // 29. Let mxfd be the result of calling the GetNumberOption abstract operation
        //     with arguments options, "maximumFractionDigits", mnfd, 20, and mxfdDefault.
            mxfd = $$core$$GetNumberOption(options, 'maximumFractionDigits', mnfd, 20, mxfdDefault);

        // 30. Set the [[maximumFractionDigits]] internal property of numberFormat to mxfd.
        internal['[[maximumFractionDigits]]'] = mxfd;

        var
        // 31. Let mnsd be the result of calling the [[Get]] internal method of options
        //     with argument "minimumSignificantDigits".
            mnsd = options.minimumSignificantDigits,

        // 32. Let mxsd be the result of calling the [[Get]] internal method of options
        //     with argument "maximumSignificantDigits".
            mxsd = options.maximumSignificantDigits;

        // 33. If mnsd is not undefined or mxsd is not undefined, then:
        if (mnsd !== undefined || mxsd !== undefined) {
            // a. Let mnsd be the result of calling the GetNumberOption abstract
            //    operation with arguments options, "minimumSignificantDigits", 1, 21,
            //    and 1.
            mnsd = $$core$$GetNumberOption(options, 'minimumSignificantDigits', 1, 21, 1);

            // b. Let mxsd be the result of calling the GetNumberOption abstract
            //     operation with arguments options, "maximumSignificantDigits", mnsd,
            //     21, and 21.
            mxsd = $$core$$GetNumberOption(options, 'maximumSignificantDigits', mnsd, 21, 21);

            // c. Set the [[minimumSignificantDigits]] internal property of numberFormat
            //    to mnsd, and the [[maximumSignificantDigits]] internal property of
            //    numberFormat to mxsd.
            internal['[[minimumSignificantDigits]]'] = mnsd;
            internal['[[maximumSignificantDigits]]'] = mxsd;
        }
        var
        // 34. Let g be the result of calling the GetOption abstract operation with the
        //     arguments options, "useGrouping", "boolean", undefined, and true.
            g = $$core$$GetOption(options, 'useGrouping', 'boolean', undefined, true);

        // 35. Set the [[useGrouping]] internal property of numberFormat to g.
        internal['[[useGrouping]]'] = g;

        var
        // 36. Let dataLocaleData be the result of calling the [[Get]] internal method of
        //     localeData with argument dataLocale.
            dataLocaleData = localeData[dataLocale],

        // 37. Let patterns be the result of calling the [[Get]] internal method of
        //     dataLocaleData with argument "patterns".
            patterns = dataLocaleData.patterns;

        // 38. Assert: patterns is an object (see 11.2.3)

        var
        // 39. Let stylePatterns be the result of calling the [[Get]] internal method of
        //     patterns with argument s.
            stylePatterns = patterns[s];

        // 40. Set the [[positivePattern]] internal property of numberFormat to the
        //     result of calling the [[Get]] internal method of stylePatterns with the
        //     argument "positivePattern".
        internal['[[positivePattern]]'] = stylePatterns.positivePattern;

        // 41. Set the [[negativePattern]] internal property of numberFormat to the
        //     result of calling the [[Get]] internal method of stylePatterns with the
        //     argument "negativePattern".
        internal['[[negativePattern]]'] = stylePatterns.negativePattern;

        // 42. Set the [[boundFormat]] internal property of numberFormat to undefined.
        internal['[[boundFormat]]'] = undefined;

        // 43. Set the [[initializedNumberFormat]] internal property of numberFormat to
        //     true.
        internal['[[initializedNumberFormat]]'] = true;

        // In ES3, we need to pre-bind the format() function
        if ($$core$$es3)
            numberFormat.format = $$core$$GetFormatNumber.call(numberFormat);

        // Restore the RegExp properties
        regexpState.exp.test(regexpState.input);

        // Return the newly initialised object
        return numberFormat;
    }

    function $$core$$CurrencyDigits(currency) {
        // When the CurrencyDigits abstract operation is called with an argument currency
        // (which must be an upper case String value), the following steps are taken:

        // 1. If the ISO 4217 currency and funds code list contains currency as an
        // alphabetic code, then return the minor unit value corresponding to the
        // currency from the list; else return 2.
        return $$core$$currencyMinorUnits[currency] !== undefined
                    ? $$core$$currencyMinorUnits[currency]
                    : 2;
    }

    /* 11.2.3 */$$core$$internals.NumberFormat = {
        '[[availableLocales]]': [],
        '[[relevantExtensionKeys]]': ['nu'],
        '[[localeData]]': {}
    };

    /**
     * When the supportedLocalesOf method of Intl.NumberFormat is called, the
     * following steps are taken:
     */
    /* 11.2.2 */$$core$$defineProperty($$core$$Intl.NumberFormat, 'supportedLocalesOf', {
        configurable: true,
        writable: true,
        value: $$core$$fnBind.call($$core$$supportedLocalesOf, $$core$$internals.NumberFormat)
    });

    /**
     * This named accessor property returns a function that formats a number
     * according to the effective locale and the formatting options of this
     * NumberFormat object.
     */
    /* 11.3.2 */$$core$$defineProperty($$core$$Intl.NumberFormat.prototype, 'format', {
        configurable: true,
        get: $$core$$GetFormatNumber
    });

    function $$core$$GetFormatNumber() {
            var internal = this != null && typeof this === 'object' && $$core$$getInternalProperties(this);

            // Satisfy test 11.3_b
            if (!internal || !internal['[[initializedNumberFormat]]'])
                throw new TypeError('`this` value for format() is not an initialized Intl.NumberFormat object.');

            // The value of the [[Get]] attribute is a function that takes the following
            // steps:

            // 1. If the [[boundFormat]] internal property of this NumberFormat object
            //    is undefined, then:
            if (internal['[[boundFormat]]'] === undefined) {
                var
                // a. Let F be a Function object, with internal properties set as
                //    specified for built-in functions in ES5, 15, or successor, and the
                //    length property set to 1, that takes the argument value and
                //    performs the following steps:
                    F = function (value) {
                        // i. If value is not provided, then let value be undefined.
                        // ii. Let x be ToNumber(value).
                        // iii. Return the result of calling the FormatNumber abstract
                        //      operation (defined below) with arguments this and x.
                        return $$core$$FormatNumber(this, /* x = */Number(value));
                    },

                // b. Let bind be the standard built-in function object defined in ES5,
                //    15.3.4.5.
                // c. Let bf be the result of calling the [[Call]] internal method of
                //    bind with F as the this value and an argument list containing
                //    the single item this.
                    bf = $$core$$fnBind.call(F, this);

                // d. Set the [[boundFormat]] internal property of this NumberFormat
                //    object to bf.
                internal['[[boundFormat]]'] = bf;
            }
            // Return the value of the [[boundFormat]] internal property of this
            // NumberFormat object.
            return internal['[[boundFormat]]'];
        }

    /**
     * When the FormatNumber abstract operation is called with arguments numberFormat
     * (which must be an object initialized as a NumberFormat) and x (which must be a
     * Number value), it returns a String value representing x according to the
     * effective locale and the formatting options of numberFormat.
     */
    function $$core$$FormatNumber (numberFormat, x) {
        var n,

        // Create an object whose props can be used to restore the values of RegExp props
            regexpState = $$core$$createRegExpRestore(),

            internal = $$core$$getInternalProperties(numberFormat),
            locale = internal['[[dataLocale]]'],
            nums   = internal['[[numberingSystem]]'],
            data   = $$core$$internals.NumberFormat['[[localeData]]'][locale],
            ild    = data.symbols[nums] || data.symbols.latn,

        // 1. Let negative be false.
            negative = false;

        // 2. If the result of isFinite(x) is false, then
        if (isFinite(x) === false) {
            // a. If x is NaN, then let n be an ILD String value indicating the NaN value.
            if (isNaN(x))
                n = ild.nan;

            // b. Else
            else {
                // a. Let n be an ILD String value indicating infinity.
                n = ild.infinity;
                // b. If x < 0, then let negative be true.
                if (x < 0)
                    negative = true;
            }
        }
        // 3. Else
        else {
            // a. If x < 0, then
            if (x < 0) {
                // i. Let negative be true.
                negative = true;
                // ii. Let x be -x.
                x = -x;
            }

            // b. If the value of the [[style]] internal property of numberFormat is
            //    "percent", let x be 100 × x.
            if (internal['[[style]]'] === 'percent')
                x *= 100;

            // c. If the [[minimumSignificantDigits]] and [[maximumSignificantDigits]]
            //    internal properties of numberFormat are present, then
            if ($$core$$hop.call(internal, '[[minimumSignificantDigits]]') &&
                    $$core$$hop.call(internal, '[[maximumSignificantDigits]]'))
                // i. Let n be the result of calling the ToRawPrecision abstract operation
                //    (defined below), passing as arguments x and the values of the
                //    [[minimumSignificantDigits]] and [[maximumSignificantDigits]]
                //    internal properties of numberFormat.
                n = $$core$$ToRawPrecision(x,
                      internal['[[minimumSignificantDigits]]'],
                      internal['[[maximumSignificantDigits]]']);
            // d. Else
            else
                // i. Let n be the result of calling the ToRawFixed abstract operation
                //    (defined below), passing as arguments x and the values of the
                //    [[minimumIntegerDigits]], [[minimumFractionDigits]], and
                //    [[maximumFractionDigits]] internal properties of numberFormat.
                n = $$core$$ToRawFixed(x,
                      internal['[[minimumIntegerDigits]]'],
                      internal['[[minimumFractionDigits]]'],
                      internal['[[maximumFractionDigits]]']);

            // e. If the value of the [[numberingSystem]] internal property of
            //    numberFormat matches one of the values in the “Numbering System” column
            //    of Table 2 below, then
            if ($$core$$numSys[nums]) {
                // i. Let digits be an array whose 10 String valued elements are the
                //    UTF-16 string representations of the 10 digits specified in the
                //    “Digits” column of Table 2 in the row containing the value of the
                //    [[numberingSystem]] internal property.
                var digits = $$core$$numSys[internal['[[numberingSystem]]']];
                // ii. Replace each digit in n with the value of digits[digit].
                n = String(n).replace(/\d/g, function (digit) {
                    return digits[digit];
                });
            }
            // f. Else use an implementation dependent algorithm to map n to the
            //    appropriate representation of n in the given numbering system.
            else
                n = String(n); // ###TODO###

            // g. If n contains the character ".", then replace it with an ILND String
            //    representing the decimal separator.
            n = n.replace(/\./g, ild.decimal);

            // h. If the value of the [[useGrouping]] internal property of numberFormat
            //    is true, then insert an ILND String representing a grouping separator
            //    into an ILND set of locations within the integer part of n.
            if (internal['[[useGrouping]]'] === true) {
                var
                    parts  = n.split(ild.decimal),
                    igr    = parts[0],

                    // Primary group represents the group closest to the decimal
                    pgSize = data.patterns.primaryGroupSize || 3,

                    // Secondary group is every other group
                    sgSize = data.patterns.secondaryGroupSize || pgSize;

                // Group only if necessary
                if (igr.length > pgSize) {
                    var
                        groups = new $$core$$List(),

                        // Index of the primary grouping separator
                        end    = igr.length - pgSize,

                        // Starting index for our loop
                        idx    = end % sgSize,

                        start  = igr.slice(0, idx);

                    if (start.length)
                        $$core$$arrPush.call(groups, start);

                    // Loop to separate into secondary grouping digits
                    while (idx < end) {
                        $$core$$arrPush.call(groups, igr.slice(idx, idx + sgSize));
                        idx += sgSize;
                    }

                    // Add the primary grouping digits
                    $$core$$arrPush.call(groups, igr.slice(end));

                    parts[0] = $$core$$arrJoin.call(groups, ild.group);
                }

                n = $$core$$arrJoin.call(parts, ild.decimal);
            }
        }

        var
        // 4. If negative is true, then let result be the value of the [[negativePattern]]
        //    internal property of numberFormat; else let result be the value of the
        //    [[positivePattern]] internal property of numberFormat.
            result = internal[negative === true ? '[[negativePattern]]' : '[[positivePattern]]'];

        // 5. Replace the substring "{number}" within result with n.
        result = result.replace('{number}', n);

        // 6. If the value of the [[style]] internal property of numberFormat is
        //    "currency", then:
        if (internal['[[style]]'] === 'currency') {
            var cd,
            // a. Let currency be the value of the [[currency]] internal property of
            //    numberFormat.
                currency = internal['[[currency]]'],

            // Shorthand for the currency data
                cData = data.currencies[currency];

            // b. If the value of the [[currencyDisplay]] internal property of
            //    numberFormat is "code", then let cd be currency.
            // c. Else if the value of the [[currencyDisplay]] internal property of
            //    numberFormat is "symbol", then let cd be an ILD string representing
            //    currency in short form. If the implementation does not have such a
            //    representation of currency, then use currency itself.
            // d. Else if the value of the [[currencyDisplay]] internal property of
            //    numberFormat is "name", then let cd be an ILD string representing
            //    currency in long form. If the implementation does not have such a
            //    representation of currency, then use currency itself.
            switch (internal['[[currencyDisplay]]']) {
                case 'symbol':
                    cd = cData || currency;
                    break;

                default:
                case 'code':
                case 'name':
                    cd = currency;
            }

            // e. Replace the substring "{currency}" within result with cd.
            result = result.replace('{currency}', cd);
        }

        // Restore the RegExp properties
        regexpState.exp.test(regexpState.input);

        // 7. Return result.
        return result;
    }

    /**
     * When the ToRawPrecision abstract operation is called with arguments x (which
     * must be a finite non-negative number), minPrecision, and maxPrecision (both
     * must be integers between 1 and 21) the following steps are taken:
     */
    function $$core$$ToRawPrecision (x, minPrecision, maxPrecision) {
        var
        // 1. Let p be maxPrecision.
            p = maxPrecision;

        // 2. If x = 0, then
        if (x === 0) {
            var
            // a. Let m be the String consisting of p occurrences of the character "0".
                m = $$core$$arrJoin.call(Array (p + 1), '0'),
            // b. Let e be 0.
                e = 0;
        }
        // 3. Else
        else {
            // a. Let e and n be integers such that 10ᵖ⁻¹ ≤ n < 10ᵖ and for which the
            //    exact mathematical value of n × 10ᵉ⁻ᵖ⁺¹ – x is as close to zero as
            //    possible. If there are two such sets of e and n, pick the e and n for
            //    which n × 10ᵉ⁻ᵖ⁺¹ is larger.
            var
                e = $$core$$log10Floor(Math.abs(x)),

                // Easier to get to m from here
                f = Math.round(Math.exp((Math.abs(e - p + 1)) * Math.LN10)),

            // b. Let m be the String consisting of the digits of the decimal
            //    representation of n (in order, with no leading zeroes)
                m = String(Math.round(e - p + 1 < 0 ? x * f : x / f));
        }

        // 4. If e ≥ p, then
        if (e >= p)
            // a. Return the concatenation of m and e-p+1 occurrences of the character "0".
            return m + $$core$$arrJoin.call(Array(e-p+1 + 1), '0');

        // 5. If e = p-1, then
        else if (e === p - 1)
            // a. Return m.
            return m;

        // 6. If e ≥ 0, then
        else if (e >= 0)
            // a. Let m be the concatenation of the first e+1 characters of m, the character
            //    ".", and the remaining p–(e+1) characters of m.
            m = m.slice(0, e + 1) + '.' + m.slice(e + 1);

        // 7. If e < 0, then
        else if (e < 0)
            // a. Let m be the concatenation of the String "0.", –(e+1) occurrences of the
            //    character "0", and the string m.
            m = '0.' + $$core$$arrJoin.call(Array (-(e+1) + 1), '0') + m;

        // 8. If m contains the character ".", and maxPrecision > minPrecision, then
        if (m.indexOf(".") >= 0 && maxPrecision > minPrecision) {
            var
            // a. Let cut be maxPrecision – minPrecision.
                cut = maxPrecision - minPrecision;

            // b. Repeat while cut > 0 and the last character of m is "0":
            while (cut > 0 && m.charAt(m.length-1) === '0') {
                //  i. Remove the last character from m.
                m = m.slice(0, -1);

                //  ii. Decrease cut by 1.
                cut--;
            }

            // c. If the last character of m is ".", then
            if (m.charAt(m.length-1) === '.')
                //    i. Remove the last character from m.
                m = m.slice(0, -1);
        }
        // 9. Return m.
        return m;
    }

    /**
     * When the ToRawFixed abstract operation is called with arguments x (which must
     * be a finite non-negative number), minInteger (which must be an integer between
     * 1 and 21), minFraction, and maxFraction (which must be integers between 0 and
     * 20) the following steps are taken:
     */
    function $$core$$ToRawFixed (x, minInteger, minFraction, maxFraction) {
        // (or not because Number.toPrototype.toFixed does a lot of it for us)
        var idx,

            // We can pick up after the fixed formatted string (m) is created
            m   = Number.prototype.toFixed.call(x, maxFraction),

            // 4. If [maxFraction] ≠ 0, then
            //    ...
            //    e. Let int be the number of characters in a.
            //
            // 5. Else let int be the number of characters in m.
            igr = m.split(".")[0].length,  // int is a reserved word

            // 6. Let cut be maxFraction – minFraction.
            cut = maxFraction - minFraction,

            exp = (idx = m.indexOf('e')) > -1 ? m.slice(idx + 1) : 0;

        if (exp) {
            m = m.slice(0, idx).replace('.', '');
            m += $$core$$arrJoin.call(Array(exp - (m.length - 1) + 1), '0')
              + '.' + $$core$$arrJoin.call(Array(maxFraction + 1), '0');

            igr = m.length;
        }

        // 7. Repeat while cut > 0 and the last character of m is "0":
        while (cut > 0 && m.slice(-1) === "0") {
            // a. Remove the last character from m.
            m = m.slice(0, -1);

            // b. Decrease cut by 1.
            cut--;
        }

        // 8. If the last character of m is ".", then
        if (m.slice(-1) === ".")
            // a. Remove the last character from m.
            m = m.slice(0, -1);

        // 9. If int < minInteger, then
        if (igr < minInteger)
            // a. Let z be the String consisting of minInteger–int occurrences of the
            //    character "0".
            var z = $$core$$arrJoin.call(Array(minInteger - igr + 1), '0');

        // 10. Let m be the concatenation of Strings z and m.
        // 11. Return m.
        return (z ? z : '') + m;
    }

    // Sect 11.3.2 Table 2, Numbering systems
    // ======================================
    var $$core$$numSys = {
        arab:    [ '\u0660', '\u0661', '\u0662', '\u0663', '\u0664', '\u0665', '\u0666', '\u0667', '\u0668', '\u0669' ],
        arabext: [ '\u06F0', '\u06F1', '\u06F2', '\u06F3', '\u06F4', '\u06F5', '\u06F6', '\u06F7', '\u06F8', '\u06F9' ],
        bali:    [ '\u1B50', '\u1B51', '\u1B52', '\u1B53', '\u1B54', '\u1B55', '\u1B56', '\u1B57', '\u1B58', '\u1B59' ],
        beng:    [ '\u09E6', '\u09E7', '\u09E8', '\u09E9', '\u09EA', '\u09EB', '\u09EC', '\u09ED', '\u09EE', '\u09EF' ],
        deva:    [ '\u0966', '\u0967', '\u0968', '\u0969', '\u096A', '\u096B', '\u096C', '\u096D', '\u096E', '\u096F' ],
        fullwide:[ '\uFF10', '\uFF11', '\uFF12', '\uFF13', '\uFF14', '\uFF15', '\uFF16', '\uFF17', '\uFF18', '\uFF19' ],
        gujr:    [ '\u0AE6', '\u0AE7', '\u0AE8', '\u0AE9', '\u0AEA', '\u0AEB', '\u0AEC', '\u0AED', '\u0AEE', '\u0AEF' ],
        guru:    [ '\u0A66', '\u0A67', '\u0A68', '\u0A69', '\u0A6A', '\u0A6B', '\u0A6C', '\u0A6D', '\u0A6E', '\u0A6F' ],
        hanidec: [ '\u3007', '\u4E00', '\u4E8C', '\u4E09', '\u56DB', '\u4E94', '\u516D', '\u4E03', '\u516B', '\u4E5D' ],
        khmr:    [ '\u17E0', '\u17E1', '\u17E2', '\u17E3', '\u17E4', '\u17E5', '\u17E6', '\u17E7', '\u17E8', '\u17E9' ],
        knda:    [ '\u0CE6', '\u0CE7', '\u0CE8', '\u0CE9', '\u0CEA', '\u0CEB', '\u0CEC', '\u0CED', '\u0CEE', '\u0CEF' ],
        laoo:    [ '\u0ED0', '\u0ED1', '\u0ED2', '\u0ED3', '\u0ED4', '\u0ED5', '\u0ED6', '\u0ED7', '\u0ED8', '\u0ED9' ],
        latn:    [ '\u0030', '\u0031', '\u0032', '\u0033', '\u0034', '\u0035', '\u0036', '\u0037', '\u0038', '\u0039' ],
        limb:    [ '\u1946', '\u1947', '\u1948', '\u1949', '\u194A', '\u194B', '\u194C', '\u194D', '\u194E', '\u194F' ],
        mlym:    [ '\u0D66', '\u0D67', '\u0D68', '\u0D69', '\u0D6A', '\u0D6B', '\u0D6C', '\u0D6D', '\u0D6E', '\u0D6F' ],
        mong:    [ '\u1810', '\u1811', '\u1812', '\u1813', '\u1814', '\u1815', '\u1816', '\u1817', '\u1818', '\u1819' ],
        mymr:    [ '\u1040', '\u1041', '\u1042', '\u1043', '\u1044', '\u1045', '\u1046', '\u1047', '\u1048', '\u1049' ],
        orya:    [ '\u0B66', '\u0B67', '\u0B68', '\u0B69', '\u0B6A', '\u0B6B', '\u0B6C', '\u0B6D', '\u0B6E', '\u0B6F' ],
        tamldec: [ '\u0BE6', '\u0BE7', '\u0BE8', '\u0BE9', '\u0BEA', '\u0BEB', '\u0BEC', '\u0BED', '\u0BEE', '\u0BEF' ],
        telu:    [ '\u0C66', '\u0C67', '\u0C68', '\u0C69', '\u0C6A', '\u0C6B', '\u0C6C', '\u0C6D', '\u0C6E', '\u0C6F' ],
        thai:    [ '\u0E50', '\u0E51', '\u0E52', '\u0E53', '\u0E54', '\u0E55', '\u0E56', '\u0E57', '\u0E58', '\u0E59' ],
        tibt:    [ '\u0F20', '\u0F21', '\u0F22', '\u0F23', '\u0F24', '\u0F25', '\u0F26', '\u0F27', '\u0F28', '\u0F29' ]
    };

    /**
     * This function provides access to the locale and formatting options computed
     * during initialization of the object.
     *
     * The function returns a new object whose properties and attributes are set as
     * if constructed by an object literal assigning to each of the following
     * properties the value of the corresponding internal property of this
     * NumberFormat object (see 11.4): locale, numberingSystem, style, currency,
     * currencyDisplay, minimumIntegerDigits, minimumFractionDigits,
     * maximumFractionDigits, minimumSignificantDigits, maximumSignificantDigits, and
     * useGrouping. Properties whose corresponding internal properties are not present
     * are not assigned.
     */
    /* 11.3.3 */$$core$$defineProperty($$core$$Intl.NumberFormat.prototype, 'resolvedOptions', {
        configurable: true,
        writable: true,
        value: function () {
            var prop,
                descs = new $$core$$Record(),
                props = [
                    'locale', 'numberingSystem', 'style', 'currency', 'currencyDisplay',
                    'minimumIntegerDigits', 'minimumFractionDigits', 'maximumFractionDigits',
                    'minimumSignificantDigits', 'maximumSignificantDigits', 'useGrouping'
                ],
                internal = this != null && typeof this === 'object' && $$core$$getInternalProperties(this);

            // Satisfy test 11.3_b
            if (!internal || !internal['[[initializedNumberFormat]]'])
                throw new TypeError('`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.');

            for (var i = 0, max = props.length; i < max; i++) {
                if ($$core$$hop.call(internal, prop = '[['+ props[i] +']]'))
                    descs[props[i]] = { value: internal[prop], writable: true, configurable: true, enumerable: true };
            }

            return $$core$$objCreate({}, descs);
        }
    });

    // 12.1 The Intl.DateTimeFormat constructor
    // ==================================

    // Define the DateTimeFormat constructor internally so it cannot be tainted
    function $$core$$DateTimeFormatConstructor () {
        var locales = arguments[0];
        var options = arguments[1];

        if (!this || this === $$core$$Intl) {
            return new $$core$$Intl.DateTimeFormat(locales, options);
        }
        return $$core$$InitializeDateTimeFormat($$core$$toObject(this), locales, options);
    }

    $$core$$defineProperty($$core$$Intl, 'DateTimeFormat', {
        configurable: true,
        writable: true,
        value: $$core$$DateTimeFormatConstructor
    });

    // Must explicitly set prototypes as unwritable
    $$core$$defineProperty($$core$$DateTimeFormatConstructor, 'prototype', {
        writable: false
    });

    /**
     * The abstract operation InitializeDateTimeFormat accepts the arguments dateTimeFormat
     * (which must be an object), locales, and options. It initializes dateTimeFormat as a
     * DateTimeFormat object.
     */
    function/* 12.1.1.1 */$$core$$InitializeDateTimeFormat (dateTimeFormat, locales, options) {
        var
        // This will be a internal properties object if we're not already initialized
            internal = $$core$$getInternalProperties(dateTimeFormat),

        // Create an object whose props can be used to restore the values of RegExp props
            regexpState = $$core$$createRegExpRestore();

        // 1. If dateTimeFormat has an [[initializedIntlObject]] internal property with
        //    value true, throw a TypeError exception.
        if (internal['[[initializedIntlObject]]'] === true)
            throw new TypeError('`this` object has already been initialized as an Intl object');

        // Need this to access the `internal` object
        $$core$$defineProperty(dateTimeFormat, '__getInternalProperties', {
            value: function () {
                // NOTE: Non-standard, for internal use only
                if (arguments[0] === $$core$$secret)
                    return internal;
            }
        });

        // 2. Set the [[initializedIntlObject]] internal property of numberFormat to true.
        internal['[[initializedIntlObject]]'] = true;

        var
        // 3. Let requestedLocales be the result of calling the CanonicalizeLocaleList
        //    abstract operation (defined in 9.2.1) with argument locales.
            requestedLocales = $$core$$CanonicalizeLocaleList(locales),

        // 4. Let options be the result of calling the ToDateTimeOptions abstract
        //    operation (defined below) with arguments options, "any", and "date".
            options = $$core$$ToDateTimeOptions(options, 'any', 'date'),

        // 5. Let opt be a new Record.
            opt = new $$core$$Record();

        // 6. Let matcher be the result of calling the GetOption abstract operation
        //    (defined in 9.2.9) with arguments options, "localeMatcher", "string", a List
        //    containing the two String values "lookup" and "best fit", and "best fit".
            matcher = $$core$$GetOption(options, 'localeMatcher', 'string', new $$core$$List('lookup', 'best fit'), 'best fit');

        // 7. Set opt.[[localeMatcher]] to matcher.
        opt['[[localeMatcher]]'] = matcher;

        var
        // 8. Let DateTimeFormat be the standard built-in object that is the initial
        //    value of Intl.DateTimeFormat.
            DateTimeFormat = $$core$$internals.DateTimeFormat, // This is what we *really* need

        // 9. Let localeData be the value of the [[localeData]] internal property of
        //    DateTimeFormat.
            localeData = DateTimeFormat['[[localeData]]'],

        // 10. Let r be the result of calling the ResolveLocale abstract operation
        //     (defined in 9.2.5) with the [[availableLocales]] internal property of
        //      DateTimeFormat, requestedLocales, opt, the [[relevantExtensionKeys]]
        //      internal property of DateTimeFormat, and localeData.
            r = $$core$$ResolveLocale(DateTimeFormat['[[availableLocales]]'], requestedLocales,
                    opt, DateTimeFormat['[[relevantExtensionKeys]]'], localeData);

        // 11. Set the [[locale]] internal property of dateTimeFormat to the value of
        //     r.[[locale]].
        internal['[[locale]]'] = r['[[locale]]'];

        // 12. Set the [[calendar]] internal property of dateTimeFormat to the value of
        //     r.[[ca]].
        internal['[[calendar]]'] = r['[[ca]]'];

        // 13. Set the [[numberingSystem]] internal property of dateTimeFormat to the value of
        //     r.[[nu]].
        internal['[[numberingSystem]]'] = r['[[nu]]'];

        // The specification doesn't tell us to do this, but it's helpful later on
        internal['[[dataLocale]]'] = r['[[dataLocale]]'];

        var
        // 14. Let dataLocale be the value of r.[[dataLocale]].
            dataLocale = r['[[dataLocale]]'],

        // 15. Let tz be the result of calling the [[Get]] internal method of options with
        //     argument "timeZone".
            tz = options.timeZone;

        // 16. If tz is not undefined, then
        if (tz !== undefined) {
            // a. Let tz be ToString(tz).
            // b. Convert tz to upper case as described in 6.1.
            //    NOTE: If an implementation accepts additional time zone values, as permitted
            //          under certain conditions by the Conformance clause, different casing
            //          rules apply.
            tz = $$core$$toLatinUpperCase(tz);

            // c. If tz is not "UTC", then throw a RangeError exception.
            // ###TODO: accept more time zones###
            if (tz !== 'UTC')
                throw new RangeError('timeZone is not supported.');
        }

        // 17. Set the [[timeZone]] internal property of dateTimeFormat to tz.
        internal['[[timeZone]]'] = tz;

        // 18. Let opt be a new Record.
        opt = new $$core$$Record();

        // 19. For each row of Table 3, except the header row, do:
        for (var prop in $$core$$dateTimeComponents) {
            if (!$$core$$hop.call($$core$$dateTimeComponents, prop))
                continue;

            var
            // 20. Let prop be the name given in the Property column of the row.
            // 21. Let value be the result of calling the GetOption abstract operation,
            //     passing as argument options, the name given in the Property column of the
            //     row, "string", a List containing the strings given in the Values column of
            //     the row, and undefined.
                value = $$core$$GetOption(options, prop, 'string', $$core$$dateTimeComponents[prop]);

            // 22. Set opt.[[<prop>]] to value.
            opt['[['+prop+']]'] = value;
        }

        var
            // Assigned a value below
            bestFormat,

            // 23. Let dataLocaleData be the result of calling the [[Get]] internal method of
            //     localeData with argument dataLocale.
            dataLocaleData = localeData[dataLocale],

            // 24. Let formats be the result of calling the [[Get]] internal method of
            //     dataLocaleData with argument "formats".
            //     Note: we process the CLDR formats into the spec'd structure
            formats = $$core$$ToDateTimeFormats(dataLocaleData.formats),

            // 25. Let matcher be the result of calling the GetOption abstract operation with
            //     arguments options, "formatMatcher", "string", a List containing the two String
            //     values "basic" and "best fit", and "best fit".
            matcher = $$core$$GetOption(options, 'formatMatcher', 'string', new $$core$$List('basic', 'best fit'), 'best fit');

        // Optimization: caching the processed formats as a one time operation by
        // replacing the initial structure from localeData
        dataLocaleData.formats = formats;

        // 26. If matcher is "basic", then
        if (matcher === 'basic')
            // 27. Let bestFormat be the result of calling the BasicFormatMatcher abstract
            //     operation (defined below) with opt and formats.
            bestFormat = $$core$$BasicFormatMatcher(opt, formats);

        // 28. Else
        else
            // 29. Let bestFormat be the result of calling the BestFitFormatMatcher
            //     abstract operation (defined below) with opt and formats.
            bestFormat = $$core$$BestFitFormatMatcher(opt, formats);

        // 30. For each row in Table 3, except the header row, do
        for (var prop in $$core$$dateTimeComponents) {
            if (!$$core$$hop.call($$core$$dateTimeComponents, prop))
                continue;

            // a. Let prop be the name given in the Property column of the row.
            // b. Let pDesc be the result of calling the [[GetOwnProperty]] internal method of
            //    bestFormat with argument prop.
            // c. If pDesc is not undefined, then
            if ($$core$$hop.call(bestFormat, prop)) {
                var
                // i. Let p be the result of calling the [[Get]] internal method of bestFormat
                //    with argument prop.
                    p = bestFormat[prop];

                // ii. Set the [[<prop>]] internal property of dateTimeFormat to p.
                internal['[['+prop+']]'] = p;
            }
        }

        var
            // Assigned a value below
            pattern,

        // 31. Let hr12 be the result of calling the GetOption abstract operation with
        //     arguments options, "hour12", "boolean", undefined, and undefined.
            hr12 = $$core$$GetOption(options, 'hour12', 'boolean'/*, undefined, undefined*/);

        // 32. If dateTimeFormat has an internal property [[hour]], then
        if (internal['[[hour]]']) {
            // a. If hr12 is undefined, then let hr12 be the result of calling the [[Get]]
            //    internal method of dataLocaleData with argument "hour12".
            hr12 = hr12 === undefined ? dataLocaleData.hour12 : hr12;

            // b. Set the [[hour12]] internal property of dateTimeFormat to hr12.
            internal['[[hour12]]'] = hr12;

            // c. If hr12 is true, then
            if (hr12 === true) {
                var
                // i. Let hourNo0 be the result of calling the [[Get]] internal method of
                //    dataLocaleData with argument "hourNo0".
                    hourNo0 = dataLocaleData.hourNo0;

                // ii. Set the [[hourNo0]] internal property of dateTimeFormat to hourNo0.
                internal['[[hourNo0]]'] = hourNo0;

                // iii. Let pattern be the result of calling the [[Get]] internal method of
                //      bestFormat with argument "pattern12".
                pattern = bestFormat.pattern12;
            }

            // d. Else
            else
                // i. Let pattern be the result of calling the [[Get]] internal method of
                //    bestFormat with argument "pattern".
                pattern = bestFormat.pattern;
        }

        // 33. Else
        else
            // a. Let pattern be the result of calling the [[Get]] internal method of
            //    bestFormat with argument "pattern".
            pattern = bestFormat.pattern;

        // 34. Set the [[pattern]] internal property of dateTimeFormat to pattern.
        internal['[[pattern]]'] = pattern;

        // 35. Set the [[boundFormat]] internal property of dateTimeFormat to undefined.
        internal['[[boundFormat]]'] = undefined;

        // 36. Set the [[initializedDateTimeFormat]] internal property of dateTimeFormat to
        //     true.
        internal['[[initializedDateTimeFormat]]'] = true;

        // In ES3, we need to pre-bind the format() function
        if ($$core$$es3)
            dateTimeFormat.format = $$core$$GetFormatDateTime.call(dateTimeFormat);

        // Restore the RegExp properties
        regexpState.exp.test(regexpState.input);

        // Return the newly initialised object
        return dateTimeFormat;
    }

    /**
     * Several DateTimeFormat algorithms use values from the following table, which provides
     * property names and allowable values for the components of date and time formats:
     */
    var $$core$$dateTimeComponents = {
             weekday: [ "narrow", "short", "long" ],
                 era: [ "narrow", "short", "long" ],
                year: [ "2-digit", "numeric" ],
               month: [ "2-digit", "numeric", "narrow", "short", "long" ],
                 day: [ "2-digit", "numeric" ],
                hour: [ "2-digit", "numeric" ],
              minute: [ "2-digit", "numeric" ],
              second: [ "2-digit", "numeric" ],
        timeZoneName: [ "short", "long" ]
    };

    /**
     * When the ToDateTimeOptions abstract operation is called with arguments options,
     * required, and defaults, the following steps are taken:
     */
    function $$core$$ToDateTimeFormats(formats) {
        if (Object.prototype.toString.call(formats) === '[object Array]') {
            return formats;
        }
        return $$cldr$$createDateTimeFormats(formats);
    }

    /**
     * When the ToDateTimeOptions abstract operation is called with arguments options,
     * required, and defaults, the following steps are taken:
     */
    function $$core$$ToDateTimeOptions (options, required, defaults) {
        // 1. If options is undefined, then let options be null, else let options be
        //    ToObject(options).
        if (options === undefined)
            options = null;

        else {
            // (#12) options needs to be a Record, but it also needs to inherit properties
            var opt2 = $$core$$toObject(options);
            options = new $$core$$Record();

            for (var k in opt2)
                options[k] = opt2[k];
        }

        var
        // 2. Let create be the standard built-in function object defined in ES5, 15.2.3.5.
            create = $$core$$objCreate,

        // 3. Let options be the result of calling the [[Call]] internal method of create with
        //    undefined as the this value and an argument list containing the single item
        //    options.
            options = create(options),

        // 4. Let needDefaults be true.
            needDefaults = true;

        // 5. If required is "date" or "any", then
        if (required === 'date' || required === 'any') {
            // a. For each of the property names "weekday", "year", "month", "day":
                // i. If the result of calling the [[Get]] internal method of options with the
                //    property name is not undefined, then let needDefaults be false.
            if (options.weekday !== undefined || options.year !== undefined
                    || options.month !== undefined || options.day !== undefined)
                needDefaults = false;
        }

        // 6. If required is "time" or "any", then
        if (required === 'time' || required === 'any') {
            // a. For each of the property names "hour", "minute", "second":
                // i. If the result of calling the [[Get]] internal method of options with the
                //    property name is not undefined, then let needDefaults be false.
            if (options.hour !== undefined || options.minute !== undefined || options.second !== undefined)
                    needDefaults = false;
        }

        // 7. If needDefaults is true and defaults is either "date" or "all", then
        if (needDefaults && (defaults === 'date' || defaults === 'all'))
            // a. For each of the property names "year", "month", "day":
                // i. Call the [[DefineOwnProperty]] internal method of options with the
                //    property name, Property Descriptor {[[Value]]: "numeric", [[Writable]]:
                //    true, [[Enumerable]]: true, [[Configurable]]: true}, and false.
            options.year = options.month = options.day = 'numeric';

        // 8. If needDefaults is true and defaults is either "time" or "all", then
        if (needDefaults && (defaults === 'time' || defaults === 'all'))
            // a. For each of the property names "hour", "minute", "second":
                // i. Call the [[DefineOwnProperty]] internal method of options with the
                //    property name, Property Descriptor {[[Value]]: "numeric", [[Writable]]:
                //    true, [[Enumerable]]: true, [[Configurable]]: true}, and false.
            options.hour = options.minute = options.second = 'numeric';

        // 9. Return options.
        return options;
    }

    /**
     * When the BasicFormatMatcher abstract operation is called with two arguments options and
     * formats, the following steps are taken:
     */
    function $$core$$BasicFormatMatcher (options, formats) {
        return $$core$$calculateScore(options, formats);
    }

    /**
     * Calculates score for BestFitFormatMatcher and BasicFormatMatcher.
     * Abstracted from BasicFormatMatcher section.
     */
    function $$core$$calculateScore (options, formats, bestFit) {
        var
        // Additional penalty type when bestFit === true
           diffDataTypePenalty = 8,

        // 1. Let removalPenalty be 120.
            removalPenalty = 120,

        // 2. Let additionPenalty be 20.
            additionPenalty = 20,

        // 3. Let longLessPenalty be 8.
            longLessPenalty = 8,

        // 4. Let longMorePenalty be 6.
            longMorePenalty = 6,

        // 5. Let shortLessPenalty be 6.
            shortLessPenalty = 6,

        // 6. Let shortMorePenalty be 3.
            shortMorePenalty = 3,

        // 7. Let bestScore be -Infinity.
            bestScore = -Infinity,

        // 8. Let bestFormat be undefined.
            bestFormat,

        // 9. Let i be 0.
            i = 0,

        // 10. Let len be the result of calling the [[Get]] internal method of formats with argument "length".
            len = formats.length;

        // 11. Repeat while i < len:
        while (i < len) {
            var
            // a. Let format be the result of calling the [[Get]] internal method of formats with argument ToString(i).
                format = formats[i],

            // b. Let score be 0.
                score = 0;

            // c. For each property shown in Table 3:
            for (var property in $$core$$dateTimeComponents) {
                if (!$$core$$hop.call($$core$$dateTimeComponents, property))
                    continue;

                var
                // i. Let optionsProp be options.[[<property>]].
                    optionsProp = options['[['+ property +']]'],

                // ii. Let formatPropDesc be the result of calling the [[GetOwnProperty]] internal method of format
                //     with argument property.
                // iii. If formatPropDesc is not undefined, then
                //     1. Let formatProp be the result of calling the [[Get]] internal method of format with argument property.
                    formatProp = $$core$$hop.call(format, property) ? format[property] : undefined;

                // iv. If optionsProp is undefined and formatProp is not undefined, then decrease score by
                //     additionPenalty.
                if (optionsProp === undefined && formatProp !== undefined)
                    score -= additionPenalty;

                // v. Else if optionsProp is not undefined and formatProp is undefined, then decrease score by
                //    removalPenalty.
                else if (optionsProp !== undefined && formatProp === undefined)
                    score -= removalPenalty;

                // vi. Else
                else {
                    var
                    // 1. Let values be the array ["2-digit", "numeric", "narrow", "short",
                    //    "long"].
                        values = [ '2-digit', 'numeric', 'narrow', 'short', 'long' ],

                    // 2. Let optionsPropIndex be the index of optionsProp within values.
                        optionsPropIndex = $$core$$arrIndexOf.call(values, optionsProp),

                    // 3. Let formatPropIndex be the index of formatProp within values.
                        formatPropIndex = $$core$$arrIndexOf.call(values, formatProp),

                    // 4. Let delta be max(min(formatPropIndex - optionsPropIndex, 2), -2).
                        delta = Math.max(Math.min(formatPropIndex - optionsPropIndex, 2), -2);

                    // When the bestFit argument is true, subtract additional penalty where data types are not the same
                    if (bestFit && (
                        ((optionsProp === 'numeric' || optionsProp === '2-digit') && (formatProp !== 'numeric' && formatProp !== '2-digit') || (optionsProp !== 'numeric' && optionsProp !== '2-digit') && (formatProp === '2-digit' || formatProp === 'numeric'))
                    ))
                        score -= diffDataTypePenalty;

                    // 5. If delta = 2, decrease score by longMorePenalty.
                    if (delta === 2)
                        score -= longMorePenalty;

                    // 6. Else if delta = 1, decrease score by shortMorePenalty.
                    else if (delta === 1)
                        score -= shortMorePenalty;

                    // 7. Else if delta = -1, decrease score by shortLessPenalty.
                    else if (delta === -1)
                        score -= shortLessPenalty;

                    // 8. Else if delta = -2, decrease score by longLessPenalty.
                    else if (delta === -2)
                        score -= longLessPenalty;
                }
            }

            // d. If score > bestScore, then
            if (score > bestScore) {
                // i. Let bestScore be score.
                bestScore = score;

                // ii. Let bestFormat be format.
                bestFormat = format;
            }

            // e. Increase i by 1.
            i++;
        }

        // 12. Return bestFormat.
        return bestFormat;
    }

    /**
     * When the BestFitFormatMatcher abstract operation is called with two arguments options
     * and formats, it performs implementation dependent steps, which should return a set of
     * component representations that a typical user of the selected locale would perceive as
     * at least as good as the one returned by BasicFormatMatcher.
     *
     * This polyfill defines the algorithm to be the same as BasicFormatMatcher,
     * with the addition of bonus points awarded where the requested format is of
     * the same data type as the potentially matching format.
     *
     * For example,
     *
     *     { month: 'numeric', day: 'numeric' }
     *
     * should match
     *
     *     { month: '2-digit', day: '2-digit' }
     *
     * rather than
     *
     *     { month: 'short', day: 'numeric' }
     *
     * This makes sense because a user requesting a formatted date with numeric parts would
     * not expect to see the returned format containing narrow, short or long part names
     */
    function $$core$$BestFitFormatMatcher (options, formats) {
        return $$core$$calculateScore(options, formats, true);
    }

    /* 12.2.3 */$$core$$internals.DateTimeFormat = {
        '[[availableLocales]]': [],
        '[[relevantExtensionKeys]]': ['ca', 'nu'],
        '[[localeData]]': {}
    };

    /**
     * When the supportedLocalesOf method of Intl.DateTimeFormat is called, the
     * following steps are taken:
     */
    /* 12.2.2 */$$core$$defineProperty($$core$$Intl.DateTimeFormat, 'supportedLocalesOf', {
        configurable: true,
        writable: true,
        value: $$core$$fnBind.call($$core$$supportedLocalesOf, $$core$$internals.DateTimeFormat)
    });

    /**
     * This named accessor property returns a function that formats a number
     * according to the effective locale and the formatting options of this
     * DateTimeFormat object.
     */
    /* 12.3.2 */$$core$$defineProperty($$core$$Intl.DateTimeFormat.prototype, 'format', {
        configurable: true,
        get: $$core$$GetFormatDateTime
    });

    function $$core$$GetFormatDateTime() {
        var internal = this != null && typeof this === 'object' && $$core$$getInternalProperties(this);

        // Satisfy test 12.3_b
        if (!internal || !internal['[[initializedDateTimeFormat]]'])
            throw new TypeError('`this` value for format() is not an initialized Intl.DateTimeFormat object.');

        // The value of the [[Get]] attribute is a function that takes the following
        // steps:

        // 1. If the [[boundFormat]] internal property of this DateTimeFormat object
        //    is undefined, then:
        if (internal['[[boundFormat]]'] === undefined) {
            var
            // a. Let F be a Function object, with internal properties set as
            //    specified for built-in functions in ES5, 15, or successor, and the
            //    length property set to 0, that takes the argument date and
            //    performs the following steps:
                F = function () {
                    //   i. If date is not provided or is undefined, then let x be the
                    //      result as if by the expression Date.now() where Date.now is
                    //      the standard built-in function defined in ES5, 15.9.4.4.
                    //  ii. Else let x be ToNumber(date).
                    // iii. Return the result of calling the FormatDateTime abstract
                    //      operation (defined below) with arguments this and x.
                    var x = Number(arguments.length === 0 ? Date.now() : arguments[0]);
                    return $$core$$FormatDateTime(this, x);
                },
            // b. Let bind be the standard built-in function object defined in ES5,
            //    15.3.4.5.
            // c. Let bf be the result of calling the [[Call]] internal method of
            //    bind with F as the this value and an argument list containing
            //    the single item this.
                bf = $$core$$fnBind.call(F, this);
            // d. Set the [[boundFormat]] internal property of this NumberFormat
            //    object to bf.
            internal['[[boundFormat]]'] = bf;
        }
        // Return the value of the [[boundFormat]] internal property of this
        // NumberFormat object.
        return internal['[[boundFormat]]'];
    }

    /**
     * When the FormatDateTime abstract operation is called with arguments dateTimeFormat
     * (which must be an object initialized as a DateTimeFormat) and x (which must be a Number
     * value), it returns a String value representing x (interpreted as a time value as
     * specified in ES5, 15.9.1.1) according to the effective locale and the formatting
     * options of dateTimeFormat.
     */
    function $$core$$FormatDateTime(dateTimeFormat, x) {
        // 1. If x is not a finite Number, then throw a RangeError exception.
        if (!isFinite(x))
            throw new RangeError('Invalid valid date passed to format');

        var
            internal = dateTimeFormat.__getInternalProperties($$core$$secret),

        // Creating restore point for properties on the RegExp object... please wait
            regexpState = $$core$$createRegExpRestore(),

        // 2. Let locale be the value of the [[locale]] internal property of dateTimeFormat.
            locale = internal['[[locale]]'],

        // 3. Let nf be the result of creating a new NumberFormat object as if by the
        // expression new Intl.NumberFormat([locale], {useGrouping: false}) where
        // Intl.NumberFormat is the standard built-in constructor defined in 11.1.3.
            nf = new $$core$$Intl.NumberFormat([locale], {useGrouping: false}),

        // 4. Let nf2 be the result of creating a new NumberFormat object as if by the
        // expression new Intl.NumberFormat([locale], {minimumIntegerDigits: 2, useGrouping:
        // false}) where Intl.NumberFormat is the standard built-in constructor defined in
        // 11.1.3.
            nf2 = new $$core$$Intl.NumberFormat([locale], {minimumIntegerDigits: 2, useGrouping: false}),

        // 5. Let tm be the result of calling the ToLocalTime abstract operation (defined
        // below) with x, the value of the [[calendar]] internal property of dateTimeFormat,
        // and the value of the [[timeZone]] internal property of dateTimeFormat.
            tm = $$core$$ToLocalTime(x, internal['[[calendar]]'], internal['[[timeZone]]']),

        // 6. Let result be the value of the [[pattern]] internal property of dateTimeFormat.
            result = internal['[[pattern]]'],

        // Need the locale minus any extensions
            dataLocale = internal['[[dataLocale]]'],

        // Need the calendar data from CLDR
            localeData = $$core$$internals.DateTimeFormat['[[localeData]]'][dataLocale].calendars,
            ca = internal['[[calendar]]'];

        // 7. For each row of Table 3, except the header row, do:
        for (var p in $$core$$dateTimeComponents) {
            // a. If dateTimeFormat has an internal property with the name given in the
            //    Property column of the row, then:
            if ($$core$$hop.call(internal, '[['+ p +']]')) {
                var
                // Assigned values below
                    pm, fv,

                //   i. Let p be the name given in the Property column of the row.
                //  ii. Let f be the value of the [[<p>]] internal property of dateTimeFormat.
                    f = internal['[['+ p +']]'],

                // iii. Let v be the value of tm.[[<p>]].
                    v = tm['[['+ p +']]'];

                //  iv. If p is "year" and v ≤ 0, then let v be 1 - v.
                if (p === 'year' && v <= 0)
                    v = 1 - v;

                //   v. If p is "month", then increase v by 1.
                else if (p === 'month')
                    v++;

                //  vi. If p is "hour" and the value of the [[hour12]] internal property of
                //      dateTimeFormat is true, then
                else if (p === 'hour' && internal['[[hour12]]'] === true) {
                    // 1. Let v be v modulo 12.
                    v = v % 12;

                    // 2. If v is equal to the value of tm.[[<p>]], then let pm be false; else
                    //    let pm be true.
                    pm = v !== tm['[['+ p +']]'];

                    // 3. If v is 0 and the value of the [[hourNo0]] internal property of
                    //    dateTimeFormat is true, then let v be 12.
                    if (v === 0 && internal['[[hourNo0]]'] === true)
                        v = 12;
                }

                // vii. If f is "numeric", then
                if (f === 'numeric')
                    // 1. Let fv be the result of calling the FormatNumber abstract operation
                    //    (defined in 11.3.2) with arguments nf and v.
                    fv = $$core$$FormatNumber(nf, v);

                // viii. Else if f is "2-digit", then
                else if (f === '2-digit') {
                    // 1. Let fv be the result of calling the FormatNumber abstract operation
                    //    with arguments nf2 and v.
                    fv = $$core$$FormatNumber(nf2, v);

                    // 2. If the length of fv is greater than 2, let fv be the substring of fv
                    //    containing the last two characters.
                    if (fv.length > 2)
                        fv = fv.slice(-2);
                }

                // ix. Else if f is "narrow", "short", or "long", then let fv be a String
                //     value representing f in the desired form; the String value depends upon
                //     the implementation and the effective locale and calendar of
                //     dateTimeFormat. If p is "month", then the String value may also depend
                //     on whether dateTimeFormat has a [[day]] internal property. If p is
                //     "timeZoneName", then the String value may also depend on the value of
                //     the [[inDST]] field of tm.
                else if (f in $$core$$dateWidths) {
                    switch (p) {
                        case 'month':
                            fv = $$core$$resolveDateString(localeData, ca, 'months', f, tm['[['+ p +']]']);
                            break;

                        case 'weekday':
                            try {
                                fv = $$core$$resolveDateString(localeData, ca, 'days', f, tm['[['+ p +']]']);
                                // fv = resolveDateString(ca.days, f)[tm['[['+ p +']]']];
                            } catch (e) {
                                throw new Error('Could not find weekday data for locale '+locale);
                            }
                            break;

                        case 'timeZoneName':
                            fv = ''; // TODO
                            break;

                        // TODO: Era
                        default:
                            fv = tm['[['+ p +']]'];
                    }
                }

                // x. Replace the substring of result that consists of "{", p, and "}", with
                //    fv.
                result = result.replace('{'+ p +'}', fv);
            }
        }
        // 8. If dateTimeFormat has an internal property [[hour12]] whose value is true, then
        if (internal['[[hour12]]'] === true) {
            // a. If pm is true, then let fv be an implementation and locale dependent String
            //    value representing “post meridiem”; else let fv be an implementation and
            //    locale dependent String value representing “ante meridiem”.
            fv = $$core$$resolveDateString(localeData, ca, 'dayPeriods', pm ? 'pm' : 'am');

            // b. Replace the substring of result that consists of "{ampm}", with fv.
            result = result.replace('{ampm}', fv);
        }

        // Restore properties of the RegExp object
        regexpState.exp.test(regexpState.input);

        // 9. Return result.
        return result;
    }

    /**
     * When the ToLocalTime abstract operation is called with arguments date, calendar, and
     * timeZone, the following steps are taken:
     */
    function $$core$$ToLocalTime(date, calendar, timeZone) {
        // 1. Apply calendrical calculations on date for the given calendar and time zone to
        //    produce weekday, era, year, month, day, hour, minute, second, and inDST values.
        //    The calculations should use best available information about the specified
        //    calendar and time zone. If the calendar is "gregory", then the calculations must
        //    match the algorithms specified in ES5, 15.9.1, except that calculations are not
        //    bound by the restrictions on the use of best available information on time zones
        //    for local time zone adjustment and daylight saving time adjustment imposed by
        //    ES5, 15.9.1.7 and 15.9.1.8.
        // ###TODO###
        var d = new Date(date),
            m = 'get' + (timeZone || '');

        // 2. Return a Record with fields [[weekday]], [[era]], [[year]], [[month]], [[day]],
        //    [[hour]], [[minute]], [[second]], and [[inDST]], each with the corresponding
        //    calculated value.
        return new $$core$$Record({
            '[[weekday]]': d[m + 'Day'](),
            '[[era]]'    : +(d[m + 'FullYear']() >= 0),
            '[[year]]'   : d[m + 'FullYear'](),
            '[[month]]'  : d[m + 'Month'](),
            '[[day]]'    : d[m + 'Date'](),
            '[[hour]]'   : d[m + 'Hours'](),
            '[[minute]]' : d[m + 'Minutes'](),
            '[[second]]' : d[m + 'Seconds'](),
            '[[inDST]]'  : false // ###TODO###
        });
    }

    /**
     * The function returns a new object whose properties and attributes are set as if
     * constructed by an object literal assigning to each of the following properties the
     * value of the corresponding internal property of this DateTimeFormat object (see 12.4):
     * locale, calendar, numberingSystem, timeZone, hour12, weekday, era, year, month, day,
     * hour, minute, second, and timeZoneName. Properties whose corresponding internal
     * properties are not present are not assigned.
     */
    /* 12.3.3 */$$core$$defineProperty($$core$$Intl.DateTimeFormat.prototype, 'resolvedOptions', {
        writable: true,
        configurable: true,
        value: function () {
            var prop,
                descs = new $$core$$Record(),
                props = [
                    'locale', 'calendar', 'numberingSystem', 'timeZone', 'hour12', 'weekday',
                    'era', 'year', 'month', 'day', 'hour', 'minute', 'second', 'timeZoneName'
                ],
                internal = this != null && typeof this === 'object' && $$core$$getInternalProperties(this);

            // Satisfy test 12.3_b
            if (!internal || !internal['[[initializedDateTimeFormat]]'])
                throw new TypeError('`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.');

            for (var i = 0, max = props.length; i < max; i++) {
                if ($$core$$hop.call(internal, prop = '[[' + props[i] + ']]'))
                    descs[props[i]] = { value: internal[prop], writable: true, configurable: true, enumerable: true };
            }

            return $$core$$objCreate({}, descs);
        }
    });

    // Sect 13 Locale Sensitive Functions of the ECMAScript Language Specification
    // ===========================================================================

    var $$core$$ls = $$core$$Intl.__localeSensitiveProtos = {
        Number: {},
        Date:   {}
    };

    /**
     * When the toLocaleString method is called with optional arguments locales and options,
     * the following steps are taken:
     */
    /* 13.2.1 */$$core$$ls.Number.toLocaleString = function () {
        // Satisfy test 13.2.1_1
        if (Object.prototype.toString.call(this) !== '[object Number]')
            throw new TypeError('`this` value must be a number for Number.prototype.toLocaleString()');

        // 1. Let x be this Number value (as defined in ES5, 15.7.4).
        // 2. If locales is not provided, then let locales be undefined.
        // 3. If options is not provided, then let options be undefined.
        // 4. Let numberFormat be the result of creating a new object as if by the
        //    expression new Intl.NumberFormat(locales, options) where
        //    Intl.NumberFormat is the standard built-in constructor defined in 11.1.3.
        // 5. Return the result of calling the FormatNumber abstract operation
        //    (defined in 11.3.2) with arguments numberFormat and x.
        return $$core$$FormatNumber(new $$core$$NumberFormatConstructor(arguments[0], arguments[1]), this);
    };

    /**
     * When the toLocaleString method is called with optional arguments locales and options,
     * the following steps are taken:
     */
    /* 13.3.1 */$$core$$ls.Date.toLocaleString = function () {
        // Satisfy test 13.3.0_1
        if (Object.prototype.toString.call(this) !== '[object Date]')
            throw new TypeError('`this` value must be a Date instance for Date.prototype.toLocaleString()');

        var
        // 1. Let x be this time value (as defined in ES5, 15.9.5).
            x = +this;

        // 2. If x is NaN, then return "Invalid Date".
        if (isNaN(x))
            return 'Invalid Date';

        var
        // 3. If locales is not provided, then let locales be undefined.
            locales = arguments[0],

        // 4. If options is not provided, then let options be undefined.
            options = arguments[1],

        // 5. Let options be the result of calling the ToDateTimeOptions abstract
        //    operation (defined in 12.1.1) with arguments options, "any", and "all".
            options = $$core$$ToDateTimeOptions(options, 'any', 'all'),

        // 6. Let dateTimeFormat be the result of creating a new object as if by the
        //    expression new Intl.DateTimeFormat(locales, options) where
        //    Intl.DateTimeFormat is the standard built-in constructor defined in 12.1.3.
            dateTimeFormat = new $$core$$DateTimeFormatConstructor(locales, options);

        // 7. Return the result of calling the FormatDateTime abstract operation (defined
        //    in 12.3.2) with arguments dateTimeFormat and x.
        return $$core$$FormatDateTime(dateTimeFormat, x);
    };

    /**
     * When the toLocaleDateString method is called with optional arguments locales and
     * options, the following steps are taken:
     */
    /* 13.3.2 */$$core$$ls.Date.toLocaleDateString = function () {
        // Satisfy test 13.3.0_1
        if (Object.prototype.toString.call(this) !== '[object Date]')
            throw new TypeError('`this` value must be a Date instance for Date.prototype.toLocaleDateString()');

        var
        // 1. Let x be this time value (as defined in ES5, 15.9.5).
            x = +this;

        // 2. If x is NaN, then return "Invalid Date".
        if (isNaN(x))
            return 'Invalid Date';

        var
        // 3. If locales is not provided, then let locales be undefined.
            locales = arguments[0],

        // 4. If options is not provided, then let options be undefined.
            options = arguments[1],

        // 5. Let options be the result of calling the ToDateTimeOptions abstract
        //    operation (defined in 12.1.1) with arguments options, "date", and "date".
            options = $$core$$ToDateTimeOptions(options, 'date', 'date'),

        // 6. Let dateTimeFormat be the result of creating a new object as if by the
        //    expression new Intl.DateTimeFormat(locales, options) where
        //    Intl.DateTimeFormat is the standard built-in constructor defined in 12.1.3.
            dateTimeFormat = new $$core$$DateTimeFormatConstructor(locales, options);

        // 7. Return the result of calling the FormatDateTime abstract operation (defined
        //    in 12.3.2) with arguments dateTimeFormat and x.
        return $$core$$FormatDateTime(dateTimeFormat, x);
    };

    /**
     * When the toLocaleTimeString method is called with optional arguments locales and
     * options, the following steps are taken:
     */
    /* 13.3.3 */$$core$$ls.Date.toLocaleTimeString = function () {
        // Satisfy test 13.3.0_1
        if (Object.prototype.toString.call(this) !== '[object Date]')
            throw new TypeError('`this` value must be a Date instance for Date.prototype.toLocaleTimeString()');

        var
        // 1. Let x be this time value (as defined in ES5, 15.9.5).
            x = +this;

        // 2. If x is NaN, then return "Invalid Date".
        if (isNaN(x))
            return 'Invalid Date';

        var
        // 3. If locales is not provided, then let locales be undefined.
            locales = arguments[0],

        // 4. If options is not provided, then let options be undefined.
            options = arguments[1],

        // 5. Let options be the result of calling the ToDateTimeOptions abstract
        //    operation (defined in 12.1.1) with arguments options, "time", and "time".
            options = $$core$$ToDateTimeOptions(options, 'time', 'time'),

        // 6. Let dateTimeFormat be the result of creating a new object as if by the
        //    expression new Intl.DateTimeFormat(locales, options) where
        //    Intl.DateTimeFormat is the standard built-in constructor defined in 12.1.3.
            dateTimeFormat = new $$core$$DateTimeFormatConstructor(locales, options);

        // 7. Return the result of calling the FormatDateTime abstract operation (defined
        //    in 12.3.2) with arguments dateTimeFormat and x.
        return $$core$$FormatDateTime(dateTimeFormat, x);
    };

    $$core$$defineProperty($$core$$Intl, '__applyLocaleSensitivePrototypes', {
        writable: true,
        configurable: true,
        value: function () {
            $$core$$defineProperty(Number.prototype, 'toLocaleString', { writable: true, configurable: true, value: $$core$$ls.Number.toLocaleString });
            // Need this here for IE 8, to avoid the _DontEnum_ bug
            $$core$$defineProperty(Date.prototype, 'toLocaleString', { writable: true, configurable: true, value: $$core$$ls.Date.toLocaleString });

            for (var k in $$core$$ls.Date) {
                if ($$core$$hop.call($$core$$ls.Date, k))
                    $$core$$defineProperty(Date.prototype, k, { writable: true, configurable: true, value: $$core$$ls.Date[k] });
            }
        }
    });

    /**
     * Can't really ship a single script with data for hundreds of locales, so we provide
     * this __addLocaleData method as a means for the developer to add the data on an
     * as-needed basis
     */
    $$core$$defineProperty($$core$$Intl, '__addLocaleData', {
        value: function (data) {
            if (!$$core$$IsStructurallyValidLanguageTag(data.locale))
                throw new Error("Object passed doesn't identify itself with a valid language tag");

            $$core$$addLocaleData(data, data.locale);
        }
    });

    function $$core$$addLocaleData (data, tag) {
        // Both NumberFormat and DateTimeFormat require number data, so throw if it isn't present
        if (!data.number)
            throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");

        var locale,
            locales = [ tag ],
            parts   = tag.split('-');

        // Create fallbacks for locale data with scripts, e.g. Latn, Hans, Vaii, etc
        if (parts.length > 2 && parts[1].length === 4)
            $$core$$arrPush.call(locales, parts[0] + '-' + parts[2]);

        while (locale = $$core$$arrShift.call(locales)) {
            // Add to NumberFormat internal properties as per 11.2.3
            $$core$$arrPush.call($$core$$internals.NumberFormat['[[availableLocales]]'], locale);
            $$core$$internals.NumberFormat['[[localeData]]'][locale] = data.number;

            // ...and DateTimeFormat internal properties as per 12.2.3
            if (data.date) {
                data.date.nu = data.number.nu;
                $$core$$arrPush.call($$core$$internals.DateTimeFormat['[[availableLocales]]'], locale);
                $$core$$internals.DateTimeFormat['[[localeData]]'][locale] = data.date;
            }
        }

        // If this is the first set of locale data added, make it the default
        if ($$core$$defaultLocale === undefined)
            $$core$$defaultLocale = tag;

        // 11.3 (the NumberFormat prototype object is an Intl.NumberFormat instance)
        if (!$$core$$numberFormatProtoInitialised) {
            $$core$$InitializeNumberFormat($$core$$Intl.NumberFormat.prototype);
            $$core$$numberFormatProtoInitialised = true;
        }

        // 11.3 (the NumberFormat prototype object is an Intl.NumberFormat instance)
        if (data.date && !$$core$$dateTimeFormatProtoInitialised) {
            $$core$$InitializeDateTimeFormat($$core$$Intl.DateTimeFormat.prototype);
            $$core$$dateTimeFormatProtoInitialised = true;
        }
    }

    // Helper functions
    // ================

    /**
     * A function to deal with the inaccuracy of calculating log10 in pre-ES6
     * JavaScript environments. Math.log(num) / Math.LN10 was responsible for
     * causing issue #62.
     */
    function $$core$$log10Floor (n) {
        // ES6 provides the more accurate Math.log10
        if (typeof Math.log10 === 'function')
            return Math.floor(Math.log10(n));

        var x = Math.round(Math.log(n) * Math.LOG10E);
        return x - (Number('1e' + x) > n);
    }

    /**
     * A merge of the Intl.{Constructor}.supportedLocalesOf functions
     * To make life easier, the function should be bound to the constructor's internal
     * properties object.
     */
    function $$core$$supportedLocalesOf(locales) {
        /*jshint validthis:true */

        // Bound functions only have the `this` value altered if being used as a constructor,
        // this lets us imitate a native function that has no constructor
        if (!$$core$$hop.call(this, '[[availableLocales]]'))
            throw new TypeError('supportedLocalesOf() is not a constructor');

        var
        // Create an object whose props can be used to restore the values of RegExp props
            regexpState = $$core$$createRegExpRestore(),

        // 1. If options is not provided, then let options be undefined.
            options = arguments[1],

        // 2. Let availableLocales be the value of the [[availableLocales]] internal
        //    property of the standard built-in object that is the initial value of
        //    Intl.NumberFormat.

            availableLocales = this['[[availableLocales]]'],

        // 3. Let requestedLocales be the result of calling the CanonicalizeLocaleList
        //    abstract operation (defined in 9.2.1) with argument locales.
            requestedLocales = $$core$$CanonicalizeLocaleList(locales);

        // Restore the RegExp properties
        regexpState.exp.test(regexpState.input);

        // 4. Return the result of calling the SupportedLocales abstract operation
        //    (defined in 9.2.8) with arguments availableLocales, requestedLocales,
        //    and options.
        return $$core$$SupportedLocales(availableLocales, requestedLocales, options);
    }

    /**
     * Returns a string for a date component, resolved using multiple inheritance as specified
     * as specified in the Unicode Technical Standard 35.
     */
    function $$core$$resolveDateString(data, ca, component, width, key) {
        // From http://www.unicode.org/reports/tr35/tr35.html#Multiple_Inheritance:
        // 'In clearly specified instances, resources may inherit from within the same locale.
        //  For example, ... the Buddhist calendar inherits from the Gregorian calendar.'
        var obj = data[ca] && data[ca][component]
                    ? data[ca][component]
                    : data.gregory[component],

            // "sideways" inheritance resolves strings when a key doesn't exist
            alts = {
                narrow: ['short', 'long'],
                short:  ['long', 'narrow'],
                long:   ['short', 'narrow']
            },

            //
            resolved = $$core$$hop.call(obj, width)
                      ? obj[width]
                      : $$core$$hop.call(obj, alts[width][0])
                          ? obj[alts[width][0]]
                          : obj[alts[width][1]];

        // `key` wouldn't be specified for components 'dayPeriods'
        return key != null ? resolved[key] : resolved;
    }

    /**
     * A map that doesn't contain Object in its prototype chain
     */
    $$core$$Record.prototype = $$core$$objCreate(null);
    function $$core$$Record (obj) {
        // Copy only own properties over unless this object is already a Record instance
        for (var k in obj) {
            if (obj instanceof $$core$$Record || $$core$$hop.call(obj, k))
                $$core$$defineProperty(this, k, { value: obj[k], enumerable: true, writable: true, configurable: true });
        }
    }

    /**
     * An ordered list
     */
    $$core$$List.prototype = $$core$$objCreate(null);
    function $$core$$List() {
        $$core$$defineProperty(this, 'length', { writable:true, value: 0 });

        if (arguments.length)
            $$core$$arrPush.apply(this, $$core$$arrSlice.call(arguments));
    }

    /**
     * Constructs a regular expression to restore tainted RegExp properties
     */
    function $$core$$createRegExpRestore () {
        var esc = /[.?*+^$[\]\\(){}|-]/g,
            lm  = RegExp.lastMatch || '',
            ml  = RegExp.multiline ? 'm' : '',
            ret = { input: RegExp.input },
            reg = new $$core$$List(),
            has = false,
            cap = {};

        // Create a snapshot of all the 'captured' properties
        for (var i = 1; i <= 9; i++)
            has = (cap['$'+i] = RegExp['$'+i]) || has;

        // Now we've snapshotted some properties, escape the lastMatch string
        lm = lm.replace(esc, '\\$&');

        // If any of the captured strings were non-empty, iterate over them all
        if (has) {
            for (var i = 1; i <= 9; i++) {
                var m = cap['$'+i];

                // If it's empty, add an empty capturing group
                if (!m)
                    lm = '()' + lm;

                // Else find the string in lm and escape & wrap it to capture it
                else {
                    m = m.replace(esc, '\\$&');
                    lm = lm.replace(m, '(' + m + ')');
                }

                // Push it to the reg and chop lm to make sure further groups come after
                $$core$$arrPush.call(reg, lm.slice(0, lm.indexOf('(') + 1));
                lm = lm.slice(lm.indexOf('(') + 1);
            }
        }

        // Create the regular expression that will reconstruct the RegExp properties
        ret.exp = new RegExp($$core$$arrJoin.call(reg, '') + lm, ml);

        return ret;
    }

    /**
     * Convert only a-z to uppercase as per section 6.1 of the spec
     */
    function $$core$$toLatinUpperCase (str) {
        var i = str.length;

        while (i--) {
            var ch = str.charAt(i);

            if (ch >= "a" && ch <= "z")
                str = str.slice(0, i) + ch.toUpperCase() + str.slice(i+1);
        }

        return str;
    }

    /**
     * Mimics ES5's abstract ToObject() function
     */
    function $$core$$toObject (arg) {
        if (arg == null)
            throw new TypeError('Cannot convert null or undefined to object');

        return Object(arg);
    }

    /**
     * Returns "internal" properties for an object
     */
    function $$core$$getInternalProperties (obj) {
        if ($$core$$hop.call(obj, '__getInternalProperties'))
            return obj.__getInternalProperties($$core$$secret);
        else
            return $$core$$objCreate(null);
    }

    var $$core$$default = $$core$$Intl;

    // hack to export the polyfill as global Intl if needed
    if (!this.Intl) {
        this.Intl = $$core$$default;
        $$core$$default.__applyLocaleSensitivePrototypes();
    }

    var src$main$$default = $$core$$default;
    this['IntlPolyfill'] = src$main$$default;
}).call(this);

!function(){"use strict";m$662$0(Array.prototype,"find",function(t){if(null!==this){if("function"!=typeof t)throw"find requires callback to be a function";for(var i=this.length,n=0;n<i;n++){var r=this[n],f=t(r,n,this);if(f===!0)return r}}})}();
!function(){"use strict";var n=m$626$0.extend({name:null,delegate:null,application:m$629$1({readOnly:!0,get:function(n,t,i,a){var e=this._application;return e||(e=this._application=this.loadApplication()),e}}),loadApplication:function(){return null},launch:function(){var n=this.get("application");return n?(window.app=n,this.willLaunchApplication(),n.load(),void this.didLaunchApplication()):void console.error(this+" Missing application. Cannot launch app")},willLaunchApplication:function(){document.body.addEventListener("drop",function(n){return n.preventDefault(),!1}),document.body.addEventListener("dragleave",function(n){return n.preventDefault(),!1}),document.body.addEventListener("dragenter",function(n){return n.preventDefault(),!1});var n=m$565$4(),t=document.documentElement;m$672$0(t),t.classList.add(n);var i=this.get("application"),a=this.delegate,e=a?a.applicationLauncherWillLaunchApplication:null;e&&e.call(a,this,i)},didLaunchApplication:function(){var n=this.get("application"),t=this.delegate,i=t?t.applicationLauncherDidLaunchApplication:null;i&&i.call(t,this,n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Bootstrap.ApplicationLauncher"}});m$0$0=n}();
!function(){"use strict";var t=m$626$0.extend(m$544$0,{timeoutCompleted:m$558$0(),setTimeout:function(t,e){var i=function(){t(),this.timeoutCompleted()}.bind(this);return m$799$0(i,e||0)},clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){clearTimeout(t)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.BaseTimerUtils$254"}}),e=t.create();m$254$0=e}();
!function(){"use strict";function n(n){return n&&"function"==typeof n.then}m$782$0=n}();
!function(){"use strict";function e(t,n,a,c,i){if(a<t.length){var l,s=t[a];try{l=n(s)}catch(e){var o=new Error("BRKit.Promise#map: Caught error at index "+a);return o.item=s,o.index=a,o.cause=e,o.type=r.Fatal,void i.reject(o)}m$782$0(l)?l.then(function(r){c&&(c[a]=r),e(t,n,a+1,c,i)}).catch(function(e){var t=new Error("BRKit.Promise#map: Caught thenable error at index "+a);t.item=s,t.index=a,t.cause=e,t.type=r.Normal,i.reject(t)}):(c&&(c[a]=l),e(t,n,a+1,c,i))}else i.resolve(c)}function t(e){return m$780$0(e)||m$775$0(e)}var r=m$563$1("PromiseMapErrorCauseType",["Fatal","Normal"]),n=m$563$1("BRKit.PromiseStateEnum",function(e){e("Prepared"),e("Resolved"),e("Rejected"),e("Cancelled")}),a=m$626$0.extend({state:m$629$1({readOnly:!0,get:function(e,t,r,n){return this._state}}),init:function(e){this.__s._3r$MV$init.apply(this,arguments),this._state=n.Prepared,this._callbacks=[]},then:function(e,t,r){if(this._state!==n.Prepared&&m$802$0("Cannot prepare. Invalid state",{promise:this}),1===arguments.length&&m$780$0(e)){var c=arguments[0];e=c.success,t=c.failure||null,r=c.cancel||null}var i=a.create();return this._callbacks.push({successCallback:e||null,failureCallback:t||null,cancelCallback:r||null,binding:i}),i},catch:function(e){this._state!==n.Prepared&&m$802$0("Cannot catch. Invalid state",{promise:this});var t=a.create();return this._callbacks.push({failureCallback:e,binding:t}),t},cancelled:function(e){this._state!==n.Prepared&&m$802$0("Cannot handle cancel. Invalid state",{promise:this});var t=a.create();return this._callbacks.push({cancelCallback:e,binding:t}),t},resolve:function(e){
this._state!==n.Prepared&&m$802$0("Cannot resolve. Invalid state",{promise:this}),this._state=n.Resolved;for(var t=this._callbacks,r=0,a=t.length;r<a;r++){var c=t[r],i=c.successCallback,l=c.binding;i?this._handleCallback(i,l,e):l&&l.resolve(e)}},reject:function(e){this._state!==n.Prepared&&m$802$0("Cannot reject. Invalid state",{promise:this}),this._state=n.Rejected;for(var t=this._callbacks,r=0,a=t.length;r<a;r++){var c=t[r],i=c.failureCallback,l=c.binding;i?this._handleCallback(i,l,e):l&&l.reject(e)}},cancel:function(e){this._state!==n.Prepared&&m$802$0("Cannot cancel. Invalid state",{promise:this}),this._state=n.Cancelled;for(var t=this._callbacks,r=0,a=t.length;r<a;r++){var c=t[r],i=c.cancelCallback,l=c.binding;i?this._handleCallback(i,l,e):l&&l.cancel(e)}},_handleCallback:function(e,r,n){try{var a=e(n);t(a)&&m$777$0(a.then)?a.then({success:function(e){r.resolve(e)},failure:function(e){r.reject(e)},cancel:function(e){r.cancel(e)}}):r.resolve(a)}catch(t){m$809$1.error("[BRKit.Promise] caught exception: "+t.message,{callback:e,error:t}),r.reject(t)}},staticMembers:{createAndResolve:function(e){var t=a.create();return m$254$0.setTimeout(function(){t.resolve(e)}),t},createAndReject:function(e){var t=a.create();return m$254$0.setTimeout(function(){t.reject(e)}),t},cancel:function(e){var t=a.create();return m$254$0.setTimeout(function(){t.cancel(e)}),t},waitAndResolve:function(e,t){var r=a.create();return m$254$0.setTimeout(function(){r.resolve(t)},e||0),r},bind:function(e){return function(t){var r=a.create();return m$254$0.setTimeout(function(){e(r,t)}),r}},promisify:function(e){
return function(){var t=a.create(),r=Array.prototype.slice.call(arguments);return m$254$0.setTimeout(function(){try{var n=e.apply(null,r);t.resolve(n)}catch(n){var a=new Error("BRKit.Promise: Caught thrown error");a.parentError=n,a.func=e,a.args=r,t.reject(a)}}),t}},reject:function(e){var t=e||a.create();return function(e){return m$254$0.setTimeout(function(){t.reject(e)}),t}},map:function(t,r){var n=a.create(),c=new Array(t.length);return m$254$0.setTimeout(function(){e(t,r,0,c,n)}),n},forEach:function(t,r){var n=a.create();return m$254$0.setTimeout(function(){e(t,r,0,null,n)}),n},__QUALIFIED_CLASS_NAME__:"BRKit.Promise"},__superMap:{_3r$MV$init:"init"}});a.resolve=a.createAndResolve,a.reject=a.createAndReject,m$242$1=n,m$242$0=a}();
!function(){"use strict";var e=m$563$1("BRApp.Data.ErrorType",["Unknown","Server","Client","AccountNotMigrated","PCSMissing","PCSInvalid","QuotaExceeded"]),r=m$626$0.extend({staticMembers:{Type:e,__QUALIFIED_CLASS_NAME__:"BRApp.Data.Error"},isError:!0,type:e.Unknown,status:null,source:null});m$60$1=e,m$60$0=r}();
!function(){"use strict";var i=m$626$0.extend({fileSystem:null,setupDriveWSService:null,accountMigrated:m$629$1({readOnly:!0,get:function(i,t,e,o){return this._accountMigrated}}),pcsMissing:m$629$1({readOnly:!1,get:function(i,t,e,o){return this._pcsMissing}}),pcsInvalid:m$629$1({readOnly:!1,get:function(i,t,e,o){return this._pcsInvalid}}),rootFolder:m$629$1({readOnly:!0,get:function(i,t,e,o){return this._rootRolder}}),detected:m$629$1({readOnly:!0,get:function(i,t,e,o){return!!this._rootRolder}}),error:m$629$1({readOnly:!0,get:function(i,t,e,o){return this._error}}),init:function(i){this.__s._2D$Ic$init.call(this,i),this._error=null,this._rootRolder=null,this._accountMigrated=!1},load:function(){return m$799$0(function(){this._setupDriveWS()}.bind(this)),this._promise=m$242$0.create(),this._promise},_setupDriveWS:function(){var i=this.get("setupDriveWSService");i.setup().then({success:this._setupDriveWSServiceDidComplete.bind(this),failure:this._setupDriveWSServiceDidFail.bind(this)})},_setupDriveWSServiceDidComplete:function(i){i.get("detected")?this._loadRootFolder():this._finishWithResolve(null,!1)},_setupDriveWSServiceDidFail:function(i){this._finishWithReject(i)},_loadRootFolder:function(){var i=this.get("fileSystem"),t=i.getRootFolder();t?this._rootFolderDidCompleteLoad(t):i.fetchRootFolderDetails().then({success:this._rootFolderDidCompleteLoad.bind(this),failure:this._rootFolderDidFailToLoad.bind(this)})},_rootFolderDidCompleteLoad:function(i){this._finishWithResolve(i,!0)},_rootFolderDidFailToLoad:function(i){return i.type===m$60$1.AccountNotMigrated?void this._finishWithResolve(null,!1):i.type===m$60$1.PCSMissing?void this._finishWithPCSMissing(null):i.type===m$60$1.PCSInvalid?void this._finishWithPCSInvalid(null):void this._finishWithReject(i);
},_finishWithPCSMissing:function(i){this._rootRolder=i,this._pcsMissing=!0,this._promise.reject(this)},_finishWithPCSInvalid:function(i){this._rootRolder=i,this._pcsInvalid=!0,this._promise.reject(this)},_finishWithResolve:function(i,t){this._rootRolder=i,this._accountMigrated=t,this._promise.resolve(this)},_finishWithReject:function(i){this._error=i,this._accountMigrated=!1,this._rootRolder=null,this._promise.reject(i)},__superMap:{_2D$Ic$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.LoadRootFolderService"}});m$139$0=i}();
!function(){"use strict";var t=m$563$1("BRApp.Data.ItemTransactionStateEnum",function(t){t("Prepared"),t("Staged"),t("Committing")});m$56$0=t}();
!function(){"use strict";var t={transactionState:m$545$1(m$56$0.Prepared)};m$77$0=t}();
!function(){"use strict";var $=m$563$1("STATUS",function($){$("LOADED",function($){$("RELOADING",function($){$("QUEUED"),$("ACTIVE")})}),$("NOT_LOADED",function($){$("LOADING",function($){$("QUEUED"),$("ACTIVE")}),$("ERRORED"),$("MIXED_STATE")})}),E=$.LOADED,D=$.NOT_LOADED,A=D.LOADING,T=D.ERRORED,n=D.MIXED_STATE,m=m$563$1("ACTIONS",function($){$("READ",function($){$("LOAD"),$("LIST")}),$("WRITE",function($){$("CREATE"),$("UPDATE"),$("DESTROY"),$("BULK")})}),O=m.READ,R=O.LOAD,L=O.LIST,I=m.WRITE,t=I.CREATE,c=I.UPDATE,i=I.DESTROY,u=I.BULK,f=[],o={};m$505$0=$,m$505$1=E,m$505$2=D,m$505$3=A,m$505$4=T,m$505$5=n,m$505$6=m,m$505$9=R,m$505$10=L,m$505$11=t,m$505$12=c,m$505$13=i,m$505$14=u,m$505$7=f,m$505$8=o}();
!function(){"use strict";var r={errors:m$545$1(),addError:function(r,t){var e=this.get("errors");void 0===e&&(e={}),void 0===e[r]&&(e[r]=[]),e[r].indexOf(t)===-1&&e[r].push(t),this.set("errors",e)},validate:function(r){var t,e,i,s,a,o=this.getMetadataByType(m$629$0),n=Object.keys(o),d=0;r&&(n=Array.isArray(r)?r:[r]),this.set("errors",{});for(t in o)if(o.hasOwnProperty(t)&&n.indexOf(t)!==-1){if(e=o[t],i=e.validators,!i)continue;for(a=0;a<i.length;a++)s=i[a],s.validate(e.getForObject(this))||(this.addError(t,s.get("message")),d++)}return!d}};m$531$0=r}();
!function(){"use strict";function e(t){var i=t._nestedPromises;if(i)for(var n=0,r=i.length;n<r;n++){var s=i[n];if(s._hasRejectionHandler||e(s))return!0}return!1}function t(e,t,i){var n;return n=function(){var r;try{r=m$768$0(t,this,arguments),r&&m$620$0(r,m$823$0)&&e._linkNestedPromise(r)}catch(t){var s=e._hasRejectionHandlerInChain(n);if(!m$498$0.exceptionWasHandled){if(s)throw t;e._exceptionWasThrown=!0,m$794$0(function(){throw t})}}return e.promiseState=i?m$823$0.RESOLVED.REJECTED:m$823$0.RESOLVED.FULFILLED,r}}var i={then:function(e,i){var n=this.internalPromise,r=m$823$0.createEmpty();return this.isExceptionHandlingEnabled&&(e&&(e=t(r,e),r._resolveHandler=e),i&&(i=t(r,i,!0),r._rejectHandler=i,this._hasRejectionHandler=i),this._linkNestedPromise(r)),r.internalPromise=n.then.call(n,e,i),r},catch:function(e){return this.then.call(this,null,e)},finally:function(e){var i,n,r=this.internalPromise,s=m$823$0.createEmpty();return e&&this.isExceptionHandlingEnabled&&(s._rejectHandler=i=t(s,e,!0),s._resolveHandler=n=t(s,e)),s.internalPromise=r.then.call(r,n,i),this._linkNestedPromise(s)},promiseState:null,isExceptionHandlingEnabled:!0,resolve:function(e){if(this.promiseState===m$823$0.PENDING)if(e===this&&m$802$0("Promise cannot resolve with itself "+this,this),e instanceof global.Promise||m$620$0(e,m$823$0))e.then(this._resolveHandler.bind(this),this._rejectHandler.bind(this));else if(m$782$0(e))try{e.then(this._resolveHandler.bind(this),this._rejectHandler.bind(this))}catch(e){this._rejectHandler(e)}else this._resolveHandler.call(this,e)},reject:function(e){this.promiseState===m$823$0.PENDING&&(this._rejectHandlerWasCalledDirectly=!0,
this._rejectHandler.call(this,e))},rejectWithExceptionHandling:function(e){if(this.promiseState===m$823$0.PENDING){var t=this._hasRejectionHandlerInChain();t?this._rejectHandler.call(this,e):(this._exceptionWasThrown=!0,m$794$0(function(){throw e}))}},init:function(){this.__s._D5$2De$init.apply(this,arguments),this.promiseState=m$823$0.PENDING,void 0===this.internalPromise&&(this.internalPromise=this._createPromise())},_createPromise:function(){var e=this;return new global.Promise(function(i,n){e.isExceptionHandlingEnabled?(e._resolveHandler=t(e,i),e._rejectHandler=t(e,n,!0)):(e._resolveHandler=function(t){e.promiseState=m$823$0.RESOLVED.FULFILLED,i(t)},e._rejectHandler=function(t){e.promiseState=m$823$0.RESOLVED.REJECTED,n(t)})})},internalPromise:void 0,_resolveHandler:null,_rejectHandler:null,_hasRejectionHandler:!1,_rejectHandlerWasCalledDirectly:!1,_exceptionWasThrown:!1,_nestedPromises:null,_parentPromise:null,_linkNestedPromise:function(e){return this._nestedPromises=this._nestedPromises||(this._nestedPromises=[]),this._nestedPromises.push(e),e._parentPromise=this,e},_hasRejectionHandlerInChain:function(t){for(var i=this;i;){if(i._hasRejectionHandler&&i._hasRejectionHandler!==t&&i.promiseState===m$823$0.PENDING)return!0;i=i._parentPromise}return e(this)},__superMap:{_D5$2De$init:"init"}};m$824$0=i}();
!function(){"use strict";var t=m$563$1("PROMISE_STATES",function(t){t("PENDING"),t("RESOLVED",function(t){t("FULFILLED"),t("REJECTED")})}),n=m$616$0.extend(t.toStaticMixin(),m$824$0,{staticMembers:{wrap:function(t){return t instanceof global.Promise?this.wrapPromise(t):m$782$0(t)?this.resolve(t):m$777$0(t)?this.wrapFunction(t):void m$802$0("CW.Promise.wrap can only be used with functions or thenables",t)},wrapPromise:function(t){return this.create({internalPromise:t})},wrapFunction:function(t){m$777$0(t)||m$802$0("CW.Promise.wrapFunction can only be used with a function.",t);var n=this;return function(){var e=n.create(),r=arguments;return m$799$0(function(){try{var n=t.apply(this,r);e.resolve(n)}catch(t){e.rejectWithExceptionHandling(t)}}.bind(this),0),e}},invokeFunction:function(t,n){var e=this.wrapFunction(t);return e.call(e,n)},createEmpty:function(){return this.create({internalPromise:null})},all:function(){return this.resolve(global.Promise.all.apply(global.Promise,arguments))},race:function(){return this.resolve(global.Promise.race.apply(global.Promise,arguments))},resolve:function(){var t=this.create();return t.resolve.apply(t,arguments),t},reject:function(){var t=this.create();return t.reject.apply(t,arguments),t},__QUALIFIED_CLASS_NAME__:"CW.Promise"}});m$823$0=n}();
!function(){"use strict";function t(t,e){var r,a=t.prototype.__cwDefinedProperties;for(var o in e)a[o]||(r||(r={}),r[o]=m$512$1({synthesized:!0}));return r}var e=m$626$0.extend(m$544$0,m$531$0,{staticMembers:{synthesizeUnknownProperties:!1,find:function(t,e){return t||m$802$0("CW.Data.Model.find: No primary key provided."),e=e||m$506$1(),e||m$802$0("CW.Data.Model.find: No store provided and no Data Manager has been created.",{modelClass:this,primaryKey:t}),e.getModel(this,t)},findAll:function(t){return t=t||m$506$1(),t||m$802$0("CW.Data.Model.findAll: No store provided and no Data Manager has been created.",{modelClass:this}),t.getAllModels(this)},findOrCreatePlaceholder:function(t,e){t||m$802$0("CW.Data.Model.findOrCreatePlaceholder: No primary key provided.");var r=this.find(t,e);return r||(r=this.createPlaceholder(t,e)),r},create:function(e,r){var a;return this.get("synthesizeUnknownProperties")&&(a=t(this,e)),a?this.extend(a).create(e):this.__s._86$1ek$create.apply(this,arguments)},createPlaceholder:function(t,e){t||m$802$0("CW.Data.Model.createPlaceholder: No primary key provided.");var r=m$506$1();r||m$802$0("CW.Data.Model.createPlaceholder: No Data Manager has been created.",{modelClass:this,primaryKey:t});var a={};return a[this.primaryKey]=t,r.loadData(this,a,!0),this.find(t,e||r)},performOperation:function(t,e){t||m$802$0("CW.Data.Model.performOperation: No operation name provided.");var r=m$506$1();return r||m$802$0("CW.Data.Model.performOperation: No Data Manager has been created.",{modelClass:this,operationType:this,operationName:t,operationContext:e}),r.performOperation({
type:this,operation:{type:t,context:e||{}}})},load:function(t,e){t||m$802$0("CW.Data.Model.load: No primary key(s) provided.",{modelClass:this});var r=m$506$1();r||m$802$0("CW.Data.Model.load: No Data Manager has been created.",{modelClass:this,primaryKey:t});var a,o,i,s;if(e)return this.performOperation(m$505$9,{primaryKeys:t});if(Array.isArray(t)){for(var n,d,l=m$511$0.create(t,this),m=0,$=t.length;m<$;m++){var h=t[m];i=r.getNetworkStatus(this,h),i!==m$525$1.IDLE&&(n=n||[],s=r.getActiveTransactions(this,h),s&&s.length>0)?n.push.apply(n,s):(o=r.getLoadStatus(this,h),o!==m$506$2.LOADED&&(d=d||[],d.push(h)))}if(d){var c=this.performOperation(m$505$9,{primaryKeys:d});n=n||[],n.push(c)}return a=m$823$0.create(),n?m$823$0.all(n).then(function(){a.resolve(l)},function(t){a.reject(t)}):(a.resolve(l),a)}return i=r.getNetworkStatus(this,t),i!==m$525$1.IDLE&&(a=m$823$0.create(),s=r.getActiveTransactions(this,t),s&&s.length>0)?m$823$0.all(s).then(function(){a.resolve(this.find(t))}.bind(this),function(t){a.reject(t)}):(o=r.getLoadStatus(this,t),o===m$506$2.LOADED?m$823$0.resolve(this.find(t)):this.performOperation(m$505$9,{primaryKeys:t}))},loadAll:function(){return this.performOperation(m$505$10)},destroy:function(t,e){t||m$802$0("CW.Data.Model.destroy: No primary key(s) provided.",{modelClass:this}),e=e||m$506$1(),e||m$802$0("CW.Data.Model.destroy: No store provided and no Data Manager has been created.",{modelClass:this,primaryKeys:t}),e.deleteModels(this,t)},getKeyForDataKey:function(t){t||m$802$0("CW.Data.Model.getKeyForDataKey: No data key provided.",{modelClass:this});var e=this.__cwDataKeyMap;
return e?e[t]||t:t},primaryKey:null,init:function(){this.__s._86$4Hq$init.apply(this,arguments);var t=this.prototype,e=t.__cwDefinedProperties={};for(var r in t)e[r]=!0;for(r in t.getMetadataByType(m$629$0))e[r]=!0;m$505$7.push(this)},__superMap:{_86$1ek$create:"create",_86$4Hq$init:"init"},__QUALIFIED_CLASS_NAME__:"CW.Data.Model"},networkStatus:m$545$1({get:function(t,e,r,a){var o=this.getPrimaryKey();o||m$802$0("CW.Data.Model#networkStatus: No primary key.",{modelClass:this.constructor,model:this});var i=m$506$1();return i||m$802$0("CW.Data.Model#networkStatus: No Data Manager has been created.",{modelClass:this.constructor,model:this,primaryKey:o}),i.getNetworkStatus(this.constructor,o)}}),loadStatus:m$545$1({get:function(t,e,r,a){var o=this.getPrimaryKey();o||m$802$0("CW.Data.Model#loadStatus: No primary key.",{modelClass:this.constructor,model:this});var i=m$506$1();return i||m$802$0("CW.Data.Model#loadStatus: No Data Manager has been created.",{modelClass:this.constructor,model:this,primaryKey:o}),i.getLoadStatus(this.constructor,o)}}),storeStatus:m$545$1({get:function(t,e,r,a){var o=this.getPrimaryKey();o||m$802$0("CW.Data.Model#storeStatus: No primary key.",{modelClass:this.constructor,model:this});var i=this._cwStore;return i||m$802$0("CW.Data.Model#storeStatus: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:o}),i.getStoreStatus(this.constructor,o)}}),isStoreModel:m$629$1({readOnly:!0,get:function(t,e,r,a){return!!this._cwStore}}),load:function(){var t=this.getPrimaryKey();return t||m$802$0("CW.Data.Model#load: No primary key.",{modelClass:this.constructor,
model:this}),this.constructor.load(t)},reload:function(){var t=this.getPrimaryKey();return t||m$802$0("CW.Data.Model#reload: No primary key.",{modelClass:this.constructor,model:this}),this.constructor.load(t,!0)},save:function(){var t=this._cwStore;return t||m$802$0("CW.Data.Model#save: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:this.getPrimaryKey()}),t.commit()},destroy:function(){var t=this.getPrimaryKey();t||m$802$0("CW.Data.Model#destroy: No primary key.",{modelClass:this.constructor,model:this}),this.constructor.destroy(t,this._cwStore)},toJSON:function(){return m$789$0(this.getDataHash())},_cwStore:null,_cwStoreId:null,getDataHash:function(){var t=this._cwStore;return t?t.readData(this._cwStoreId):this.__cwDataHash||(this.__cwDataHash={})},getPrimaryKey:function(){var t=this.constructor.primaryKey;return t||m$802$0("CW.Data.Model#getPrimaryKey: No primary key property defined.",{modelClass:this.constructor,model:this}),this.get(t)},init:function(t,e){this.__s._86$6Ts$init.call(this,t),e&&e.linkModel(this)},dispose:function(){var t=this._cwStore;t&&t.unlinkModel(this),this.__s._86$6Xy$dispose.apply(this,arguments)},propertyChanged:function(t){var e=this.__cwDataKeyMap;t=e&&e[t]||t,this.__s._86$6f_$propertyChanged.call(this,t)},dataDidChange:m$558$0(),_dataDidChangeDidFire:m$557$3("dataDidChange",function(){var t=this._cwStore;t&&t.dataDidChange()}),__superMap:{_86$6Ts$init:"init",_86$6Xy$dispose:"dispose",_86$6f_$propertyChanged:"propertyChanged"}});m$510$0=e}();
!function(){"use strict";function e(e){return!!e}function t(e){return null===e||void 0===e?e:e instanceof Date?e:m$778$0(e)?new Date(e):new Date(Date.parse(e))}function a(e){return e.toString()}function r(e,t,a){e||m$802$0("CW.Data.ModelProperty#attachToParent: No parent model provided."),t||m$802$0("CW.Data.ModelProperty#attachToParent: No embedded model provided.",{parentModel:e}),a||m$802$0("CW.Data.ModelProperty#attachToParent: No parent key provided.",{parentModel:e,embeddedModel:t});var r=e.getDataHash();r[a]=t.getDataHash(),t._cwParent=e,t._cwParentKey=a,delete t.__cwDataHash,t.retain()}function n(e){var t=e._cwParent;t||m$802$0("CW.Data.Model#detachFromParent: Model is not attached to a parent.",{embeddedModel:e});var a=t.getDataHash(),r=e._cwParentKey;e.__cwDataHash=a[r],a[r]=null,e._cwParent=null,e._cwParentKey=null,e.release()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=m$545$0.extend({requiresSupport:m$510$0,type:null,isPrimaryKey:!1,dataKey:null,setInitialValueForObject:function(e,t,a){var r=this.dataKey;return r&&!a&&(a=e[r],delete e[r],m$777$0(a)&&(a=a.call(this))),a&&(a=this._encodeValue(e,t,a)),void 0!==a&&this.setRawValueForObject(e,t,a),delete e[t],this.__s._88$Sb$setInitialValueForObject.call(this,e,t,a)},downstreamNodeManagerClass:m$546$0.extend({calculateValueForNode:function(e,t,a){if(a){var r=m$541$0.getStateIDForNode(t);m$541$0._sanitizeNodeID(r)>0&&m$541$0.getValueForNode(r)}var n=this.key,i=this.property.getRawValueForObject(e,n);
return this.property._materializeValue(e,n,i)},isCacheable:!1}),upstreamNodeManagerClass:m$552$0.extend({calculateValueForNode:function(e,t,a){var r;if(a){var n=m$541$0.getStateIDForNode(t);r=this.pullDataFromParent(t,n)}else r=m$541$0.getStateDataForNode(t);var i=this.property,o=this.key;r=i._encodeValue(e,o,r),i.clearCachedValueForObject(e,o),i.setRawValueForObject(e,o,r)}}),didChange:function(){this.dataDidChange()},setRawValueForObject:function(e,t,a){t=this.dataKey||t;var r=e._cwStore;if(r)r.writeDataProperty(e._cwStoreId,t,a);else{var n=e.getDataHash();n[t]=a;var i=e._cwParent;i&&i.dataDidChange()}return a},getRawValueForObject:function(e,t){var a,r=this.dataKey||t,n=e.getDataHash();return n&&(a=n[r]),void 0===a?null:a},_encodeValue:function(e,t,a){var i=e.__cwMaterializedValues,o=i&&i[t];o&&m$620$0(a,m$510$0)&&(n(o),delete e.__cwMaterializedValues[t]),m$620$0(a,m$510$0)&&(r(e,a,t),i||(i=e.__cwMaterializedValues={}),i[t]=a,a=a.getDataHash());var l=this.shouldEncodeValue(a);return l&&a&&a.toJSON?a.toJSON():a},_materializeValue:function(n,i,o){var l=n.__cwMaterializedValues,s=l&&l[i];if(s)return s;var d=this.type,u=!1;if(d===Array||d===m$534$0||o instanceof Array)o=m$534$0.create(o),o.listen("contentsDidChange",function(){n.dataDidChange(i,o)}),u=!0;else if(d&&o){if(d===Boolean||"boolean"===d)o=e(o);else if(d===Date)o=t(o);else if(d===String||"string"===d)o=a(o);else{var c=this.type;o=c.create(o),r(n,o,i)}u=!0}return u&&(l||(l=n.__cwMaterializedValues={}),l[i]=o,o&&o.retain&&o.retain()),o},clearCachedValueForObject:function(e,t){var a;e.__cwMaterializedValues&&(a=e.__cwMaterializedValues[t])&&(a.release&&a.release(),
delete e.__cwMaterializedValues[t])},wasRegistered:function(e,t){var a=this.type;a&&(this.type=null),this.__s._88$2NF$wasRegistered.apply(this,arguments),a&&(this.type=a);var r=e.constructor,n=this.dataKey;if(n){var i=r.__cwDataKeyMap||(r.__cwDataKeyMap={});i[n]=t}if(this.isPrimaryKey){var o=r.primaryKey;o&&m$802$0("CW.Data.ModelProperty#wasRegistered: Models cannot define multiple primary keys.",{existingPrimaryKey:o,newPrimaryKey:t,modelClass:r}),r.primaryKey=t}},shouldEncodeValue:function(e){return!(e instanceof Date)},shouldManuallyValidateType:function(){return"Date"===this.type||this.type===Date},validateTypeForValue:function(e){return m$778$0(e)||e instanceof Date||m$781$0(e)},__superMap:{_88$Sb$setInitialValueForObject:"setInitialValueForObject",_88$2NF$wasRegistered:"wasRegistered"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.ModelProperty"}}),l=function(e){return"object"!==("undefined"==typeof e?"undefined":i(e))&&(e={defaultValue:e}),o.create(e)};m$512$0=o,m$512$1=l}();
!function(){"use strict";var t=m$534$0.extend({store:m$629$1(),modelClass:m$629$1(),loadObjectAt:function(t){var r=this.objectAt(t);return r?r.load():m$823$0.reject("No object at index: "+t)},loadAll:function(){for(var t=[],r=0,e=this.length;r<e;r++)t.push(this.primaryKeyForObjectAt(r));return this.modelClass.load(t)},storeIdForObjectAt:function(t){return this._array[t]},modelClassForObjectAt:function(t){var r=this.storeIdForObjectAt(t);return this.store.constructor.getModelClassForStoreId(r)},primaryKeyForObjectAt:function(t){var r=this.storeIdForObjectAt(t);return this.store.constructor.getPrimaryKeyForStoreId(r)},storeDataForObjectAt:function(t){var r=this.storeIdForObjectAt(t);return this.store.readData(r)},filterModels:function(t){t||m$802$0("CW.Data.ModelArray#filterModels: No filter function provided: %{modelArray}",{modelArray:this});var r=this.store;r||m$802$0("CW.Data.ModelArray#filterModels: Model arrays must be store backed to be filtered: %{modelArray}",{filterFunction:t,modelArray:this});var e=this.modelClass;e||m$802$0("CW.Data.ModelArray#filterModels: No model class defined on model array: %{modelArray}",{filterFunction:t,modelArray:this,store:r});for(var o=e.create(),s=[],i=0,a=this.length;i<a;i++){var n=this.storeIdForObjectAt(i),l=this.primaryKeyForObjectAt(i),d=this.store.getExistingModel(n);if(!d){var c=this.storeDataForObjectAt(i);o.__cwDataHash=c}t.call(null,d||o)&&s.push(l)}return this.constructor.create(s,e,r)},clone:function(){return this.constructor.createFromStoreIds(this._array,this.modelClass,this.store)},serializer:m$629$1(function(){var t=this;
return{encode:function(r){if(!m$771$0(r))return r;var e,o=t.store.constructor;return e=m$620$0(r,m$510$0)?o.getStoreIdForPrimaryKey(r.constructor,r.getPrimaryKey()):m$780$0(r)?o.getStoreIdForPrimaryKey(r.type,r.id):o.getStoreIdForPrimaryKey(t.modelClass,r)},decode:function(r){return m$771$0(r)?t.store.materializeModel(r):r}}}),staticMembers:{createFromStoreIds:function(t,r,e){var o=this.create(void 0,r,e);return o._array=t,o},__QUALIFIED_CLASS_NAME__:"CW.Data.ModelArray"},init:function(t,r,e){this.modelClass=r,this.store=e||m$506$1(),this.__s._87$2q7$init.call(this,t)},indexOf:function(t){return this.__s._87$2sT$indexOf.apply(this,arguments)},__superMap:{_87$2q7$init:"init",_87$2sT$indexOf:"indexOf"}});m$511$0=t}();
!function(){"use strict";function e(t,f,o,i){if(t===f)return!0;var u,d,y,p;if(r["undefined"==typeof t?"undefined":n(t)]||r["undefined"==typeof f?"undefined":n(f)])return!1;if(null===t||null===f)return!1;if(o||(o=t.constructor),i||(i=f.constructor),o!==i)return!1;if(o===Date)return t.getTime()===f.getTime();if(o===RegExp)return t.toString()===f.toString();if(o===Object){var l=0;for(u in t)if(++l,d=t[u],y=f[u],d!==y){if(p="undefined"==typeof d?"undefined":n(d),r[p])return!1;if(!e(d,y))return!1}for(u in f)--l;return 0===l}if(o===Array){var c=t.length,m=f.length;if(c!==m)return!1;for(var a=c-1;a>=0;--a)if(d=t[a],y=f[a],d!==y){if(p="undefined"==typeof d?"undefined":n(d),r[p])return!1;if(!e(d,y))return!1}return!0}m$802$0("Unsupported type for `deepEqual`: "+o)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={string:!0,number:!0,boolean:!0,undefined:!0};m$770$0=e}();
!function(){"use strict";function e(e,t,n){var r,i,s;if(e===t||!e&&!t)return!1;if(e&&!t)i=Object.keys(e);else if(!e&&t)s=Object.keys(t);else{var u,d;n&&(u=m$763$0(n));var f,h,o={};i=[],r=[];for(d in e)o[d]=!0,u&&u[d]||(f=e[d],h=t[d],void 0===h?i.push(d):m$770$0(f,h)||r.push(d));s=[];for(d in t)o[d]||s.push(d)}return!!(s&&0!==s.length||i&&0!==i.length||r&&0!==r.length)&&{updated:r||[],removed:i||[],added:s||[]}}m$813$0=e}();
!function(){"use strict";var t=m$626$0.extend({storeId:m$629$1({readOnly:!0}),originalData:m$629$1({readOnly:!0}),newData:m$629$1({readOnly:!0}),changeType:m$629$1({readOnly:!0,get:function(t,e,i,a){var n=this._changeType;return n||(n=this.get("originalData")?this.get("newData")?m$505$12:m$505$13:m$505$11,this._changeType=n),n}}),operation:m$629$1({readOnly:!0,get:function(t,e,i,a){var n=this._operation;return n||(n=this._operation={context:this.get("model"),type:this.get("modelClass"),operation:{context:this,type:this.get("changeType")}}),n}}),model:m$629$1({readOnly:!0,get:function(t,e,i,a){return m$506$1().materializeModel(this.get("storeId"))}}),primaryKey:m$629$1({readOnly:!0,get:function(t,e,i,a){return m$519$0.getPrimaryKeyForStoreId(this.get("storeId"))}}),modelClass:m$629$1({readOnly:!0,get:function(t,e,i,a){return m$519$0.getModelClassForStoreId(this.get("storeId"))}}),diff:m$629$1({readOnly:!0,get:function(t,e,i,a){return m$813$0(this.get("originalData"),this.get("newData"))}}),init:function(t,e,i,a){this.__s._8E$p9$init.call(this),this._storeId=t,this._originalData=e,this._newData=i,a&&(this._operation=a)},merge:function(t){return this.constructor.create(this.get("storeId"),this.get("originalData"),m$817$0(this.get("newData"),t.get("newData")))},reverse:function(){return this.constructor.create(this.get("storeId"),m$790$0(this.get("newData")),m$790$0(this.get("originalData")))},__superMap:{_8E$p9$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.DataChange"}});m$518$0=t}();
!function(){"use strict";var t=m$590$0.extend({storeIds:m$629$1({readOnly:!0,get:function(t,e,r,s){var n=this._storeIdsArray;if(!n){var i=this._changesByStoreId;i&&(n=this._storeIdsArray=Object.keys(i))}return n}}),models:m$629$1({readOnly:!0,get:function(t,e,r,s){var n=this._modelArray;return n||(n=this._modelArray=m$511$0.createFromStoreIds(this.storeIds,null,m$506$1())),n}}),operation:m$629$1({readOnly:!0,get:function(t,e,r,s){var n=this.get("length");if(1===n)return this.objectAt(0).get("operation");if(n>1){var i=this._bulkOperation;return i||(i=this._bulkOperation={type:m$505$14,context:this}),i}}}),merge:function(t){for(var e,r=t.createIterator().retain();e=r.get("value");)this.recordChange(e),r.moveToNext();return r.release(),this},recordChange:function(t){var e=t.storeId,r=this._changesByStoreId||(this._changesByStoreId={}),s=r[e];if(s>=0){var n=this.objectAt(s);this.setIndex(s,n.merge(t))}else this.push(t),r[e]=this.get("length")-1,this._modelArray=null,this._storeIdsArray=null;return t},getChangeForStoreId:function(t){var e=this._changesByStoreId||(this._changesByStoreId={}),r=e[t];if(r>=0)return this.objectAt(r)},removeChangeForStoreId:function(t){var e=this._changesByStoreId;if(e){var r=e[t];if(r>=0){var s=this.objectAt(r);this.splice(r,1),delete e[t];for(var n in e){var i=e[n];i>r&&(e[n]=i-1)}return s}}},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.ChangeSet"}});m$517$0=t}();
!function(){"use strict";var e=m$626$0.extend(m$643$0,{action:function(e,t){var r=t.get("storeId");return e.isDataForked(r)&&e.resetData(r),m$823$0.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.MergeStrategies.HardReset"}});m$507$0=e}();
!function(){"use strict";var e=m$626$0.extend(m$643$0,{action:function(e,t){var r=t.get("storeId"),a=t.get("operation");if(a===m$518$0.DESTROY)return e.deleteData.bind(e,r);var i=t.get("newData");for(var n in i)e.writeDataProperty(r,n,i[n]);return m$823$0.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.MergeStrategies.Overwrite"}});m$508$0=e}();
!function(){"use strict";function e(e){return d[e]}function t(e){return n[e]}function a(e){var t=m$807$0(e);return s[t]||(s[t]={})}var r=m$626$0.extend(m$544$0,{staticMembers:{getStoreIdForPrimaryKey:function(e,t){e||m$802$0("CW.Data.Store.getStoreIdForPrimaryKey: No model class provided.",{store:this}),t||m$802$0("CW.Data.Store.getStoreIdForPrimaryKey: No primary key provided.",{store:this,modelClass:e});var r=a(e),o=r[t];return o||(o=r[t]=++i,d[o]=e,n[o]=t),o},getModelClassForStoreId:e,getPrimaryKeyForStoreId:t,__QUALIFIED_CLASS_NAME__:"CW.Data.Store"},autocommit:!1,forkOnRead:!1,getStoreStatus:function(e,t){e||m$802$0("CW.Data.Store#getStoreStatus: No model class provided.",{store:this}),t||m$802$0("CW.Data.Store#getStoreStatus: No primary key provided.",{store:this,modelClass:e});var a=r.getStoreIdForPrimaryKey(e,t);if(this.isDataForked(a)){var i=o.DIRTY,s=this._changes,d=s&&s.getChangeForStoreId(a),n=d&&d.get("changeType");return n===m$505$11?i.CREATE:n===m$505$12?i.UPDATE:n===m$505$13?i.DESTROYED:i.READ}return null===this.readData(a)?o.CLEAN.DESTROYED:o.CLEAN},getModel:function(e,t){e||m$802$0("CW.Data.Store#getModel: No model class provided.",{store:this}),t||m$802$0("CW.Data.Store#getModel: No primary key provided.",{store:this,modelClass:e});var a=r.getStoreIdForPrimaryKey(e,t);if(this.hasDataFor(a))return this.materializeModel(a)},getAllModels:function(e){e||m$802$0("CW.Data.Store#getAllModels: No model class provided.",{store:this});var t=a(e),o=[];for(var i in t){var s=r.getStoreIdForPrimaryKey(e,i);this.hasDataFor(s)&&o.push(i)}return m$511$0.create(o,e,this)},materializeModel:function(a){
a||m$802$0("CW.Data.Store#materializedModel: No store ID provided.",{store:this});var r=this._materializedModels,o=r[a];if(!o&&this.hasDataFor(a)){var i=e(a);i||m$802$0("CW.Data.Store#materializeModel: No model class defined for store ID: `"+a+"`",{store:this,storeId:a});var s=t(a);s||m$802$0("CW.Data.Store#materializeModel: No primary key defined for store ID: `"+a+"`",{store:this,modelClass:i,storeId:a});var d=this.readData(a);o=i.create(d,this),r[a]=o}return o},getExistingModel:function(e){return this._materializedModels[e]},linkModel:function(e){e||m$802$0("CW.Data.Store#linkModel: No model provided.",{store:this});var t=e.constructor,a=e.getPrimaryKey(),o=r.getStoreIdForPrimaryKey(t,a),i=e._cwStore;if(i){if(i===this)return;m$802$0("CW.Data.Store#linkModel: Model has previously been linked to a store.",{store:this,storeId:o,model:e,primaryKey:a,previousStore:i,newStore:this})}this.hasDataFor(o)||(this.writeData(o,e.getDataHash()),delete e.__cwDataHash),e._cwStore=this;var s=this._materializedModels;s[o]&&m$802$0("CW.Data.Store#linkModel: Attempting to register model that already exists.",{store:this,storeId:o,modelClass:t,primaryKey:a,previousRegisteredModel:s[o],newRegisteredModel:e}),s[o]=e,e._cwStoreId=o,e.dataDidChange()},unlinkModel:function(e){e||m$802$0("CW.Data.Store#unlinkModel: No model provided.",{store:this}),e._cwStore=null;var t=this._materializedModels;t&&delete t[e._cwStoreId],e._cwStoreId=null},deleteModels:function(e,t){var a;if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++){var s=t[o];a=r.getStoreIdForPrimaryKey(e,s),this.deleteData(a)}else a=r.getStoreIdForPrimaryKey(e,t),
this.deleteData(a);this.dataDidChange()},dataDidChange:m$558$0(),readData:function(e){if(this.get("forkOnRead")){this._forkIfNeeded(e);var t=this._materializedModels[e];t&&t.propertyChanged("storeStatus")}return this._dataHashes[e]},readOriginalData:function(e){var t=this._originalDataHashes;if(t)return t[e]},writeData:function(e,t){this._forkIfNeeded(e,t)||(this._dataHashes[e]=t),this.recordChangeToData(e)},writeDataProperty:function(e,t,a){this._forkIfNeeded(e);var r=this._dataHashes,o=r[e];o||(o=r[e]={}),o[t]=a,this.recordChangeToData(e)},resetData:function(e){delete this._dataHashes[e];var t=this._originalDataHashes;t&&delete t[e]},resetAllData:function(){for(var e=this._dataHashes,t=Object.keys(e),a=0,r=t.length;a<r;a++)delete e[t[a]];delete this._originalDataHashes},deleteData:function(e){return this.writeData(e,null)},hasDataFor:function(e){return!!this._dataHashes[e]},isDataForked:function(e){return this._dataHashes.hasOwnProperty(e)},_dataHashes:m$619$1(Object),_materializedModels:m$619$1(Object),_originalDataHashes:null,_autocommitOnChange:m$557$1("dataDidChange",function(){this.get("autocommit")&&this._changes&&this._changes.get("length")>0&&this.commit()}),_forkIfNeeded:function(e,t){if(!this.isDataForked(e)){var a=this._dataHashes,r=a[e],o=this._originalDataHashes||(this._originalDataHashes={});return o[e]=m$789$0(r),void 0===t&&(t=r?m$789$0(r):{}),this._dataHashes[e]=t,!0}return!1},recordChangeToData:function(e){var t=this.readOriginalData(e),a=this.readData(e),r=m$518$0.create(e,t,a),o=this._changes||(this._changes=m$517$0.create());o.recordChange(r);var i=this._materializedModels[e];
return i&&i.propertyChanged("storeStatus"),r},_changes:null}),o=m$563$1("STATUS",function(e){e("CLEAN",function(e){e("DESTROYED")}),e("DIRTY",function(e){e("READ"),e("CREATED"),e("UPDATED"),e("DESTROYED")})}),i=0,s={},d={},n={};m$519$0=r,m$519$1=o}();
!function(){"use strict";var t=m$563$1("TRANSACTION_STATES",function(t){t("PENDING"),t("ACTIVE"),t("COMPLETED"),t("FAILED"),t("CANCELLED")}),r=m$626$0.extend(t.toStaticMixin(),m$824$0,m$544$0,{operation:null,subtransactions:null,changes:null,storeIds:m$629$1({readOnly:!0,get:function(t,r,e,n){var i=this.changes;if(i)return i.storeIds;var s=this.operation,a=s&&s.type,o=s&&s.operation,u=o&&o.context,c=u&&u.primaryKeys;if(a&&Array.isArray(c)){for(var $=[],E=0,h=c.length;E<h;E++){var m=c[E];$.push(m$519$0.getStoreIdForPrimaryKey(a,m))}return $}return a&&c?[m$519$0.getStoreIdForPrimaryKey(a,c)]:void 0}}),status:m$545$1(t.PENDING),activate:function(){this.set("status",t.ACTIVE)},complete:function(r){this.set("status",t.COMPLETED),this.resolve(r)},fail:function(r){this.set("status",t.FAILED),this.reject(r)},cancel:function(r){this.set("status",t.CANCELLED),this.reject(r)},toString:function(){for(var t=this.operation,r=t.type.toString();t=t.operation;)r+=": "+t.type.toString();return r},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.Transaction"}});m$523$0=r}();
!function(){"use strict";function t(){return this._array.length}var e={},r=[],n=m$613$0.extend(m$608$0,{_array:m$619$1(global.Array),rawSplice:function(t,e){var n,i,s,a,h=this._map,o=this._array,c=t+e;for(n=t;n<c;n++)i=this.encode(o[n]),delete h[m$807$0(i)];for(r.length=2,r[0]=t,r[1]=e,c=arguments.length,n=2;n<c;n++)i=this.encode(arguments[n]),s=m$807$0(i),h.hasOwnProperty(s)||(h[s]=t+r.length-2,r.push(i));var l=o.splice.apply(o,r);for(n=0,a=l.length;n<a;n++)l[n]=this.decode(l[n]);return l},add:function(t){t=this.encode(t);var e=m$807$0(t),r=this._map;return!r.hasOwnProperty(e)&&(r[e]=this._array.push(t)-1,!0)},remove:function(t){t=this.encode(t);var e=m$807$0(t),r=this._map;if(!r.hasOwnProperty(e))return!1;var n=r[e];delete r[e];var i=this._array,s=i[n];if(!global.Object.is(s,t))for(var a=this.get("length"),h=0;h<a;h++){var o=i[h];if(global.Object.is(o,t)){n=h;break}}return i.splice(n,1),!0},contains:function(t){return m$613$0.prototype.contains.apply(this,arguments)},objectAt:function(t){return this.decode(this._array[t])},length:m$629$1({readOnly:!1,get:t,set:function(t,e,r,n,i){t<0&&m$802$0("Invalid length %{length}. Must be a positive integer.",{length:t,object:this});var s=this.get("_internalLength"),a=s-t;a>0?this.splice(t,a):a<0&&this.splice(s,0,void 0)}}),_internalLength:m$629$1({readOnly:!0,get:t}),swap:function(t,r){var n=this.objectAt(r),i=this.objectAt(t);return this.setIndex(t,e),this.setIndex(r,i),this.setIndex(t,n),this},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.OrderedSet"}});m$609$0=n}();
!function(){"use strict";var t=m$609$0.extend({transactions:m$629$1({get:function(t,r,e,a){return this._array}}),add:function(t){if(this.__s._8K$B1$add.apply(this,arguments)){var r=t.storeIds;if(r)for(var e=this._storeIdSet,a=0,s=r.length;a<s;a++){var n=r[a],o=e[n];o||(o=e[n]=m$613$0.create()),o.add(t)}}},remove:function(t){if(this.__s._8K$Mp$remove.apply(this,arguments)){var r=t.storeIds;if(r)for(var e=this._storeIdSet,a=0,s=r.length;a<s;a++){var n=r[a],o=e[n];o&&(o.remove(t),0===o.length&&delete e[n])}}},containsStoreId:function(t){var r=this._storeIdSet;if(r.hasOwnProperty(t)){var e=r[t];return e&&e.length>0}return!1},getTransactionsForStoreId:function(t){var r=this._storeIdSet;if(r.hasOwnProperty(t)){var e=r[t];return e&&e.toArray()}},_storeIdSet:m$619$1(Object),__superMap:{_8K$B1$add:"add",_8K$Mp$remove:"remove"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.TransactionList"}});m$524$0=t}();
!function(){"use strict";function n(n,s){var a=m$807$0(s),r=n[a];Array.isArray(r)&&(r.length=0,(t||(t=[])).push(r)),delete n[a]}var t,s=m$626$0.extend({process:m$624$1(m$637$0),addTransaction:function(n){return!this.supportsBulkTransactions&&this.isBulkTransaction(n)?this.addTransactions(this.splitTransaction(n)):(this._pendingTransactions.add(n),this._process(),n)},addTransactions:function(n){for(var t=0,s=n.length;t<s;t++)this._pendingTransactions.add(n[t]);return this._process(),n},sendTransaction:function(n){var t=m$506$1();return t||m$802$0("No DataManager to receive transaction."),n.finally(this._transactionDidFinish.bind(this,n)),t.sendTransaction(n),this._transactionsSentDuringProcess.push(n),n},removeTransaction:function(n){return this._transactionsRemovedDuringProcess.push(n),n},cancelTransaction:function(n){return n.cancel(),this._transactionsRemovedDuringProcess.push(n),n},canSendTransaction:function(n){var t=m$807$0(n),s=this._transactionDependencies[t];if(s)for(var a=0,r=s.length;a<r;a++)if(s[a].get("status")!==m$523$0.COMPLETED)return!1;return!0},linkTransactions:function(n,s){var a=this._transactionDependencies,r=m$807$0(s),i=a[r];i||(i=a[r]=t&&t.pop()||[]),i.push(n)},splitTransaction:function n(t){t.get("status")===m$523$0.ACTIVE&&m$802$0("CW.Data.TransactionProcessor#splitTransaction: Can not split a transaction that is already active.");for(var s=t.get("changes"),a=[],r=0,i=s.get("length");r<i;r++){var e=m$517$0.create();e.recordChange(s.objectAt(r));var n=m$523$0.create({changes:e,operation:e.get("operation")});a[r]=n}return m$823$0.all(a).then(function(n){
t.complete(n)},function(n){t.fail(n)}),this._transactionsRemovedDuringProcess.push(t),a},splitTransactions:function n(t){var n,s=t.length;if(1===s)n=this.splitTransaction(t[a]);else{n=[];for(var a=0;a<s;a++){var r=this.splitTransaction(t[a]);m$761$0(n,r)}}return n||null},supportsBulkTransactions:m$629$1(!0),isBulkTransaction:function(n){var t=n.operation;return t&&t===m$505$14},getNetworkStatus:function(n,t){n||m$802$0("CW.Data.TransactionProcessor#getNetworkStatus: No model class provided.",{dataManager:this}),t||m$802$0("CW.Data.TransactionProcessor#getNetworkStatus: No primary key provided.",{dataManager:this,modelClass:n});var s=m$519$0.getStoreIdForPrimaryKey(n,t);return this._activeTransactions.containsStoreId(s)?a.ACTIVE.TRANSMITTING:this._pendingTransactions.containsStoreId(s)?a.ACTIVE.QUEUED:a.IDLE},getActiveTransactions:function(n,t){n||m$802$0("CW.Data.TransactionProcessor#getActiveTransactions: No model class provided.",{dataManager:this}),t||m$802$0("CW.Data.TransactionProcessor#getActiveTransactions: No primary key provided.",{dataManager:this,modelClass:n});var s,a=m$519$0.getStoreIdForPrimaryKey(n,t),r=this._activeTransactions;r.containsStoreId(a)&&(s=r.getTransactionsForStoreId(a).slice(0));var i=this._pendingTransactions;return i.containsStoreId(a)&&(s=s||[],s.push.apply(s,i.getTransactionsForStoreId(a))),s},_pendingTransactions:m$619$1(m$524$0),_activeTransactions:m$619$1(m$524$0),_transactionsSentDuringProcess:m$619$1(Array),_transactionsRemovedDuringProcess:m$619$1(Array),_transactionDependencies:m$619$1(Object),_process:function(){if(!this._isProcessing){
this._isProcessing=!0;var n=this._pendingTransactions,t=this._activeTransactions;this.process(n.transactions,t.transactions),this._isProcessing=!1;var s=this._transactionsSentDuringProcess,a=s.length;if(a>0){for(var r=0;r<a;r++){var i=s[r];n.remove(i),t.add(i)}s.length=0}var e=this._transactionsRemovedDuringProcess,o=e.length;if(o>0){for(var c=0;c<o;c++){var $=e[c];n.remove($),t.remove($)}e.length=0}}},_transactionDidFinish:function(t){this._activeTransactions.remove(t),n(this._transactionDependencies,t),0!==this._pendingTransactions.length&&this._process()},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.TransactionProcessor"}}),a=m$563$1("STATUS",function(n){n("ACTIVE",function(n){n("QUEUED"),n("TRANSMITTING")}),n("IDLE")});m$525$0=s,m$525$1=a}();
!function(){"use strict";var e=m$525$0.extend({process:function(e,t){if(0===t.length){for(var a=e[0],r=0,s=e.length;r<s;r++){var i=e[r];if(i.get("isRead")){a=i;break}}a&&this.sendTransaction(a)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.SerializedTransactionProcessor"}});m$522$0=e}();
!function(){"use strict";function e(t,n){if(t||m$802$0("findHandlerForOpertationType must receive a type"),n)for(var r=0,i=n.length;r<i;r++){var a=n[r],f=a.get("handlesType");if(f===t||!f&&e(t,a.get("nestedOperationHandlers")))return a}}m$521$0=e}();
!function(){"use strict";var t={mixinDependencies:[m$544$0],target:m$545$1(),action:m$545$1(),callAction:function(){var t=this.action,i=this.target||this;m$781$0(t)||m$802$0("An action must be a method name only (as a string)",this);var n=i[t];n&&n.call||m$802$0("CW.TargetAction: The specified target did not respond to the action `"+t+"`.",this),n.call(i,this)}};m$647$0=t}();
!function(){"use strict";var i=m$626$0.extend(m$544$0,m$647$0,{target:m$539$1("owner"),delay:0,timesToFire:1,delays:null,fireCount:0,isRunning:!1,isPaused:!1,timeUntilFire:m$629$1({readOnly:!0,get:function(i,t,n,e){return this.isRunning?this.isPaused?1/0:this._nextFiringTime-Date.now():NaN}}),start:function(){return this.isRunning?this:(this.isRunning=!0,this._nextFiringTime=Date.now(),this._scheduleNextFiringOrStop(),this)},restart:function(){return this.stop(),this.start(),this},stop:function(){return this.isRunning?(this._handle&&(window.clearTimeout(this._handle),this._handle=null),this.fireCount=0,this.isRunning=!1,this.isPaused&&(this.isPaused=!1,this._pauseCount=0,this._timeRemainingAtPause=NaN),this):this},pause:function(){return this.isRunning?(this._pauseCount++,1===this._pauseCount&&(this._timeRemainingAtPause=this.get("timeUntilFire"),this.isPaused=!0,this._nextFiringTime=NaN,clearTimeout(this._handle),this._handle=null),this):this},resume:function(){return this.isRunning?(this._pauseCount--,0===this._pauseCount&&(this._nextFiringTime=Date.now()+this._timeRemainingAtPause,this._handle=m$799$0(t,Math.max(0,this._timeRemainingAtPause),this),this._timeRemainingAtPause=NaN,this.isPaused=!1),this._pauseCount<0&&(this._pauseCount=0),this):this},fastForward:function(i){return this.isRunning?i<0?this.rewind(-i):0===i?this:(i||(i=this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause-=i:(this._nextFiringTime-=i,clearTimeout(this._handle),this._handle=m$799$0(t,Math.max(0,this._nextFiringTime-Date.now()),this)),this):this},rewind:function(i){return this.isRunning?i<0?this.fastForward(-i):0===i?this:(i||(i=this.getDelayAfterFireCount(this.fireCount)-this._getRunningTimeUntilNextFiring()),
this.isPaused?this._timeRemainingAtPause+=i:(this._nextFiringTime+=i,clearTimeout(this._handle),this._handle=m$799$0(t,Math.max(0,this._nextFiringTime-Date.now()),this)),this):this},getDelayAfterFireCount:function(i){var t=this.delays;return t?t[Math.min(t.length-1,i)]:i>=this.timesToFire?1/0:this.delay},fire:function(){this.callAction(this)},owner:m$545$1(),_handle:null,_nextFiringTime:NaN,_pauseCount:0,_timeRemainingAtPause:NaN,_getRunningTimeUntilNextFiring:function(){return this.isPaused?this._timeRemainingAtPause:this.get("timeUntilFire")},_scheduleNextFiringOrStop:function(){if(this.isRunning){var i=this.getDelayAfterFireCount(this.fireCount);if(i<1/0){var n=this._nextFiringTime+=i;this._handle=m$799$0(t,Math.max(0,n-Date.now()),this)}else this.stop()}},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Utils.Timer"}}),t=function(i){i.fireCount++,i.callAction(),i._scheduleNextFiringOrStop()};m$835$0=i}();
!function(){"use strict";function a(a,t,e){for(var r in a){var n=a[r];n.get("status")===e&&n[t]()}}function t(a,t){var e=m$789$0(o.readData(a));if(t)for(var r in t)o.writeDataProperty(a,r,t[r]);else o.deleteData(a);return m$518$0.create(a,e,t)}function e(a,t){var e=t.get("newData");if(e){var r=t.get("diff");if(r){var n=$;n.length=0;for(var i=t.get("modelClass"),o=0,s=l.length;o<s;o++)for(var d=r[l[o]],c=0,g=d.length;c<g;c++){var m=d[c],h=i.getKeyForDataKey(m);if(e.hasOwnProperty(m)){var f=a.get(h);if(m$620$0(f,m$590$0)){var u=e[m];if(u){var p=m$789$0(u);p.unshift(f.get("length")),p.unshift(0),f.splice.apply(f,p)}else{var v=a.getMetadata(h);v&&v.clearCachedValueForObject(a,h)}}var D=a.getMetadata(h);m$620$0(D,m$512$0)&&n.push(h)}}for(m$541$0.pause(),o=0;o<n.length;o++)a.propertyChanged(n[o]);a.propertyChanged("loadStatus"),a.propertyChanged("networkStatus"),m$541$0.resume(),n.length=0}}}function r(a){a.propertyChanged("networkStatus")}function n(a,t){var e=a.primaryKey;return e||m$802$0("CW.Data.DataManager#getPrimaryKeyFromData: Attempted to locate primary key on a model class that does not specify one.",{data:t,modelClass:a}),t[a.primaryKey]}var i,o=m$519$0.create({MergeStrategy:m$508$0}),s=!1,d=function(){return i},c={mixinDependencies:[m$544$0],staticMembers:{init:function(){if(this.__s._82$1r4$init.apply(this,arguments),!s)for(var a=m$505$7,t=m$505$8,e=0,r=a.length;e<r;e++){var n=a[e],i=m$806$0(n);t[i]=n}},__superMap:{_82$1r4$init:"init"}},loadData:function(a,e,r){a||m$802$0("CW.Data.DataManager#loadData: No model class provided.",{dataManager:this}),e||m$802$0("CW.Data.DataManager#loadData: No data hash provided.",{
dataManager:this,modelClass:a});var i,o,s=m$517$0.create(),d=this._loadedStoreIds;if(Array.isArray(e))for(var c=0,l=e.length;c<l;c++)o=n(a,e[c]),i=m$519$0.getStoreIdForPrimaryKey(a,o),r||(d[i]=!0),s.push(t(i,e[c],r));else o=n(a,e),i=m$519$0.getStoreIdForPrimaryKey(a,o),r||(d[i]=!0),s.push(t(i,e,r));return this.merge(s).then(this.didLoadData.bind(this,s))},removeData:function(a,e){a||m$802$0("CW.Data.DataManager#removeData: No model class provided.",{dataManager:this}),e||m$802$0("CW.Data.DataManager#removeData: No primary key(s) provided.",{dataManager:this,modelClass:a});var r,n=m$517$0.create();if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r=m$519$0.getStoreIdForPrimaryKey(a,e[i]),n.push(t(r,null));else r=m$519$0.getStoreIdForPrimaryKey(a,e),n.push(t(r,null));return this.merge(n).then(this.didRemoveData.bind(this,n))},didLoadData:function(a){return a},didRemoveData:function(a){return a},MergeStrategy:m$507$0,didMergeData:function(a){return a},merge:function(a){var t,r,n=this.getPath("MergeStrategy.sharedInstance"),i=[];for(t=0,r=a.get("length");t<r;t++)i.push(n.action(this,a.objectAt(t)));for(t=0,r=a.get("length");t<r;t++){var o=a.objectAt(t);this.notifyModel(o.storeId,e,o)}var s=this;return m$823$0.all(i).then(function(){return s.didMergeData(a)})},notifyModel:function(a,t){var e=this._materializedModels,r=e&&e[a],n=Array.prototype.slice.call(arguments,2);n.unshift(null),r&&(n[0]=r,t.apply(this,n))},getNetworkStatus:function(a,t){a||m$802$0("CW.Data.DataManager#getNetworkStatus: No model class provided.",{dataManager:this}),t||m$802$0("CW.Data.DataManager#getNetworkStatus: No primary key provided.",{
dataManager:this,modelClass:a});var e=this.get("transactionProcessor");return e||m$802$0("CW.Data.DataManager#getNetworkStatus: No transaction processor defined.",{dataManager:this,modelClass:a,primaryKey:t}),e.getNetworkStatus(a,t)},getLoadStatus:function(a,t){a||m$802$0("CW.Data.DataManager#getLoadStatus: No model class provided.",{dataManager:this}),t||m$802$0("CW.Data.DataManager#getLoadStatus: No primary key provided.",{dataManager:this,modelClass:a});var e=m$519$0.getStoreIdForPrimaryKey(a,t);return this._loadedStoreIds[e]?g.LOADED:g.NOT_LOADED},transactionProcessor:m$619$1(m$522$0),operationHandlers:m$619$1(Array),getActiveTransactions:function(a,t){a||m$802$0("CW.Data.DataManager#getActiveTransactions: No model class provided.",{dataManager:this}),t||m$802$0("CW.Data.DataManager#getActiveTransactions: No primary key provided.",{dataManager:this,modelClass:a});var e=this.get("transactionProcessor");return e||m$802$0("CW.Data.DataManager#getActiveTransactions: No transaction processor defined.",{dataManager:this,modelClass:a,primaryKey:t}),e.getActiveTransactions(a,t)},performOperation:function(a,t){a||m$802$0("CW.Data.DataManager#performOperation: No operation provided.",{dataManager:this}),m$781$0(a)&&(a={type:a}),t=t||{},t.operation=a;var e=this.get("transactionProcessor");e||m$802$0("CW.Data.DataManager#performOperation: No transaction processor defined.");var r=m$523$0.create(t),n=this._outstandingTransactions,i=m$807$0(r);n[i]=r;var o=function(){delete n[i]};return r.then(o,o),e.addTransaction(r),r},commit:function(){var a,t=this._changes;if(this._changes=null,t){
a=this.performOperation(t.get("operation"),{changes:t});for(var e=0,n=t.length;e<n;e++){var i=t.objectAt(e);this.notifyModel(i.storeId,r)}}else a=m$523$0.create(),a.complete();return a},sendTransaction:function(a){a||m$802$0("CW.Data.DataManager#sendTransaction: No transaction provided.",{dataManager:this}),a.get("status")===m$523$0.ACTIVE&&m$802$0("CW.Data.DataManager#sendTransaction: Transaction is already active.",{dataManager:this,transaction:a});var t=a.get("operation"),e=this.get("operationHandlers"),n=m$521$0(t.type,e);if(n){a.activate();var i=a.changes;if(i)for(var o=0,s=i.length;o<s;o++){var d=i.objectAt(o);this.notifyModel(d.storeId,r)}n.action(t).then(function(t){if(m$620$0(t,m$518$0))this.notifyModel(t.storeId,r),t=t.get("model");else if(m$620$0(t,m$517$0))if(1===t.length)t=t.objectAt(0).get("model"),this.notifyModel(t.storeId,r);else{for(var e=0,n=t.length;e<n;e++){var i=t.objectAt(e);this.notifyModel(i.storeId,r)}t=t.get("models")}a.complete(t)}.bind(this),function(t){a.fail(t)})}else a.fail("No handler for operation: "+JSON.stringify(t))},cancelAllTransactions:function(){this.cancelAllActiveTransactions(),this.cancelAllPendingTransactions()},cancelAllActiveTransactions:function(){a(this._outstandingTransactions,"cancel",m$523$0.ACTIVE)},cancelAllPendingTransactions:function(){a(this._outstandingTransactions,"cancel",m$523$0.PENDING)},failAllTransactions:function(){this.failAllActiveTransactions(),this.failAllPendingTransactions()},failAllActiveTransactions:function(){a(this._outstandingTransactions,"fail",m$523$0.ACTIVE)},failAllPendingTransactions:function(){
a(this._outstandingTransactions,"fail",m$523$0.PENDING)},_outstandingTransactions:m$619$1(Object),_loadedStoreIds:m$619$1(Object),init:function(a){i&&m$802$0("CW.Data.DataManager#init: Data manager already exists. Only one data manager can be instantiated.",{existingDataManager:i,erroringDataManager:this}),i=this,this.__s._82$6ro$init.apply(this,arguments),this._dataHashes=Object.create(o._dataHashes)},dispose:function(){this.__s._82$6xy$dispose.apply(this,arguments),i=null},__superMap:{_82$6ro$init:"init",_82$6xy$dispose:"dispose"}},l=["updated","added","removed"],$=[],g=m$563$1("LOAD_STATUS",function(a){a("NOT_LOADED"),a("LOADED"),a("ERRORED")});m$506$1=d,m$506$0=c,m$506$2=g}();
!function(){"use strict";var e=m$511$0.extend({relatedObject:m$629$1(),relationshipKey:m$629$1(),isEmbedded:m$629$1(),_embeddedCache:m$629$1(m$619$1(Array)),init:function(e,t,i){var a=t.relatedObject,n=t.relationshipKey;if(t.isEmbedded){var d=t.type,r=this;this.serializer={encode:function(e,t){return m$620$0(e,m$510$0)&&(e=e.getDataHash()),e},decode:function(e,t){var i=r._embeddedCache[t];if(i)return i;if(!e)return e;var s=d.create(e);return a.getDataHash()[n][t]=s.getDataHash(),s.listen("dataDidChange",function(){a.dataDidChange()}),r._embeddedCache[t]=s}}}this.__s._8A$Vr$init.call(this,e,t.type,i),this.relatedObject=a,this.relationshipKey=n,this.isEmbedded=t.isEmbedded,this.listen("contentsDidChange",function(e){for(var t=0,i=e.length;t<i;t++){var d=e.objectAt(t);"REMOVE"===d.operation&&a.getDataHash()[n].splice(d.index,1)}a.dataDidChange()}.bind(this))},__superMap:{_8A$Vr$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.RelationshipArray"}});m$514$0=e}();
!function(){"use strict";function e(e,t){var r;return e&&e.isClass?r=e:"(self)"===e||"self"===e?r=t.constructor:m$781$0(e)&&(r=m$505$8[e]),r||m$802$0("CW.Data.Relationship: Unable to compute class for relationship type: `"+e+"`."),r}var t={toOne:function(e){return r.create(e)},toMany:function(e){return a.create(e)}},r=m$512$0.extend({_encodeValue:function(e,t,r){var a;if(m$620$0(r,m$510$0)?(a=r.constructor,r=r.getPrimaryKey()):m$780$0(r)&&r.type&&r.id?(r=r.id,a=r.type):a=this.type,a){var i=e.__relationshipTypes||(e.__relationshipTypes={});i[t]=a}else m$802$0("CW.Data.ToOneRelationshipProperty#_encodeValue: Unable to determine type for: `"+r+"`.");return r},_materializeValue:function(t,r,a){if(!a)return null;var i=t.__relationshipTypes,n=i&&i[r];return n||(n=e(this.type,t)),n||m$802$0("CW.Data.ToOneRelationshipProperty#_materializeValue: Unable to determine model class for: `"+a+"`."),this.embedded?n.create(a):n.findOrCreatePlaceholder(a)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.ToOneRelationshipProperty$513"}}),a=m$512$0.extend({downstreamNodeManagerClass:m$546$0.extend({calculateValueForNode:function(e,t,r,a){r&&m$541$0._sanitizeNodeID(a)>0&&m$541$0.getValueForNode(a);var i=this.key,n=this.property.getRawValueForObject(e,i);return this.property._materializeValue(e,i,n)}}),_encodeValue:function(e,t,r){return r},embedded:!1,_materializeValue:function(t,r,a){var i={type:e(this.type,t),relatedObject:t,relationshipKey:r,isEmbedded:this.embedded};if(!this.embedded&&a)for(var n=0,o=a.length;n<o;n++){var s=a[n];m$620$0(s,m$510$0)?a[n]=s.getPrimaryKey():m$780$0(s)&&s.id&&(a[n]=s.id);
}return m$514$0.create(a,i,t.store)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Data.ToManyRelationshipProperty$513"}});m$513$0=t}();
!function(){"use strict";var t=m$563$1("BRApp.Data.ItemShareState",function(t){t("TO_ME"),t("FROM_ME")});m$55$0=t}();
!function(){"use strict";var t={getFileSystem:function(){return m$36$0}};m$149$0=t}();
!function(){"use strict";var e="FILE",t="FOLDER",n="APP_LIBRARY",r=255,i=m$563$1("BRApp.Data.ItemTypeEnum",function(e){e("AppLibrary"),e("Folder"),e("File")}),$=m$510$0.extend(m$149$0,m$77$0,{id:m$512$1({isPrimaryKey:!0}),parent:m$545$1({readOnly:!0,dependencies:["parentId"],get:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i?m$65$0.find(i):null}}),path:m$629$1({readOnly:!0,get:function(e,t,n,r){for(var i=[this],$=this.get("parent");$;)i.push($),$=$.get("parent");return i.reverse()}}),isFolder:m$629$1({readOnly:!0,get:function(e,n,r,i){return this.get("type")===t}}),isFile:m$629$1({readOnly:!0,get:function(t,n,r,i){return this.get("type")===e}}),isAppLibrary:m$629$1({readOnly:!0,get:function(e,t,r,i){return this.get("type")===n}}),isDeleted:m$512$1(!1),fullName:m$545$1(null),parentId:m$512$1(),etag:m$512$1(),type:m$512$1(),sanitizedName:m$512$1({dataKey:"name"}),name:m$545$1({dependencies:["sanitizedName"],get:function(e,t,n,r){var i=r.internalGet(this,t[0+n]);return i&&(this.get("isFile")||this.get("isFolder"))&&(i=i.replace(/:/g,"/")),i||""},set:function(e,t,n,r,i){return(this.get("isFile")||this.get("isFolder"))&&(e=e.replace(/\//g,":")),n[0+r]=e,e},writeDependencySetPathMap:["false"]}),size:m$512$1(),zone:m$512$1(),docwsid:m$512$1(),clientId:m$512$1(),deleted:m$512$1(),sharingToken:m$512$1(),share:m$512$1(),owner:m$512$1({firstName:null,lastName:null,appleId:null}),depth:m$629$1({readOnly:!0,get:function(e,t,n,r){for(var i=0,$=this.get("parent");$;)i++,$=$.get("parent");return i}}),isUploading:m$545$1(!1),uploadProgress:m$545$1(null),canDelete:m$545$1(!0),canEdit:m$545$1(!0),
staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.Item"}});$.checkIfItemsContainFolder=function(e){return e.some(function(e){return e.get("isFolder")})},$.checkIfItemsContainAppLibrary=function(e){return e.some(function(e){return e.get("isAppLibrary")})},m$66$2=r,m$66$1=i,m$66$0=$}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{cloudOSApplication:m$545$1(),cloudOSService:m$545$1({dependencies:["cloudOSApplication.cloudOSService"],readOnly:!0,strong:!0,get:function(e,n,t,$){return $.internalGetPath(this,n[0+t])||null}}),environment:m$545$1(m$539$1("cloudOSService.environment")),authBag:m$545$1(m$539$1("cloudOSService.environment.authBag")),currentUser:m$545$1(m$539$1("cloudOSService.environment.authBag.user"))}).create();m$886$0=e}();
!function(){"use strict";function t(t){return t.hasOwnProperty("length")?t.length:m$777$0(t.get)?t.get("length"):void 0}function e(t,e){return m$772$0(e)?e[t]:m$777$0(e.objectAt)?e.objectAt(t):void 0}function n(n,r,i){3!==arguments.length&&m$802$0("#indexOfItemInSortedArray: Requires valid arguments");for(var u,o,f,$=t(r),c=0,g=$-1;;){if(c===g)return o=e(c,r),f=i(o,n),f>=0?c:c+1;if(c>g)return g+1;if(u=Math.round((g-c)/2)+c,o=e(u,r),f=i(o,n),f<0)c=u+1;else{if(!(f>0))return u;g=u-1}}}m$338$0=n}();
!function(){"use strict";var e=m$563$1("BRKit.ChangeSetInfoAction",["None","Insert","Remove","Move","Update"]),t=m$626$0.extend({staticMembers:{createInsertItem:function(n,r){return t.create({value:n,beforeIndex:null,afterIndex:r||null,action:e.Insert})},createRemoveItem:function(n,r){return t.create({value:n,beforeIndex:r||null,afterIndex:null,action:e.Remove})},createMoveItem:function(n,r,i){return t.create({value:n,beforeIndex:r||null,afterIndex:i||null,action:e.Move})},createUpdateItem:function(n,r,i,a){return t.create({value:n,diff:r||null,beforeIndex:i||null,afterIndex:a||null,action:e.Update})},__QUALIFIED_CLASS_NAME__:"BRKit.ChangeSetItem"},value:null,beforeIndex:null,afterIndex:null,action:null}),n=m$626$0.extend({init:function(e){this.__s._3e$Un$init.call(this),this._items=e.items,this._counter=0},hasNext:function(){return this._counter<this._items.length},next:function(){var e=null;return this.hasNext()&&(e=this._items[this._counter],this._counter++),e},__superMap:{_3e$Un$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.ChangeSetIterator$229"}}),r=m$626$0.extend({staticMembers:{Action:e,__QUALIFIED_CLASS_NAME__:"BRKit.ChangeSet"},items:m$629$1({readOnly:!0,get:function(e,t,n,r){return this._items}}),length:m$629$1({readOnly:!0,get:function(e,t,n,r){return this._items.length}}),count:m$629$1({readOnly:!0,get:function(e,t,n,r){return this._items.length}}),hasItems:m$629$1({readOnly:!0,get:function(e,t,n,r){return this._items.length>0}}),iterator:m$629$1({readOnly:!0,get:function(e,t,r,i){return n.create({items:this._items.slice()})}}),init:function(e){this.__s._3e$oJ$init.call(this,e),
this._items=[]},getItemAtIndex:function(e){return this._items[e]||null},addChangeSetItem:function(e){this._items.push(e)},recordInsert:function(e,n){var r=t.createInsertItem(e,n);return this.addChangeSetItem(r),r},recordRemove:function(e,n){var r=t.createRemoveItem(e,n);return this.addChangeSetItem(r),r},recordMove:function(e,n,r){var i=t.createMoveItem(e,n,r);return this.addChangeSetItem(i),i},recordUpdate:function(e,n,r,i){var a=t.createUpdateItem(e,n,r,i);return this.addChangeSetItem(a),a},forEach:function(e){this._items.forEach(e)},filter:function(e){var t=r.create();return this._items.forEach(function(n){e(n)!==!1&&t.addChangeSetItem(n)}),t},map:function(e){return this._items.map(e)},toString:function(){for(var t,n="[ChangeSet: ",r=this._items,i=r.length,a=0;a<i;a++){switch(t=r[a],t.get("action")){case e.Insert:n+="<Insert: "+t.get("value")+">";break;case e.Remove:n+="<Remove: "+t.get("value")+">";break;case e.Update:n+="<Update: "+t.get("value")+">";break;case e.Move:n+="<Move: "+t.get("value")+">"}a<i-1&&(n+=", ")}return 0===i&&(n+="EMPTY"),n+="]"},__superMap:{_3e$oJ$init:"init"}}),i=e,a=t,u=r;m$229$1=e,m$229$0=t,m$229$2=r,m$229$4=i,m$229$5=a,m$229$3=u}();
!function(){"use strict";var t=1,i=2,n=3,e="id",h=m$626$0.extend(m$544$0,{idKey:m$629$1({readOnly:!0,get:function(t,i,n,e){return this._idKey}}),size:m$629$1({readOnly:!0,get:function(t,i,n,e){return this._count}}),count:m$629$1({readOnly:!0,get:function(t,i,n,e){return this._count}}),isChanging:m$629$1({readOnly:!0,get:function(t,i,n,e){return this._batchChangeCounter>0}}),changed:m$558$0(),init:function(t){this.__s._3g$Ey$init.call(this,t),this._idKey=t&&t.idKey||e,this._entities={},this._count=0,this._batchChangeCounter=0;var i=t?t.entities:null;i&&(this._silentChanges=!0,this.addEntities(i),this._silentChanges=!1)},createIterator:function(){return s.create(this._entities)},containsEntity:function(t){var i=this.getIdentifierForEntity(t);return!!this._entities[i]},containsEntityWithID:function(t){return!!this._entities[t]},getEntityWithID:function(t){var i=this._entities[t];return i||null},beginBatchChanges:function(){this._batchChangeCounter++,1!==this._batchChangeCounter||this._silentChanges||(this._changeSet=m$229$2.create())},endBatchChanges:function(){if(this._batchChangeCounter<1&&m$802$0("Cannot end batch changes. Invalid state"),this._batchChangeCounter--,0===this._batchChangeCounter&&!this._silentChanges){var t=this._changeSet;this._changeSet=null,t.get("length")>0&&this.changed(t)}},batchChanges:function(t){this.beginBatchChanges(),t(),this.endBatchChanges()},addEntity:function(i){var n=this._entities,e=this.getIdentifierForEntity(i);n[e]||(this.willStartAddingEntity(i,e),this._count++,n[e]=i,this.willFinishAddingEntity(i,e),this._notifyChange(t,i))},willStartAddingEntity:function(t,i){},
willFinishAddingEntity:function(t,i){},addEntities:function(t){this.beginBatchChanges();var i=this;t.forEach(function(t){i.addEntity(t)}),this.endBatchChanges()},removeEntity:function(t){var n=this._entities,e=this.getIdentifierForEntity(t);n[e]&&(this.willStartRemovingEntity(t,e),this._count--,delete n[e],this.willFinishRemovingEntity(t,e),this._notifyChange(i,t))},willStartRemovingEntity:function(t,i){},willFinishRemovingEntity:function(t,i){},removeEntityWithID:function(t){var i=this._entities[t];i&&this.removeEntity(i)},removeEntities:function(t){this.beginBatchChanges();var i=this;t.forEach(function(t){i.removeEntity(t)}),this.endBatchChanges()},removeEntitiesWithIDs:function(t){this.beginBatchChanges();var i=this;t.forEach(function(t){i.removeEntityWithID(t)}),this.endBatchChanges()},updateEntity:function(t){var i=this._entities,e=this.getIdentifierForEntity(t);i[e]&&(this.willStartUpdatingEntity(t,e),i[e]=t,this.willFinishUpdatingEntity(t,e),this._notifyChange(n,t))},willStartUpdatingEntity:function(t,i){},willFinishUpdatingEntity:function(t,i){},toArray:function(){for(var t=this._entities,i=Object.keys(t),n=i.length,e=new Array(n),h=0;h<n;h++)e[h]=t[i[h]];return e},forEach:function(t){for(var i=this.createIterator();i.hasNext();){var n=i.next();t(n)}},find:function(t){for(var i=this.createIterator();i.hasNext();){var n=i.next();if(t(n))return n}return null},_notifyChange:function(e,h){if(!this._silentChanges){var s=this._changeSet;switch(s||(s=m$229$2.create()),e){case t:s.recordInsert(h);break;case i:s.recordRemove(h);break;case n:s.recordUpdate(h);break;default:m$802$0("Cannot notify change. Invalid op",{
op:e})}0===this._batchChangeCounter&&this.changed(s)}},getIdentifierForEntity:function(t){var i=this._idKey;return t.get?t.get(i):t[i]},__superMap:{_3g$Ey$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.EntitySet"}}),s=m$626$0.extend({init:function(t){this.__s._3g$1q3$init.call(this);for(var i=Object.keys(t),n=i.length,e=new Array(n),h=0;h<n;h++)e[h]=t[i[h]];this._entities=e,this._counter=0},hasNext:function(){return this._counter<this._entities.length},next:function(){var t=this._entities[this._counter];return this._counter++,t},__superMap:{_3g$1q3$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.EntitySetIterator$231"}});m$231$0=h}();
!function(){"use strict";function t(t,i,n){n>=i.length?i.push(t):i.splice(n,0,t)}function i(t,i){t<0||i.splice(t,1)}var n=m$231$0.extend({length:m$629$1({readOnly:!0,get:function(t,i,n,e){return this._sortedEntities.length}}),init:function(t){var i=this._entityComparitor=t&&t.comparitor;i||m$802$0("BRKit.SortedEntitySet: Cannot init. Requires a comparitor"),this._sortedEntities=[],this.__s._3x$Bd$init.call(this,t)},createIterator:function(){return e.create(this._sortedEntities)},resortEntities:function(t){var i=this._sortedEntities;this._entityComparitor=t,i.sort(t)},getEntityAtIndex:function(t){return this._sortedEntities[t]||null},getIndexForEntity:function(t){if(!this.containsEntity(t))return null;var i=this.getIdentifierForEntity(t),n=this._entityComparitor,e=this._sortedEntities,r=m$338$0(t,e,n),s=e[r],o=null;if(s&&(o=this.getIdentifierForEntity(s)),o===i)return r;for(var _=e.length,h=r+1;;){if(h>=_)break;if(s=e[h],0!==n(s,t))break;if(o=this.getIdentifierForEntity(s),o===i)return h;h++}for(h=r-1;;){if(h<0)break;if(s=e[h],0!==n(s,t))break;if(o=this.getIdentifierForEntity(s),o===i)return h;h--}for(var u=0;u<_;u++)if(s=e[u],o=this.getIdentifierForEntity(s),o===i)return u;return null},willFinishAddingEntity:function(i,n){var e=this._sortedEntities,r=this._entityComparitor,s=m$338$0(i,e,r);t(i,e,s)},willStartRemovingEntity:function(t,n){var e=this._sortedEntities,r=this.getIndexForEntity(t);null!==r&&i(r,e)},willFinishUpdatingEntity:function(n,e){var r=this._sortedEntities,s=this.getIndexForEntity(n);null===s||i(s,r);var o=this._entityComparitor,_=m$338$0(n,r,o);t(n,r,_)},toArray:function(){
return this._sortedEntities.splice()},__superMap:{_3x$Bd$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.SortedEntitySet"}}),e=m$626$0.extend({init:function(t){this.__s._3x$1gW$init.call(this),this._entities=t,this._counter=0},hasNext:function(){return this._counter<this._entities.length},next:function(){var t=this._entities[this._counter];return this._counter++,t},__superMap:{_3x$1gW$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.SortedEntitySetIterator$248"}});m$248$0=n}();
!function(){"use strict";function r(r,i,e){if(m$778$0(r)&&m$778$0(i))return r===i?0:i<r?1:-1;r+="",i+="";for(var f,u,c,o,$,a,s=0,N=!1,m=0;;){if(f=r.charCodeAt(s),u=i.charCodeAt(s),c=n(f),o=n(u),N&&(!c||!o)){if(!c&&o)return-1;if(c&&!o)return 1;if(0!==m)return m;N=!1}if(c&&o)N=!0,0===m&&(m=f-u);else{if(0!==m)return m;if(f!==u)return $=isNaN(f),a=isNaN(u),$&&a?0:$?-1:a?1:(197===f&&(f=195.5),197===u&&(u=195.5),f=t(f),u=t(u),f-u)}s++}}function n(r){return r>=48&&r<=57}function t(r){return r>=97&&r<=122?r-32:r}m$831$0=r}();
!function(){"use strict";var e=m$563$1("BRApp.Data.TransactionType",["CreateFolder","DeleteItems","MoveItems","RenameItem","UploadItem"]);m$59$0=e}();
!function(){"use strict";var I=m$563$1("BRApp.Data.TransactionCommitInfoItemStatus",{OK:"OK",DestinationInvalid:"DESTINATION_ID_INVALID",DestinationDeleted:"DESTINATION_ID_DELETED",ItemDeleted:"ID_DELETED",ItemInvalid:"ID_INVALID",ItemModified:"ETAG_CONFLICT",Unknown:"UNKNOWN",FatalError:"FATAL_ERROR",Forbidden:"FORBIDDEN",Cancelled:"CANCELLED"});m$57$0=I}();
!function(){"use strict";var e=m$66$0.extend({fullName:m$545$1({readOnly:!0,dependencies:[".name",".extension"],get:function(e,t,n,a){var i=this.extension;return i?this.name+"."+i:this.name}}),extension:m$512$1({defaultValue:""}),dateModified:m$512$1({type:Date}),nativeFileData:null,thumbnail:m$512$1(),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.File"}});m$64$0=e}();
!function(){"use strict";var t=function(t){this.itemID=t.itemID,t.status===m$57$0.ItemModified&&t.details.isDeleted===!0?this.status=m$57$0.ItemDeleted:this.status=t.status,this.clientID=t.clientID||null,this.details=t.details||null,this.fileSystem=t.fileSystem||null};t.classDelegate=null,t.create=function(e){var s=this.classDelegate;s.classWillCreateObject(this,e);var i=new t(e);return s.classDidCreateObject(this,i),Object.freeze(i),i},t.prototype.hasConflict=function(){switch(this.status){case m$57$0.DestinationDeleted:case m$57$0.ItemDeleted:case m$57$0.ItemModified:return!0;default:return!1}},t.prototype.hasTransactionItemMoved=function(){var t=this.fileSystem.getItemById(this.itemID);return!!t&&t.get("parentId")!==this.details.parentId},t.prototype.getTransactionItem=function(){var t=this.fileSystem,e=(this.itemID,this.clientID),s=t.getItemById(this.itemID);return!s&&e&&(s=t.getItemById(e)),s||null},t.Status=m$57$0,m$79$0=t}();
!function(){"use strict";var t=m$626$0.extend({infoItems:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._infoItems}}),committedInfoItems:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._committedInfoItems}}),uncommittedInfoItems:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._uncommittedInfoItems}}),commitedItemIDs:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._getIDsFromStatusItems(this._committedInfoItems)}}),uncommittedItemIDs:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._getIDsFromStatusItems(this._uncommittedInfoItems)}}),isFullyCommitted:m$629$1({readOnly:!0,get:function(t,e,n,s){return this.get("hasCommittedItems")&&!this.get("hasUncommittedItems")}}),isPartiallyCommitted:m$629$1({readOnly:!0,get:function(t,e,n,s){return this.get("hasCommittedItems")&&this.get("hasUncommittedItems")}}),hasCommittedItems:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._committedInfoItems.length>0}}),hasUncommittedItems:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._uncommittedInfoItems.length>0}}),hasFatalError:m$629$1({readOnly:!0,get:function(t,e,n,s){return!!this._fatalError}}),fatalError:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._fatalError}}),cancelled:m$629$1({readOnly:!0,get:function(t,e,n,s){return this._cancelled}}),hasItemsForStatus:function(t){return!!this._statusToInfoItemMap[t]},getItemsForStatus:function(t){return this._statusToInfoItemMap[t]||null},getStatusKeys:function(){return this._statusToInfoItemMap.keys()},init:function(t){this.__s._1F$ox$init.call(this,t),this._fatalError=t?t.fatalError:null,this._cancelled=!!t&&t.cancelled,
this._infoItems=[],this._committedInfoItems=[],this._uncommittedInfoItems=[],this._statusToInfoItemMap={}},addInfoItem:function(t){var e=t.status;if(this._infoItems.push(t),t.status===m$57$0.OK)this._committedInfoItems.push(t);else{this._uncommittedInfoItems.push(t);var n=this._statusToInfoItemMap[e];n||(n=this._statusToInfoItemMap[e]=[]),n.push(t)}},_getIDsFromStatusItems:function(t){for(var e=t.length,n=new Array(e),s=0;s<e;s++)n[s]=t[s].itemID;return n},__superMap:{_1F$ox$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.TransactionCommitInfo"}});m$78$0=t}();
!function(){"use strict";var t=m$563$1("BRApp.Data.TransactionStateEnum",function(t){t("Init"),t("Prepared"),t("Staging"),t("Staged"),t("Commit",function(t){t("Prepared"),t("Running")}),t("Completed",function(t){t("Success"),t("Fail")}),t("Cancelled"),t("Finalizing"),t("Finalized")}),e=t.Init,n=t.Prepared,i=t.Staging,a=t.Staged,s=t.Commit.Prepared,r=t.Commit.Running,o=t.Completed.Success,c=t.Completed.Fail,l=t.Cancelled,h=t.Finalizing,m=t.Finalized,d=m$626$0.extend(m$544$0,{type:null,delegate:null,fileSystem:null,isCancelled:m$629$1({readOnly:!0,get:function(t,e,n,i){var a=this.get("commitInfo");return!!a&&a.get("cancelled")}}),isCancellable:m$629$1({readOnly:!0,get:function(t,e,i,o){var c=this.get("state");switch(c){case n:case a:break;case s:case r:if(!this.shouldAllowCancelDuringCommit())return!1;break;default:return!1}var l=this.get("delegate"),h=l?l.transactionShouldAllowCancel:null;return!(h&&!h.call(l,this))}}),state:m$545$1({readOnly:!0,get:function(t,e,n,i){return this._state}}),commitInfo:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._commitInfo}}),transactionItems:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._transactionItems}}),finalized:m$558$0(),init:function(t){this.__s._1O$_Q$init.call(this,t),this._setState(e),this._transactionItems=[]},prepare:function(){this._throwFatalErrorIfNotInState(e,"Cannot prepare"),this.didStartPreparing(),this._setState(n)},stage:function(){this._throwFatalErrorIfNotInState(n,"Cannot stage"),this._setState(i),this.didStartStaging(),this._changeTransactionItemsState(m$56$0.Staged),this._setState(a);var t=this.get("fileSystem");
return this._transactionItems.forEach(function(e){t.registerItemAsStaged(e)}),m$242$0.resolve(this)},commit:function(){return this._state===n&&this.stage(),this._throwFatalErrorIfNotInState(a,"Cannot commit"),this._setState(s),this._changeTransactionItemsState(m$56$0.Committing),this.run(),m$242$0.resolve(this)},cancel:function(){this.get("isCancellable")||m$802$0("Cannot cancel. Now allowed",{transaction:this});var t=(this._state,null);switch(this._state){case n:t=m$78$0.create({cancelled:!0});break;case a:case s:case r:t=this._createTransactionCommitInfoForFullRevert({cancelled:!0})}this._commitInfo=t,this._setState(l),this.didCancel(),this._finalize()},run:function(){this._throwFatalErrorIfNotInState(s,"Cannot run"),this._setState(r)},addTransactionItem:function(t){this._transactionItems.push(t)},addTransactionItems:function(t){var e=this._transactionItems;t.forEach(function(t){e.push(t)})},getTransactionItemsForFullRevert:function(){return[]},shouldAllowCancelDuringCommit:function(){return!1},didStartPreparing:function(){},didStartStaging:function(){},didCancel:function(){},didBeginTransactionItemsStateChange:function(){},didEndTransactionItemsStateChange:function(){},didChangeTransactionStateForItem:function(t,e){},completeCommitWithSuccess:function(t){this._throwFatalErrorIfNotInState(r,"Cannot finalize commit with success"),this._setState(o),this._commitInfo=t,this._finalize()},completeCommitWithFailure:function(t){this._throwFatalErrorIfNotInState(r,"Cannot finalize commit with failure"),this._setState(c);var e=this._createTransactionCommitInfoForFullRevert({fatalError:t
});this._commitInfo=e,this._finalize()},_finalize:function(){switch(this._state){case e:case i:case m:case h:this._throwFatalInvalidStateError("Cannot finalize")}this._setState(h),this.get("delegate").transactionDidBeginFinalizing(this),this._completeFinalizing()},_completeFinalizing:function(){var t=this._commitInfo.get("infoItems"),e=this.get("delegate");this.willBeginFinalizingItems();for(var n=0,i=t.length;n<i;n++){var a=t[n];switch(a.status){case m$57$0.OK:this.applyChangeForCommitInfoItem(a);break;case m$57$0.Cancelled:this.revertChangeForCommitInfoItem(a);break;default:e.transactionResolveConflictForItem(this,a)}}this.didEndFinalizingItems(),this._changeTransactionItemsState(m$56$0.Prepared);var s=this.get("fileSystem");this._transactionItems.forEach(function(t){s.unregisterItemAsStaged(t)}),this._setState(m),this.didFinalize(),e.transactionDidFinalize(this),this.finalized(this)},didFinalize:function(){},willBeginFinalizingItems:function(){},didEndFinalizingItems:function(){},applyChangeForCommitInfoItem:function(t){},revertChangeForCommitInfoItem:function(t){},_setState:function(t){this._state=t,this.propertyChanged("state")},_changeTransactionItemsState:function(t){var e=this._transactionItems;this.didBeginTransactionItemsStateChange();for(var n=0,i=e.length;n<i;n++){var a=e[n];a.set("transactionState",t),this.didChangeTransactionStateForItem(a,t)}this.didEndTransactionItemsStateChange()},_createTransactionCommitInfoForFullRevert:function(t){var e=m$78$0.create(t),n=m$57$0.OK;e.get("cancelled")?n=m$57$0.Cancelled:e.get("hasFatalError")&&(n=m$57$0.FatalError);for(var i=this.getTransactionItemsForFullRevert(),a=0,s=i.length;a<s;a++){
var r=i[a],o=m$79$0.create({itemID:r.get("id"),status:n});e.addInfoItem(o)}return e},_throwFatalErrorIfNotInState:function(t,e){this._state!==t&&this._throwFatalInvalidStateError(e)},_throwFatalErrorIfInState:function(t,e){this._state===t&&this._throwFatalInvalidStateError(e)},_throwFatalInvalidStateError:function(t){m$802$0(t+". Invalid state",{transaction:this})},__superMap:{_1O$_Q$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.Transaction"}});m$87$1=t,m$87$0=d}();
!function(){"use strict";function t(t){var e=t.get("name");return"."===e.charAt(0)}function e(t,e){var n=t.get("isAppLibrary"),i=e.get("isAppLibrary");if(!n&&!i||n&&i){var o=t.get("fullName"),a=e.get("fullName");return m$831$0(o,a,r)}return n===!0&&i===!1?-1:n===!1&&i===!0?1:void 0}var n=m$563$1("BRApp.Data.FolderContentLoadStateEnum",function(t){t("NotLoading"),t("Loading")}),i=m$563$1("BRApp.Data.FolderContentDataStateEnum",function(t){t("NotLoaded"),t("Loaded"),t("Error")}),o=3e4,a=m$626$0.extend(m$544$0,{folder:m$629$1({readOnly:!0}),length:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._content.get("length")}}),isRemoteSyncing:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._remoteSyncing}}),isLoading:m$629$1({readOnly:!0,get:function(t,e,i,o){return this._loadState===n.Loading}}),hasLoadedContent:m$629$1({readOnly:!0,get:function(t,e,n,o){return this._dataState===i.Loaded}}),hasError:m$629$1({readOnly:!0,get:function(t,e,n,o){return this._dataState===i.Error}}),loadState:m$545$1({readOnly:!0,get:function(t,e,n,i){return this._loadState}}),dataState:m$545$1({readOnly:!0,get:function(t,e,n,i){return this._dataState}}),isChanging:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._content.get("isChanging")}}),changed:m$558$0(),init:function(t){var e=t.folder;e||m$802$0("Cannot init. Requires folder object",{folderContent:this}),this._fileSystem=this.loadFileSystem(),this.__s._10$oz$init.call(this,t),this.reset(!0)},loadFileSystem:function(){return m$36$0},_contentDidChange:function(t){var e=this;m$254$0.setTimeout(function(){e.changed(t)})},forEach:function(t){
this._content.forEach(t)},containsItem:function(t){return this._content.containsEntity(t)},getItemAtIndex:function(t){return this._content.getEntityAtIndex(t)},itemLoadedAtIndex:function(t){var e=this._content;return!!e&&!!e.getItemAtIndex(t)},getIndexForItem:function(t){return this._content.getIndexForEntity(t)},findFirstItemMatchingName:function(t){var e=this._content.find(function(e){var n=(e.get("name")||"").toLowerCase(),i=(t||"").toLowerCase();return n===i});return e||null},findFolderWithName:function(t){var e=this._content.find(function(e){if(e.get("isFile"))return!1;var n=(e.get("name")||"").toLowerCase(),i=(t||"").toLowerCase();return n===i});return e||null},findFileWithNameAndExtension:function(t,e){var n=this._content.find(function(n){if(!n.get("isFile"))return!1;var i=(n.get("name")||"").toLowerCase(),o=(t||"").toLowerCase();if(i!==o)return!1;var a=(n.get("extension")||"").toLowerCase(),r=(e||"").toLowerCase();return a===r});return n||null},hasFileWithNameAndExtension:function(t,e){return!!this.findFileWithNameAndExtension(t,e)},hasItemMatchingName:function(t){return!!this.findFirstItemMatchingName(t)},reset:function(t){this._loadState=n.NotLoading,this._dataState=i.NotLoaded,this._remoteSyncing=!1,this._syncTimeoutHandle=null,this._syncScheduleStart=null,this._transactionCount=0,this._changeContentCounter=0,this._isSyncExecuting=!1,this.stopRemoteSynchronization();var o;if(!o||0!==o.length){this._contentObserver&&this._contentObserver.disconnect(),o=this._content=m$248$0.create({comparitor:e});var a=this;this._contentObserver=o.observe("changed",function(t){if(t){
var e=t.context;a._contentDidChange(e)}})}},loaded:function(){this._loadState=n.NotLoading,this._dataState=i.Loaded,this.propertyChanged("loadState"),this.propertyChanged("dataState")},beginChanges:function(){this._content.beginBatchChanges()},endChanges:function(){this._content.endBatchChanges()},addItem:function(t){this._content.addEntity(t),t.set("parentId",this.get("folder").get("id"))},addItems:function(t){var e=this;t.forEach(function(t){e.addItem(t)})},removeItem:function(t){this._content.removeEntity(t),t.set("parentId",null)},removeItems:function(t){var e=this;t.forEach(function(t){e.removeItem(t)})},updateItem:function(t){this._content.updateEntity(t)},startRemoteSynchronization:function(){this._remoteSyncing||(this._remoteSyncing=!0,this._scheduleNextSync())},stopRemoteSynchronization:function(){this._remoteSyncing&&(this._cancelScheduledSync(),this._remoteSyncing=!1)},shouldAllowSync:function(){return!(!this._remoteSyncing||!this.get("hasLoadedContent")||this.get("isLoading")||this._isChangingContent||this._isSyncExecuting||this._transactionCount>0)},_scheduleNextSync:function(){if(this.shouldAllowSync()){var t,e=this._syncScheduleStart;if(null===e)e=this._syncScheduleStart=Date.now(),t=o;else{var n=Date.now()-this._syncScheduleStart;t=o-n,t<0&&(t=0)}var i=this;this._syncTimeoutHandle=m$799$0(function(){i.sync()},t)}},_cancelScheduledSync:function(){this._syncTimeoutHandle&&(clearTimeout(this._syncTimeoutHandle),this._syncTimeoutHandle=null)},sync:function(){this._syncScheduleStart=null,this.shouldAllowSync()&&this._forceSync()},_forceSync:function(){if(!this._isSyncExecuting){
this._cancelScheduledSync(),this._isSyncExecuting=!0;var t=this._fileSystem,e=this;t.fetchFolderContentChangeSet({folder:this.get("folder")}).then(function(t){e._fetchFolderContentChangeSetDidResolve(t)}).catch(function(t){e._fetchedFolderContentChangeSetDidReject(t)})}},_fetchFolderContentChangeSetDidResolve:function(e){if(this._isSyncExecuting){this.beginChanges();var n=e.changes,i=this;n.forEach(function(e){var n=e.get("value");if(!t(n))switch(e.get("action")){case m$229$2.Action.Insert:i.addItem(n);break;case m$229$2.Action.Remove:i.removeItem(n);break;case m$229$2.Action.Update:i.updateItem(n)}}),this.endChanges(),this._isSyncExecuting=!1,this._scheduleNextSync()}},_fetchedFolderContentChangeSetDidReject:function(t){this._isSyncExecuting=!1,m$809$1.error(m$829$0("Error synchronizing %{folder}",{folder:this.get("folder").get("id")}))},loadAllContent:function(){if(this.get("isLoading"))return this._fetchFolderContentPromise;this._loadState=n.Loading,this._cancelScheduledSync(),this.propertyChanged("loadState");var t=this,e=this._fileSystem.fetchFolderContent({folder:this.get("folder")}).then(function(e){return t._fetchFolderContentPromise=null,t._fetchFolderContentDidComplete(e),m$242$0.resolve(this)}).catch(function(e){return t._fetchFolderContentPromise=null,t._fetchFolderContentDidFail(e),m$242$0.reject(e)});return this._fetchFolderContentPromise=e,e},_fetchFolderContentDidComplete:function(e){this._loadState=n.NotLoading,this._dataState=i.Loaded;var o=e.items,a=o.filter(function(e){return!t(e)});this.beginChanges(),this.addItems(a),this.endChanges(),this.propertyChanged("loadState"),
this.propertyChanged("dataState"),this._scheduleNextSync()},_fetchFolderContentDidFail:function(t){this._loadState=n.NotLoading,this._dataState=i.Error,this.propertyChanged("loadState"),this.propertyChanged("dataState")},prepareForTransaction:function(t){this._transactionCount++,this._cancelScheduledSync(),this._isSyncExecuting=!1},finalizeForTransaction:function(t){this._transactionCount--,0===this._transactionCount&&this._scheduleNextSync()},_throwFatalError:function(t){m$802$0(t,{folderContent:this})},__superMap:{_10$oz$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.FolderContent"}}),r={prioritizeDigits:!0};m$63$0=a}();
!function(){"use strict";function t(t){var e=t.get("zone");if("iCloud.com.savysoda.iSpreadsheet"===e)return"iSpreadsheet";var n=m$886$0.get("cloudOSService");return n.recordStat("Detected an App Library with no name"),e=e&&e.replace(/^iCloud\./,""),e||""}var e={NONE:0,ONE:1,ANY:1/0},n=m$66$0.extend({numberOfItems:m$512$1(),supportedExtensions:m$512$1(),maxDepth:m$512$1(),canModifyContents:m$545$1(!0),canListContents:m$545$1(!0),cascadeAccessRights:m$545$1(!0),fullName:m$545$1({readOnly:!0,dependencies:[".name"],get:function(t,e,n,r){var i=this.name;return i}}),isRoot:m$629$1({readOnly:!0,get:function(t,e,n,r){return"root"===this.docwsid}}),isSystemFolder:m$629$1({readOnly:!0,get:function(t,e,n,r){var i=this.sanitizedName;return"root"===this.docwsid||"FOLDER::com.apple.CloudDocs::root"===this.parentId&&("Desktop"===i||"Documents"===i)}}),name:m$545$1({dependencies:["sanitizedName"],get:function(e,n,r,i){var s=i.internalGet(this,n[0+r]);return this.isSystemFolder?this.isRoot?m$565$1("Application.Title"):m$565$1("LocalizedItemName."+s):this.get("isAppLibrary")&&!s?t(this):(s&&(this.get("isFile")||this.get("isFolder"))&&(s=s.replace(/:/g,"/"),s=s.replace(/(\n|\r)/g," ")),s||"")},set:function(t,e,n,r,i){return(this.get("isFile")||this.get("isFolder"))&&(t=t.replace(/\//g,":")),n[0+r]=t,t},writeDependencySetPathMap:["false"]}),icons:m$512$1(),content:m$629$1({readOnly:!0,get:function(t,e,n,r){var i=this._folderContent;return i||(i=this._folderContent=this.loadFolderContent()),i}}),loadFolderContent:function(){var t=m$63$0.create({folder:this});return t},createSubfolder:function(t){
return this.get("content").createSubfolder(t)},acceptsItems:function(t){if(t.indexOf(this)>-1)return!1;if(m$66$0.checkIfItemsContainAppLibrary(t))return!1;if(this.get("transactionState")!==m$56$0.Prepared)return!1;if(this.canModifyContents===!1)return!1;var n=this.getContainingAppLibrary();if(n){var r=n.get("maxDepth"),i=t.some(function(t){if(t.get("isFolder")&&e[r]<=this.get("depth"))return!0},this);if(i)return!1}var s=t.some(function(t){return t.get("isFolder")||m$55$0[t.get("share")]===m$55$0.TO_ME?t.get("zone")!==this.get("zone"):!this.acceptsFilesWithExtension(t.get("extension"))},this);return!s},acceptsFilesWithExtension:function(t){var e=this.get("isAppLibrary")?this:this.getContainingAppLibrary();if(e){var n=e.get("supportedExtensions"),r=t?t.toLowerCase():null;if(n&&n.indexOf(r)<0)return!1}return!0},getContainingAppLibrary:function(){for(var t=this.get("parent");t;){if(t.get("isAppLibrary"))return t;t=t.get("parent")}return null},getAppLibrary:function(){for(var t=this;t;){if(t.get("isAppLibrary"))return t;t=t.get("parent")}return null},prepareForTransaction:function(t){this.get("content").prepareForTransaction(t)},finalizeForTransaction:function(t){this.get("content").finalizeForTransaction(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.Folder"}});m$65$0=n}();
!function(){"use strict";var e=m$563$1("AccessRights",["Allow","Deny"]),t={Desktop:{parentId:"FOLDER::com.apple.CloudDocs::root",cascadeAccessRights:!1,rights:{DELETE:e.Allow,EDIT:e.Deny}},Documents:{parentId:"FOLDER::com.apple.CloudDocs::root",cascadeAccessRights:!1,rights:{DELETE:e.Allow,EDIT:e.Deny}}},s=m$626$0.extend({assignRightsToContent:function(e,t){this._cascadeParentFolderRestrictions(e,t);for(var s=0;s<t.length;s++){var n=t[s],c=this._getSettingsForMatchInAccessRightsAssignment(n);c&&n&&(m$620$0(n,m$64$0)!==!0&&m$620$0(n,m$65$0)!==!0||this._processSettingsForItem(n,c))}},_getSettingsForMatchInAccessRightsAssignment:function(e){var s=e.id,n=t[s];if(n)return n;var c=e.sanitizedName,a=e.parentId;if(n=t[c]){var i=n.parentId;if(i&&i===a)return n}return null},_processSettingsForItem:function(t,s){var n=s.rights;for(var c in n){var a=n[c];switch(c){case"DELETE":a===e.Deny&&(t.canDelete=!1);break;case"EDIT":a===e.Deny&&(t.canEdit=!1);break;case"EDIT_CONTENTS":a===e.Deny&&(t.canModifyContents=!1);break;case"LIST_CONTENTS":a===e.Deny&&(t.canListContents=!1)}}if(t.isFolder){var i=s.cascadeAccessRights;i===!1&&void 0!==i&&(t.cascadeAccessRights=!1)}},_cascadeParentFolderRestrictions:function(e,t){var s=e.cascadeAccessRights;if(s)for(var n=e.canDelete,c=e.canEdit,a=e.canModifyContents,i=e.canListContents,r=0;r<t.length;r++){var o=t[r];n||(o.canDelete=!1),c||(o.canEdit=!1),o.isFolder&&(a||(o.canModifyContents=!1),i||(o.canListContents=!1))}},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.AccessRightsAssignmentManager"}});m$52$0=s}();
!function(){"use strict";var e=m$545$0.extend({staticMembers:{booleanProperty:function(e){return t.create(e)},numberProperty:function(e){return n.create(e)},stringProperty:function(e){return r.create(e)},enumProperty:function(e,t){return o.create(e,t)},__QUALIFIED_CLASS_NAME__:"CW.ConfigProperty"},downstreamNodeManagerClass:m$546$0.extend({calculateValueForNode:function(e,t,n){if(n){var r=m$541$0.getStateIDForNode(t);r>0&&m$541$0.getValueForNode(r)}var o=e._config_debugValues[this.key];return void 0===o&&(o=this.get.call(e)),o},debugType:"Config"}),upstreamNodeManagerClass:m$552$0.extend({calculateValueForNode:function(e,t,n){var r,o=this.key;if(n){var i=m$541$0.getStateIDForNode(t);m$541$0.setStateDataForNode(void 0,t),m$541$0.getValueForNode(i)}r=m$541$0.getStateDataForNode(t),void 0===r?delete e._config_debugValues[o]:e._config_debugValues[o]=r},debugType:"Config"}),wasRegistered:function(){this.__s._CT$yE$wasRegistered.apply(this,arguments),this.readOnly=!1},setInitialValueForObject:function(e,t,n){this.usesBuiltinGet?e._config_defaultValues[t]=n:e._config_defaultValues[t]=void 0},didChange:function(e){this.writeToSessionStorage&&this.writeToSessionStorage()},__superMap:{_CT$yE$wasRegistered:"wasRegistered"}}),t=e.extend({type:"boolean",configType:"boolean",parse:function(e){return"boolean"==typeof e?e:"true"===e},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.BooleanConfigProperty$785"}}),n=e.extend({type:"number",configType:"number",parse:function(e){return e=parseFloat(e),isNaN(e)?void 0:e},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.NumberConfigProperty$785"}}),r=e.extend({
type:"string",configType:"string",parse:function(e){return e+""},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.StringConfigProperty$785"}}),o=e.extend({configType:"enum",allowedValues:null,parse:function(e){if(""!==e){var t=this.allowedValues;return t.indexOf(e)>-1?e:void m$802$0("Not a recognized value in enum: "+e,{value:e,allowedValues:t})}},init:function(e,t){this.allowedValues=e,this.__s._CT$1b4$init.call(this,t)},__superMap:{_CT$1b4$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.EnumConfigProperty$785"}});m$785$0=e}();
!function(){"use strict";function t(t){try{return window[t]}catch(e){m$809$1.warn("Could not get storage object for %@: %@",t,e)}}var e="localStorage",r="sessionStorage",i=m$626$0.extend(m$643$0,{init:function(t){t||m$802$0("Storage#init requires a storage type."),this.__s._Ah$7i$init.call(this),this.storageType=t},storageType:null,getItem:function(e,r){var i=t(this.storageType);return i&&i.getItem?(r&&(e=r+"."+e),i.getItem(e)):null},setItem:function(e,r,i){var n=t(this.storageType);if(n&&n.setItem){i&&(e=i+"."+e);try{return n.setItem(e,r),!0}catch(t){}}return!1},getKeys:function(e){var r=t(this.storageType),i=[];if(r){e?e+=".":e="";var n=e?e.length:0;for(var s in r)0===s.indexOf(e)&&i.push(s.substring(n))}return i},removeItem:function(e,r){var i=t(this.storageType);if(i&&i.removeItem){r&&(e=r+"."+e);try{return i.removeItem(e),!0}catch(t){}}return!1},clear:function(e){var r=t(this.storageType);if(r){if(e){for(var i=this.getKeys(e),n=0,s=i.length;n<s;n++)this.removeItem(i[n],e);return!0}try{return r.clear(),!0}catch(t){}}return!1},__superMap:{_Ah$7i$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.StorageManager"}}),n=i.extend({init:function(){this.__s._Ah$1J6$init.call(this,e)},__superMap:{_Ah$1J6$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.LocalStorage"}}),s=i.extend({init:function(){this.__s._Ah$1Kw$init.call(this,r)},__superMap:{_Ah$1Kw$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.SessionStorage"}});m$673$0=i,m$673$1=n,m$673$2=s}();
!function(){"use strict";function t(){var t=e(window.location.hash);for(var s in t)if(t.hasOwnProperty(s)){var i=t[s],n=this.getMetadata(s);n&&(i=n.parse(i),void 0!==i?this._config_urlValues[s]=i:delete this._config_urlValues[s],this.propertyChanged(s))}}function e(t){var e={},s="#cw_config:";if(t.substr(0,s.length)!==s)return e;t=t.substr(s.length);var i,n,r,o,a=t.split("&"),u=a.length;for(n=0;n<u;n++){i=a[n];var g=i.indexOf("=");g<0?(r=i,o="true"):(r=i.substr(0,g),o=i.substr(g+1)),r=decodeURIComponent(r),o=decodeURIComponent(o),e[r]=o}return e}function s(){var t=n.getItem(this._computedStorageKey),e=this._config_defaultValues,s=!1;if(t)try{t=JSON.parse(t);for(var i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(this.set(i,t[i]),s=!0)}catch(t){}return s}var i=m$626$0.extend(m$544$0,m$643$0,{staticMembers:{booleanProperty:m$785$0.booleanProperty,numberProperty:m$785$0.numberProperty,stringProperty:m$785$0.stringProperty,enumProperty:m$785$0.enumProperty,__QUALIFIED_CLASS_NAME__:"CW.Config"},_config_debugValues:null,_config_urlValues:null,_config_defaultValues:null,_shouldWriteChangesToSessionStorage:!1,init:function(){this._config_defaultValues={},this._config_urlValues=Object.create(this._config_defaultValues),this._config_debugValues=Object.create(this._config_urlValues),this.__s._CS$wU$init.call(this),this.constructor===i?m$802$0("CW.Config cannot be instantiated directly, must subclass."):this.constructor.storageKey||m$802$0("Must define a `storageKey` static member for CW.Config subclasses."),this._computedStorageKey="Apple:Config:"+this.constructor.storageKey,t.call(this),
s.call(this)&&this.didLoadConfigFromSessionStorage(),this._shouldWriteChangesToSessionStorage=!0,m$792$0(window,"hashchange",t.bind(this))},didLoadConfigFromSessionStorage:function(){},setFromString:function(t,e){this.set(t,this.getMetadata(t).parse(e))},typeOf:function(t){return this.getMetadata(t).configType},dump:function(t){t||(t="");var e=this._config_debugValues,s=this._config_urlValues,i="",n="",r="",o=[],a=this.getMetadataByType(m$785$0);for(i in a)a.hasOwnProperty(i)&&(n=t+i+": ",r="",e.hasOwnProperty(i)&&(r+=this.getDebugValue(i)+" (Debug); "),s.hasOwnProperty(i)&&(r+=this.getURLValue(i)+" (URL); "),r+=this.getDefaultValue(i)+" (Default)",o.push(n+r));return o.join("\n")},getDefaultValue:function(t){return void 0!==this._config_defaultValues[t]?this._config_defaultValues[t]:this.getMetadata(t).getForObject(this,t)},setDefaultValue:function(t,e){this._config_defaultValues[t]=e,this.propertyChanged(t)},getURLValue:function(t){if(this._config_urlValues.hasOwnProperty(t))return this._config_urlValues[t]},getDebugValue:function(t){if(this._config_debugValues.hasOwnProperty(t))return this._config_debugValues[t]},clearDebugValues:function(){var t=this.getMetadataByType(m$785$0);for(var e in t)t.hasOwnProperty(e)&&this.set(e,void 0)},writeToSessionStorage:function(){this._shouldWriteChangesToSessionStorage&&this._computedStorageKey&&n.setItem(this._computedStorageKey,JSON.stringify(this._config_debugValues))},__superMap:{_CS$wU$init:"init"}}),n=m$673$2.get("sharedInstance");m$784$0=i}();
!function(){"use strict";var t="/ws/%{zone}/upload/web",e="/ws/%{zone}/update/documents",p="http://support.apple.com/kb/ht4847",o=m$784$0.extend({staticMembers:{storageKey:"BRApp"},uploadInitPathTemplate:m$784$0.stringProperty(t),uploadCommitPathTemplate:m$784$0.stringProperty(e),supportHelpPage:m$784$0.stringProperty(p),ROOT_FOLDER_ID:"FOLDER::com.apple.CloudDocs::root"}).create();m$29$0=o}();
!function(){"use strict";var o=m$626$0.extend(m$643$0,{_cookieString:null,_cookiesObj:null,getCookies:function(){var o=document.cookie;if(this._cookieString===o)return this._cookiesObj;var e={};if(this._cookieString=o,o)for(var i=o.split(";"),t=0,n=i.length;t<n;t++){var r=i[t].split("="),s=r.shift().trim(),c=r.join("=");c||m$802$0("Invalid cookie - no value"),c=c.trim(),e[s]=c}return this._cookiesObj=e},getCookie:function(o){var e=this.getCookies();return e[o]},removeCookie:function(o,e,i){var t=o+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT";e&&(t=t+"; domain="+e),i&&(t=t+"; path="+i),document.cookie=t},removeCookies:function(o,e,i){var t,n;if(o instanceof Array)for(t=0,n=o.length;t<n;t++)this.removeCookie(o[t],e,i);else{var r=document.cookie.split(";");for(t=0,n=r.length;t<n;t++){var s=r[t],c=s.indexOf("="),a=c>-1?s.substr(0,c):s;o.test(a)&&this.removeCookie(a,e,i)}}},setCookie:function(o,e){var i=o+"="+e+";";document.cookie=i},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Utils.CookieManager"}});m$786$0=o}();
!function(){"use strict";var e={getListOfAvailableCookiesAsConcatenatedString:function(){for(var e=this.getListOfAvailableCookiesAsHash(),t=Object.keys(e),i="",s=0;s<t.length;s++){var a=t[s],o=e[a];i+=a+":"+o+";"}return i},getListOfAvailableCookiesAsHash:function(){var e=m$786$0.create(),t=e.getCookies();return t}};m$202$0=e}();
!function(){"use strict";function r(r,t){var a="",u=4026531840;t=!!t;for(var v=0;v<=7;v++){t&&v>0&&v%2===0&&(a+=" ");var c=(r&u>>>4*v)>>>4*(7-v);a+=n[c]}return a}var n="0123456789ABCDEF";m$922$0=r}();
!function(){"use strict";function t(){var t=0;return function(){return t+=1}}function e(t,e){return new n(t,e,null,0)}var l=[4278190080,4294901760,4294967040,4294967280,4294967295],u=[24,16,8,4,0],n=function(e,l,n,i,s){this.name=e,this.value=l,this.level=i,this.parent=n||null,this.group=s||null;var a=l<<u[i];this.fullValue=n?n.fullValue+a:a,this.fullName=n?n.fullName+"."+e:e,this._nextSubstateValue=t(),s||Object.freeze(this)},i=n.prototype;i.equals=function(t){return t.fullValue===this.fullValue},i.substateOf=function(t){return!(this.level<=t.level)&&(this.fullValue&l[t.level])===t.fullValue},i.superstateOf=function(t){return!(this.level>=t.level)&&(t.fullValue&l[this.level])===this.fullValue},i.contains=function(t){return this.equals(t)||t.substateOf(this)},i.createSubstate=function(t){return new n(t,this._nextSubstateValue(),this,this.level+1,this.group)},i.toString=function(){var t=this.group,e=t?t.name+" State":"StateEnum",l=t?"":" <"+m$922$0(this.fullValue,!0)+">";return"["+e+": "+this.fullName+l+"]"},m$902$0=n,m$902$1=e}();
!function(){"use strict";function e(e,n){var i=new r(e),u=t(i,null);n(u);for(var a=i.items,c=a.length,f=0;f<c;f++)Object.freeze(a[f]);return Object.freeze(i),i}function t(e,n){var r=1;return function(i,u){var a=null;a=n?n.createSubstate(i):new m$902$0(i,r,null,0,e);var c=a.fullName.replace(".","");if(e.items.push(a),e[c]=a,n&&(n[i]=a),r+=1,u){var f=t(e,a);u(f)}}}var n=1,r=function(e){this.items=[],this.name=e,this.id=n,n++};m$900$0=r,m$900$1=e}();
!function(){"use strict";function t(t){return f[t]||""}function n(t,n,r){if(!t)return"";if("string"!=typeof t)try{t=t.toString()}catch(t){return""}return t.replace(n,r)}function r(r){return n(r,e,t)}function u(r){return n(r,c,t)}function i(t){return n(t,o,"\\$&")}var e=/[&<>]/g,c=/[&<>'"]|((((j|vb|live).*)?)+\w+script:)/gi,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=/[-\/\\^$*+?.()|[\]{}]/g;m$828$0=r,m$828$1=u,m$828$2=i}();
!function(){"use strict";function n(n,t,e){null===e||void 0===e?delete n[t]:n[t]=e}m$822$0=n}();
!function(){"use strict";function t(t){try{return JSON.parse(t)}catch(r){return t}}function r(t){return""+t}var e=m$626$0.extend(m$544$0,{staticMembers:{shouldUseFormEncoding:!1,components:m$619$1(["protocol","auth","hostname","port","pathname","query","hash"]),componentFormatters:{protocol:function(t){return t+(c[t]?"":"//")},auth:function(t){return t+"@"},port:function(t){return":"+t}},componentCleaners:{protocol:function(t){return t.replace("//","")},auth:function(t){return t.replace("@","")}},parse:function(t){var r,e,o,i,a,u=t.match(n),s={},c=this.components;for(o=0,i=c.length;o<i;o++)(r=u[o+1])&&(e=c[o],a=this.componentCleaners[e],s[e]=a?a(r):r);return s},parseQuery:function(t,r){var e={};if(!m$781$0(t))return e;if(t=t.replace(o,""),""===t)return e;r=void 0===r?this.shouldUseFormEncoding:r;for(var n=t.split("&"),i=0,a=n.length;i<a;i++){var u,c=n[i].split("="),h=c[0],m=c[1];s.test(h)&&(h=h.replace(s,""),u=!0),m=this.parseValue(l(m,r));var p=e[h];p?(Array.isArray(p)?p.push(m):p=[p,m],m=p):u&&(m=[m]),e[h]=m}return e},parseValue:function(r){if(r&&i.test(r)){r=r.split(",");for(var e=r.length-1;e>=0;e--)r[e]=t(r[e]);return r}return t(r)},formatQuery:function(t,r){if(!m$780$0(t))return t;r=void 0===r?this.shouldUseFormEncoding:r;var e,n,o,i,a=Object.keys(t),u="";for(o=0,i=a.length;o<i;o++)e=a[o],n=t[e],o>0&&(u+="&"),u+=h(e,r),null!==n&&void 0!==n&&(n=h(this.formatValue(n),r),u+="="+n);return o>0?"?"+u:""},formatValue:function(t){if(Array.isArray(t)){for(var e=t.length-1;e>=0;e--)t[e]=r(t[e]);return t.join(",")}return r(t)},init:function(){this.__s._9J$31N$init.apply(this,arguments),
this.prototype.registerMetadata("href",m$545$1({dependencies:this.components}))},__superMap:{_9J$31N$init:"init"},__QUALIFIED_CLASS_NAME__:"CW.Network.URL"},protocol:m$545$1(null),auth:m$545$1(null),hostname:m$545$1(null),port:m$545$1({defaultValue:null,set:function(t,r,e,n,o){return parseInt(t,10)}}),pathname:m$545$1(null),query:m$545$1(null),hash:m$545$1(null),href:m$545$1({readOnly:!0,get:function(t,r,e,n){var o,i,a,u,s,c="",h=this.constructor.components,n=arguments[3],r=arguments[1],e=arguments[2];for(i=0,a=h.length;i<a;i++)u=h[i],(o=n.internalGet(this,r[i+e]))&&(s=this.constructor.componentFormatters[u],c+=s?s(o):o);return c}}),host:m$545$1({readOnly:!0,dependencies:["port","hostname"],get:function(t,r,e,n){var o=n.internalGet(this,r[0+e]),i=n.internalGet(this,r[1+e]);return o&&(i=(i||"")+":"+o),i}}),origin:m$545$1({readOnly:!0,dependencies:["host","protocol"],get:function(t,r,e,n){var o=n.internalGet(this,r[0+e]),i=n.internalGet(this,r[1+e]);if(i){var a=this.constructor.componentFormatters;o=a.protocol(i)+(o||"")}return o}}),path:m$545$1({readOnly:!0,dependencies:["query","pathname"],get:function(t,r,e,n){var o=n.internalGet(this,r[0+e]),i=n.internalGet(this,r[1+e]);return o&&(i=(i||"")+o),i}}),queryObject:m$545$1({dependencies:["query"],get:function(t,r,e,n){return this.constructor.parseQuery(n.internalGet(this,r[0+e]))},set:function(t,r,e,n,o){e[0+n]=this.constructor.formatQuery(t)},writeDependencySetPathMap:["false"]}),isInDomain:function(t){var r=this.hostname;if(!r||""===t)return!1;var e=new RegExp("(^|\\.)"+m$828$2(t)+"$","i"),n=r.match(e);return!!n},setQueryParameter:function(t,r){
var e=this.query;return e?(this.removeQueryParameter(t),this.appendQueryParameter(t,r)):this.appendQueryParameter(t,r)},appendQueryParameter:function(t,r){var e=this.query||"?";return"?"!==e&&(e+="&"),e+=h(t)+(null!==r&&void 0!==r?"="+h(this.constructor.formatValue(r),this.constructor.shouldUseFormEncoding):""),this.query=e,this},removeQueryParameter:function(t){var r=this.query;if(!r)return this;var e=this._regexpForQueryParameterKey(t),n=r.replace(e,""),o=n[0];return n?"?"!==o&&("&"===o&&(n=n.substr(1)),n="?"+n):n=null,this.query=n,this},getQueryParameter:function(t){var r=this.query;if(r){var e=this._regexpForQueryParameterKey(t),n=e.exec(r);if(n){var o=n[3];return void 0===o?null:l(o)}}},_regexpForQueryParameterKey:function(t){var r=m$828$2(t)+"|"+m$828$2(h(t));return new RegExp("(^|\\?|&)("+r+")(?:=([^&]*))?(?=&|$)","g")},setMultipleQueryParameters:function(t){for(var r in t)t.hasOwnProperty(r)&&this.setQueryParameter(r,t[r]);return this},init:function(t){if(m$781$0(t))t=this.constructor.parse(t);else if(t&&t.constructor===window.Location){for(var r,e,n={},o=this.constructor.components,i=0,a=o.length;i<a;i++)e=r=o[i],"query"===e&&(r="search"),n[e]=t[r];t=n}else t&&!m$780$0(t)&&m$802$0("A URL object cannot be created with the data provided",t);this.__s._9J$6Bl$init.call(this,t)},toString:function(){return this.href},toJSON:function(){return""+this},__superMap:{_9J$6Bl$init:"init"}}),n=/^(.*?\:\/\/)?([^\:\/\?]*:?[^\:\/\?]*@+)?([^\:\/\?]*)\:?(\d*)?([^\?\#]*)?(\??[^\#]*)(\#?.*)?$/,o=/^\?/,i=/\,/,a=/%20/g,u=/\+/g,s=/\[\]$/,c={"mailto:":!0},h=function(t,r){var e=encodeURIComponent(""+t);
return r?e.replace(a,"+"):e},l=function(t,r){if(!t)return t;var e=decodeURIComponent(""+t);return r?e.replace(u," "):e};m$586$0=e}();
!function(){"use strict";var i=m$900$1("BRApp.IconDisplaySizes",function(i){i("LARGE"),i("MEDIUM")});m$100$0=i}();
!function(){"use strict";var e=m$900$1("BRApp.IconServiceIconFamilies",function(e){e("DEFAULT"),e("APP_LIBRARY"),e("IWORK")}),t={"script editor":["applescript","scpt"],automator:["action","workflow","caction","definition"],keynote:["key","keynote","key-tef","keynote-tef","kth"],numbers:["numbers","numbers-tef","nmbtemplate"],pages:["pages","pages-tef","template"]},r={keynote:r$968,"keynote-retina":r$969,"keynote-file":r$970,"keynote-file-retina":r$971,numbers:r$972,"numbers-retina":r$973,"numbers-file":r$974,"numbers-file-retina":r$975,pages:r$976,"pages-retina":r$977,"pages-file":r$978,"pages-file-retina":r$979,imovie:r$980,"imovie-retina":r$981,ibooks:r$982,"ibooks-retina":r$983,garageband:r$984,"garageband-retina":r$985,automator:r$986,"automator-retina":r$987,"automator-file":r$988,"automator-file-retina":r$989,"generic-icon":r$990,"generic-icon-retina":r$991},i={key:r.keynote,"key-tef":r.keynote,key_retina:r["keynote-retina"],"key-tef_retina":r["keynote-retina"],keynote:r.keynote,"keynote-tef":r.keynote,kth:r.keynote,keynote_retina:r["keynote-retina"],"keynote-tef_retina":r["keynote-retina"],kth_retina:r["keynote-retina"],numbers:r.numbers,"numbers-tef":r.numbers,nmbtemplate:r.numbers,numbers_retina:r["numbers-retina"],"numbers-tef_retina":r["numbers-retina"],nmbtemplate_retina:r["numbers-retina"],pages:r.pages,"pages-tef":r.pages,template:r.pages,pages_retina:r["pages-retina"],"pages-tef_retina":r["pages-retina"],template_retina:r["pages-retina"],imovielibrary:r.imovie,imovielibrary_retina:r["imovie-retina"],imoviemobile:r.imovie,imoviemobile_retina:r["imovie-retina"],
band:r.garageband,band_retina:r["garageband-retina"],ibooks:r.ibooks,ibooks_retina:r["ibooks-retina"],"br.__default":r["generic-icon"],"br.__default_retina":r["generic-icon-retina"],"br.__keynote-file":r["keynote-file"],"br.__keynote-file_retina":r["keynote-file-retina"],"br.__numbers-file":r["numbers-file"],"br.__numbers-file_retina":r["numbers-file-retina"],"br.__pages-file":r["pages-file"],"br.__pages-file_retina":r["pages-file-retina"],automator:r.automator,action:r.automator,workflow:r.automator,caction:r.automator,definition:r.automator,automator_retina:r.automator_retina,action_retina:r.automator_retina,workflow_retina:r.automator_retina,caction_retina:r.automator_retina,definition_retina:r.automator_retina,"br.__automator-file":r["automator-file"],"br.__automator-file_retina":r["automator-file-retina"]},n={key:"IOS","key-tef":"IOS",key_retina:"IOS","key-tef_retina":"IOS","keynote-tef":"IOS",keynote_retina:"IOS","keynote-tef_retina":"IOS",kth:"IOS",kth_retina:"IOS",numbers:"IOS","numbers-tef":"IOS",nmbtemplate:"IOS",numbers_retina:"IOS","numbers-tef_retina":"IOS",nmbtemplate_retina:"IOS",pages:"IOS","pages-tef":"IOS",pages_retina:"IOS","pages-tef_retina":"IOS",template:"IOS",template_retina:"IOS",imovielibrary:"IOS",imovielibrary_retina:"IOS",imoviemobile:"IOS",imoviemobile_retina:"IOS",band:"IOS",band_retina:"IOS",ibooks:"IOS",ibooks_retina:"IOS","br.__default":"IOS","br.__default_retina":"IOS",automator:"IOS",workflow:"IOS",action:"IOS",caction:"IOS",definition:"IOS"},a={png:"image",jpeg:"image",jpg:"image",gif:"image",bmp:"image",tif:"image",tiff:"image",aac:"audio",
wav:"audio",m4a:"audio",m4p:"audio",aiff:"audio",midi:"audio",wave:"audio",mp3:"audio",mp4:"video",m4v:"video",mov:"video",vcf:"vcard",vcard:"vcard",eml:"email",crt:"cert",csr:"cert",ical:"cal",ics:"cal",ifb:"cal",vpn:"vpn",doc:"msword",docx:"msword",xlam:"msexcel",xls:"msexcel",xlsx:"msexcel",ppt:"msppoint",pptx:"msppoint",rtf:"rtf",txt:"txt",csv:"csv",mobileprovision:"prov-profile"},o=m$626$0.extend(m$643$0,{registerIconsForAppLibraries:function(e){for(var t,r=e.length,i=0;i<r;i++){var n=e[i];if(n.get("isAppLibrary")){var a=n.get("icons");if(a){var o=n.get("name");if(1===a.length)t=a.objectAt(0),this._updateIconMapForLibrary(o,t.url,t.type);else{var s="IOS"===a.objectAt(0).type?0:1;t=a.objectAt(s),this._updateIconMapForLibrary(o,t.url,t.type)}}}}},getGlyphClassNameForFileType:function(e){return a[e||""]},fetchIconURL:function(t,r){var i=this,n=m$242$0.create();return m$254$0.setTimeout(function(){switch(r){case e.APP_LIBRARY:i._fetchIconURLForAppLibrary(t).then(function(e){n.resolve(e)});break;case e.IWORK:i._fetchIWorkIconURLForExtension(t).then(function(e){n.resolve(e)});break;default:i._fetchIconURLForFileType(t).then(function(e){n.resolve(e)})}}),n},getIconURL:function(t,r){switch(r){case e.APP_LIBRARY:return this._getIconURLForAppLibrary(t);case e.IWORK:return this._getIWorkIconURLForExtension(t);default:return this._getIconURLForFileType(t)}},_fetchIconURLForFileType:function(e){var t=this,r=m$242$0.create();return m$254$0.setTimeout(function(){var n=m$653$0.get("sharedInstance").get("devicePixelRatio"),a="";n>1&&(a="_retina");var o;o=e?e+a:"br.__default"+a;var s=i[o];
t.isDriveWsURL(s)&&(s=s+="&validateToken="+t.getValidateCookie()),r.resolve(s)}),r},_getIconURLForFileType:function(e){var t=m$653$0.get("sharedInstance").get("devicePixelRatio"),r="";t>1&&(r="_retina");var n;n=e?e+r:"br.__default"+r;var a=i[n];return this.isDriveWsURL(a)&&(a+="&validateToken="+this.getValidateCookie(),a+="&dsid="+m$886$0.getPath("currentUser.dsid")),a},_fetchIconURLForAppLibrary:function(e){var r=this,i=m$242$0.create();return m$254$0.setTimeout(function(){if(!e)return void r._fetchIconURLForFileType(null).then(function(e){i.resolve(e)});var n=e.toLowerCase(),a=t[n];r._fetchIconURLForFileType(a?a[0]:null).then(function(e){i.resolve(e)})}),i},_getIconURLForAppLibrary:function(e){if(!e)return this._getIconURLForFileType(null);var r=e.toLowerCase(),i=t[r];return this._getIconURLForFileType(i?i[0]:null)},_getContainerTypeForAppLibrary:function(e){var r=e.toLowerCase(),i=t[r];return i?i[0]:null},_fetchIWorkIconURLForExtension:function(e){var t=m$242$0.create();return m$254$0.setTimeout(function(){var r=m$653$0.get("sharedInstance").get("devicePixelRatio"),n="br.__default",a=r>1?"_retina":"";"key"===e||"keynote"===e||"key-tef"===e||"keynote-tef"===e||"kth"===e?n="br.__keynote-file":"numbers"===e||"numbers-tef"===e||"nmbtemplate"===e?n="br.__numbers-file":"pages"!==e&&"pages-tef"!==e&&"template"!==e||(n="br.__pages-file");var o=i[n+a];t.resolve(o)}),t},_getIWorkIconURLForExtension:function(e){var t=m$653$0.get("sharedInstance").get("devicePixelRatio"),r="br.__default",n=t>1?"_retina":"";"key"===e||"keynote"===e||"key-tef"===e||"keynote-tef"===e||"kth"===e?r="br.__keynote-file":"numbers"===e||"numbers-tef"===e||"nmbtemplate"===e?r="br.__numbers-file":"pages"!==e&&"pages-tef"!==e&&"template"!==e||(r="br.__pages-file");
var a=i[r+n];return a},getIconTypeForFileType:function(e){var t=m$653$0.get("sharedInstance").get("devicePixelRatio"),r="";t>1&&(r="_retina");var i;return i=e?e+r:"br.__default"+r,n[i]},getIconTypeForAppLibrary:function(e){if(!e)return this.getIconTypeForFileType(null);var r=e.toLowerCase(),i=t[r];return this.getIconTypeForFileType(i?i[0]:null)},getValidateCookie:function(){var e=m$886$0.get("cloudOSService");try{return e.getValidateToken()}catch(e){var t=m$202$0.getListOfAvailableCookiesAsConcatenatedString();m$802$0("Error in BR.Services.IconService requesting COSK getValidateCookie()",{error:e,cookies:t})}},isDriveWsURL:function(e){if(!e)return!1;var t=m$586$0.create(this.getDriveWsURL()),r=t.get("hostname"),i=m$586$0.create(e);return i.isInDomain(r)},getDriveWsURL:function(){var e=m$886$0.get("cloudOSService"),t=e.get("environment").get("authBag");return t.getServiceUrlFor("drivews",!1)},getIconSizeForType:function(e,t){return t&&t===m$100$0.MEDIUM?"IOS"===e?20:"OSX"===e?22:0:"IOS"===e?60:"OSX"===e?64:0},getIconCanvasSizeForType:function(e,t){var r=this.getIconSizeForType(e,t);return r},_updateIconMapForLibrary:function(e,r,a){var o=e.toLowerCase(),s=t[o];if(!s){var c="br._container_"+o.replace(/ /g,"");t[o]=[c],s=[c]}for(var m=s.length,u=0;u<m;u++){var l=s[u];i[l]=r,n[l]=a,l+="_retina",i[l]=r,n[l]=a}},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Services.IconService"}});m$417$1=e,m$417$0=o}();
!function(){"use strict";var e={decline:function(e,t){},fetch:function(e){}},t=m$563$1("BRApp.Data.FileSystemProxyConflictType",["None","QueryAlreadyActive"]);m$62$0=e,m$62$1=t}();
!function(){"use strict";function o(o){return o=o||new r(16),a(o),o[6]=15&o[6]|64,o[8]=63&o[8]|128,o}var a,r=global.Uint8Array||global.Array;a=global.crypto&&global.crypto.getRandomValues?function(o){global.crypto.getRandomValues(o)}:function(o){for(var a,r,n,t=0;t<16;)for(r=Math.random(),a=0;a<4;t++,a++)r*=256,n=0|r,o[t]=n,r-=n},m$836$0=o}();
!function(){"use strict";function r(r){var t,c,f="";for(t=0;t<16;t++)c=r[t],f+=n[c>>4],f+=n[15&c],3!==t&&5!==t&&7!==t&&9!==t||(f+="-");return f}var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];m$837$0=r}();
!function(){"use strict";function $(){return n=m$836$0(n),m$837$0(n)}var n;m$838$0=$}();
!function(){"use strict";var s=m$563$1("TaskScheduler.TaskStatus",["Pending","Running","Done"]),n=m$626$0.extend(m$544$0,{delegate:null,traceId:null,trace:!1,allowedMaximumRunningTasks:1,suspend:function(){this._suspended||(this._suspended=!0)},resume:function(){if(this._suspended){this._suspended=!1;var s=this._tasksQueue;s&&s.length>0&&this._tryRunningNextTask()}},isActive:m$545$1({readOnly:!0,dependencies:["hasScheduledTasks","hasRunningTasks"],get:function(s,n,t,e){return!(!e.internalGet(this,n[0+t])&&!e.internalGet(this,n[1+t]))}}),isSuspended:m$545$1({readOnly:!0,get:function(s,n,t,e){return this._suspended}}),hasScheduledTasks:m$545$1({readOnly:!0,get:function(s,n,t,e){return this._tasksQueue.length>0}}),hasRunningTasks:m$545$1({readOnly:!0,get:function(s,n,t,e){return this._runningTasksCount>0}}),runningTasksCount:m$629$1({readOnly:!0,get:function(s,n,t,e){return this._runningTasksCount}}),scheduledTasksCount:m$629$1({readOnly:!0,get:function(s,n,t,e){return this._tasksQueue.length}}),init:function(s){this.__s._40$kS$init.call(this,s),this._suspended=!1,this._tasksQueue=[],this._runningTasks={},this._runningTasksCount=0},scheduleTask:function(n){var t=m$242$0.create(),e={status:s.Pending,task:n,promise:t},i=this,a=!0;return e.cancelObserver=n.observe("cancelled",function(s){s&&(a||i._taskDidCancel(e,s.context))}),a=!1,this._tasksQueue.push(e),this.didScheduleTask(n),this.propertyChanged("hasScheduledTasks"),this._logTrace("scheduled task for run",n),this._tryRunningNextTask(),t},cancelAllQueuedTasks:function(){if(!this._isCancellingTasks){this._isCancellingTasks=!0;var s=this._tasksQueue,n=this,t=[];
s.forEach(function(s){var e=s.task;e.isCancellable?(e.cancel(),n.taskDidCancel(s)):t.push(s)}),this._tasksQueue=t,this._isCancellingTasks=!1,this.propertyChanged("hasScheduledTasks"),this._notifyFinishingScheduledTasksIfNeeded(),this._tryRunningNextTask()}},_tryRunningNextTask:function(){if(!this._suspended)for(var s=this.get("allowedMaximumRunningTasks"),n=this._tasksQueue;;){if(this._runningTasksCount===s)return void this._logTrace("Maximum number of tasks currently running. Cannot run another task");var t=n.shift();if(!t)return void this._logTrace("queue empty. No tasks to run");this._runTask(t)}},_runTask:function(n){var t=n.task;this._logTrace("running task",t),this.willStartRunningTask(t),n.status=s.Running,this._runningTasks[m$807$0(t)]=n,this._runningTasksCount++,this.propertyChanged("hasRunningTasks"),this.propertyChanged("hasScheduledTasks");var e=this;t.run().then(function(s){e._taskDidComplete(n,s)}).catch(function(s){e._taskDidFail(n,s)}),this.didStartRunningTask(t)},_taskDidComplete:function(s,n){var t=s.task,e=s.promise;this._logTrace("task completed",t),this._beginFinalizingTask(s),this.taskDidComplete(t),e.resolve(n),this._endFinalizingTask(t)},_taskDidFail:function(s,n){var t=s.task,e=s.promise;this._logTrace("task failed",t),this._beginFinalizingTask(s),this.taskDidFail(t,n),e.reject(n),this._endFinalizingTask(t)},_taskDidCancel:function(s,n){var t=s.task,e=s.promise;this._logTrace("task cancelled",t),this._beginFinalizingTask(s),this.taskDidCancel(t),e.cancel(n),this._endFinalizingTask(t)},_beginFinalizingTask:function(n){switch(n.status){case s.Pending:this._isCancellingTasks||(m$765$0(n,this._tasksQueue),
this.propertyChanged("hasScheduledTasks"));break;case s.Running:var t=n.task;delete this._runningTasks[m$807$0(t)],this._runningTasksCount--,this.propertyChanged("hasRunningTasks")}n.status=s.Done,n.cancelObserver.disconnect()},_endFinalizingTask:function(s){this._isCancellingTasks||(this._tryRunningNextTask(),this._notifyFinishingScheduledTasksIfNeeded())},_notifyFinishingScheduledTasksIfNeeded:function(){var s=this._runningTasksCount,n=this._tasksQueue.length;0===s&&0===n&&this.didFinishRunningScheduledTasks()},didScheduleTask:function(s){var n=this.get("delegate"),t=n?n.taskSchedulerDidScheduleTask:null;t&&t.call(n,this,s)},didFinishRunningScheduledTasks:function(){var s=this.get("delegate"),n=s?s.taskSchedulerDidFinishRunningScheduledTasks:null;n&&n.call(s,this)},willStartRunningTask:function(s){var n=this.get("delegate"),t=n?n.taskSchedulerWillStartRunningTask:null;t&&t.call(n,this,s)},didStartRunningTask:function(s){var n=this.get("delegate"),t=n?n.taskSchedulerDidStartRunningTask:null;t&&t.call(n,this,s)},taskDidComplete:function(s){var n=this.get("delegate"),t=n?n.taskSchedulerTaskDidComplete:null;t&&t.call(n,this,s)},taskDidFail:function(s,n){var t=this.get("delegate"),e=t?t.taskSchedulerTaskDidFail:null;e&&e.call(t,this,s,n)},taskDidCancel:function(s){var n=this.get("delegate"),t=n?n.taskSchedulerTaskDidCancel:null;t&&t.call(n,this,s)},_logTrace:function(s,n){if(this.trace){var t=this.traceId,e=t?"[BRKit.TaskScheduler: "+t+"]":this,i=e+" "+s;n&&(i+=": "+n),m$809$1.debug(i)}},__superMap:{_40$kS$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.TaskScheduler"
}});m$252$0=n}();
!function(){"use strict";var e=m$626$0.extend({scheduler:m$629$1({get:function(e,t,i,n){return this._scheduler}}),init:function(e){this.__s._n$4e$init.apply(this,arguments),this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){var e=m$252$0.create({trace:!1,traceId:"file system",allowedMaximumRunningTasks:1});return e},__superMap:{_n$4e$init:"init"}}).create(),t=e.get("scheduler");m$49$0=t}();
!function(){"use strict";var n=m$563$1("BRKit.RunState",["Pending","Running","Completed","Failed","Cancelled"]);m$247$0=n}();
!function(){"use strict";var t=m$626$0.extend(m$544$0,{isPending:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._taskRunState===m$247$0.Pending}}),isRunning:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._taskRunState===m$247$0.Running}}),isCancelled:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._taskRunState===m$247$0.Cancelled}}),hasFailed:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._taskRunState===m$247$0.Failed}}),hasCompleted:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._taskRunState===m$247$0.Completed}}),runState:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._taskRunState}}),error:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._taskError}}),result:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._taskResult}}),isCancellable:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._allowCancel()}}),cancelled:m$558$0(),init:function(t){this.__s._3_$Pb$init.call(this,t),this._taskRunState=m$247$0.Pending,this._promise=m$242$0.create(),this._taskError=null,this._taskResult=null,this._isCancellingRun=!1},run:function(){return this._taskRunState!==m$247$0.Pending&&m$802$0("Invalid state. Cannot run",{task:this}),this.startRun(),this._taskRunState=m$247$0.Running,this._promise},cancel:function(t){this.get("isCancellable")||m$802$0("Cannot cancel task. Not allowed.",{task:this}),this._taskRunState=m$247$0.Cancelled,this._isCancellingRun=!0},_allowCancel:function(){return!(this.get("isCancelled")||this.get("hasFailed")||this.get("hasCompleted"))&&this.shouldAllowCancel()},shouldAllowCancel:function(){return!1},
startRun:function(){},finishRunWithSuccess:function(t){this._taskResult=t||null,this._taskRunState=m$247$0.Completed,this._promise.resolve(t)},finishRunWithFailure:function(t){this._taskError=t||null,this._taskRunState=m$247$0.Failed,this._promise.reject(t)},finishCancellingRun:function(t,n){n&&n.force===!0?(this._taskRunState=m$247$0.Cancelled,this._isCancellingRun=!0):this._isCancellingRun||m$802$0("Cannot finish cancelling. Invalid call.",{task:this}),this._isCancellingRun=!1,this._promise.cancel(t),this.cancelled(t)},__superMap:{_3_$Pb$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.Task"}});m$251$0=t}();
!function(){"use strict";var $="willSend",d="didSend",m="didSucceed",i="didProgress",e="didFail",n="didComplete",t="didAbort",s="didFinalize",l="unsent",o="sending",r="timedout",u="GET",c="POST",E="PUT",S="DELETE";m$574$0=$,m$574$1=d,m$574$3=m,m$574$2=i,m$574$4=e,m$574$5=n,m$574$6=t,m$574$7=s,m$574$8=l,m$574$9=o,m$574$10=r,m$574$11=u,m$574$12=c,m$574$13=E,m$574$14=S}();
!function(){"use strict";var e={shouldReportSuccess:m$629$1(!1),shouldReportFailure:m$629$1(!0),reportingPathname:m$629$1({defaultValue:"REDACTED"}),reportingMethod:null,_timeSent:null,send:function(){this._timeSent=window.performance.now();var e=this.__s._ED$Pu$send.apply(this,arguments);return m$886$0.get("cloudOSService").requestSent(),e},didComplete:function(){this.sendReport()},sendReport:function(e){var t=this.get("response");if(t){var s=this.get("url"),n=t.get("encodedBody"),i=this.get("method"),o=this.get("reportingMethod"),r=null,u=t.get("status").toString()[0],h=this.get("shouldReportSuccess"),d=this.get("shouldReportFailure"),a="5"===u||"0"===u;(d&&("4"===u||a)||h&&"2"===u)&&(r={httpMethod:o?o+" VIA "+i:i,statusCode:t.get("status"),hostname:s.get("hostname"),clientTiming:window.performance.now()-this._timeSent,uncompressedResponseSize:n?n.length:null,timedOut:this.get("state")===m$574$10,urlPath:this.get("reportingPathname")||s.get("pathname")},Object.assign(r,e)),m$886$0.get("cloudOSService").requestReceived(r,t.get("status"),s.get("href"),a?n:void 0)}},__superMap:{_ED$Pu$send:"send"}};m$895$0=e}();
!function(){"use strict";var e={staticMembers:{parse:function(e){var t=this.__s._EF$9N$parse.apply(this,arguments);return t.hostname=t.shardedHostname,delete t.shardedHostname,t},init:function(){var e=m$789$0(this.components),t=e.indexOf("hostname");t>=0&&(e[t]="shardedHostname"),this.components=e,this.__s._EF$L7$init.apply(this,arguments)},generateShardedHostname:function(e,t){return e.replace(/\-/,"-"+t+"-")},__superMap:{_EF$9N$parse:"parse",_EF$L7$init:"init"}},shardedHostname:m$545$1({dependencies:["hostname","shardNumber"],readOnly:!0,get:function(e,t,n,s){var a=s.internalGet(this,t[0+n]),r=s.internalGet(this,t[1+n]);return a&&r?this.constructor.generateShardedHostname(a,r):a}}),shardNumber:m$545$1()};m$897$0=e}();
!function(){"use strict";var e=m$586$0.extend(m$897$0,{isCOSKUrl:!0,serviceName:m$629$1({defaultValue:function(){var e=m$886$0.get("cloudOSApplication"),t=e.get("primaryServiceName");return t||(t=e.name),this.configureServiceURL(t),t},set:function(e,t,r,i,a){return this.configureServiceURL(e),e}}),clientIdQueryParamKey:m$545$1("clientId"),includeDSID:m$629$1({defaultValue:!0}),init:function(e){this.__s._EH$W2$init.apply(this,arguments),this.setCOSQueryParameters(),this.configureServiceURL()},setCOSQueryParameters:function(){var e=global.__CW_BUILD_INFO;this.setQueryParameter("clientBuildNumber",e.buildNumber),this.setQueryParameter("clientMasteringNumber",e.masteringNumber),this.setQueryParameter(this.get("clientIdQueryParamKey"),m$886$0.getPath("environment.clientId")),this.includeDSID&&this.setQueryParameter("dsid",m$886$0.getPath("currentUser.dsid"))},configureServiceURL:function(e){var t=e||this.serviceName;if(t){var r=m$886$0.getPath("authBag.servicesInfo");if(!r)return m$809$1.warn("COSK.Network.URL: Missing servicesInfo from COSK.globals.authBag.servicesInfo");var i=m$886$0.getPath("cloudOSApplication.name"),a=r[t];if(a){var n=a.url;if(n&&m$781$0(n)){var s=m$586$0.create(n);this.protocol=s.protocol,this.hostname=s.hostname,this.port=s.port}}else if(t!==i)return m$809$1.warn("COSK.Network.URL: Invalid URL for service: "+t)}},__superMap:{_EH$W2$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.Network.URL"}});m$899$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$895$0],staticMembers:{requestLoggingLevel:m$809$0.LOG_LEVEL_DEBUG},shouldReportFailure:m$629$1({get:function(e,s,t,i){return"boolean"==typeof e?e:421!==this.getPath("response.status")}}),URLClass:m$899$0,specialResponseStatuses:[401,421,423],finalize:function(){this.__s._EE$Tx$finalize.apply(this,arguments);var e=this.get("response");if(e){var s=e.get("status"),t=this.specialResponseStatuses.indexOf(s)!==-1;t&&this._specialResponseWasReceived()}},_specialResponseWasReceived:function(){var e=this.get("response"),s=e.get("status"),t=e.get("body"),i=JSON.stringify(t),a=m$886$0.get("cloudOSService");a.didReceiveSpecialResponse(s,i)},url:m$545$1({defaultValue:function(){return this.URLClass.create()}}),__superMap:{_EE$Tx$finalize:"finalize"}};m$896$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$634$0],encode:m$637$0.create(),decode:m$637$0.create()};m$642$0=e}();
!function(){"use strict";var e=m$626$0.extend(m$643$0,{mixinDependencies:[m$642$0],contentType:"application/json",encode:function(e){if(!m$781$0(e))try{e=global.JSON.stringify(e)}catch(n){m$802$0("Could not encode object to JSON.",{object:e,error:n})}return e},decode:function(e){if(m$781$0(e))try{e=global.JSON.parse(e)}catch(n){m$809$1.warn("Could not decode string as JSON",e),e=null}return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Serializers.JSON"}});m$640$0=e}();
!function(){"use strict";var t=0,e=m$626$0.extend(m$544$0,{id:m$629$1({get:function(e,$,i,n){return this._id||(this._id=++t)}}),body:null,bodySerializer:m$629$1(function(){return m$640$0.get("sharedInstance")}),timeout:null,state:m$545$1(m$574$8),staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Network.Message"}});m$573$0=e}();
!function(){"use strict";var e={serializer:m$629$1(function(){return m$640$0.get("sharedInstance")}),serializedProperties:null,serialize:function(){var e=this.get("serializedProperties"),r=this.get("serializer"),i={};if(e)for(var t=0,n=e.length;t<n;t++){var s=e[t];i[s]=this.get(s)}return r.encode(i)},deserialize:function(e){if(!e)return null;var r=this.get("serializer");return r.decode(e)}};m$641$0=e}();
!function(){"use strict";var e=m$626$0.extend(m$641$0,{status:0,headers:"",body:m$629$1({get:function(e,t,s,d){return this._cachedBody||(this._cachedBody=this.deserialize(this.get("encodedBody")))}}),encodedBody:null,toJSON:function(){return this.getPropertiesAsObject("status","headers","encodedBody")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Network.Response"}});m$577$0=e}();
!function(){"use strict";var e={mixinDependencies:[m$634$0,m$643$0],prepare:m$637$0.create(),send:m$637$0.create(),abort:m$637$0.create(),createResponse:m$637$0.create(),computeStatuses:m$637$0.create(),finalize:m$805$0};m$581$0=e}();
!function(){"use strict";var t=m$626$0.extend(m$581$0,{staticMembers:{_TransportClass:null,__QUALIFIED_CLASS_NAME__:"CW.Network.Transports.Base"},send:function(t,e){t||m$802$0("No request to send",this);var s;e?s=t.__transport:(t._retryCount=0,s=t.__transport=new this.constructor._TransportClass,s._request=t,t.triggerStatusEvent(m$574$0)),this.prepare(t,e);var n=this.getBodyText(t);s.send(n),e||t._synchronous||t.triggerStatusEvent(m$574$1)},getBodyText:function(t){var e=t.get("bodySerializer"),s=t.get("body");return e&&(s=e.encode(s)),s},abort:function(t){t||m$802$0("No request to abort",this);var e=t.__transport;e?e.abort():m$809$1.warn("Cannot abort request because it is not in transit",t)},handleResponse:function(t,e){var s=this.createResponse(e),n=this._shouldFinalizeWithResponse(t,s);if(n){t.set("response",s),t.set("state",m$574$5);var r=this.computeStatuses(e);t._synchronous&&t.triggerStatusEvent(m$574$1),r&&t.triggerStatusEvents.apply(t,r),t.finalize()}},_shouldFinalizeWithResponse:function(t,e){var s=!0;if(t.shouldFinalizeWithResponse){var n=t._pendingRetryCallback=function(){n===t._pendingRetryCallback&&(delete t._pendingRetryCallback,t._retryCount++,this.send(t,!0))}.bind(this);s=t.shouldFinalizeWithResponse(e,n,t._retryCount)}return s},handleTimeout:function(t){this.abort(t);var e=this.createResponse(null),s=this._shouldFinalizeWithResponse(t,e);s&&(t.set("response",e),t.set("state",m$574$10),t.triggerStatusEvent(m$574$4),t.triggerStatusEvent(m$574$5),t.finalize())},finalize:function(t){t&&(t.__transport&&(delete t.__transport._request,delete t.__transport),delete t._pendingRetryCallback,
t._retryCount=0)}});m$579$0=t}();
!function(){"use strict";function e(){m$802$0("Your browser does not support sending requests")}function t(e,t){if(!t||!m$780$0(t))return e;var r,s,n,i=Object.keys(t);for(s=0,n=i.length;s<n;s++)r=i[s],e.setRequestHeader(r,t[r]);return e}function r(e,t,r){var s=e[t];if(s){var n=80,i=!s.__lastWriteTime;s.__lastWriteTime=s.__lastWriteTime||Date.now();var a=s.__lastWriteTime,o=Date.now()-a;i||o>n?(s.setMultipleValues({bytesTransferred:r.loaded,bytesTotal:r.total,isDeterminate:r.lengthComputable}),s.__lastWriteTime=Date.now()):i?m$805$0(1):m$805$0(2)}}var s,n=void 0!==window.XMLHttpRequest,i=m$579$0.extend(m$544$0,{staticMembers:{_TransportClass:n?window.XMLHttpRequest:e,supportsCORS:m$629$1({readOnly:!0,get:function(e,t,r,s){if("boolean"==typeof e)return e;try{var n=new this._TransportClass;e=!!("withCredentials"in n)}catch(t){e=!1}return this._supportsCORS=e}}),__QUALIFIED_CLASS_NAME__:"CW.Network.Transports.XHR"},mimeType:null,prepare:function(e,s){var n=e.__transport,i=e.get("url").get("href"),o=!e._synchronous;n.open(e.get("method"),i,o),n.withCredentials=e.get("useCredentialsIfCrossOrigin"),n.addEventListener("readystatechange",a);var u=this.get("mimeType");return n.overrideMimeType&&u&&n.overrideMimeType(u),n.upload&&e.uploadProgress&&!s&&m$792$0(n.upload,"progress",r.bind(this,e,"uploadProgress")),e.progress&&!s&&m$792$0(n,"progress",r.bind(this,e,"progress")),t(n,e.get("headers")),this.configureTimeout(e),n},abort:function(e){var t;e&&(t=e.__transport)||m$802$0("Attempted to abort an XHR request that was never sent",e),t.removeEventListener&&t.removeEventListener("readystatechange",a),
this.__s._9G$1RM$abort.apply(this,arguments)},handleResponse:function(e,t){this.clearTimeout(e),this.__s._9G$1U9$handleResponse.apply(this,arguments)},configureTimeout:function(e){var t=e.get("timeout");t&&(e._timer=m$799$0(this.handleTimeout.bind(this,e),t))},clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e&&e._timer&&(clearTimeout(e._timer),delete e._timer)}),computeStatuses:function(e){var t=e.status,r=Math.floor(t/100),n=Math.floor(t%100/10),i=t%10;return s||(s={}),s[t]?s[t]:0===t?s[t]=[t,m$574$4,m$574$5]:s[t]=[t,""+r+"**",""+r+n+"*","*"+n+"*","*"+n+i,"**"+i,2===r?m$574$3:m$574$4,m$574$5]},createResponse:function(e){return m$577$0.create(e?{status:e.status,encodedBody:e.responseText,headers:e.getAllResponseHeaders()}:null)},finalize:function(e){var t;e&&(t=e.__transport)||m$802$0("Error while finalizing an XHR request - no internal transport",e),t.removeEventListener&&t.removeEventListener("readystatechange",a),this.clearTimeout(e),this.__s._9G$2CR$finalize.apply(this,arguments)},__superMap:{_9G$1RM$abort:"abort",_9G$1U9$handleResponse:"handleResponse",_9G$2CR$finalize:"finalize"}}),a=m$801$0(function(){var e=this._request,t=e.get("transport"),r=this.readyState;4===r&&t.handleResponse.call(t,e,this)});m$583$0=i}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{staticMembers:{setAsMirror:function(e,t){e.didChange=function(){t.setMultipleValues({bytesTotal:e.get("bytesTotal"),bytesTransferred:e.get("bytesTransferred"),isDeterminate:e.get("isDeterminate")})}},__QUALIFIED_CLASS_NAME__:"CW.Network.Progress"},init:function(){this.__s._98$QE$init.apply(this,arguments),this._children=[],this._childListeners={},this.set("childPropertiesToObserve",["bytesTransferred","bytesTotal","isDeterminate"])},isComposite:m$545$1({defaultValue:!1}),addChild:function(t){t.instanceOf(e)||m$802$0("Must provide a Progress instance.");for(var i=this,s=m$807$0(t),r=i._childListeners,n=this.childPropertiesToObserve,a=function(e){i.childDidChange()},l=0,o=n.length;l<o;l++){var h=n[l],d=r[s]||[],c=t.observe(h,a);d.push(c),r[s]=d}this._children.push(t),this.set("isComposite",!0),this.childDidChange()},removeChild:function(t){var i=this._children;t.instanceOf(e)||m$802$0("Must provide a Progress instance.");var s=this._childListeners[m$807$0(t)];s&&s.forEach(function(e){e.disconnect()});var r=i.indexOf(t);r!==-1&&i.splice(r,1),0===i.length&&(this.set("isComposite",!1),this.setMultipleValues({bytesTotal:0,bytesTransferred:0,isDeterminate:!1})),this.childDidChange()},removeChildren:function(){for(var e;e=this._children.pop();)this.removeChild(e)},childDidChange:m$558$0(),childPropertiesToObserve:null,bytesTransferred:m$545$1({defaultValue:0}),bytesTotal:m$545$1({defaultValue:0}),isDeterminate:m$545$1({defaultValue:!1}),setMultipleValues:function(e){var t=this,i=m$537$0.begin();for(var s in e)e.hasOwnProperty(s)&&i.set(t,s,e[s]);
i.end()},bitRateString:m$545$1({readOnly:!0,dependencies:["bytesPerSecond"],get:function(e,i,s,r){return(t(r.internalGet(this,i[0+s]))+"ps").replace("bytes","B")}}),bytesPerSecond:m$545$1({readOnly:!0,dependencies:["bytesTransferred","percentComplete"],get:function(e,t,i,s){var r=this.get("_startTime"),n=Date.now();"undefined"==typeof r&&(this.set("_startTime",n),r=n);var a=n-r,l=a/1e3;return 0===l?0:s.internalGet(this,t[0+i])/l}}),percentComplete:m$545$1({readOnly:!0,dependencies:["bytesTotal","bytesTransferred","isDeterminate"],get:function(e,t,i,s){var r=s.internalGet(this,t[1+i]),n=s.internalGet(this,t[0+i]);return n&&0!==n?r/n:0}}),toString:function(){var e="[Progress Instance #"+m$807$0(this)+"]",t=this.get("percentComplete"),i=this.get("bytesTransferred"),s=this.get("bytesTotal"),r=this.get("isDeterminate")?"":"???";return(e+" "+100*t+"% ("+i+" of "+s+") "+r).trim()},didChange:m$558$0(),_startTime:null,_valuesDidChange:m$557$1("bytesTransferred","bytesTotal","isDeterminate",function(){this.didChange(arguments)}),_children:null,_childListeners:null,_calculateCompositeChildValues:m$557$1("childDidChange",function(){if(this.get("isComposite")){for(var e=this.get("childPropertiesToObserve"),t=this._children,i={},s=0,r=e.length;s<r;s++){var n=e[s];i[n]||(i[n]=0);for(var a=0,l=t.length;a<l;a++){var o=t[a];i[n]+=o.get(n)}}this.setMultipleValues(i),t.length||this.set("isComposite",!1)}}),__superMap:{_98$QE$init:"init"}}),t=function(e,t){if(("number"!=typeof e||"undefined"!=typeof t&&"number"!=typeof t)&&m$802$0("Must only provide numbers as params."),0===e)return"0 bytes";var i=t||2,s=1024,r=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(s));
return(e/Math.pow(s,n)).toFixed(i)+" "+r[n]};m$575$0=e,m$575$1=t}();
!function(){"use strict";function e(){m$802$0("Your browser does not support sending cross-domain requests")}var s=void 0!==window.XDomainRequest,o=m$579$0.extend({staticMembers:{_TransportClass:s?window.XDomainRequest:e,__QUALIFIED_CLASS_NAME__:"CW.Network.Transports.XDomainRequest"},createResponse:function(e){return m$577$0.create(e?{status:"load"===e._responseEventType?200:0,encodedBody:e.responseText}:null)},computeStatuses:function(e){return"load"===e._responseEventType?t:r},prepare:function(e,s){e._synchronous&&m$802$0("Your browser does not support synchronous cross-domain requests");var o=e.get("method"),t=e.get("timeout");"GET"!==o&&"POST"!==o&&m$802$0("Your browser does not support cross-domain requests using methods besides GET/POST",e),e.get("useCredentialsIfCrossOrigin")&&m$802$0("Your browser does not support sending credentials with cross-domain requests",e),e.get("headers")&&m$802$0("Your browser does not support cross-domain requests with custom headers",e);var r=e.__transport,i=e.get("url").get("href");return r.open(o,i),r.onload=n("load"),r.onerror=n("error"),t&&(r.timeout=t,r.ontimeout=this.handleTimeout.bind(this,e)),r},finalize:function(e){e.__transport.ontimeout=null,this.__s._9F$1Hl$finalize.apply(this,arguments)},__superMap:{_9F$1Hl$finalize:"finalize"}}),t=[m$574$3,m$574$5],r=[m$574$4,m$574$5],n=function(e){return m$801$0(function(){var s=this._request,o=s.get("transport");this._responseEventType=e,o.handleResponse.call(o,s,this)})};m$582$0=o}();
!function(){"use strict";var e={mixinDependencies:[m$634$0],connect:m$637$0.create(),disconnect:m$637$0.create(),_sendMessage:m$637$0.create(),_processIncomingData:null};m$568$0=e}();
!function(){"use strict";function e(e,t){var i=e._queue||(e._queue=[]);i.push(t)}function t(e,t){for(var i;i=t.splice(0,1)[0];)e.send(i)}var i,n="ready",s="disconnected",$="connecting",a=m$626$0.extend(m$544$0,{mixinDependencies:[m$568$0],staticMembers:{MAX_RETRIES:3,TIMEOUT:3e4,open:function(e){var t,n=!!e&&e.id;return i=i||(i={}),n&&(t=i[n])||(e||(e={}),e.id=n||(n=m$807$0(this)),t=i[n]=this.create(e)),t},__QUALIFIED_CLASS_NAME__:"CW.Network.Channels.Base"},id:m$629$1(),state:m$545$1(s),newMessage:m$558$0(),autoconnect:!0,init:function(){this.__s._90$qk$init.apply(this,arguments),this.get("autoconnect")&&this.connect.call(this)},send:function(t){this.get("state")===n?this._sendMessage(t):e(this,t)},receive:function(e){var t=this._processIncomingData;t&&(e=t.call(this,e)),this.newMessage(e)},_stateDidChange:m$557$1("state",function(e){var i=this._queue;if(i)if(e===n)t(this,this._queue);else if(e===m$574$10)for(var s;s=i.splice(0,1)[0];)s.set("state",m$574$10)}),__superMap:{_90$qk$init:"init"}});m$567$1=n,m$567$2=s,m$567$3=$,m$567$0=a}();
!function(){"use strict";function e(e){var t,n;try{n=JSON.parse(e.data),t=o[n.messageId||n.requestId]}catch(e){}finally{t&&t.get("channel").receive(n)}}function t(e){s=s||(s={});var t=e.get("id"),o=e._iFrame||(e._iFrame=s[t]);if(o||(o=s[t]=e._iFrame=n(t),o.channel=e),!o._isLoaded){var c=e.constructor.TIMEOUT;return o._frameLoadTimer=m$799$0(function(){a(e)},c),i(o,t,function(){o._isLoaded=!0,r(e),o._frameLoadTimer&&clearTimeout(o._frameLoadTimer)})}}function n(){var e=document.createElement("iframe");return e.style.display="none",document.body.appendChild(e),e}function i(e,t,n){!e._isInitialized&&n&&(n=m$801$0(n),e.attachEvent?e.attachEvent("onload",n):e.onload=n,e._isInitialized=!0),e._isLoaded=!1,e.src=t}function a(e){var n=e.constructor,i=e._numRetries||(e._numRetries=0),a=e.get("autoretry")&&i<n.MAX_RETRIES;a?(e._numRetries++,t(e)):e.set("state",m$574$10)}function r(e){e.set("window",e._iFrame.contentWindow),e.set("state",m$567$1)}var s,o,c=m$567$0.extend({staticMembers:{open:function(t){var n=!!t&&(t.url||t.id);return n||m$802$0("IFrame Channels require a valid source URL",this),this._messageListener||(m$792$0(window,"message",e),this._messageListener=e),this.__s._92$S1$open.call(this,{id:n})},__superMap:{_92$S1$open:"open"},__QUALIFIED_CLASS_NAME__:"CW.Network.Channels.IFrame"},connect:function(){t(this)},disconnect:function(){},autoretry:!1,_sendMessage:function(e){e||m$802$0("Sending requires a message object",this);var t=e.get("body");e.set("channel",this),o=o||{},o[e.get("id")]=e,this.get("window").postMessage(JSON.stringify(t),"*")},abort:function(){var e=this._iFrame;
e._isLoaded||(e.src="/default.aspx",clearTimeout(e._frameLoadTimer))}});m$569$0=c}();
!function(){"use strict";function e(){this.open=function(e){this._channel=m$569$0.open({url:e})},this.send=function(e){var t=this._request,s=m$573$0.create({body:{type:t.get("method"),url:t.get("url").get("href"),headers:t.get("headers"),body:e,isAsynchronous:t._wasSentSynchronously,sendOnlyAtClose:!1}}),n=s.get("id");s.get("body").requestId=n,this._listenForTimeout(s),this._channel.observe("newMessage",m$801$0(function(e){var s=t.get("transport");e&&e.requestId===n&&s.handleResponse.call(s,t,e)})),this._channel.send(s)},this._listenForTimeout=function(e){var t=this._request;e.observe("state",function(e){if(e===m$574$10){var s=t.get("transport");s.handleTimeout.call(s,t)}})},this.abort=function(e){this._channel.abort()}}var t=m$583$0.extend({staticMembers:{_TransportClass:e,__QUALIFIED_CLASS_NAME__:"CW.Network.Transports.IFrameProxy"},useProxyURL:!0,prepare:function(e,t){e._synchronous&&m$802$0("Your browser does not support synchronous cross-domain requests");var n=e.__transport,r=e.get("url");return r=this.get("useProxyURL")?s(r):r.get("href"),n.open(r),this.configureTimeout(e),n},handleTimeout:function(e){this.clearTimeout(e),this.__s._9D$jF$handleTimeout.apply(this,arguments)},createResponse:function(e){return m$577$0.create(e?{status:e.status,encodedBody:e.responseText,headers:e.headers}:null)},__superMap:{_9D$jF$handleTimeout:"handleTimeout"}}),s=function(e){return e.get("origin")+"/ajax_sender.html"};m$580$0=t}();
!function(){"use strict";function e(e,t){(e.get("state")!==m$574$8||e._isFinalized)&&m$802$0("Cannot send a request more than once",e);var s=e.get("url");s?s.get("auth")&&!e.get("allowsCredentialsInURL")&&m$802$0("This request is not allowed to use authentication",e):m$802$0("Cannot send a request without a URL",e);var r=e.get("transport");e.set("state",m$574$9),e._synchronous=t,r.send(e)}function t(e,t,s){var r=e._statusEventListeners||(e._statusEventListeners={}),n=r[t]||(r[t]=[]);n.push(s)}var s=m$573$0.extend({staticMembers:{nextRequestSequenceNumber:1,requestLoggingLevel:null,__QUALIFIED_CLASS_NAME__:"CW.Network.Request"},URLClass:m$586$0,url:m$545$1({get:function(e,t,s,r){return this._urlObject},set:function(e,t,s,r,n){var i;if(e){var o=this.URLClass;i=m$620$0(e,o)?e:o.create(e)}this._urlObject=i}}),method:m$574$11,useCredentialsIfCrossOrigin:!1,response:m$545$1(),responseSerializer:m$629$1({get:function(e,t,s,r){var n=this._responseSerializer;return n?n:this.get("serializer")}}),isCrossDomain:m$629$1({readOnly:!0,get:function(e,t,s,r){var n=this.get("url");if(!n)return!1;var i=n.get("protocol"),o=n.get("host");if(!o)return!1;var a=window.location;return a.protocol!==i||a.host!==o}}),transport:m$629$1({get:function(e,t,s,r){if(e)return e;var n=m$583$0;if(this.get("isCrossDomain")&&!m$583$0.get("supportsCORS")){var i=this.get("useCredentialsIfCrossOrigin")||this.get("headers")||this._statusEventListeners;n=i?m$580$0:m$582$0}return n.get("sharedInstance")}}),allowsCredentialsInURL:!1,shouldTrackUploadProgress:m$545$1({defaultValue:!1,didChange:function(){this.state!==m$574$8&&m$802$0("Cannot change `shouldTrackUploadProgress` once a request is sent.");
}}),shouldTrackProgress:m$545$1({defaultValue:!1,didChange:function(){this.state!==m$574$8&&m$802$0("Cannot change `shouldTrackProgress` once a request is sent.")}}),uploadProgress:m$545$1({readOnly:!0,dependencies:["shouldTrackUploadProgress"],get:function(e,t,s,r){var n=r.internalGet(this,t[0+s]);return n?m$575$0.create():null}}),progress:m$545$1({readOnly:!0,dependencies:["shouldTrackProgress"],get:function(e,t,s,r){var n=r.internalGet(this,t[0+s]);return n?m$575$0.create():null}}),_fireDidProgress:m$557$3("progress.didChange","uploadProgress.didChange",function(){this.triggerStatusEvent(m$574$2)}),headers:m$629$1(),setHeader:function(e,t){var s=this.get("headers");if(!s){if(null==t)return;s={}}m$822$0(s,e,t),this.set("headers",s)},setMultipleHeaders:function(e){var t=this.get("headers")||{};for(var s in e)m$822$0(t,s,e[s]);this.set("headers",t)},removeHeader:function(e){this.setHeader(e,null)},on:function(e,s){t(this,e,s)},onStatus:function(e,s){/^[\d\*]{3}$/.test(e)?t(this,e,s):m$802$0(e+" is an invalid status code listener for request",this)},delegate:null,sequenceNumber:m$629$1({readOnly:!0,defaultValue:function(){return this.constructor.nextRequestSequenceNumber++}}),sentAt:null,willSend:null,didSend:null,didProgress:null,didSucceed:null,didAbort:null,didFail:null,didComplete:null,shouldFinalizeWithResponse:null,_logRequestIfAppropriate:function(){this.sentAt=Date.now();var e,t=this.constructor.requestLoggingLevel;t&&(e=this.get("bodyShouldBeLogged")?this.get("encodedBody")||"(empty)":"(omitted)",m$809$1[t]("--> Request "+this.get("sequenceNumber")+": "+this.get("method")+" to "+this.getPath("url.href")+", headers: "+(this.get("headers")||"(empty)")+", body: "+e));
},bodyShouldBeLogged:!1,_logResponseIfAppropriate:function(){var e=this.constructor.requestLoggingLevel,t=this.get("sequenceNumber");if(e){if(this.get("state")===m$574$10)return void m$809$1[e]("<-- Response "+t+": (timed out)");var s,r=this.get("response"),n=Date.now()-this.sentAt;s=this.get("bodyShouldBeLogged")?r.get("encodedBody")||"(empty)":"(omitted)",m$809$1[e]("<-- Response "+t+": "+r.get("status")+" ("+n+"ms), headers: "+(r.get("headers")||"(empty)")+", body: "+s)}},send:function(){return this._promise=m$823$0.create(),e(this),this._promise},sendSynchronously:function(){this.get("timeout")&&m$802$0("Cannot send a synchronous request with a timeout",this),e(this,!0)},abort:function(){if(this.get("state")===m$574$9){var e=this.get("transport");this.get("method")!==m$574$11&&m$809$1.warn("A non-GET network request was aborted. Data may have already been changed on the server.",this),e.abort(this),this.set("state",m$574$6),this.triggerStatusEvent(m$574$6),this.finalize()}},triggerStatusEvent:function(e){var t,s,r,n,i=this.get("delegate")||this,o=this._statusEventListeners;if(e===m$574$1&&this._logRequestIfAppropriate(),e===m$574$5&&this._logResponseIfAppropriate(),(s=i[e])&&s.call&&s.call(i,this),o&&(t=o[e]))for(r=0,n=t.length;r<n;r++)(s=t[r])&&s(this);var a=this._promise;a&&(e===m$574$3?a.resolve(this.get("response")):e===m$574$4&&a.reject(this.get("response")))},triggerStatusEvents:function(){for(var e=0,t=arguments.length;e<t;e++)this.triggerStatusEvent(arguments[e])},finalize:function(){this._isFinalized=!0;var e=this.get("transport");e.finalize(this),this.triggerStatusEvent(m$574$7),
delete this._statusEventListeners},toJSON:function(){return this.getPropertiesAsObject("url","method","body","headers","response")}});m$576$0=s}();
!function(){"use strict";var e=m$576$0.extend(m$896$0,{useCredentialsIfCrossOrigin:!0,willSend:function(){this.url.isCOSKUrl&&this.url.setCOSQueryParameters()},copyKeys:m$619$1(Array),copy:function(){for(var e=this.copyKeys,t=this.constructor.create(),s=0,r=e.length;s<r;s++){var n=e[s];t[n]=this[n]}return t._statusEventListeners?m$809$1.warn("New request has event handlers, old handlers not copied."):t._statusEventListeners=this._statusEventListeners,t},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.Network.Request"}});m$894$0=e}();
!function(){"use strict";var e=m$894$0.extend({url:{serviceName:"drivews"},maxRetries:2,shouldFinalizeWithResponse:function(e,r,t){var s=this._getResponseRetryAfter(e);return!s||(t>=this.maxRetries||(m$254$0.setTimeout(function(){r()},1e3*s),!1))},_getResponseHeaders:function(e){var r=e.headers;if("string"==typeof r){var t={};r=r.split("\n");for(var s=r.length;s--;){var n=/^\s*(.+?)\s*:\s*(.*)\s*$/.exec(r[s]);n&&3===n.length&&(t[n[1]]=n[2])}return t}return r},_getResponseRetryAfter:function(e){var r=e.get("status");if(503===r){var t=this._getResponseHeaders(e),s=t&&parseInt(t["Retry-After"]);if(s)return s;var n=e.body,i=n&&n.errors;if(i&&503==n.errorCode)for(var a=i.length;a--;){var o=i[a];if(s=o&&parseInt(o.retryAfterSeconds))return s}}},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.Utils.BKRequest"}});m$337$0=e}();
!function(){"use strict";var e=6e5,t=m$626$0.extend({transport:null,_reportingWhiteList:["/retrieveItemDetailsInFolders","/retrieveItemDetails","/createFolders","/deleteItems","/moveItems","/renameItems"],_timeoutWhiteList:["/retrieveItemDetailsInFolders","/retrieveItemDetails"],init:function(e){this.__s._2A$di$init.call(this,e),this._reportingWhiteList=m$763$0(this._reportingWhiteList),this._timeoutWhiteList=m$763$0(this._timeoutWhiteList)},post:function(t,i){var r=this.transport,s=m$337$0.create({useCredentialsIfCrossOrigin:!0,method:"POST",body:i});r&&(s.transport=r);var n=s.url;n.pathname=t,s.setHeader("Content-Type","text/plain"),this._reportingWhiteList[t]&&(s.reportingPathname=null,s.shouldReportSuccess=!0,s.shouldReportFailure=!0),this._timeoutWhiteList[t]&&(s.timeout=e);var o=this,a=m$242$0.create();return s.send().then(function(){o._requestDidSucceed(s,a)}).catch(function(){o._requestDidFail(s,a)}),a},_requestDidSucceed:function(e,t){var i=e.get("response"),r=i?i.get("status"):null;return!r||0===r||r>=400?this._requestDidFail(e):t.resolve(i)},_requestDidFail:function(e,t){var i=e.response,r=i.status,s=m$60$1.Unknown;s=402===r?m$60$1.AccountNotMigrated:423===r?m$60$1.PCSMissing:424===r?m$60$1.PCSInvalid:r>=500?m$60$1.Server:r<400?m$60$1.Unknown:m$60$1.Client;var n=e.method,o=e.url.pathname,a=m$829$0("DriveWS: Request failed for %{method} %{path}",{method:n,path:o}),u=new Error(a);return u.type=s,u.status=r,u.body=i.body||null,u.request=e,t.reject(u)},__superMap:{_2A$di$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.DriveWebService"}});m$136$0=t}();
!function(){"use strict";var i=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(i,e,t,n){return this._service}}),init:function(){this.__s._Z$4w$init.call(this),this._service=m$136$0.create()},__superMap:{_Z$4w$init:"init"}}).create(),e=i.service;m$35$0=e}();
!function(){"use strict";function e(e){var a,r,n=m$506$1(),$=e.drivewsid;switch(e.type){case"FILE":a=m$64$0;var d=e.extension;e.extension=d?d.toLowerCase():d;break;case"FOLDER":$===t&&(e.name=i),a=m$65$0;break;case"APP_LIBRARY":a=m$65$0;break;default:m$809$1.error("Invalid item type: '"+e.type+"'.  Skipping item '"+$+"' in directory.")}return a&&(r=e.id=$,delete e.drivewsid,e.parentId||(e.parentId=null),n.loadData(a,e)),r}var t=m$29$0.get("ROOT_FOLDER_ID"),i=m$565$1("Application.Title");m$89$0=e}();
!function(){"use strict";function n(n){var r=[];return n.forEach(function(n){var t=m$89$0(n);t&&r.push(t)}),r}m$90$0=n}();
!function(){"use strict";var t=m$79$0.Status,e=m$251$0.extend({clientId:null,folderName:null,destinationId:null,startRun:function(){var t={destinationDrivewsId:this.destinationId,folders:[{clientId:this.clientId,name:this.folderName}]},e=this;m$35$0.post("/createFolders",t).then(function(t){e._requestDidSucceed(t)}).catch(function(t){e.finishRunWithFailure(t)})},_requestDidSucceed:function(e){for(var i=e.get("body"),n=i.folders,s=[],d=m$78$0.create(),a=0,c=n.length;a<c;a++){var r=n[a],u=t.getItemForValue(r.status),l=m$79$0.create({itemID:r.drivewsid,status:u,clientID:r.clientId});d.addInfoItem(l),u===t.OK&&s.push(r),delete r.status,delete r.clientId}m$90$0(s),this.finishRunWithSuccess({commitInfo:d})},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.CreateFolderCommitTask"}});m$73$0=e}();
!function(){"use strict";var t=m$87$0.extend({type:m$59$0.CreateFolder,destinationFolder:null,folderName:null,fileSystem:null,stagedFolder:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._stagedFolder}}),committedFolder:m$629$1({readOnly:!0,get:function(t,e,n,i){var a=this.commitInfo.committedInfoItems,r=a?a[0]||null:null;return r?m$65$0.find(r.itemID):null}}),changeSetInfo:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._changeSetInfo}}),getTransactionItemsForFullRevert:function(){return[this.stagedFolder]},didStartPreparing:function(){this.destinationFolder.prepareForTransaction(this)},didStartStaging:function(){var t=m$65$0.create({id:m$838$0(),name:this.folderName,type:"FOLDER",parentId:this.destinationFolder.id});this.addTransactionItem(t),this._stagedFolder=t;var e=this.destinationFolder,n=e.content;n.beginChanges(),n.addItem(t),n.endChanges()},run:function(){this.__s._1K$W6$run.call(this);var t=this.stagedFolder,e=m$73$0.create({clientId:t.id,folderName:t.sanitizedName,destinationId:t.parentId}),n=this;m$49$0.scheduleTask(e).then(function(t){n.completeCommitWithSuccess(t.commitInfo)}).catch(function(t){n.completeCommitWithFailure(t)})},applyChangeForCommitInfoItem:function(t){var e=this.destinationFolder,n=e.content,i=this.stagedFolder,a=this.fileSystem.getFolderById(t.itemID);n.beginChanges(),n.removeItem(i),n.addItem(a),n.endChanges()},revertChangeForCommitInfoItem:function(t){var e=this.destinationFolder,n=e.content,i=this.stagedFolder;n.beginChanges(),n.removeItem(i),n.endChanges()},didFinalize:function(){var t=this.destinationFolder.content;t.finalizeForTransaction(this);
},didChangeTransactionStateForItem:function(t,e){if(e!==m$56$0.Prepared){var n=t.parent.content;n.updateItem(t)}},__superMap:{_1K$W6$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.CreateFolderTransaction"}});m$83$0=t}();
!function(){"use strict";var t=m$79$0.Status,e=m$251$0.extend({items:null,startRun:function(){var t=this.items.map(function(t){return{drivewsid:t.id,etag:t.etag}}),e={items:t},i=this;m$35$0.post("/deleteItems",e).then(function(t){i._requestDidSucceed(t)}).catch(function(t){i.finishRunWithFailure(t)})},_requestDidSucceed:function(e){for(var i=e.body,s=i.items,a=[],n=m$78$0.create(),u=0,m=s.length;u<m;u++){var c=s[u],r=t.getItemForValue(c.status);delete c.status;var d=m$79$0.create({itemID:c.drivewsid,status:r,details:c});n.addInfoItem(d)}m$90$0(a),this.finishRunWithSuccess({commitInfo:n})},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.DeleteItemsCommitTask"}});m$74$0=e}();
!function(){"use strict";var t=m$87$0.extend({type:m$59$0.DeleteItems,items:null,fileSystem:null,changeSetInfo:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._changeSetInfo}}),getTransactionItemsForFullRevert:function(){return this.items},didStartPreparing:function(){var t=this.items[0].parent;t.prepareForTransaction(this),this._parentFolder=t},didStartStaging:function(){var t=this._parentFolder,e=t.content,n=this.items;this.addTransactionItems(n),e.beginChanges(),e.removeItems(n),e.endChanges()},run:function(){this.__s._1L$Nx$run.call(this);var t=m$74$0.create({items:this.items}),e=this;m$49$0.scheduleTask(t).then(function(t){e.completeCommitWithSuccess(t.commitInfo)}).catch(function(t){e.completeCommitWithFailure(t)})},willBeginFinalizingItems:function(){this._parentFolder.content.beginChanges()},didEndFinalizingItems:function(){this._parentFolder.content.endChanges()},revertChangeForCommitInfoItem:function(t){var e=this._parentFolder.content,n=this.fileSystem,i=n.getItemById(t.itemID);e.addItem(i)},applyChangeForCommitInfoItem:function(t){var e=fileSystem.getItemById(t.itemID);(e.isFolder||e.isAppLibrary)&&e.content.reset()},didFinalize:function(){var t=this._parentFolder.content;t.finalizeForTransaction(this)},__superMap:{_1L$Nx$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.DeleteItemsTransaction"}});m$84$0=t}();
!function(){"use strict";var t=m$79$0.Status,e=m$251$0.extend({destinationFolder:null,items:null,stagedItems:null,startRun:function(){for(var t=this.destinationFolder,e=this.items,i=this.stagedItems,s=e.length,n=new Array(s),a=0;a<s;a++){var d=e[a],r=i[a];n[a]={drivewsid:d.id,etag:d.etag,clientId:r.id}}var m={destinationDrivewsId:t.id,items:n},u=this;m$35$0.post("/moveItems",m).then(function(t){u._requestDidSucceed(t)}).catch(function(t){u.finishRunWithFailure(t)})},_requestDidSucceed:function(e){for(var i=e.body,s=i.items,n=[],a=m$78$0.create(),d=0,r=s.length;d<r;d++){var m=s[d],u=t.getItemForValue(m.status);u===t.OK&&n.push(m);var c=m$79$0.create({itemID:m.drivewsid,status:u,clientID:m.clientId,details:m});delete m.status,delete m.clientId,a.addInfoItem(c)}m$90$0(n),this.finishRunWithSuccess({commitInfo:a})},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.MoveItemsCommitTask"}});m$75$0=e}();
!function(){"use strict";var t=m$87$0.extend({type:m$59$0.MoveItems,destinationFolder:null,items:null,fileSystem:null,sourceFolder:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._sourceFolder}}),destinationChangeSetInfo:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._destinationChangeSetInfo}}),sourceChangeSetInfo:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._sourceChangeSetInfo}}),getTransactionItemsForFullRevert:function(){return this.items},didStartPreparing:function(){var t=this.items,e=t[0].parent,n=e.id;e||m$802$0("Cannot prepare. Missing source folder",{transaction:this});for(var i=0,s=t.length;i<s;i++)t[i].parentId!==n&&m$802$0("Cannot prepare. All items do not belong to the same source folder",{transaction:this});this._sourceFolder=e,this.destinationFolder.prepareForTransaction(this),e.prepareForTransaction(this)},didStartStaging:function(){var t=this.destinationFolder,e=this.items,n=e.length,i=new Array(n),s={};e.forEach(function(e,n){var a=null,o={id:m$838$0(),name:e.name,parentId:t.id,etag:e.etag};if(e.isFolder)a=m$65$0,o.type="FOLDER";else if(e.isFile){a=m$64$0,o.type="FILE",o.extension=e.extension,o.thumbnail=e.thumbnail;var r=e.dateModified;t.isAppLibrary&&(r=new Date(Date.now())),o.dateModified=r}var d=a.create(o);i[n]=d,s[e.id]=s[d.id]={stagedItem:d,movedItem:e}}),this._stagedItems=i,this._stagingMap=s,this.addTransactionItems(e),this.addTransactionItems(i);var a=this._sourceFolder,o=t.content,r=a.content;r.beginChanges(),r.removeItems(e),r.endChanges(),o.beginChanges(),o.addItems(i),o.endChanges()},run:function(){this.__s._1M$1gu$run.call(this);
var t=m$75$0.create({destinationFolder:this.destinationFolder,items:this.items,stagedItems:this._stagedItems}),e=this;m$49$0.scheduleTask(t).then(function(t){e.completeCommitWithSuccess(t.commitInfo)}).catch(function(t){e.completeCommitWithFailure(t)})},willBeginFinalizingItems:function(){this.destinationFolder.content.beginChanges(),this.sourceFolder.content.beginChanges()},didEndFinalizingItems:function(){this.destinationFolder.content.endChanges(),this.sourceFolder.content.endChanges()},applyChangeForCommitInfoItem:function(t){var e=this.destinationFolder,n=e.content,i=this.fileSystem,s=i.getItemById(t.itemID),a=this._stagingMap[t.clientID].stagedItem;s.etag=t.details.etag,s.parentId=e.id,s.thumbnail=a.thumbnail,n.beginChanges(),n.removeItem(a),n.addItem(s),n.endChanges()},revertChangeForCommitInfoItem:function(t){var e=this.destinationFolder.content,n=this.sourceFolder.content,i=t.itemID,s=this._stagingMap[i];n.addItem(s.movedItem),e.removeItem(s.stagedItem)},didFinalize:function(){var t=this.destinationFolder.content,e=this.sourceFolder.content;t.finalizeForTransaction(this),e.finalizeForTransaction(this),this._stagingMap=null,this._stagedItems=null},__superMap:{_1M$1gu$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.MoveItemsTransaction"}});m$85$0=t}();
!function(){"use strict";var e=m$79$0.Status,t=m$251$0.extend({item:null,startRun:function(){var e=this.item,t={items:[{drivewsid:e.id,etag:e.etag,name:e.sanitizedName,extension:e.extension}]},i=this;m$35$0.post("/renameItems",t).then(function(e){i._requestDidSucceed(e)}).catch(function(e){i.finishRunWithFailure(e)})},_requestDidSucceed:function(t){for(var i=t.body,s=i.items,n=[],a=m$78$0.create(),m=0,u=s.length;m<u;m++){var c=s[m],d=e.getItemForValue(c.status);d===e.OK&&n.push(c);var r=m$79$0.create({itemID:c.drivewsid,status:d,details:c});delete c.status,delete c.clientId,a.addInfoItem(r)}m$90$0(n),this.finishRunWithSuccess({commitInfo:a})},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.RenameItemCommitTask"}});m$76$0=t}();
!function(){"use strict";var t=m$87$0.extend({type:m$59$0.RenameItem,item:null,name:null,fileSystem:null,sourceFolder:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._sourceFolder}}),originalName:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._originalName}}),getTransactionItemsForFullRevert:function(){return[this.item]},didStartPreparing:function(){var t=this.item,e=t.parent;e.prepareForTransaction(this),this._originalName=t.name,this._folder=e,this.addTransactionItem(t)},didStartStaging:function(){var t=this.item,e=this.name;this.addTransactionItem(t),t.name=e},run:function(){this.__s._1N$LF$run.call(this);var t=m$76$0.create({item:this.item}),e=this;m$49$0.scheduleTask(t).then(function(t){e.completeCommitWithSuccess(t.commitInfo)}).catch(function(t){e.completeCommitWithFailure(t)})},revertChangeForCommitInfoItem:function(t){var e=this.item,n=this.parent;if(e.name=this._originalName,n){var i=n.content;i.updateItem(e)}},didFinalize:function(){var t=this._folder.content;t.finalizeForTransaction(this)},didChangeTransactionStateForItem:function(t,e){var n=t.parent;if(n){var i=n.content;i.updateItem(t)}},__superMap:{_1N$LF$run:"run"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.RenameItemTransaction"}});m$86$0=t}();
!function(){"use strict";var a={keynote:"application/x-iwork-keynote-sffkey",pages:"application/x-iwork-pages-sffpages",numbers:"application/x-iwork-numbers-sffnumbers",123:"application/vnd.lotus-1-2-3",ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",ccxml:"application/ccxml+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cu:"application/cu-seeme",davmount:"application/davmount+xml",dat:"application/octet-stream",dbk:"application/docbook+xml",dssc:"application/dssc+der",xdssc:"application/dssc+xml",ecma:"application/ecmascript",emma:"application/emma+xml",epub:"application/epub+zip",exi:"application/exi",pfr:"application/font-tdpfr",gml:"application/gml+xml",gpx:"application/gpx+xml",gxf:"application/gxf",stk:"application/hyperstudio",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",jar:"application/java-archive",ser:"application/java-serialized-object",class:"application/java-vm",js:"application/javascript",json:"application/json",jsonml:"application/jsonml+json",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mads:"application/mads+xml",mrc:"application/marc",mrcx:"application/marcxml+xml",ma:"application/mathematica",nb:"application/mathematica",mb:"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",
metalink:"application/metalink+xml",meta4:"application/metalink4+xml",mets:"application/mets+xml",mods:"application/mods+xml",m21:"application/mp21",mp21:"application/mp21",mp4s:"application/mp4",doc:"application/msword",dot:"application/msword",mxf:"application/mxf",bin:"application/octet-stream",dms:"application/octet-stream",lrf:"application/octet-stream",mar:"application/octet-stream",so:"application/octet-stream",dist:"application/octet-stream",distz:"application/octet-stream",pkg:"application/octet-stream",bpk:"application/octet-stream",dump:"application/octet-stream",elc:"application/octet-stream",deploy:"application/octet-stream",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg",omdoc:"application/omdoc+xml",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",oxps:"application/oxps",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted",asc:"application/pgp-signature",sig:"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10",p7m:"application/pkcs7-mime",p7c:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",ac:"application/pkix-attr-cert",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",cww:"application/prs.cww",pskcxml:"application/pskc+xml",rdf:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",
rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",gbr:"application/rpki-ghostbusters",mft:"application/rpki-manifest",roa:"application/rpki-roa",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml",smi:"application/smil+xml",smil:"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",sru:"application/sru+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",tfi:"application/thraud+xml",tsd:"application/timestamped-data",plb:"application/vnd.3gpp.pic-bw-large",psb:"application/vnd.3gpp.pic-bw-small",pvb:"application/vnd.3gpp.pic-bw-var",tcap:"application/vnd.3gpp2.tcap",pwn:"application/vnd.3m.post-it-notes",aso:"application/vnd.accpac.simply.aso",imp:"application/vnd.accpac.simply.imp",acu:"application/vnd.acucobol",atc:"application/vnd.acucorp",acutc:"application/vnd.acucorp",air:"application/vnd.adobe.air-application-installer-package+zip",fcdt:"application/vnd.adobe.formscentral.fcdt",fxp:"application/vnd.adobe.fxp",fxpl:"application/vnd.adobe.fxp",xdp:"application/vnd.adobe.xdp+xml",xfdf:"application/vnd.adobe.xfdf",ahead:"application/vnd.ahead.space",
azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",acc:"application/vnd.americandynamics.acc",ami:"application/vnd.amiga.ami",apk:"application/vnd.android.package-archive",cii:"application/vnd.anser-web-certificate-issue-initiation",fti:"application/vnd.anser-web-funds-transfer-initiation",atx:"application/vnd.antix.game-component",mpkg:"application/vnd.apple.installer+xml",m3u8:"application/vnd.apple.mpegurl",swi:"application/vnd.aristanetworks.swi",iota:"application/vnd.astraea-software.iota",aep:"application/vnd.audiograph",mpm:"application/vnd.blueice.multipass",bmi:"application/vnd.bmi",rep:"application/vnd.businessobjects",cdxml:"application/vnd.chemdraw+xml",mmd:"application/vnd.chipnuts.karaoke-mmd",cdy:"application/vnd.cinderella",cla:"application/vnd.claymore",rp9:"application/vnd.cloanto.rp9",c4g:"application/vnd.clonk.c4group",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",c11amc:"application/vnd.cluetrust.cartomobile-config",c11amz:"application/vnd.cluetrust.cartomobile-config-pkg",csp:"application/vnd.commonspace",cdbcmsg:"application/vnd.contact.cmsg",cmc:"application/vnd.cosmocaller",clkx:"application/vnd.crick.clicker",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",wbs:"application/vnd.criticaltools.wbs+xml",pml:"application/vnd.ctc-posml",ppd:"application/vnd.cups-ppd",
car:"application/vnd.curl.car",pcurl:"application/vnd.curl.pcurl",dart:"application/vnd.dart",rdz:"application/vnd.data-vision.rdz",uvf:"application/vnd.dece.data",uvvf:"application/vnd.dece.data",uvd:"application/vnd.dece.data",uvvd:"application/vnd.dece.data",uvt:"application/vnd.dece.ttml+xml",uvvt:"application/vnd.dece.ttml+xml",uvx:"application/vnd.dece.unspecified",uvvx:"application/vnd.dece.unspecified",uvz:"application/vnd.dece.zip",uvvz:"application/vnd.dece.zip",fe_launch:"application/vnd.denovo.fcselayout-link",dna:"application/vnd.dna",mlp:"application/vnd.dolby.mlp",dpg:"application/vnd.dpgraph",dfac:"application/vnd.dreamfactory",kpxx:"application/vnd.ds-keypoint",ait:"application/vnd.dvb.ait",svc:"application/vnd.dvb.service",geo:"application/vnd.dynageo",mag:"application/vnd.ecowin.chart",nml:"application/vnd.enliven",esf:"application/vnd.epson.esf",msf:"application/vnd.epson.msf",qam:"application/vnd.epson.quickanime",slt:"application/vnd.epson.salt",ssf:"application/vnd.epson.ssf",es3:"application/vnd.eszigno3+xml",et3:"application/vnd.eszigno3+xml",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",fdf:"application/vnd.fdf",mseed:"application/vnd.fdsn.mseed",seed:"application/vnd.fdsn.seed",dataless:"application/vnd.fdsn.seed",gph:"application/vnd.flographit",ftc:"application/vnd.fluxtime.clip",fm:"application/vnd.framemaker",frame:"application/vnd.framemaker",maker:"application/vnd.framemaker",book:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",ltf:"application/vnd.frogans.ltf",fsc:"application/vnd.fsc.weblaunch",oas:"application/vnd.fujitsu.oasys",
oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",fg5:"application/vnd.fujitsu.oasysgp",bh2:"application/vnd.fujitsu.oasysprs",ddd:"application/vnd.fujixerox.ddd",xdw:"application/vnd.fujixerox.docuworks",xbd:"application/vnd.fujixerox.docuworks.binder",fzs:"application/vnd.fuzzysheet",txd:"application/vnd.genomatix.tuxedo",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",gex:"application/vnd.geometry-explorer",gre:"application/vnd.geometry-explorer",gxt:"application/vnd.geonext",g2w:"application/vnd.geoplan",g3w:"application/vnd.geospace",gmx:"application/vnd.gmx",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gac:"application/vnd.groove-account",ghf:"application/vnd.groove-help",gim:"application/vnd.groove-identity-message",grv:"application/vnd.groove-injector",gtm:"application/vnd.groove-tool-message",tpl:"application/vnd.groove-tool-template",vcg:"application/vnd.groove-vcard",hal:"application/vnd.hal+xml",zmm:"application/vnd.handheld-entertainment+xml",hbci:"application/vnd.hbci",les:"application/vnd.hhe.lesson-player",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",jlt:"application/vnd.hp-jlyt",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl","sfd-hdstx":"application/vnd.hydrostatix.sof-data",mpy:"application/vnd.ibm.minipay",afp:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",list3820:"application/vnd.ibm.modcap",irm:"application/vnd.ibm.rights-management",
sc:"application/vnd.ibm.secure-container",icc:"application/vnd.iccprofile",icm:"application/vnd.iccprofile",igl:"application/vnd.igloader",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",igm:"application/vnd.insors.igm",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",i2g:"application/vnd.intergeo",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",rcprofile:"application/vnd.ipunplugged.rcprofile",irp:"application/vnd.irepository.package+xml",xpr:"application/vnd.is-xpr",fcs:"application/vnd.isac.fcs",jam:"application/vnd.jam",rms:"application/vnd.jcp.javame.midlet-rms",jisp:"application/vnd.jisp",joda:"application/vnd.joost.joda-archive",ktz:"application/vnd.kahootz",ktr:"application/vnd.kahootz",karbon:"application/vnd.kde.karbon",chrt:"application/vnd.kde.kchart",kfo:"application/vnd.kde.kformula",flw:"application/vnd.kde.kivio",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",ksp:"application/vnd.kde.kspread",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",htke:"application/vnd.kenameaapp",kia:"application/vnd.kidspiration",kne:"application/vnd.kinar",knp:"application/vnd.kinar",skp:"application/vnd.koan",skd:"application/vnd.koan",skt:"application/vnd.koan",skm:"application/vnd.koan",sse:"application/vnd.kodak-descriptor",lasxml:"application/vnd.las.las+xml",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",apr:"application/vnd.lotus-approach",pre:"application/vnd.lotus-freelance",
nsf:"application/vnd.lotus-notes",org:"application/vnd.lotus-organizer",scm:"application/vnd.lotus-screencam",lwp:"application/vnd.lotus-wordpro",portpkg:"application/vnd.macports.portpkg",mcd:"application/vnd.mcd",mc1:"application/vnd.medcalcdata",cdkey:"application/vnd.mediastation.cdkey",mwf:"application/vnd.mfer",mfm:"application/vnd.mfmp",flo:"application/vnd.micrografx.flo",igx:"application/vnd.micrografx.igx",mif:"application/vnd.mif",daf:"application/vnd.mobius.daf",dis:"application/vnd.mobius.dis",mbk:"application/vnd.mobius.mbk",mqy:"application/vnd.mobius.mqy",msl:"application/vnd.mobius.msl",plc:"application/vnd.mobius.plc",txf:"application/vnd.mobius.txf",mpn:"application/vnd.mophun.application",mpc:"application/vnd.mophun.certificate",xul:"application/vnd.mozilla.xul+xml",cil:"application/vnd.ms-artgalry",cab:"application/vnd.ms-cab-compressed",xls:"application/vnd.ms-excel",xlm:"application/vnd.ms-excel",xla:"application/vnd.ms-excel",xlc:"application/vnd.ms-excel",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xltm:"application/vnd.ms-excel.template.macroenabled.12",eot:"application/vnd.ms-fontobject",chm:"application/vnd.ms-htmlhelp",ims:"application/vnd.ms-ims",lrm:"application/vnd.ms-lrm",thmx:"application/vnd.ms-officetheme",cat:"application/vnd.ms-pki.seccat",stl:"application/vnd.ms-pki.stl",ppt:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",pot:"application/vnd.ms-powerpoint",
ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",docm:"application/vnd.ms-word.document.macroenabled.12",dotm:"application/vnd.ms-word.template.macroenabled.12",wps:"application/vnd.ms-works",wks:"application/vnd.ms-works",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wpl:"application/vnd.ms-wpl",xps:"application/vnd.ms-xpsdocument",mseq:"application/vnd.mseq",mus:"application/vnd.musician",msty:"application/vnd.muvee.style",taglet:"application/vnd.mynfc",nlu:"application/vnd.neurolanguage.nlu",ntf:"application/vnd.nitf",nitf:"application/vnd.nitf",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",ngdat:"application/vnd.nokia.n-gage.data","n-gage":"application/vnd.nokia.n-gage.symbian.install",rpst:"application/vnd.nokia.radio-preset",rpss:"application/vnd.nokia.radio-presets",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",ext:"application/vnd.novadigm.ext",odc:"application/vnd.oasis.opendocument.chart",otc:"application/vnd.oasis.opendocument.chart-template",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",
otg:"application/vnd.oasis.opendocument.graphics-template",odi:"application/vnd.oasis.opendocument.image",oti:"application/vnd.oasis.opendocument.image-template",odp:"application/vnd.oasis.opendocument.presentation",otp:"application/vnd.oasis.opendocument.presentation-template",ods:"application/vnd.oasis.opendocument.spreadsheet",ots:"application/vnd.oasis.opendocument.spreadsheet-template",odt:"application/vnd.oasis.opendocument.text",odm:"application/vnd.oasis.opendocument.text-master",ott:"application/vnd.oasis.opendocument.text-template",oth:"application/vnd.oasis.opendocument.text-web",xo:"application/vnd.olpc-sugar",dd2:"application/vnd.oma.dd2+xml",oxt:"application/vnd.openofficeorg.extension",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",mgp:"application/vnd.osgeo.mapguide.package",dp:"application/vnd.osgi.dp",esa:"application/vnd.osgi.subsystem",pdb:"application/vnd.palm",pqa:"application/vnd.palm",oprc:"application/vnd.palm",paw:"application/vnd.pawaafile",str:"application/vnd.pg.format",ei6:"application/vnd.pg.osasli",
efif:"application/vnd.picsel",wg:"application/vnd.pmi.widget",plf:"application/vnd.pocketlearn",pbd:"application/vnd.powerbuilder6",box:"application/vnd.previewsystems.box",mgz:"application/vnd.proteus.magazine",qps:"application/vnd.publishare-delta-tree",ptid:"application/vnd.pvi.ptid1",qxd:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",bed:"application/vnd.realvnc.bed",mxl:"application/vnd.recordare.musicxml",musicxml:"application/vnd.recordare.musicxml+xml",cryptonote:"application/vnd.rig.cryptonote",cod:"application/vnd.rim.cod",rm:"application/vnd.rn-realmedia",rmvb:"application/vnd.rn-realmedia-vbr",link66:"application/vnd.route66.link66+xml",st:"application/vnd.sailingtracker.track",see:"application/vnd.seemail",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ifm:"application/vnd.shana.informed.formdata",itp:"application/vnd.shana.informed.formtemplate",iif:"application/vnd.shana.informed.interchange",ipk:"application/vnd.shana.informed.package",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",mmf:"application/vnd.smaf",teacher:"application/vnd.smart.teacher",sdkm:"application/vnd.solent.sdkm+xml",sdkd:"application/vnd.solent.sdkm+xml",dxp:"application/vnd.spotfire.dxp",sfs:"application/vnd.spotfire.sfs",sdc:"application/vnd.stardivision.calc",sda:"application/vnd.stardivision.draw",sdd:"application/vnd.stardivision.impress",
smf:"application/vnd.stardivision.math",sdw:"application/vnd.stardivision.writer",vor:"application/vnd.stardivision.writer",sgl:"application/vnd.stardivision.writer-global",smzip:"application/vnd.stepmania.package",sm:"application/vnd.stepmania.stepchart",sxc:"application/vnd.sun.xml.calc",stc:"application/vnd.sun.xml.calc.template",sxd:"application/vnd.sun.xml.draw",std:"application/vnd.sun.xml.draw.template",sxi:"application/vnd.sun.xml.impress",sti:"application/vnd.sun.xml.impress.template",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",sxg:"application/vnd.sun.xml.writer.global",stw:"application/vnd.sun.xml.writer.template",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",svd:"application/vnd.svd",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",xsm:"application/vnd.syncml+xml",bdm:"application/vnd.syncml.dm+wbxml",xdm:"application/vnd.syncml.dm+xml",tao:"application/vnd.tao.intent-module-archive",pcap:"application/vnd.tcpdump.pcap",cap:"application/vnd.tcpdump.pcap",dmp:"application/vnd.tcpdump.pcap",tmo:"application/vnd.tmobile-livetv",tpt:"application/vnd.trid.tpt",mxs:"application/vnd.triscape.mxs",tra:"application/vnd.trueapp",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",utz:"application/vnd.uiq.theme",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",vcx:"application/vnd.vcx",vsd:"application/vnd.visio",vst:"application/vnd.visio",vss:"application/vnd.visio",vsw:"application/vnd.visio",vis:"application/vnd.visionary",vsf:"application/vnd.vsf",
wbxml:"application/vnd.wap.wbxml",wmlc:"application/vnd.wap.wmlc",wmlsc:"application/vnd.wap.wmlscriptc",wtb:"application/vnd.webturbo",nbp:"application/vnd.wolfram.player",wpd:"application/vnd.wordperfect",wqd:"application/vnd.wqd",stf:"application/vnd.wt.stf",xar:"application/vnd.xara",xfdl:"application/vnd.xfdl",hvd:"application/vnd.yamaha.hv-dic",hvs:"application/vnd.yamaha.hv-script",hvp:"application/vnd.yamaha.hv-voice",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",saf:"application/vnd.yamaha.smaf-audio",spf:"application/vnd.yamaha.smaf-phrase",cmp:"application/vnd.yellowriver-custom-menu",zir:"application/vnd.zul",zirz:"application/vnd.zul",zaz:"application/vnd.zzazz.deck+xml",vxml:"application/voicexml+xml",wgt:"application/widget",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml","7z":"application/x-7z-compressed",abw:"application/x-abiword",ace:"application/x-ace-compressed",dmg:"application/x-apple-diskimage",aab:"application/x-authorware-bin",x32:"application/x-authorware-bin",u32:"application/x-authorware-bin",vox:"application/x-authorware-bin",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",bcpio:"application/x-bcpio",torrent:"application/x-bittorrent",blb:"application/x-blorb",blorb:"application/x-blorb",bz:"application/x-bzip",bz2:"application/x-bzip2",boz:"application/x-bzip2",cbr:"application/x-cbr",cba:"application/x-cbr",cbt:"application/x-cbr",cbz:"application/x-cbr",cb7:"application/x-cbr",vcd:"application/x-cdlink",cfs:"application/x-cfs-compressed",
chat:"application/x-chat",pgn:"application/x-chess-pgn",nsc:"application/x-conference",cpio:"application/x-cpio",csh:"application/x-csh",deb:"application/x-debian-package",udeb:"application/x-debian-package",dgc:"application/x-dgc-compressed",dir:"application/x-director",dcr:"application/x-director",dxr:"application/x-director",cst:"application/x-director",cct:"application/x-director",cxt:"application/x-director",w3d:"application/x-director",fgd:"application/x-director",swa:"application/x-director",wad:"application/x-doom",ncx:"application/x-dtbncx+xml",dtb:"application/x-dtbook+xml",res:"application/x-dtbresource+xml",dvi:"application/x-dvi",evy:"application/x-envoy",eva:"application/x-eva",bdf:"application/x-font-bdf",gsf:"application/x-font-ghostscript",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf",ttf:"application/x-font-ttf",ttc:"application/x-font-ttf",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",afm:"application/x-font-type1",woff:"application/font-woff",arc:"application/x-freearc",spl:"application/x-futuresplash",gca:"application/x-gca-compressed",ulx:"application/x-glulx",gnumeric:"application/x-gnumeric",gramps:"application/x-gramps-xml",gtar:"application/x-gtar",hdf:"application/x-hdf",install:"application/x-install-instructions",iso:"application/x-iso9660-image",jnlp:"application/x-java-jnlp-file",latex:"application/x-latex",lzh:"application/x-lzh-compressed",lha:"application/x-lzh-compressed",mie:"application/x-mie",prc:"application/x-mobipocket-ebook",
mobi:"application/x-mobipocket-ebook",application:"application/x-ms-application",lnk:"application/x-ms-shortcut",wmd:"application/x-ms-wmd",wmz:"application/x-msmetafile",xbap:"application/x-ms-xbap",mdb:"application/x-msaccess",obd:"application/x-msbinder",crd:"application/x-mscardfile",clp:"application/x-msclip",exe:"application/x-msdownload",dll:"application/x-msdownload",com:"application/x-msdownload",bat:"application/x-msdownload",msi:"application/x-msdownload",mvb:"application/x-msmediaview",m13:"application/x-msmediaview",m14:"application/x-msmediaview",wmf:"application/x-msmetafile",emf:"application/x-msmetafile",emz:"application/x-msmetafile",mny:"application/x-msmoney",pub:"application/x-mspublisher",scd:"application/x-msschedule",trm:"application/x-msterminal",wri:"application/x-mswrite",nc:"application/x-netcdf",cdf:"application/x-netcdf",nzb:"application/x-nzb",p12:"application/x-pkcs12",pfx:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",spc:"application/x-pkcs7-certificates",p7r:"application/x-pkcs7-certreqresp",rar:"application/x-rar-compressed",ris:"application/x-research-info-systems",sh:"application/x-sh",shar:"application/x-shar",swf:"application/x-shockwave-flash",xap:"application/x-silverlight-app",sql:"application/x-sql",sit:"application/x-stuffit",sitx:"application/x-stuffitx",srt:"application/x-subrip",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",t3:"application/x-t3vm-image",gam:"application/x-tads",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",tfm:"application/x-tex-tfm",texinfo:"application/x-texinfo",
texi:"application/x-texinfo",obj:"application/x-tgif",ustar:"application/x-ustar",src:"application/x-wais-source",der:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",fig:"application/x-xfig",xlf:"application/x-xliff+xml",xpi:"application/x-xpinstall",xz:"application/x-xz",z1:"application/x-zmachine",z2:"application/x-zmachine",z3:"application/x-zmachine",z4:"application/x-zmachine",z5:"application/x-zmachine",z6:"application/x-zmachine",z7:"application/x-zmachine",z8:"application/x-zmachine",xaml:"application/xaml+xml",xdf:"application/xcap-diff+xml",xenc:"application/xenc+xml",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",xsl:"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xpl:"application/xproc+xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml",mxml:"application/xv+xml",xhvml:"application/xv+xml",xvml:"application/xv+xml",xvm:"application/xv+xml",yang:"application/yang",yin:"application/yin+xml",zip:"application/zip",adp:"audio/adpcm",au:"audio/basic",snd:"audio/basic",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",rmi:"audio/midi",mp4a:"audio/mp4",mpga:"audio/mpeg",mp2:"audio/mpeg",mp2a:"audio/mpeg",mp3:"audio/mpeg",m2a:"audio/mpeg",m3a:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",spx:"audio/ogg",s3m:"audio/s3m",sil:"audio/silk",uva:"audio/vnd.dece.audio",uvva:"audio/vnd.dece.audio",eol:"audio/vnd.digital-winds",dra:"audio/vnd.dra",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",lvp:"audio/vnd.lucent.voice",pya:"audio/vnd.ms-playready.media.pya",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",
ecelp9600:"audio/vnd.nuera.ecelp9600",rip:"audio/vnd.rip",weba:"audio/webm",aac:"audio/x-aac",aif:"audio/x-aiff",aiff:"audio/x-aiff",aifc:"audio/x-aiff",caf:"audio/x-caf",flac:"audio/x-flac",mka:"audio/x-matroska",m3u:"audio/x-mpegurl",wax:"audio/x-ms-wax",wma:"audio/x-ms-wma",ram:"audio/x-pn-realaudio",ra:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",wav:"audio/x-wav",xm:"audio/xm",cdx:"chemical/x-cdx",cif:"chemical/x-cif",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",csml:"chemical/x-csml",xyz:"chemical/x-xyz",bmp:"image/bmp",cgm:"image/cgm",g3:"image/g3fax",gif:"image/gif",ief:"image/ief",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",ktx:"image/ktx",png:"image/png",btif:"image/prs.btif",sgi:"image/sgi",svg:"image/svg+xml",svgz:"image/svg+xml",tiff:"image/tiff",tif:"image/tiff",psd:"image/vnd.adobe.photoshop",uvi:"image/vnd.dece.graphic",uvvi:"image/vnd.dece.graphic",uvg:"image/vnd.dece.graphic",uvvg:"image/vnd.dece.graphic",sub:"text/vnd.dvb.subtitle",djvu:"image/vnd.djvu",djv:"image/vnd.djvu",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",fbs:"image/vnd.fastbidsheet",fpx:"image/vnd.fpx",fst:"image/vnd.fst",mmr:"image/vnd.fujixerox.edmics-mmr",rlc:"image/vnd.fujixerox.edmics-rlc",mdi:"image/vnd.ms-modi",wdp:"image/vnd.ms-photo",npx:"image/vnd.net-fpx",wbmp:"image/vnd.wap.wbmp",xif:"image/vnd.xiff",webp:"image/webp","3ds":"image/x-3ds",ras:"image/x-cmu-raster",cmx:"image/x-cmx",fh:"image/x-freehand",fhc:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",ico:"image/x-icon",sid:"image/x-mrsid-image",pcx:"image/x-pcx",pic:"image/x-pict",
pct:"image/x-pict",pnm:"image/x-portable-anymap",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",ppm:"image/x-portable-pixmap",rgb:"image/x-rgb",tga:"image/x-tga",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump",eml:"message/rfc822",mime:"message/rfc822",igs:"model/iges",iges:"model/iges",msh:"model/mesh",mesh:"model/mesh",silo:"model/mesh",dae:"model/vnd.collada+xml",dwf:"model/vnd.dwf",gdl:"model/vnd.gdl",gtw:"model/vnd.gtw",mts:"model/vnd.mts",vtu:"model/vnd.vtu",wrl:"model/vrml",vrml:"model/vrml",x3db:"model/x3d+binary",x3dbz:"model/x3d+binary",x3dv:"model/x3d+vrml",x3dvz:"model/x3d+vrml",x3d:"model/x3d+xml",x3dz:"model/x3d+xml",appcache:"text/cache-manifest",ics:"text/calendar",ifb:"text/calendar",css:"text/css",csv:"text/csv",html:"text/html",htm:"text/html",n3:"text/n3",txt:"text/plain",text:"text/plain",conf:"text/plain",def:"text/plain",list:"text/plain",log:"text/plain",in:"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext",sgml:"text/sgml",sgm:"text/sgml",tsv:"text/tab-separated-values",t:"text/troff",tr:"text/troff",roff:"text/troff",man:"text/troff",me:"text/troff",ms:"text/troff",ttl:"text/turtle",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",curl:"text/vnd.curl",dcurl:"text/vnd.curl.dcurl",scurl:"text/vnd.curl.scurl",mcurl:"text/vnd.curl.mcurl",fly:"text/vnd.fly",flx:"text/vnd.fmi.flexstor",gv:"text/vnd.graphviz","3dml":"text/vnd.in3d.3dml",spot:"text/vnd.in3d.spot",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",wmls:"text/vnd.wap.wmlscript",s:"text/x-asm",asm:"text/x-asm",
c:"text/x-c",cc:"text/x-c",cxx:"text/x-c",cpp:"text/x-c",h:"text/x-c",hh:"text/x-c",dic:"text/x-c",f:"text/x-fortran",for:"text/x-fortran",f77:"text/x-fortran",f90:"text/x-fortran",java:"text/x-java-source",opml:"text/x-opml",p:"text/x-pascal",pas:"text/x-pascal",nfo:"text/x-nfo",etx:"text/x-setext",sfv:"text/x-sfv",uu:"text/x-uuencode",vcs:"text/x-vcalendar",vcf:"text/x-vcard","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpeg",jpm:"video/jpm",jpgm:"video/jpm",mj2:"video/mj2",mjp2:"video/mj2",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg",ogv:"video/ogg",qt:"video/quicktime",mov:"video/quicktime",uvh:"video/vnd.dece.hd",uvvh:"video/vnd.dece.hd",uvm:"video/vnd.dece.mobile",uvvm:"video/vnd.dece.mobile",uvp:"video/vnd.dece.pd",uvvp:"video/vnd.dece.pd",uvs:"video/vnd.dece.sd",uvvs:"video/vnd.dece.sd",uvv:"video/vnd.dece.video",uvvv:"video/vnd.dece.video",dvb:"video/vnd.dvb.file",fvt:"video/vnd.fvt",mxu:"video/vnd.mpegurl",m4u:"video/vnd.mpegurl",pyv:"video/vnd.ms-playready.media.pyv",uvu:"video/vnd.uvvu.mp4",uvvu:"video/vnd.uvvu.mp4",viv:"video/vnd.vivo",webm:"video/webm",f4v:"video/x-f4v",fli:"video/x-fli",flv:"video/x-flv",m4v:"video/x-m4v",mkv:"video/x-matroska",mk3d:"video/x-matroska",mks:"video/x-matroska",mng:"video/x-mng",asf:"video/x-ms-asf",asx:"video/x-ms-asf",vob:"video/x-ms-vob",wm:"video/x-ms-wm",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",avi:"video/x-msvideo",movie:"video/x-sgi-movie",smv:"video/x-smv",
ice:"x-conference/x-cooltalk"},i=function(i){if("string"!=typeof i&&m$802$0("Must provide a string to guess MIME type."),!i)return"";for(var p=i.split("."),n=p.pop().toLowerCase().trim();n&&p.length>0;){var t=a[n];if(t)return t;n=p.pop()+"."+n}},p=/(.*)\.([\w-_]+).(zip)$/i,n={pages:!0,"pages-tef":!0,template:!0,keynote:!0,"keynote-tef":!0,key:!0,"key-tef":!0,kth:!0,numbers:!0,"numbers-tef":!0,nmbtemplate:!0,lpdf:!0,band:!0,xcodeproj:!0,playground:!0,theater:!0,app:!0,workflow:!0,rtfd:!0,imovielibrary:!0,pkg:!0},t=function(a){return"string"!=typeof a&&m$802$0("Wrong type provided."),n[a]||!1};m$341$0=a,m$341$1=i,m$341$3=p,m$341$2=t}();
!function(){"use strict";var e=/^(.*)\.([^.]+)$/i,t={_splitUploadFilename:function(t){var i=t.match(e)||[];if(!/^zip$/i.test(i[2])||!i[1])return i;var n=i[1].match(e)||[];return n[2]&&m$341$2(n[2])?n:i},getBaseNameForNativeFileName:function(e){var i=t._splitUploadFilename(e);return i[1]||e},getUncompressedExtensionForNativeFileName:function(e){var i=t._splitUploadFilename(e);return i[1]?i[2]||"":""},getBaseNameForNativeFile:function(e){return t.getBaseNameForNativeFileName(e.name)},getUncompressedExtensionForNativeFile:function(e){return t.getUncompressedExtensionForNativeFileName(e.name)}};m$209$0=t}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{changed:m$558$0(),totalAmount:0,percentageComplete:0,amountComplete:0,isComplete:m$629$1({readOnly:!0,get:function(e,t,m,n){return 100===this.get("percentageComplete")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.Progress"}});m$241$0=e}();
!function(){"use strict";var t=m$241$0.extend({totalAmount:m$629$1({readOnly:!0,get:function(t,e,i,r){return this._totalAmount}}),percentageComplete:m$629$1({readOnly:!0,get:function(t,e,i,r){return this._percentageComplete}}),amountComplete:m$629$1({readOnly:!0,get:function(t,e,i,r){return this._amountComplete}}),children:m$629$1({readOnly:!0,get:function(t,e,i,r){return this._children}}),init:function(){this.__s._3k$Dv$init.call(this),this._children=[],this._totalAmount=0,this._amountComplete=0,this._percentageComplete=0,this._childProgressInfoItems={},this._computedItemPercentageWeight=0;var t=this;this._progressChangedHandler=function(e){if(e){var i=e.context;t._progressDidChange(i)}}},addChildProgress:function(t){this.didStartAddingChildProgress();var e=t.observe("changed",this._progressChangedHandler);this._children.push(t),this._childProgressInfoItems[m$807$0(t)]={changedObserver:e,includeAmount:!0,percentageWeight:null},this.didFinishAddingChildProgress(),this._update()},adjustWeightForChildProgress:function(t,e){var i=this._getItemInfoForChildProgress(t);i||m$802$0("Cannot adjust weight. Not a valid child progress",{groupProgress:this}),(e<=0||e>=1)&&m$802$0("Cannot adjust weight. Invalid weight: "+e,{groupProgress:this}),i.percentageWeight=e,this._update()},clearWeightForChildProgress:function(t){var e=this._getItemInfoForChildProgress(t);e||m$802$0("Cannot adjust weight. Not a valid child progress",{groupProgress:this}),e.percentageWeight=null,this._update()},includeAmountForChildProgress:function(t){var e=this._getItemInfoForChildProgress(t);e||m$802$0("Cannot include amount. Not a valid child progress",{
groupProgress:this}),e.includeAmount=!0,this._update()},excludeAmountForChildProgress:function(t){var e=this._getItemInfoForChildProgress(t);e||m$802$0("Cannot exclude amount. Not a valid child progress",{groupProgress:this}),e.includeAmount=!1,this._update()},didStartAddingChildProgress:function(t){this._isAddingChildProgress=!0},didFinishAddingChildProgress:function(t){this._isAddingChildProgress=!1},_progressDidChange:function(t){this._isAddingChildProgress||this._updateAmounts()},_getItemInfoForChildProgress:function(t){return this._childProgressInfoItems[m$807$0(t)]||null},_update:function(){this._updateComputedItemPercentageWeight(),this._updateAmounts()},_updateComputedItemPercentageWeight:function(){for(var t=this._children,e=0,i=0,r=0,n=t.length;r<n;r++){var s=t[r],o=this._getItemInfoForChildProgress(s);null===o.percentageWeight?e++:i+=o.percentageWeight}var h=0;if(e>0){var g=1-i;h=g/e}this._computedItemPercentageWeight=h},_updateAmounts:function(){for(var t=this._children,e=this._computedItemPercentageWeight,i=0,r=0,n=0,s=0,o=0,h=t.length;o<h;o++){var g=t[o],d=this._getItemInfoForChildProgress(g),a=d.percentageWeight;null===a&&(a=e),r+=a*g.get("percentageComplete"),d.includeAmount&&(i+=g.get("amountComplete"),s+=g.get("totalAmount")),g.get("isComplete")&&n++}n===t.length&&(r=100,i=s),this._percentageComplete=r,this._amountComplete=i,this._totalAmount=s,this.changed(this)},__superMap:{_3k$Dv$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.GroupProgress"}});m$235$0=t}();
!function(){"use strict";var t=m$241$0.extend({percentageComplete:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._percentageComplete}}),totalAmount:m$629$1({defaultValue:0,get:function(t,e,i,n){return this._totalAmount},set:function(t,e,i,n,a){this._totalAmount=t,this._isInitializing||this._totalAmountDidChange(t)}}),amountComplete:m$629$1({defaultValue:0,get:function(t,e,i,n){return this._amountComplete},set:function(t,e,i,n,a){this._amountComplete=t,this._isInitializing||this._amountCompleteDidChange(t)}}),init:function(t){this.willInitialize(),this.__s._5K$H9$init.call(this,t),this._percentageComplete=0,this.didInitialize(),this._recalculate()},willInitialize:function(){this._isInitializing=!0},didInitialize:function(){this._isInitializing=!1},increaseAmount:function(t){var e=this._amountComplete+t,i=this._totalAmount;e>i&&m$802$0("Cannot increase amount. Great than total amount",{progress:this,amount:t}),this._amountComplete=e,this._recalculate()},complete:function(){100===this._percentageComplete&&m$802$0("Invalid call. Already complete",{progress:this}),this._amountComplete=this._totalAmount,this._recalculate()},_amountCompleteDidChange:function(t){t>this._totalAmount&&m$802$0("Invalid value. Amount complete cannot be greater than total amount",{progress:this,amount:t}),this._recalculate()},_totalAmountDidChange:function(t){this._amountComplete>t&&(this._amountComplete=t),this._recalculate()},_recalculate:function(){var t=this._amountComplete,e=this._totalAmount;t>e&&m$802$0("Cannot update. Amount complete cannot be greater than total",{progress:this}),0!==e&&(this._percentageComplete=t/e*100,
this.changed())},__superMap:{_5K$H9$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UnitProgress"}});m$335$0=t}();
!function(){"use strict";var e=m$251$0.extend(m$544$0,{staticMembers:{nativeFileUploadTaskService:null,__QUALIFIED_CLASS_NAME__:"BRApp.NativeFileUploadTask"},nativeFile:null,destinationZone:null,destinationFolderId:null,fileName:null,progress:m$629$1({readOnly:!0,get:function(e,t,a,s){return this._fileUploadProgress}}),init:function(t){this.__s._24$H9$init.call(this,t),this._nativeFileUploadTaskService=t.nativeFileUploadTaskService||e.get("nativeFileUploadTaskService"),this._nativeFileUploadTaskService||m$802$0("Cannot init. Requires a native file upload task service",{task:this}),this._currentRunningSubtask=null,this._prepareSubtask=this._loadPrepareSubtask(),this._transferSubtask=this._loadTransferPayloadSubtask(),this._completeSubtask=this._loadCompleteSubtask();var a=this._fileUploadProgress=m$235$0.create(),s=this._prepareSubtaskProgress=m$335$0.create({totalAmount:1}),i=this._completeSubtaskProgress=m$335$0.create({totalAmount:1}),n=this._transferSubtask.get("progress");a.addChildProgress(s),a.addChildProgress(n),a.addChildProgress(i),a.excludeAmountForChildProgress(s),a.excludeAmountForChildProgress(i),a.adjustWeightForChildProgress(s,.05),a.adjustWeightForChildProgress(i,.05)},startRun:function(){var e=this._prepareSubtask,t=this._transferSubtask,a=this._completeSubtask,s=this.get("nativeFile"),i=this.get("destinationZone"),n=this.get("destinationFolderId"),r=this.get("fileName");e.set("nativeFile",s),t.set("nativeFile",s),a.set("nativeFile",s),e.set("destinationZone",i),e.set("fileName",r),this._currentRunningSubtask=e;var l=this;this._schedulePrepareSubtask(e).then(function(){
l._prepareSubtaskProgress.complete();var a=e.get("result").get("uploadUrl");return t.set("uploadUrl",a),l._currentRunningSubtask=t,l._scheduleTransferPayloadSubtask(t)}).then(function(){var s=t.get("result"),u=e.get("result"),o=u.get("documentId"),c=s.get("commitInfo");return a.set("destinationZone",i),a.set("destinationFolderId",n),a.set("documentId",o),a.set("transferCommitInfo",c),a.set("fileName",r),l._currentRunningSubtask=a,l._scheduleCompleteSubtask(a)}).then(function(e){l._completeSubtaskProgress.complete(),l._currentRunningSubtask=null,l.finishRunWithSuccess(e)}).catch(function(e){l._currentRunningSubtask=null,l.finishRunWithFailure(e)})},shouldAllowCancel:function(){var e=this._currentRunningSubtask;return!e||e.get("isCancellable")},cancel:function(){this.__s._24$1Jz$cancel.apply(this,arguments);var e=this._currentRunningSubtask;e&&e.cancel(),this.finishCancellingRun()},_loadPrepareSubtask:function(){var e=this._nativeFileUploadTaskService;return e.createPrepareSubtaskForNativeFileUploadTask(this)},_loadTransferPayloadSubtask:function(){var e=this._nativeFileUploadTaskService;return e.createTransferSubtaskForNativeFileUploadTask(this)},_loadCompleteSubtask:function(){var e=this._nativeFileUploadTaskService;return e.createCompleteSubtaskForNativeFileUploadTask(this)},_schedulePrepareSubtask:function(e){var t=this._nativeFileUploadTaskService;return t.schedulePrepareSubtaskForNativeFileUploadTask(e,this)},_scheduleTransferPayloadSubtask:function(e){var t=this._nativeFileUploadTaskService;return t.scheduleTransferSubtaskForNativeFileUploadTask(e,this)},_scheduleCompleteSubtask:function(e){
var t=this._nativeFileUploadTaskService;return t.scheduleCompleteSubtaskForNativeFileUploadTask(e,this)},__superMap:{_24$H9$init:"init",_24$1Jz$cancel:"cancel"}});m$130$0=e}();
!function(){"use strict";var e=m$87$0.extend({staticMembers:{uploadFileTransactionService:null,__QUALIFIED_CLASS_NAME__:"BRApp.Data.UploadFileTransaction"},type:m$59$0.UploadItem,destinationFolder:null,nativeFile:null,progress:m$629$1({readOnly:!0,get:function(e,i,t,a){return this._transactionProgress}}),stagedFile:m$629$1({readOnly:!0,get:function(e,i,t,a){return this._stagedFile}}),init:function(i){this.__s._1P$Ul$init.call(this,i),this._uploadFileTransactionService=i.uploadFileTransactionService||e.uploadFileTransactionService,this._uploadFileTransactionService||m$802$0("Cannot init. Requires a upload file transaction service",{transaction:this}),this._nativeFileUploadTask=null,this._transactionProgress=m$235$0.create()},shouldAllowCancelDuringCommit:function(){var e=this._nativeFileUploadTask;return!!e&&e.isCancellable},getTransactionItemsForFullRevert:function(){return[this._stagedFile]},didCancel:function(){var e=this._nativeFileUploadTask;e&&e.cancel()},didStartPreparing:function(){this.destinationFolder.prepareForTransaction(this)},didStartStaging:function(){for(var e=this.destinationFolder,i=e.content,t=this.nativeFile,a=m$209$0.getBaseNameForNativeFile(t),n=m$209$0.getUncompressedExtensionForNativeFile(t),s=2,o=a,r=n;i.hasFileWithNameAndExtension(o,r);)o=a+" "+s,s++;var d=new Date;t&&t.lastModifiedDate?d=t.lastModifiedDate:t&&t.lastModified&&d.setTime(t.lastModified);var l=m$64$0.create({id:m$838$0(),name:o,extension:r,type:"FILE",dateModified:d,parentId:this.destinationFolder.id,isUploading:!0,uploadProgress:this._transactionProgress});this.addTransactionItem(l),this._stagedFile=l;
var c=e.content;c.beginChanges(),c.addItem(l),c.endChanges()},run:function(){this.__s._1P$1Fl$run.call(this);var e=this.nativeFile,i=this._stagedFile,t=this.destinationFolder,a=t.zone,n=t.docwsid,s=(this.fileUploadService,i.extension),o=i.name+(s?"."+s:"");o=o.replace(/\//g,":");var r=this._nativeFileUploadTask=this._createNativeFileUploadTask({nativeFile:e,destinationZone:a,destinationFolderId:n,fileName:o});this._transactionProgress.addChildProgress(r.progress);var d=this;this._scheduleNativeFileUploadTask(r).then(function(e){var i=e.document;d._document=i;var t="FILE::"+a+"::"+i.id,n=m$78$0.create(),s=m$79$0.create({itemID:t,status:m$79$0.Status.OK});n.addInfoItem(s),d.completeCommitWithSuccess(n)}).catch(function(e){d.completeCommitWithFailure(e)})},applyChangeForCommitInfoItem:function(e){var i=this._stagedFile,t=this.destinationFolder,a=i.dateModified||new Date;m$506$1().loadData(m$64$0,{id:e.itemID,name:i.name,extension:i.extension,etag:this._document.etag,type:"FILE",dateModified:a,parentId:t.id,zone:t.zone,docwsid:this._document.id,size:this.nativeFile.size});var n=m$64$0.find(e.itemID),s=t.content;s.beginChanges(),s.removeItem(i),s.addItem(n),s.endChanges()},revertChangeForCommitInfoItem:function(e){var i=this._stagedFile,t=this.destinationFolder,a=t.content;a.beginChanges(),a.removeItem(i),a.endChanges()},didFinalize:function(){var e=this.destinationFolder.content;e.finalizeForTransaction(this)},_createNativeFileUploadTask:function(e){var i=this._uploadFileTransactionService;return i.createNativeFileUploadTaskForTransaction(e,this)},_scheduleNativeFileUploadTask:function(e){
var i=this._uploadFileTransactionService;return i.scheduleNativeFileUploadTaskForTransaction(e,this)},__superMap:{_1P$Ul$init:"init",_1P$1Fl$run:"run"}});m$88$0=e}();
!function(){"use strict";var t=m$626$0.extend({fileSystem:null,run:function(){},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.Query"}});m$70$0=t}();
!function(){"use strict";var t=m$29$0.get("ROOT_FOLDER_ID"),e=m$70$0.extend({itemIDs:null,run:function(){var t=this.get("itemIDs"),e=[];t.forEach(function(t){e.push({drivewsid:t})});var r=this;return m$35$0.post("/retrieveItemDetails",{items:e}).then(function(t){return r._requestDidSucceed(t)}).catch(function(t){return m$242$0.reject(t)})},_requestDidSucceed:function(e){var r=e.get("body"),i=m$90$0(r.items),n=this.fileSystem,u=i.map(function(e){return"ROOT"===e&&(e=t),n.getItemById(e)});return u},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.ItemDetailsQuery"}});m$69$0=e}();
!function(){"use strict";var e=m$70$0.extend({folderID:null,partialData:!1,includeHierarchy:!1,run:function(){var e=this.folderID||"ROOT",t=this.partialData,i=this.includeHierarchy,r=[{drivewsid:e,partialData:t,includeHierarchy:i}],s=this;return this.post("/retrieveItemDetailsInFolders",r).then(function(e){return s._requestDidSucceed(e)}).catch(function(e){return m$242$0.reject(e)})},post:function(e,t){return m$35$0.post(e,t)},_requestDidSucceed:function(e){var t,i=e.body,r=i[0],s=r.items,n=r.hierarchy;r.id=r.drivewsid,delete r.items,delete r.hierarchy;var a=this.fileSystem.getFolderById(this.folderID);if(this.partialData)t=s.map(function(e){return{id:e.drivewsid,etag:e.etag}});else{var c=m$90$0(s);t=this.fileSystem.getItemsByIds(c)}return this.willFinishProcessingSuccessfulResponse(r,s),{folder:a,items:t,folderInfo:r,hierarchy:n||null}},willFinishProcessingSuccessfulResponse:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.FolderContentQuery"}});m$68$0=e}();
!function(){"use strict";var e="ROOT",t=m$563$1("RootFolderQueryMode",function(e){e("AllContent"),e("DetailsOnly")}),n=t,r=m$70$0.extend({staticMembers:{Mode:t,__QUALIFIED_CLASS_NAME__:"BRApp.Data.RootFolderQuery"},queryMode:n.AllContent,run:function(){switch(this.get("queryMode")){case n.AllContent:return this._queryAllContent();case n.DetailsOnly:return this._queryDetailsOnly();default:m$802$0("Cannot query. Invalid query mode",{query:this})}},_queryAllContent:function(){var t=m$68$0.create({fileSystem:this.get("fileSystem"),folderID:e});return t.run().then(function(e){var t=e.folder,n=t.get("content"),r=e.items;return n.loaded(),n.beginChanges(),n.addItems(r),n.endChanges(),t})},_queryDetailsOnly:function(){var t=m$69$0.create({fileSystem:this.get("fileSystem"),itemIDs:[e]});return t.run().then(function(e){var t=e[0];return t})}});m$71$0=r}();
!function(){"use strict";function e(e,r){var t,n=m$229$2.create(),o={};return e.forEach(function(e){o[e.id]=e}),r.forEach(function(e){t=e.id;var r=o[t];return r?(r.etag!==e.etag&&n.recordUpdate(e),void(o[t]=null)):void n.recordInsert(e)}),e.forEach(function(e){o[e.id]&&n.recordRemove(e)}),n}var r=m$70$0.extend({folderID:null,includeHierarchy:!1,run:function(){var e=m$242$0.create(),r=m$68$0.create({fileSystem:this.fileSystem,folderID:this.folderID,partialData:!0,includeHierarchy:this.includeHierarchy}),t=this;return r.run().then(function(r){t._completeFolderContentChangeSetQuery(r,e)}).catch(function(r){var n=new Error("Unable to query folder content change set");n.parentError=r,n.folderID=t.folderID,e.reject(r)}),e},_completeFolderContentChangeSetQuery:function(r,t){var n=r.folder,o=n&&n.content,a=r.items,c=r.hierarchy,i={hierarchy:c,folderInfo:r.folderInfo},l=this.fileSystem,f=e(o,a);if(f=f.filter(function(e){var r=e.value;return!l.itemIsStaged(r)}),0===f.length)return i.changes=f,void t.resolve(i);var u=m$613$0.create();if(f.forEach(function(e){switch(e.action){case m$229$2.Action.Insert:case m$229$2.Action.Update:var r=e.value;u.add(r.id)}}),0===u.length)return i.changes=f,void t.resolve(i);var d=m$69$0.create({fileSystem:l,itemIDs:u.toArray()}),h=this;d.run().then(function(e){var r=m$231$0.create({entities:e});f.forEach(function(e){var t=e.value,n=t.id;r.containsEntityWithID(n)&&(e.value=r.getEntityWithID(n))}),i.changes=f,t.resolve(i)}).catch(function(e){var r=new Error("Unable to process folder content change set");r.parentError=e,r.folderID=h.folderID,t.reject(e)})},
staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.FolderContentChangeSetQuery"}});m$67$0=r}();
!function(){"use strict";var e=m$626$0.extend({fileSystem:null,delegate:null,resolveTransactionConflictForItem:function(e,t){switch(t.status){case m$57$0.DestinationDeleted:this._resolveDestinationDeletedConflict(e,t);break;case m$57$0.ItemDeleted:this._resolveItemDeletedConflict(e,t);break;case m$57$0.ItemModified:this._resolveItemModifiedConflict(e,t);break;default:e.revertChangeForCommitInfoItem(t)}},_resolveDestinationDeletedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var n=e.get("destinationFolder");this._deleteItem(n)},_resolveItemDeletedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var n=this.get("fileSystem").getItemById(t.itemID);this._deleteItem(n)},_resolveItemModifiedConflict:function(e,t){var n=this.get("fileSystem"),i=n.getItemById(t.itemID),o=m$813$0(i.getDataHash(),t.details),a=!1;if(e.revertChangeForCommitInfoItem(t),!o)return void m$809$1.error("TransactionConflictResolver: Reached unexpected condition trying to resolve item modified conflict");for(var r=0,s=o.updated.length;r<s;r++){var l=o.updated[r];"parentId"!==l?i.set(l,t.details[l]):a=!0}if(a){var d=i.get("parent"),m=d.get("content");m.beginChanges(),m.removeItem(i),m.endChanges();var I=n.getFolderById(t.details.parentId);if(I){var c=I.get("content");c.beginChanges(),c.addItem(i),c.endChanges()}i.set("parentId",t.details.parentId)}},_deleteItem:function(e){if(e.get("parentId")){var t=e.get("parent"),n=t.get("content");n.beginChanges(),n.removeItem(e),n.endChanges();var i=this.get("delegate"),o=i?i.transactionConflictResolverDidDeleteItem:null;o&&o.call(i,this,e)}},staticMembers:{
__QUALIFIED_CLASS_NAME__:"BRApp.Data.TransactionConflictResolver"}});m$80$0=e}();
!function(){"use strict";var t={trace:!1,logTrace:function(t){(this.trace||window.TRACE_ALL)&&m$809$1.debug(this+" "+t)}};m$906$0=t}();
!function(){"use strict";var t={mixinDependencies:[m$906$0],registerStateEnumGroup:function(t,e,r){var a=this._segs_registeredGroups;a||(a=this._segs_registeredGroups={}),a[t.id]||(a[t.id]={stateEnumGroup:t,currentState:e,fatalErrorState:r})},fatalErrorIfNotInState:function(t){var e=this._segs_registeredGroups[t.group.id];e||m$802$0("No state enum group registered for "+t);var r,a=e.currentState,s=e.fatalErrorState||null,o=arguments.length;for(r=0;r<o;r++)if(arguments[r].contains(a))return;s&&this.setState(s);var n=1==o?" ":" either ",i=[];for(r=0;r<o;r++)i.push(arguments[r].fullName);var u=" Cannot perform operation. Expected state to"+n+"be: "+i.join(", ");m$802$0(u,{source:this})},setState:function(t){var e=this._segs_registeredGroups[t.group.id];e||m$802$0("No state enum group registered for "+t);var r=e.currentState;e.currentState=t,this.logTrace("changed state from <"+r.fullName+"> to <"+t.fullName+">")},getCurrentStateForStateEnumGroup:function(t){var e=this._segs_registeredGroups[t.id];return e||m$802$0("No state enum group registered for "+t.name),e.currentState},transitionFromStateToState:function(t,e){this.fatalErrorIfNotInState(t),this.setState(e)}};m$901$0=t}();
!function(){"use strict";var t=m$900$1("Channel",function(t){t("Closing"),t("Closed"),t("Opening"),t("Opened"),t("FatalError")}),n=t.Closing,i=t.Closed,e=t.Opening,o=t.Opened,r=t.FatalError,s=m$626$0.extend(m$906$0,m$901$0,{window:m$629$1({readOnly:!0,get:function(t,n,i,e){return this._window}}),state:m$629$1({readOnly:!0,get:function(n,i,e,o){return this.getCurrentStateForStateEnumGroup(t)}}),init:function(n){n.window||this.fatalError("Cannot open channel. Requires window");var e=n.window;delete n.window,this.__s._Dq$XV$init.call(this,n),this._window=e,this.registerStateEnumGroup(t,i,r)},open:function(){this.transitionFromStateToState(i,e),this.willOpen()},close:function(){this.transitionFromStateToState(o,n),this.willClose()},willOpen:function(){},didOpen:function(){this.transitionFromStateToState(e,o)},willClose:function(){},didClose:function(){this.transitionFromStateToState(n,i)},__superMap:{_Dq$XV$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.CrossWindowCommunication.BaseChannel"}});m$871$1=t,m$871$0=s}();
!function(){"use strict";var i=m$871$0.extend({origin:m$629$1({readOnly:!0}),init:function(i){this.__s._Ds$4l$init.call(this,i),i.origin||m$802$0("Cannot create output channel. Requires origin")},sendMessage:function(i){},__superMap:{_Ds$4l$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.CrossWindowCommunication.BaseOutputChannel"}});m$873$0=i}();
!function(){"use strict";var i=m$873$0.extend({willOpen:function(){this.didOpen()},willClose:function(){this.didClose()},sendMessage:function(i){var t=this.get("window"),e=this.get("origin");m$648$0.get("sharedInstance").get("isIE9OrLower")&&(i=JSON.stringify(i)),t.postMessage(i,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.CrossWindowCommunication.OutputChannel"}});m$876$0=i}();
!function(){"use strict";var i=function(i){m$809$1.debug("WindowApplication: "+i)},n={windowCount:0,windowApplications:{},openWindowApplication:function(i,n,o){var t=this._getNextWindowId(),i=this._addInstanceIdToURL(i,t),e=window.open(i,n,o);return this.windowApplications[t]={window:e},t},_addInstanceIdToURL:function(i,n){var o="&";return i.indexOf("#")===-1&&(o="#"),i+o+"instanceId="+n},_getNextWindowId:function(){return i("generating a new id"),"window_"+this.windowCount++},windowApplicationIsRegistered:function(i){return!!this.windowApplications[i]},passWindowApplicationMessage:function(i,n){var o=this.windowApplications[i];if(!o)return void m$809$1.warn("Could not find a COSK.Utils.windowApplications with instanceId "+i);var t=m$762$0(arguments);if(t=t.slice(2,t.length),!o.didInitialize)return void this._registerWindowApplicationMessage(i,n,t);var e={isCloudOSMessage:!0,methodName:n,args:t,isWindowApplicationMessage:!0};try{var s=o.window.CK.currentApplication;if(s)s._windowMessageWasReceived(m$789$0(e));else{var a=m$876$0.create({window:o.window,origin:m$886$0.getPath("cloudOSApplication.driver").getIOChannelOrigin()});a.sendMessage(e)}}catch(n){m$809$1.warn("postMessage: CK.WindowApplication "+i+" not properly loaded?")}},windowApplicationDidInitialize:function(i){var n=this.windowApplications[i];n?n.didInitialize=!0:m$809$1.warn("There is no windowApplication for "+i)},passPendingWindowApplicationMessages:function(i){var n,o,t,e,s=this.windowApplications[i];if(s&&(n=s.messages))for(o=0,t=n.length;o<t;o++){e=n[o];var a=[i,e.method];this.passWindowApplicationMessage.apply(this,a.concat(e.args));
}},_registerWindowApplicationMessage:function(i,n,o){var t,e=this.windowApplications[i];e&&(t=e.messages,t||(t=[],e.messages=t),t.push({method:n,args:o}))},resolveInstanceIfNeeded:function(i){var n=this.windowApplications;if(!n[i])for(var o in n)if(n[o].window===i)return o;return i}};m$868$0=n}();
!function(){"use strict";var i={windowApplicationDidInitialize:function(i){var n=m$868$0.resolveInstanceIfNeeded(i);m$868$0.windowApplicationDidInitialize(n)},passPendingWindowApplicationMessages:function(i){var n=m$868$0.resolveInstanceIfNeeded(i);m$868$0.passPendingWindowApplicationMessages(n)}};m$866$0=i}();
!function(){"use strict";var i={windowApplicationHasInitialized:function(i,n,e){i=m$868$0.resolveInstanceIfNeeded(i);var o=m$886$0.getPath("cloudOSApplication.driver");m$868$0.windowApplicationDidInitialize(i),e||m$868$0.passWindowApplicationMessage(i,"_applicationShouldInvokeMain",o.get("cloudOSMethodNames"),o.get("cloudOSState")),m$868$0.passPendingWindowApplicationMessages(i)},windowApplicationIsKnown:function(i){return i=m$868$0.resolveInstanceIfNeeded(i),m$868$0.windowApplicationIsRegistered(i)}};m$867$0=i}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{staticMembers:{EMPTY_USER:null,statusCodes:{INACTIVE:0,FREE_QUALIFIED:2,FREE_NOT_QUALIFIED:3,LITE:4},__QUALIFIED_CLASS_NAME__:"COSK.User"},firstName:m$545$1(""),lastName:m$545$1(""),dsid:null,statusCode:m$545$1(),SafariBookmarksHasMigratedToCloudKit:!1,loadInfo:function(e){m$541$0.pause();for(var t=Object.keys(e),s=0,a=t.length;s<a;s++){var r=t[s];this.set(r,e[r])}m$541$0.resume()},isServiceActive:function(e){return!!m$886$0.get("authBag").getServiceInfoFor(e)}});e.EMPTY_USER=e.create({firstName:"No",lastName:"User"}),m$892$0=e}();
!function(){"use strict";var $=m$626$0.extend(m$544$0,{name:m$629$1(),url:m$545$1(),status:m$545$1(),staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.ServiceInfo"}});m$891$0=$}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{user:m$545$1(m$619$1(m$892$0)),clientInfo:m$629$1(),processAuthBag:function(e){if(e){var n=e.hasMinimumDeviceForPhotosWeb;void 0===n&&(n=!0),this.set("hasMinimumDeviceForPhotosWeb",n);var r=this.user;r.loadInfo(e.dsInfo),r.loadInfo(e.iCloudInfo),this.set("iCloudEnvironment",e.environment),this.set("isAppleInternal",!(!e.requestInfo||!e.requestInfo.isAppleInternal)),this.set("clientInfo",e.requestInfo),this.loadServicesInfo(e.webservices)}},iCloudEnvironment:null,isAppleInternal:m$545$1(null),loadServicesInfo:function(e){e||m$802$0("User.loadServicesInfo: `webservices` must be supplied");var n,r,i;n={};for(r in e)i=m$789$0(e[r]),i.name=r,n[r]=m$891$0.create(i);this.set("servicesInfo",n)},getServiceInfoFor:function(e){e||m$809$1.warn("User.getServiceInfoFor(): `serviceName` must be specified");var n=this.get("servicesInfo");return n?n[e]:null},getServiceUrlFor:function(e,n){var r,i=this.getServiceInfoFor(e),o=null;return i?(o=i.get("url")||null,o||(r=m$829$0("User.getServiceUrlFor(): Could not find the URL for “%{name}”",{name:e}))):r=m$829$0("User.getServiceUrlFor(): Could not find service information for “%{name}”",{name:e}),r&&(n?m$802$0(r):m$809$1.error(r)),o},servicesInfo:m$545$1(),hasMinimumDeviceForPhotosWeb:m$545$1(!1),staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.AuthBag"}});m$888$0=e}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{timeStamp:m$545$1((new Date).getTime()),storageUsageByMedia:m$545$1(),totalStorageInBytes:m$545$1(),commerceStorageInBytes:m$545$1(),usedStorageInBytes:m$545$1(),compStorageInBytes:m$545$1(),overQuota:m$545$1(),paidQuota:m$545$1(),staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.QuotaInfo"}});m$890$0=e}();
!function(){"use strict";var t=[],n=function(n,e){var $,o,f,i,u=0|e,c="";if(m$772$0(n)){for($=n.length,o=0;o<$;o++)o&&(c+=","),c+=r(n[o],u);return"["+c+"]"}if(m$620$0(n,m$590$0)){for($=n.get("length"),o=0;o<$;o++)o&&(c+=","),c+=r(n.objectAt(o),u);return"["+c+"]"}if(!m$779$0(n)){i=t.length;for(f in n)n.hasOwnProperty(f)&&t.push(f);for(t.sort(),$=t.length,o=i;o<$;o++)f=t[o],o!==i&&(c+=","),c+='"'+f+'":'+r(n[f],u);return t.length=i,"{"+c+"}"}m$802$0("Object expected in call to `guidForContents`.",n)},r=function(t,r){return r>0&&!m$779$0(t)?n(t,r-1):'"'+m$807$0(t)+'"'};m$808$0=n}();
!function(){"use strict";var e=global.IntlPolyfill,n=m$626$0.extend({_region:null,_cachedNumberInstances:{},_cachedDateTimeInstances:{},_pendingRegionsToRegister:{},_defaultCurrencyForRegions:{},_is12HourTimeForRegions:{},SHORT_DATE:{month:"numeric",day:"numeric",year:"numeric"},MEDIUM_DATE:{month:"short",day:"numeric",year:"numeric"},LONG_DATE:{month:"long",day:"numeric",year:"numeric"},FULL_DATE:{weekday:"long",month:"long",day:"numeric",year:"numeric"},SHORT_TIME:{hour:"numeric",minute:"numeric"},MEDIUM_TIME:{hour:"numeric",minute:"numeric",second:"numeric"},LONG_TIME:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},FULL_TIME:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},registerRegionFormat:function(n){if(!n||!e)return void m$809$1.info("No Intl polyfill or region rules. Skipping RegionFormatter initialization.");var i=n.locale.toLowerCase();this._region=i,this._pendingRegionsToRegister[i]=n},getNumberFormatter:function(n){e||m$802$0("Cannot use Intl without polyfill."),this._registerPendingRegionFormats();var i=this._getCacheKeyForOptions(n),r=this._cachedNumberInstances[i];return r||(r=new e.NumberFormat(this._region,n),this._cachedNumberInstances[i]=r),r},getDateTimeFormatter:function(n){e||m$802$0("Cannot use Intl without polyfill."),this._registerPendingRegionFormats();var i=this._getCacheKeyForOptions(n),r=this._cachedDateTimeInstances[i];return r||(r=new e.DateTimeFormat(this._region,n),this._cachedDateTimeInstances[i]=r),r},getDefaultCurrencyForRegion:function(e){this._registerPendingRegionFormats();var n=e?e.toLowerCase():this._region;
return this._defaultCurrencyForRegions[n]},is12HourTime:function(e){this._registerPendingRegionFormats();var n=e?e.toLowerCase():this._region;return this._is12HourTimeForRegions[n]},_registerPendingRegionFormats:function(){for(var n=this._pendingRegionsToRegister,i=Object.keys(n),r=0;r<i.length;r++){var t=i[r],o=n[t];e.__addLocaleData(o);var s=o.locale.toLowerCase();this._defaultCurrencyForRegions[s]=o.number.currencyCode,this._is12HourTimeForRegions[s]=o.date.hour12,delete this._pendingRegionsToRegister[s]}},_getCacheKeyForOptions:function(e){var n;return n=e?this._region+":"+m$808$0(e):this._region+":default"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.Region$923"}}),i=n.create();m$923$0=i}();
!function(){"use strict";function t(t,n,e){var r=t.get(n);return e!==r&&t.set(n,e),t}m$821$0=t}();
!function(){"use strict";var e=m$545$0.extend({cloudOSEnvironmentKey:null,processCloudOSValue:function(e,t){return e},clearUserState:function(e){return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.EnvironmentProperty$889"}}),t=m$563$1("AuthenticationState",{NOT_AUTHENTICATED:0,PARTIALLY_AUTHENTICATED:1,AUTHENTICATED:2}),r=m$626$0.extend(m$544$0,{accountMenu:e.create(),activeXFileVersion:e.create(),authBag:e.create({defaultValue:function(){return m$888$0.create()},processCloudOSValue:function(e,t){return t.processAuthBag(e),t},clearUserState:function(){return m$888$0.create()}}),clientId:e.create(),versions:e.create(),currentlyActiveApplication:e.create(),route:e.create(),displayName:e.create(),accountPreferences:e.create(),appPreferences:e.create(),iCloudEnvironment:e.create({cloudOSEnvironmentKey:"environment"}),hostname:e.create(),isBeta:e.create(),isDeveloper:e.create(),isFuture:e.create(),isCarry:e.create(),isCarryUser:e.create(),requestedStartupUrl:e.create(),requestedStartupInfo:e.create(),userAuthenticationState:e.create(),userStatusCode:e.create(),pushToken:e.create(),isUserNotAuthenticated:m$545$1({readOnly:!0,dependencies:["userAuthenticationState"],get:function(e,r,n,a){var i=a.internalGet(this,r[0+n]);return i===t.NOT_AUTHENTICATED.value}}),isUserPartiallyAuthenticated:m$545$1({readOnly:!0,dependencies:["userAuthenticationState"],get:function(e,r,n,a){var i=a.internalGet(this,r[0+n]);return i===t.PARTIALLY_AUTHENTICATED.value}}),isUserAuthenticated:m$545$1({readOnly:!0,dependencies:["userAuthenticationState"],get:function(e,r,n,a){var i=a.internalGet(this,r[0+n]);
return i===t.AUTHENTICATED.value}}),isLiteAccount:m$545$1({readOnly:!0,dependencies:["userStatusCode"],get:function(e,t,r,n){return 4===n.internalGet(this,t[0+r])}}),userIsAuthenticated:m$545$1({readOnly:!0,dependencies:["isUserAuthenticated"],get:function(e,t,r,n){return n.internalGet(this,t[0+r])}}),quotaData:e.create({defaultValue:function(){return m$890$0.create()},processCloudOSValue:function(e,t){return m$890$0.create(e)},clearUserState:function(){return m$890$0.create()}}),isUserOverQuota:m$545$1({readOnly:!0,dependencies:["quotaData"],get:function(e,t,r,n){var a=n.internalGet(this,t[0+r]);return a?a.get("overQuota"):null}}),_environmentProperties:null,initializeClass:function(){this.__s._E7$1Sw$initializeClass.apply(this,arguments);var t=this.getMetadataByType(e),r=this._environmentProperties={};for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];n=a.cloudOSEnvironmentKey||n,a.cloudOSEnvironmentKey=n,r[n]=a}},processCloudOSEnvironment:function(e){if(e){var t=e.regionFormattingRules;t&&m$923$0.registerRegionFormat(t);for(var r in e)e.hasOwnProperty(r)&&this._processCloudOSEnvironmentProperty(r,e[r])}},_processCloudOSEnvironmentProperty:function(e,t){var r=this._environmentProperties[e];if(r&&r.processCloudOSValue){e=r.key;var n=this.get(e),a=r.processCloudOSValue.call(this,t,n);m$821$0(this,e,a)}},clearUserState:function(){var t=this.getMetadataByType(e);for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];this.set(r,n.clearUserState(this.get(r)))}},__superMap:{_E7$1Sw$initializeClass:"initializeClass"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.Environment"}});m$889$0=r;
}();
!function(){"use strict";var n={mixinDependencies:[m$544$0],environment:null,showAppSwitcher:function(n){},showSpringBoard:function(){},showAccountSettings:function(){},performLogout:function(){},reload:function(){},showHelp:function(n){},recordStat:function(n,t){},beginStat:function(n,t){},endStat:function(n,t){},showLocalNotification:function(n){},invokeMethodOnCloudOS:function(n){},handleApplicationCrash:function(n,t){},exit:function(n,t){},setAppBanner:function(n){},openIWorkFile:function(n){},openIWorkDocument:function(n,t,o){},getValidateToken:function(){},isReadyToTerminateDidChange:function(n){},setStartupUrl:function(n){},setStartupInfo:function(n){},requestReceived:function(n,t,o){},refreshQuotaData:m$805$0,requestMeCard:m$805$0,setRoute:function(n){},setAppPreferences:function(n){},setAccountPreference:function(n,t){},revalidateUser:function(){},getConformingTypes:function(n){},fetchIcon:function(n,t,o,e){},fetchBlankFolderIcon:function(n,t,o){},fetchBlankFileIcon:function(n,t,o){},sendLocalNotification:function(n,t,o,e){},didReceiveSpecialResponse:function(n,t,o){},loadCloudKitJS:function(n){},replaceCurrentApp:function(n){}};m$869$0=n}();
!function(){"use strict";var t=m$900$1("Application Driver",function(t){t("Inactive"),t("Activating",function(t){t("Init"),t("WaitAppPrepared"),t("Finalize")}),t("Active",function(t){t("Ready")}),t("Deactivating"),t("FatalError")}),i=t.Inactive,a=t.Activating,n=t.Active,e=t.Deactivating,o=t.FatalError,r=m$626$0.extend(m$906$0,m$901$0,{application:m$629$1({readOnly:!0}),state:m$629$1({readOnly:!0,get:function(i,a,n,e){return this.getCurrentStateForStateEnumGroup(t)}}),init:function(a){if(this.__s._EM$Ko$init.call(this,a),!a.application)throw m$802$0("Cannot create driver. Requires application");this.registerStateEnumGroup(t,i,o)},activate:function(){this.transitionFromStateToState(i,a.Init),this.didStartInitialActivation()},applicationDidPrepareForLoad:function(){this.transitionFromStateToState(a.WaitAppPrepared,a.Finalize),this.didStartFinalizingActivation()},didStartInitialActivation:function(){},didFinishInitialActivation:function(){this.transitionFromStateToState(a.Init,a.WaitAppPrepared),this.get("application").prepareForLoad()},didStartFinalizingActivation:function(){},didFinishFinalizingActivation:function(){this.transitionFromStateToState(a.Finalize,n.Ready),this.get("application").didBecomeLoaded()},didStartDeactivation:function(){this.setState(e)},didFinishDeactivation:function(){this.setState(i)},__superMap:{_EM$Ko$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.System.BaseApplicationDriver"}});m$904$1=t,m$904$0=r}();
!function(){"use strict";var e=function(e,n,t,r){return e.removeEventListener(n,m$801$0(t),r||!1)};m$796$0=e}();
!function(){"use strict";var e=m$871$0.extend({init:function(e){this.__s._Dr$5z$init.call(this,e),this._allRegistedReceivers=[],this._registeredReceivers={}},addTargetActionForOrigin:function(e,i,t){var r=this._registeredReceivers[t];r||(r=this._registeredReceivers[t]=[]);var s={target:e,action:i};r.push(s),this._allRegistedReceivers.push(s)},removeTargetActionForOrigin:function(e,i,t){var r=this._registeredReceivers[t];this._removeTargetActionFromArray(e,i,r),this._removeTargetActionFromArray(e,i,this._allRegistedReceivers)},getTargetActionsForOrigin:function(e){return"*"===e?this._allRegistedReceivers:this._registeredReceivers[e]||null},dispatchMessage:function(e){var i=e.origin,t=this.getTargetActionsForOrigin(i),r=t?t.length:0,s=!1;this.logTrace("dispatching message from origin "+i);for(var a=0;a<r;a++){var n=t[a],o=n.target,g=n.action;m$781$0(g)&&(g=o[g],m$777$0(g)||m$802$0("Cannot dispath message. No method '"+g+"' for target",{channel:this,action:g,message:e})),this.logTrace("dispatching message to target "+o),g.call(o,e),s=!0}s||this.logTrace("No target-action pair for message")},_removeTargetActionFromArray:function(e,i,t){for(var r=t.length,s=null,a=0;a<r;a++){var n=t[a];if(n.target===e&&n.action===i){s=n;break}}s&&m$765$0(s,t)},__superMap:{_Dr$5z$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.CrossWindowCommunication.BaseInputChannel"}});m$872$0=e}();
!function(){"use strict";var n=m$626$0.extend({data:null,origin:null,source:null,originalEvent:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.CrossWindowCommunication.MessageEvent"}});m$875$0=n}();
!function(){"use strict";function i(i){var e=i.data,s=i.origin,t=i.source;if(e&&s&&t){m$781$0(e)&&(e=JSON.parse(e));var n=m$875$0.create({data:e,origin:s,originalEvent:i});n.set("source",t),this.dispatchMessage.call(this,n)}}var e=m$872$0.extend({init:function(e){this.__s._Dt$6z$init.call(this,e),this._receivedMessageHandler=i.bind(this)},willOpen:function(){m$792$0(this.window,"message",this._receivedMessageHandler),this.didOpen()},willClose:function(){m$796$0(this.window,"message",this._receivedMessageHandler),this.didClose()},__superMap:{_Dt$6z$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.CrossWindowCommunication.InputChannel"}});m$874$0=e}();
!function(){"use strict";var e={"https://www.icloud.com":!0,"https://beta.icloud.com":!0,"https://future.icloud.com":!0,"https://carry.icloud.com":!0},t=15e3,i=window,n="cosk.system.applicationDriver.loadInputChannelDelegate",s="cosk.system.applicationDriver.loadOutputChannelDelegate",a="cosk.system.applicationDriver.ioChannelOrigin",o="cosk.system.applicationDriver.inputChannelWindow",r=m$904$1.Activating.Init.createSubstate("WaitingForCloudOSRunMessage"),d="_applicationShouldInvokeMain",l="_cloudOSStateChange",c="_clearUserState",u="applicationWillBecomeActive",h="applicationDidBecomeActive",g="applicationWillSuspend",p="applicationDidSuspend",m="applicationShouldRefresh",C="didFetchStartup",S="quotaDataDidChange",f="accountPreferencesDidChange",$="userDidRevalidate",_="receiveMeCard",v="didReceiveNotification",M="willResolveCKShortGUID",O="didResolveCKShortGUID",w="didFailToResolveCKShortGUID",I="showAppSwitcher",A="showSpringBoard",F="showAccountSettings",D="performLogout",N="recordStat",b="beginStat",R="endStat",U="requestSent",k="requestReceived",W="appWillUnload",L="handleApplicationCrash",P="isReadyToTerminateDidChange",y="exit",T="reload",H="setAppBanner",B="setStartupUrl",E="setStartupInfo",K="refreshQuotaData",q="fetchIcon",z="getConformingTypes",G="requestMeCard",j="setRoute",x="revalidateUser",J="setAppPreferences",Q="setAccountPreference",V="sendLocalNotification",X="didReceiveSpecialResponse",Y="replaceCurrentApp",Z=0,ee=1,te=2,ie=3,ne=4,se=m$904$0.extend(m$869$0,{_rpcCallbacks:m$619$1(Object),initiatedCloudKitJSLoading:!1,inputChannel:m$629$1({readOnly:!0}),outputChannel:m$629$1({
readOnly:!0}),cloudOSMethodNames:null,cloudOSState:null,originForIO:null,environment:m$545$1(m$619$1(m$889$0)),init:function(e){this.__s._EL$1n8$init.call(this,e),window.CloudOS=m$867$0,window.CK=m$866$0,this._cosMessageHandlers={};var t=this.get("application");this.setCloudMessageHandler(d,this,this._cosMessagePrepareApplicationForLoad),this.setCloudMessageHandler(l,this,this._cosMessageCloudOSStateChange),this.setCloudMessageHandler(c,this,this._cosMessageClearUserState),this.setCloudMessageHandler(u,t,t.willBecomeActive),this.setCloudMessageHandler(h,t,t.didBecomeActive),this.setCloudMessageHandler(g,t,t.willBecomeSuspended),this.setCloudMessageHandler(p,t,t.didBecomeSuspended),this.setCloudMessageHandler(m,t,t.shouldRefresh),this.setCloudMessageHandler(C,t,t.didFetchStartup),this.setCloudMessageHandler(_,t,t.receiveMeCard),this.setCloudMessageHandler($,t,t.userDidRevalidate),this.setCloudMessageHandler(S,t,t.quotaDataDidChange),this.setCloudMessageHandler(f,t,t.accountPreferencesDidChange),this.setCloudMessageHandler(v,t,t.didReceiveNotification),this.setCloudMessageHandler(M,t,t.willResolveCKShortGUID),this.setCloudMessageHandler(O,t,t.didResolveCKShortGUID),this.setCloudMessageHandler(w,t,t.didFailToResolveCKShortGUID)},loadInputChannelForWindow:function(e){var t=window[n];return t?(this.logTrace("using delegate to load input channel"),t(this,e)):m$874$0.create({window:e})},loadOutputChannelForWindowWithOrigin:function(e,t){var i=window[s];return i?(this.logTrace("using delegate to load output channel"),i(this,e,this.originForIO)):m$876$0.create({window:e,origin:this.originForIO
})},setCloudMessageHandler:function(e,t,i){this._cosMessageHandlers[e]={target:t,action:i}},didStartInitialActivation:function(){this.__s._EL$2b8$didStartInitialActivation.call(this);var t,i=this._getInputChannelWindow();for(t in e){var n=e[t]=this.loadInputChannelForWindow(i);n.addTargetActionForOrigin(this,"_handleIncomingCloudOSMessage",t),n.open()}this.logTrace("waiting for initial CloudOS message"),this.setState(r)},didStartFinalizingActivation:function(){this.__s._EL$2k4$didStartFinalizingActivation.call(this),this._sendCloudOSMessage("applicationIsReady"),this.didFinishFinalizingActivation()},isReadyToTerminateDidChange:function(e){this._sendCloudOSMessage(P,e)},sendCloudOSMessage:function(e){e||(e={}),e.isCloudOSMessage||(e.isCloudOSMessage=!0),e.appName||(e.appName=this.getPath("application.name"));var i=m$838$0();e.id=i;var n=this.get("_rpcCallbacks"),s=m$823$0.create();n[i]=s,m$799$0(function(e){var t=new Error("Timed out.");e.reject(t)},t,s);var a=this.get("outputChannel");return a?a.sendMessage(e):m$809$1.warn("Could not send message.",e),s},_handleIncomingCloudOSMessage:function(t){var i=t.data;if(!this.originForIO){var n;for(n in e)if(n!==t.origin){var s=e[n];s.close(),e[n]=!1}else this._inputChannel=e[n];this.originForIO=t.origin}if(!i.isCloudOSMessage)return void m$809$1.debug("ApplicationDriver._handleIncomingCloudOSMessage: Received message not from CloudOS, ignoring.");if(!this._outputChannel){var a=this.getIOChannelOrigin(),o=this._outputChannel=this.loadOutputChannelForWindowWithOrigin(t.source,a);this.logTrace("loaded output channel"),o.open()}var r=i.methodName,d=i.args;
this.logTrace("Received CloudOS message '"+r+"'"),this._dispatchCloudOSMessageForMethodName(r,d)},_dispatchCloudOSMessageForMethodName:function(e,t){var i=t[0],n=this.get("_rpcCallbacks"),s=n[i];if(s){delete n[i],this.set("_rpcCallbacks",n),t.shift();var a=t.shift();try{s.resolve(a)}catch(e){this.handleApplicationCrash({error:e.message||""+e},m$809$1.stringifyRecordedLogMessages())}}else{var o=this._cosMessageHandlers[e];if(!o)return void m$809$1.info(this+" No handler for CloudOS message '"+e+"'");var r=o.action,d=o.target,l=m$781$0(r)?d[r]:r;try{l.apply(d,t)}catch(e){this.handleApplicationCrash({error:e.message||""+e,action:r.toString(),isMethod:!!d[r]},m$809$1.stringifyRecordedLogMessages())}}},_sendCloudOSMessage:function(e){this.logTrace("sending CloudOS message '"+e+"'");var t=m$766$0(arguments,1),i=this._createMessageForCloudOS(e,t),n=this.get("outputChannel");n?n.sendMessage(i):m$809$1.warn("Could not send message.",i)},_sendCloudOSMessageWithPromise:function(e){this.logTrace("sending CloudOS message with promise '"+e+"'");var t=m$766$0(arguments,1),i=this._createMessageForCloudOS(e,t);return this.sendCloudOSMessage(i)},_createMessageForCloudOS:function(e,t){var i={isCloudOSMessage:!0,methodName:e,appName:this.getPath("application.name"),args:t,buildNumber:window.__CW_BUILD_INFO.buildNumber,masteringNumber:window.__CW_BUILD_INFO.masteringNumber};return i},getIOChannelOrigin:function(){return window[a]||this.originForIO},_getInputChannelWindow:function(){return window[o]||i},_cosMessagePrepareApplicationForLoad:function(e,t,i,n){this.fatalErrorIfNotInState(r),this.cloudOSMethodNames=e,
this.cloudOSState=t;var s=this.get("environment");s.processCloudOSEnvironment(t);var a=this;window.addEventListener("unload",function(){a.appWillUnload()}),this.didFinishInitialActivation()},_cosMessageCloudOSStateChange:function(e){var t=this.get("environment");this._checkIfAppPreferencesChanged(e),t.processCloudOSEnvironment(e)},_cosMessageClearUserState:function(){var e=this.get("environment");e.clearUserState()},_checkIfAppPreferencesChanged:function(e){var t,i=e.appPreferences,n=this.get("application");if(i)for(t in i)t===n.get("name")&&n.appPreferencesDidChange()},showAppSwitcher:function(e){e||(e=ae),this._sendCloudOSMessage(I,{top:e.get("top"),left:e.get("left"),width:e.get("width"),height:e.get("height")})},showSpringBoard:function(){this._sendCloudOSMessage(A)},showAccountSettings:function(){this._sendCloudOSMessage(F)},performLogout:function(){this._sendCloudOSMessage(D),this.get("application").willBecomeUnloaded()},reload:function(){this._sendCloudOSMessage(T),this.get("application").willBecomeUnloaded()},appWillUnload:function(){var e=m$809$1.stringifyRecordedLogMessages();this._sendCloudOSMessage(W,e)},recordStat:function(e,t){this._sendCloudOSMessage(N,e,t)},requestSent:function(){this._sendCloudOSMessage(U)},requestReceived:function(e,t,i,n){this._sendCloudOSMessage(k,e,t,i,n)},beginStat:function(e,t){this._sendCloudOSMessage(b,e,t)},endStat:function(e,t){this._sendCloudOSMessage(R,e,t)},invokeMethodOnCloudOS:function(e){this._sendCloudOSMessage.apply(this,arguments)},handleApplicationCrash:function(e,t){var i=m$886$0.get("authBag"),n=m$886$0.get("currentUser"),s={};
s.applicationName=m$886$0.getPath("cloudOSApplication.name"),s.type="exception",s.applicationBuildNumber=__CW_BUILD_INFO.buildNumber,s.applicationMasteringNumber=__CW_BUILD_INFO.masteringNumber,s.environment=i.get("iCloudEnvironment"),s.isFatal=!0,s.time=new Date+"        ("+Date.now()+")",s.host=window.location.host,s.userAgent=navigator.userAgent+"",n&&(s.dsid=n.get("dsid")),Object.assign(s,e),this._sendCloudOSMessage(L,s,t)},exit:function(e,t){this.get("state")!==m$904$1.Deactivating&&(this._sendCloudOSMessage(y,e,t),this.get("application").willBecomeUnloaded())},showHelp:function(e){var t=m$886$0.getPath("currentUser.statusCode")===m$892$0.statusCodes.LITE,i=m$565$4(),n="en"===i?"":"?lang="+i,s="http://help.apple.com/"+(t?"icloudwebonly":"icloud")+"/"+n,a=m$648$0.get("sharedInstance").get("isChrome")?705:675;e&&(s+="#"+e),window.open(s,"help","height="+a+",width=875,location=0,status=0,scrollbars=0")},setAppBanner:function(e){this._sendCloudOSMessage(H,e,this.get("application").get("name"))},openIWorkFile:function(e){var t=e.appName;t=t.replace(/-tef$/,"");var i,n=e.sharingToken,s=e.zone,a=e.documentId,o=m$886$0.getPath("currentUser.dsid");n?i=m$829$0("//www.icloud.com/%{appName}/%{sharingToken}",{appName:t,sharingToken:n}):a&&(i=m$829$0("//www.icloud.com/%{appName}/docws:%{dsid}:%{zone}:%{docId}",{appName:t,dsid:o,zone:s,docId:a})),window.open(i,"_blank")},getValidateToken:function(){var e=m$786$0.create();return e.getCookie("X-APPLE-WEBAUTH-VALIDATE")},setStartupUrl:function(e){this._sendCloudOSMessage(B,e);var t=this.get("environment");t.set("requestedStartupUrl",e)},
setStartupInfo:function(e){this._sendCloudOSMessage(E,e);var t=this.get("environment");t.set("requestedStartupInfo",e)},refreshQuotaData:function(){this._sendCloudOSMessage(K)},fetchIcon:function(e,t,i,n){return i||(i=m$653$0.get("sharedInstance").get("devicePixelRatio")),this._sendCloudOSMessageWithPromise(q,e,t,i,n)},getConformingTypes:function(e){return this._sendCloudOSMessageWithPromise(z,e)},fetchBlankFolderIcon:function(e,t,i){return i||(i="web"),this.fetchIcon("public.folder",e,t,i)},fetchBlankFileIcon:function(e,t,i){return i||(i="web"),this.fetchIcon("public.item",e,t,i)},requestMeCard:function(){this._sendCloudOSMessage(G)},setRoute:function(e){this._sendCloudOSMessage(j,e)},openIWorkDocument:function(e,t,i){var n={isCloudOSMessage:!0,methodName:"openFromSource",isWindowApplicationMessage:!0,args:{fileName:e,url:t,source:this.getPath("application.name")}},s="/iw/#open_from_source/"+i,a=m$868$0.openWindowApplication(s,"_blank");m$868$0.passWindowApplicationMessage(a,"openFromSource",n.args)},setAppPreferences:function(e){this._sendCloudOSMessage(J,e)},setAccountPreference:function(e,t){this._sendCloudOSMessage(Q,e,t)},revalidateUser:function(){return this._sendCloudOSMessageWithPromise(x)},didReceiveSpecialResponse:function(e,t,i){this._sendCloudOSMessage(X,e,t,i)},sendLocalNotification:function(e,t,i,n){this._sendCloudOSMessage(V,e,t,i,n)},loadCloudKitJS:function(e){var t=this.initiatedCloudKitJSLoading;if(!window.CloudKit&&!t){var i=e?e:m$886$0.environment.versions.cloudkitjs,n=m$886$0.environment.isCarry,s="https://",a="cdn.apple-cloudkit.com";n&&(a="carry.icloud.com");
var o="/ck/"+i+"/cloudkit.js",r=s+a+o,d=document.createElement("script");d.setAttribute("src",r),document.head.appendChild(d),this.initiatedCloudKitJSLoading=!0}},replaceCurrentApp:function(e){this._sendCloudOSMessage(Y,e)},__superMap:{_EL$1n8$init:"init",_EL$2b8$didStartInitialActivation:"didStartInitialActivation",_EL$2k4$didStartFinalizingActivation:"didStartFinalizingActivation"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.System.ApplicationDriver"}}),ae={top:0,left:0,width:0,height:0,get:function(e,t,i,n){return this[e]}};m$903$1=Z,m$903$2=ee,m$903$3=te,m$903$4=ie,m$903$5=ne,m$903$0=se}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{delegate:null,activeTransactions:m$545$1({readOnly:!0,get:function(e,t,n,i){return this._activeTransactions}}),hasActiveTransactions:m$545$1({readOnly:!0,dependencies:["activeTransactions"],get:function(e,t,n,i){return this._activeTransactions.length>0}}),transactionErrorsAlertService:null,stagedItems:m$629$1({readOnly:!0,get:function(e,t,n,i){return this._stagedItems.toArray()}}),synchronizedItems:m$558$0(),init:function(e){this.__s._z$ZC$init.call(this,e),this._stagedItems=m$231$0.create(),this._observedTransactions={},this._activeTransactions=[],this._transactionConflictResolver=this.loadTransactionConflictResolver(),this._outstandingFolderQueries={}},loadTransactionConflictResolver:function(){return m$80$0.create({fileSystem:this,delegate:this})},getRootFolder:function(){return m$65$0.find(m$29$0.get("ROOT_FOLDER_ID"))},getFolderById:function(e){return m$65$0.find(e)},getFileById:function(e){return m$64$0.find(e)},getItemById:function(e){return m$64$0.find(e)||m$65$0.find(e)},getItemsByIds:function(e){if(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=this.getItemById(e[i]);return n}},registerItemAsStaged:function(e){this._stagedItems.addEntity(e)},unregisterItemAsStaged:function(e){this._stagedItems.removeEntity(e)},itemIsStaged:function(e){return this._stagedItems.containsEntity(e)},itemIsLoadedForId:function(e){return!!this.getItemById(e)},fetchRootFolder:function(){return m$71$0.create({fileSystem:this}).run()},fetchRootFolderDetails:function(){return m$71$0.create({fileSystem:this,queryMode:m$71$0.Mode.DetailsOnly
}).run()},fetchFolderContent:function(e){var t=e.folder.id,n=this._outstandingFolderQueries[t];if(n)return n;var i=m$68$0.create({folderID:t,fileSystem:this,includeHierarchy:!0});return this._runFolderContentQuery(i)},fetchFolderContentWithProxy:function(e){var t=e.folderID;return this._outstandingFolderQueries[t]?void e.decline(m$62$1.QueryAlreadyActive):this._runFolderContentQuery(e)},_runFolderContentQuery:function(e){var t=this.delegate,n=this,i=e.folderID,r=e.run().then(function(e){n._outstandingFolderQueries[i]=null,n._synchronizeFolderHierarchy(e.folderInfo,e.hierarchy);var r=n.getFolderById(i);return t.fileSystemDidFetchFolderContent(n,r,e.items),{items:e.items}}).catch(function(e){return e.type===m$60$1.PCSMissing?m$886$0.get("cloudOSService").exit(m$903$4,m$809$1.stringifyRecordedLogMessages()):e.type===m$60$1.PCSInvalid&&m$886$0.get("cloudOSService").exit(m$903$5,m$809$1.stringifyRecordedLogMessages()),n._outstandingFolderQueries[i]=null,m$242$0.reject(e)});return this._outstandingFolderQueries[i]=r,r},fetchFolderContentChangeSet:function(e){var t=this.delegate,n=this,i=e.folder.get("id"),r=m$67$0.create({folderID:i,fileSystem:this,includeHierarchy:!0}),s=this;return r.run().then(function(e){s._synchronizeFolderHierarchy(e.folderInfo,e.hierarchy);var r=e.changes;if(r.get("hasItems")){var a=r.map(function(e){return e.get("value")});t.fileSystemDidFetchFolderContent(n,i,a)}return{changes:r}})},createFolder:function(e,t){var n=m$83$0.create({fileSystem:this,delegate:this,folderName:e,destinationFolder:t});return this._prepareForTransaction(n),n},uploadFile:function(e,t){
var n=m$88$0.create({fileSystem:this,delegate:this,nativeFile:e,destinationFolder:t});return this._prepareForTransaction(n),n},deleteItems:function(e){var t=m$84$0.create({fileSystem:this,delegate:this,items:e});return this._prepareForTransaction(t),t},moveItems:function(e,t){var n=m$85$0.create({fileSystem:this,delegate:this,items:e,destinationFolder:t});return this._prepareForTransaction(n),n},renameItem:function(e,t){var n=m$86$0.create({fileSystem:this,delegate:this,item:e,name:t});return this._prepareForTransaction(n),n},transactionDidBeginFinalizing:function(e){var t=e.get("commitInfo");if(!t.get("cancelled")&&!t.get("isFullyCommitted")){var n=this.get("transactionErrorsAlertService");n.alertCommitErrorsForTransaction(e)}},transactionDidFinalize:function(e){m$765$0(e,this._activeTransactions),this.propertyChanged("activeTransactions"),this.get("delegate").fileSystemDidFinishHandlingTransaction(this,e)},transactionResolveConflictForItem:function(e,t){this._transactionConflictResolver.resolveTransactionConflictForItem(e,t)},transactionConflictResolverDidDeleteItem:function(e,t){},_prepareForTransaction:function(e){this._activeTransactions.push(e),e.prepare(),this.propertyChanged("activeTransactions")},_synchronizeFolderHierarchy:function(e,t){var n;if(e.isDeleted){var i=this.getFolderById(e.id);n=i.path.map(function(e){return{id:e.id}})}else n=t?t.slice():[],n.push({id:e.id,etag:e.etag});this._synchronizeItems(n)},_synchronizeItems:function(e){if(e&&0!==e.length){var t=e.map(function(e){return e.id||e.drivewsid}),n=[];if(this.getItemsByIds(t).forEach(function(t,i){var r=e[i];
t?r.etag&&r.etag===t.etag||n.push(t.toJSON()):n.push({id:r.drivewsid||r.id})}),0!==n.length){var i=n.map(function(e){return e.id}),r=m$69$0.create({fileSystem:this,itemIDs:i}),s=this;r.run().then(function(e){s._completeSynchronizingItems(n,e)}).catch(function(e){var t=m$886$0.get("cloudOSService");t.recordStat("Error synchronizing items",{class:"BRApp.Data.FileSystem",errorMessage:e.message,stack:e.stack})})}}},_completeSynchronizingItems:function(e,t){var n=this;e.forEach(function(e,i){var r=t[i];if(!e.isDeleted&&r.isDeleted){var s=n.getFolderById(e.parentId);s&&s.content.removeItem(r)}else if(e.parentId!==r.parentId){var a=n.getFolderById(e.parentId),o=n.getFolderById(r.parentId);a&&a.content.removeItem(r),o&&o.content.addItem(r)}}),this.synchronizedItems(t)},__superMap:{_z$ZC$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.FileSystem"}});m$61$0=e}();
!function(){"use strict";var t=m$626$0.extend({type:null,context:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.AlertManagement.AlertItem"}});m$396$0=t}();
!function(){"use strict";var e=m$626$0.extend({type:null,items:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.AlertManagement.AlertGroup"}});m$394$0=e}();
!function(){"use strict";var t=m$626$0.extend({filters:[],allowsAggregationForAlertItem:function(t){},createAlertGroupForAlertItem:function(t){this.alertItemIsValid(t)||m$802$0("Cannot create alert group. Alert item is invalid",{alertGroup:this,alertItem:t});var r=m$394$0.create({type:this.alertGroupType,items:[t]});return this._shouldFilterAlertGroup()&&(r=this._filterAlertGroup(r)),r},aggregateAlertGroupWithAlertItem:function(t,r){var e=this.alertItemIsValid(r),l=this.alertGroupIsValid(t);e&&l||m$802$0("Cannot aggregate. Require a valid alert group and alert item",{alertAggregator:this,alertGroup:t,alertItem:r});var i=m$394$0.create({type:this.alertGroupType,items:t.items.concat(r)});return this._shouldFilterAlertGroup()&&(i=this._filterAlertGroup(i)),i},_shouldFilterAlertGroup:function(){var t=this.filters;return t.length>0},_filterAlertGroup:function(t){for(var r=this.filters,e=t,l=0;l<r.length;l++){var i=r[l];e=i.filterAlertGroup(e)}return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.AlertManagement.AlertAggregator"}});m$393$0=t}();
!function(){"use strict";var r=m$563$1("TransactionErrorAlertItemType",["MoveItemError","DeleteItemError","CreateFolderError","RenameItemError","UploadItemError"]);m$21$0=r}();
!function(){"use strict";var r=m$563$1("TransactionErrorAlertGroupType",["DeletedItemErrors","MovedItemErrors","CreateFolderErrors","RenameItemErrors","UploadItemErrors"]);m$20$0=r}();
!function(){"use strict";var t=m$393$0.extend({alertItemType:null,alertGroupType:null,allowsAggregationForAlertItem:function(t){return this.alertItemIsValid(t)},alertItemIsValid:function(t){return!!t&&t.get("type")===this.get("alertItemType")},alertGroupIsValid:function(t){return!!t&&t.get("type")===this.get("alertGroupType")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.TransactionErrorAlertAggregator"}});m$6$0=t}();
!function(){"use strict";var r=m$6$0.extend({alertItemType:m$21$0.CreateFolderError,alertGroupType:m$20$0.CreateFolderErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.CreateFolderTransactionErrorAlertAggregator"}});m$1$0=r}();
!function(){"use strict";var e=m$6$0.extend({alertItemType:m$21$0.DeleteItemError,alertGroupType:m$20$0.DeletedItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.DeleteItemTransactionErrorAlertAggregator"}});m$2$0=e}();
!function(){"use strict";var e=m$563$1("LocalEditValidationErrorAlertItemType",["DuplicateName","HiddenFile","WhitespaceName","InvalidName"]);m$19$0=e}();
!function(){"use strict";var r=m$563$1("LocalEditValidationErrorAlertGroupType",["RenameItemErrors"]);m$18$0=r}();
!function(){"use strict";var t=m$393$0.extend({alertGroupType:m$18$0.RenameItemErrors,allowsAggregationForAlertItem:function(t){return!!m$19$0.get(t.type.name)},alertItemIsValid:function(t){return!!t&&this.allowsAggregationForAlertItem(t)},alertGroupIsValid:function(t){return!!t&&t.type===this.alertGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.LocalEditValidationErrorAlertAggregator"}});m$3$0=t}();
!function(){"use strict";var r=m$6$0.extend({alertItemType:m$21$0.MoveItemError,alertGroupType:m$20$0.MovedItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.MoveItemTransactionErrorAlertAggregator"}});m$4$0=r}();
!function(){"use strict";var e=m$6$0.extend({alertItemType:m$21$0.RenameItemError,alertGroupType:m$20$0.RenameItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.RenameItemTransactionErrorAlertAggregator"}});m$5$0=e}();
!function(){"use strict";var r=m$6$0.extend({alertItemType:m$21$0.UploadItemError,alertGroupType:m$20$0.UploadItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UploadFileTransactionErrorAlertAggregator"}});m$7$0=r}();
!function(){"use strict";var o=m$563$1("UploadValidationErrorAlertItemType",["NotCompressed","BadAppLibraryType","HiddenFile","SizeTooBig","BrowserNotSupported","IEFolderDropZeroFileCount","Unknown"]);m$23$0=o}();
!function(){"use strict";var r=m$563$1("UploadValidationErrorAlertGroupType",["UploadValidationErrors"]);m$22$0=r}();
!function(){"use strict";var t=m$393$0.extend({alertGroupType:m$22$0.UploadValidationErrors,allowsAggregationForAlertItem:function(t){return!!m$23$0.get(t.get("type").name)},alertItemIsValid:function(t){return!!t&&this.allowsAggregationForAlertItem(t)},alertGroupIsValid:function(t){return!!t&&t.get("type")===this.get("alertGroupType")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UploadValidationErrorAlertAggregator"}});m$8$0=t}();
!function(){"use strict";function t(){var t,r=arguments.length,i=1===r?arguments[0]:null;if(m$780$0(i)){var u=i.path,$=i.root;t=m$539$0.create(u,$);var e=i.transform;e&&(t=n(t,e))}else t=m$539$1.apply(window,arguments);return t}function n(t,n){var i=r.create({input:t,transform:n}),u=m$539$0.create("output");return u.rootObject=i,u}var r=m$626$0.extend(m$544$0,{input:m$545$1(),output:m$545$1({readOnly:!0,get:function(t,n,r,i){return this._output}}),init:function(t){this._transform=t.transform,this.__s._3d$LT$init.call(this,t)},_inputDidChange:m$557$1("input",function(t){var n=this._transform,r=n(t);this._output=r,this.propertyChanged("output")}),__superMap:{_3d$LT$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.BindingTransform$228"}});m$228$0=t}();
!function(){"use strict";var t=function(t,e){this.x=t,this.y=e};t.prototype.toString=function(){return"[BRKit.Geometry.Point: <x: "+this.x+", y: "+this.y+">]"},t.create=function(e,n){var i=new t(e,n);return Object.freeze(i),i},m$232$0=t}();
!function(){"use strict";var t=function(t,i){this.width=t,this.height=i};t.prototype.toString=function(){return"[BRKit.Geometry.Size: <width: "+this.width+", height: "+this.height+">]"},t.create=function(i,e){var h=new t(i,e);return Object.freeze(h),h},m$234$0=t}();
!function(){"use strict";var e=function(){var e,t,i,r,a,h,n,c=arguments;switch(arguments.length){case 1:i=c[0],r=i.x||0,a=i.y||0,h=i.width||0,n=i.height||0,e=m$232$0.create(r,a),t=m$234$0.create(h,n);break;case 2:e=c[0],t=c[1];break;case 4:e=m$232$0.create(c[0],c[1]),t=m$234$0.create(c[2],c[3]);break;default:m$802$0("Cannot create rect. Invalid number of arguments")}this.origin=e,this.size=t,this.x=e.x,this.y=e.y,this.width=t.width,this.height=t.height};e.prototype.toString=function(){var e=this.width,t=this.height,i=this.x,r=this.y;return"[BRKit.Geometry.Rect: <x: "+i+", y: "+r+", width: "+e+", height: "+t+">]"},e.create=function(t,i){var r,a=arguments;switch(a.length){case 1:r=new e(a[0]);break;case 2:r=new e(a[0],a[1]);break;case 4:r=new e(a[0],a[1],a[2],a[3]);break;default:m$802$0("Cannot create rect. Invalid number or arguments")}return Object.freeze(r),r},m$233$0=e}();
!function(){"use strict";var t=m$626$0.extend({delegate:null,x:m$629$1({get:function(t,e,i,s){return this._getPropertyValue("x")},set:function(t,e,i,s,r){this._setPropertyValue("x",t)}}),y:m$629$1({get:function(t,e,i,s){return this._getPropertyValue("y")},set:function(t,e,i,s,r){this._setPropertyValue("y",t)}}),width:m$629$1({get:function(t,e,i,s){return this._getPropertyValue("width")},set:function(t,e,i,s,r){this._setPropertyValue("width",t)}}),height:m$629$1({get:function(t,e,i,s){return this._getPropertyValue("height")},set:function(t,e,i,s,r){this._setPropertyValue("height",t)}}),position:m$629$1({readOnly:!0,get:function(t,e,i,s){return m$232$0.create(this.get("x"),this.get("y"))}}),size:m$629$1({readOnly:!0,get:function(t,e,i,s){return m$234$0.create(this.get("width"),this.get("height"))}}),init:function(t){this.__s._4P$Mu$init.call(this,t),this._props={x:0,y:0,width:0,height:0}},_getPropertyValue:function(t){var e=this.delegate;return e.frameShouldProxyProperty(this,t)?e.frameGetProxyValueForProperty(this,t):this._props[t]},_setPropertyValue:function(t,e){void 0!==e&&(this._props[t]=e,this.delegate.framePropertyDidChange(this,t,e))},invalidate:function(){this.delegate.frameDidInvalidate(this)},reset:function(){var t=this._props;t.x=0,t.y=0,t.width=0,t.height=0,this.delegate.frameDidReset(this)},adjustPosition:function(t,e){this._setPropertyValue("x",t),this._setPropertyValue("y",e)},adjustSize:function(t,e){this._setPropertyValue("width",t),this._setPropertyValue("height",e)},adjust:function(t,e,i,s){4===arguments.length?(positionChanged=!0,sizeChanged=!0,this._setPropertyValue("x",arguments[0]),
this._setPropertyValue("y",arguments[1]),this._setPropertyValue("width",arguments[2]),this._setPropertyValue("height",arguments[3])):(void 0!==params.x&&this._setPropertyValue("x",params.x),void 0!==params.y&&this._setPropertyValue("y",params.y),void 0!==params.width&&this._setPropertyValue("width",params.width),void 0!==params.height&&this._setPropertyValue("height",params.height))},adjustBounds:function(t,e){console.warn(this+" `adjustBounds` is deprecated. used `adjustSize` instead"),this.adjustSize(t,e)},adjustOffset:function(t,e){console.warn(this+" `adjustOffset` is deprecated. used `adjustPosition` instead"),this.adjustPosition(t,e)},bounds:m$629$1({readOnly:!0,get:function(t,e,i,s){console.warn(this+" `bounds` is deprecated. Use `size` instead");var r=this.get("width"),a=this.get("height");return m$234$0.create(r,a)}}),offset:m$629$1({readOnly:!0,get:function(t,e,i,s){console.warn(this+" `offset` is deprecated. Use `position` instead");var r=this.get("x"),a=this.get("y");return m$232$0.create(r,a)}}),offsetRelativeToWindow:function(){var t=this.delegate,e=t.frameGetRectRelativeToWindow();return e.origin},getOriginRect:function(){var t=this.delegate;return t.frameGetRectRelativeToWindow()},__superMap:{_4P$Mu$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Frame"}});m$277$0=t}();
!function(){"use strict";var t=m$626$0.extend({x:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._x}}),y:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._y}}),delegate:null,init:function(t){this.__s._4V$8J$init.call(this,t),this._x=0,this._y=0},adjust:function(t,e){this._x=t,this._y=e,this.delegate.boundsOffsetDidChange(this,t,e)},__superMap:{_4V$8J$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.LayerBoundsOffset"}}),e=m$626$0.extend({superlayer:null,sublayers:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._sublayers}}),boundsOffset:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._boundsOffset}}),frame:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._frame}}),getScreenBounds:m$629$1({readOnly:!0}),init:function(e){this._layerInitialized=!1,this.__s._4V$LA$init.call(this,e),this._layerInitialized=!0,this._frame=m$277$0.create({delegate:this}),this._boundsOffset=t.create({delegate:this}),this._sublayers=[]},adjustPosition:function(t,e){this._frame.adjustPosition(t,e)},adjustSize:function(t,e){this._frame.adjustSize(t,e)},adjustBoundsOffset:function(t,e){this._boundsOffset.adjust(t,e)},addSublayer:function(t){this._sublayers.push(t),t.superlayer=this,t.didAttachToSuperlayer(this),this.didAddSublayer(t)},didAddSublayer:function(t){},didAttachToSuperlayer:function(t){},removeSublayer:function(t){t.superlayer=null,m$765$0(t,this._sublayers),this.didRemoveSublayer(t),t.didDetachFromSuperlayer(this)},didRemoveSublayer:function(t){},didDetachFromSuperlayer:function(t){},display:function(){},frameShouldProxyProperty:function(t,e){return!1;
},frameGetProxyValueForProperty:function(t,e){return null},frameDidInvalidate:function(t){},frameDidReset:function(t){},framePropertyDidChange:function(t,e,i){},boundsOffsetDidChange:function(t,e,i){for(var n=this._sublayers,s=0,r=n.length;s<r;s++)n[s].display()},__superMap:{_4V$LA$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Layer"}});m$283$1=t,m$283$0=e}();
!function(){"use strict";var e=["x","y","width","height"],t={};t.x="left",t.y="top",t.width="width",t.height="height";var r=m$563$1("BRKit.UI.DOMLayerFrameValueType",["Native","Assigned"]),i=r.Native,a=r.Assigned,n=m$283$0.extend({dataSource:null,getScreenBounds:m$629$1({readOnly:!0,get:function(e,t,r,i){return this._getNativeFrameRect()}}),init:function(e){this.__s._47$Dk$init.call(this,e),this._reset()},didAttachToSuperlayer:function(e){this.__s._47$FQ$didAttachToSuperlayer.call(this,e),this._updateStyle()},didDetachFromSuperlayer:function(e){this.__s._47$HJ$didDetachFromSuperlayer.call(this,e),this._nativeDOMFrameRect=null},display:function(){var e=this._framePropertyValueType,t=this.get("frame");e.x===a&&this._updateStyleForFrameProperty("x",t.get("x")),e.y===a&&this._updateStyleForFrameProperty("y",t.get("y"))},frameShouldProxyProperty:function(e,t){return this._framePropertyValueType[t]===i},frameGetProxyValueForProperty:function(e,t){if(this._framePropertyValueType[t]===i){var r=this._getNativeFrameRect();return r[t]}return null},frameDidInvalidate:function(e){this.__s._47$VA$frameDidInvalidate.call(this,e),this._nativeDOMFrameRect=null},frameDidReset:function(e){this.__s._47$Wv$frameDidReset.call(this,e),this._reset()},framePropertyDidChange:function(e,t,r){this.__s._47$Yi$framePropertyDidChange.call(this,e,t,r),this._applyFramePropertyChange(t,r)},frameGetRectRelativeToWindow:function(){return this._getNativeFrameRect()},_reset:function(){this._nativeDOMFrameRect=null,this._framePropertyValueType={x:i,y:i,width:i,height:i};var e=this._getStyle();e.left=null,e.right=null,
e.width=null,e.height=null},_applyFramePropertyChange:function(e,t){this._framePropertyValueType[e]=a,this._updateStyleForFrameProperty(e,t)},_updateStyleForFrameProperty:function(e,r){var i=this.get("superlayer"),a=this._getStyle();if(a&&i){var n=t[e],l=i.get("boundsOffset"),h=!1;switch(e){case"x":r-=l.get("x"),h=!0;break;case"y":r-=l.get("y"),h=!0}h&&(a.position="absolute"),a[n]=r+"px"}},_getStyle:function(){var e=this._style;if(!e){var t=this._getElement();e=this._style=t?t.style:null}return e},_getElement:function(){var e=this._element;if(!e){var t=this.dataSource;e=this._element=t?t.getBackingElementForDOMLayer(this):null}return e},_getNativeFrameRect:function(){var e=this._nativeDOMFrameRect;if(!e){var t=this._getElement();if(!t)return null;var r=t.getBoundingClientRect(),i=Math.ceil(r.width),a=Math.ceil(r.height);e=this._nativeDOMFrameRect=m$233$0.create({x:r.left,y:r.top,width:i,height:a})}return e},_updateStyle:function(){for(var t=this._framePropertyValueType,r=this.get("frame"),i=e,n=0,l=i.length;n<l;n++){var h=i[n];t[h]===a&&this._updateStyleForFrameProperty(h,r.get(h))}},__superMap:{_47$Dk$init:"init",_47$FQ$didAttachToSuperlayer:"didAttachToSuperlayer",_47$HJ$didDetachFromSuperlayer:"didDetachFromSuperlayer",_47$VA$frameDidInvalidate:"frameDidInvalidate",_47$Wv$frameDidReset:"frameDidReset",_47$Yi$framePropertyDidChange:"framePropertyDidChange"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.DOMLayer"}});m$259$0=n}();
!function(){"use strict";var e={setElementText:function(e,t){e&&(m$648$0.get("sharedInstance").get("isFirefox")?e.textContent=t:e.innerText=t)},addClass:function(e,t){e&&e.classList.add(t)},removeClass:function(e,t){e&&e.classList.remove(t)},toggleClass:function(e,t,n){if(e){var s=e.classList;void 0===n?s.contains(t)?s.remove(t):s.add(t):n===!0?s.add(t):n===!1&&s.remove(t)}},elementContainsElement:function(e,t){for(var n=t;n&&n!==document.body;){if(n===e)return!0;n=n.parentElement}return!1}};m$261$0=e}();
!function(){"use strict";function t(t,e,n){t.style[e]=null===n?null:n+"px"}function e(t,e){return t?t.querySelector(e):null}var n=function(t){this._element=t};n.create=function(t,i){var r=(arguments.length,null);return t||m$802$0("DOMProxy: Cannot create. Requires an element."),r=new n(i?e(t,i):t)};var i=n.prototype;i.element=function(){return this._element},i.empty=function(){return!!this._element},i.addClass=function(t){return m$261$0.addClass(this._element,t),this},i.removeClass=function(t){return m$261$0.removeClass(this._element,t),this},i.toggleClass=function(t,e){return m$261$0.toggleClass(this._element,t,e),this},i.text=function(t){return m$261$0.setElementText(this._element,t),this},i.top=function(e){return t(this._element,"top",e),this},i.left=function(e){return t(this._element,"left",e),this},i.right=function(e){return t(this._element,"right",e),this},i.bottom=function(e){return t(this._element,"bottom",e),this},i.width=function(e){return t(this._element,"width",e),this},i.height=function(e){return t(this._element,"height",e),this},i.appendChild=function(t){return m$620$0(t,n)&&(t=t.element()),this._element.appendChild(t),this},i.removeChild=function(t){return m$620$0(t,n)&&(t=t.element()),this._element.removeChild(t),this},i.style=function(t,e){return this._element.style[t]=e,this},i.attr=function(t,e){return this._element[t]=e,this},i.query=function(t){return new n(e(this._element,t))},i.insertBefore=function(t,e){return this._element.insertBefore(t,e),this},i.firstChild=function(){return this._element.firstChild},i.$=i.query,m$260$0=n}();
!function(){"use strict";var e=m$714$0.extend({additionalClassNames:m$589$1(["br-view"]),subviews:m$629$1({defaultValue:function(){return[]},readOnly:!0}),frame:m$629$1({readOnly:!0,get:function(e,t,i,n){return this.get("layer").get("frame")}}),layer:m$629$1({readOnly:!0,get:function(e,t,i,n){var r=this._layer;return r||(r=this._layer=this.loadLayer()),r}}),visible:m$545$1({defaultValue:!0}),gestureRecognizers:m$629$1({readOnly:!0,defaultValue:function(){return[]}}),window:m$629$1({defaultValue:null}),isAttachedToWindow:m$545$1({readOnly:!0,get:function(e,t,i,n){return!!this.get("window")}}),isBeingAttachedToWindow:m$629$1({readOnly:!0,get:function(e,t,i,n){return this._isBeingAttachedToWindow}}),isBeingDetachedFromWindow:m$629$1({readOnly:!0,get:function(e,t,i,n){return this._isBeingDetachedFromWindow}}),viewController:null,preferredSize:null,init:function(e){this._cachedDOMProxies={};var t=this._displayInfo={renderKeys:[],dynamicContentKeys:[]};this.__s._4i$e6$init.call(this,e);var i=this.getMetadataByType(m$629$0);for(var n in i){var r=i[n];(r.render||r.dynamicContent)&&(t[n]={},r.render&&(t.renderKeys.push(n),this._prepareRenderPropertyForKey(r,n)),r.dynamicContent&&(t.dynamicContentKeys.push(n),this._prepareDynamicContentPropertyForKey(r,n)))}this.loadSubviews(),this.setNeedsLayout(),this.setNeedsRender()},shouldApplyClassHierarchyClassNames:function(){return!1},_prepareRenderPropertyForKey:function(e,t){var i=this._displayInfo[t],n=i.render={dirty:!1};if(this.setNeedsRenderForKey(t),e.instanceOf&&e.instanceOf(m$545$0)){var r=this,s=this.observe(t,function(){r.setNeedsRenderForKey(t);
});n.observable=!0,n.observer=s}},_prepareDynamicContentPropertyForKey:function(e,t){var i=this._displayInfo[t],n=i.dynamicContent={};if(e.instanceOf&&e.instanceOf(m$545$0)){var r=this,s=this.observe(t,function(){r.notifyParentOfDynamicContentChange()});n.observable=!0,n.observer=s}},set:function(e,t,i,n,r){this.__s._4i$198$set.call(this,e,t);var s=this._displayInfo[e];s&&(s.render&&!s.render.observable&&this.setNeedsRenderForKey(e),s.dynamicContent&&!s.dynamicContent.observable&&this.notifyParentOfDynamicContentChange())},loadLayer:function(){return m$259$0.create({dataSource:this})},getBackingElementForDOMLayer:function(){return this.get("element")},adjustPosition:function(e,t){var i=this.get("layer").get("frame");i.adjustPosition(e,t),this.frameOffsetDidChange(i)},adjustSize:function(e,t){var i=this.get("layer").get("frame");i.adjustSize(e,t),this.frameBoundsDidChange(i)},addSubview:function(e,t){if(e.get("parent")!==this){var i=this.get("subviews"),n=this.get("window");i.indexOf(e)>=0&&m$802$0("Cannot add subview. Already subview of this view",{view:this}),n&&e.willMoveToWindow(n),e.willMoveToParentView(this),i.push(e),e.set("parent",this);var r=t?this.$(t):this.$();r.appendChild(e.get("element"));var s=this.get("layer");s.addSublayer(e.get("layer")),this.didAddSubview(e),e.didMoveToParentView(this),n&&e.didMoveToWindow(n)}},removeSubview:function(e,t){if(e.get("parent")){var i=this.get("subviews");i.indexOf(e)<0&&m$802$0("Cannot remove subview. Not a subview of this view",{view:this}),e.willMoveToParentView(null),e.willMoveToWindow(null),m$765$0(e,i),e.set("parent",null);
var n=t?this.$(t):this.$();n.removeChild(e.get("element"));var r=this.get("layer");r.removeSublayer(e.get("layer")),this.didRemoveSubview(e),e.didMoveToParentView(null),e.didMoveToWindow(null)}},didAddSubview:function(e){},didRemoveSubview:function(e){},willMoveToParentView:function(e){},didMoveToParentView:function(e){var t=this.get("window");t&&this.invalidateFrame()},willMoveToWindow:function(e){var t=this.get("subviews"),i=t.length;this.set("window",e),this._isBeingAttachedToWindow=!!e,this._isBeingDetachedFromWindow=!e;for(var n=0;n<i;n++)t[n].willMoveToWindow(e)},didMoveToWindow:function(e){var t=this.get("subviews"),i=t.length;this._isBeingAttachedToWindow=!1,this._isBeingDetachedFromWindow=!1,this.propertyChanged("isAttachedToWindow");for(var n=0;n<i;n++)t[n].didMoveToWindow(e);e&&(this._needsLayout&&e.queueViewForLayout(this),this._needsRender&&e.queueViewForRender(this))},setNeedsLayout:function(){if(!this._needsLayout){this._needsLayout=!0;var e=this.get("window");e&&!this._isBeingAttachedToWindow&&e.queueViewForLayout(this)}},layoutIfNeeded:function(){this._needsLayout&&(this._needsLayout=!1,this.layout())},layout:function(){var e=this.get("viewController");e&&e.viewWillLayoutSubviews(),this.layoutSubviews(),e&&e.viewDidLayoutSubviews()},layoutSubviews:function(){},shouldRenderForKey:function(e){var t=this._displayInfo[e];return!(!t||!t.render)&&t.render.dirty},setNeedsRenderForKey:function(e){this.setNeedsRender();var t=this._displayInfo[e];if(!t){var i=this._displayInfo;t=i[e]={render:{}},i.renderKeys.push(e)}t.render.dirty=!0},setNeedsRender:function(){if(!this._needsRender){
this._needsRender=!0;var e=this.get("window");e&&!this._isBeingAttachedToWindow&&e.queueViewForRender(this)}},renderIfNeeded:function(){if(this._needsRender){this._needsRender=!1,this.render();var e=this._displayInfo,t=e.renderKeys;if(t)for(var i=0,n=t.length;i<n;i++)e[t[i]].render.dirty=!1}},render:function(){},addGestureRecognizer:function(e){e.set("view",this),this.get("gestureRecognizers").push(e)},removeGestureRecognizer:function(e){e.set("view",null),m$765$0(e,this.get("gestureRecognizers"))},pointerUp:function(e){return this.tryHandlingEventForGestureRecognizers("pointerUp",e),!1},pointerDown:function(e){return this.tryHandlingEventForGestureRecognizers("pointerDown",e),!1},pointerMove:function(e){return this.tryHandlingEventForGestureRecognizers("pointerMove",e),!1},tryHandlingEventForGestureRecognizers:function(e,t){for(var i,n=this.get("gestureRecognizers"),r=n.length,s=0;s<r;s++)i=n[s],i[e].call(i,t)},resetGestureRecognizers:function(){for(var e=this.get("gestureRecognizers"),t=e.length,i=0;i<t;i++)e[i].reset();var n=this.get("parent");n&&n.resetGestureRecognizers()},_brkit_adjustElementVisibility:m$557$1("visible","element",function(e,t){t&&(t.style.display=e?"":"none")}),loadSubviews:function(){},loadSubviewForProperty:function(e){var t="load"+e[0].toUpperCase()+e.substring(1),i=this[t];i||m$802$0("Missing method "+t+". Cannot load subview for "+e);var n=i.call(this);this.set(e,n)},loadSubviewForPropertyIfNeeded:function(e){var t=this.get(e);t||this.loadSubviewForProperty(e)},frameOffsetDidChange:function(e){},frameBoundsDidChange:function(e){this.invalidateSubviewFrames();
},frameDidInvalidate:function(e,t){this.invalidateSubviewFrames(t)},notifyParentOfDynamicContentChange:function(){if(this.get("isAttachedToWindow")){var e=this.get("parent");e&&e.subviewDidChangeDynamicContent(this)}},subviewDidChangeDynamicContent:function(e){},shouldAutomaticallyForwardSubviewFramesInvalidation:function(){return!0},invalidateFrame:function(e){var t=this.get("layer").get("frame");t.invalidate(),this.frameDidInvalidate(t,e),this.invalidateSubviewFrames(e)},invalidateSubviewFrames:function(e){if(this.shouldAutomaticallyForwardSubviewFramesInvalidation())for(var t=this.get("subviews"),i=t.length,n=0;n<i;n++)t[n].invalidateFrame(e)},queryElement:function(e){var t=this.get("element");if(!t)return null;var i=null;return e?(i=this._cachedDOMProxies[e],i||(i=m$260$0.create(t,e),this._cachedDOMProxies[e]=i)):(i=this._rootDOMProxy,i||(i=this._rootDOMProxy=m$260$0.create(t))),i},__superMap:{_4i$e6$init:"init",_4i$198$set:"set"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.View"}});e.prototype.$=e.prototype.queryElement,m$296$0=e}();
!function(){"use strict";var e=m$296$0.extend({prepareForReuse:function(){},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.UI.ShowcaseView"}});m$424$0=e}();
!function(){"use strict";var t=52428800,e=200,s=m$626$0.extend({init:function(e){this.__s._6f$5M$init.call(this,e),this._stats={files:0,bytes:0},this._fileList={},this._previousTotalBytes=0,this._nextBytesThreshold=t},registerFile:function(t){if(t){var e=this._fileList,s=t.id;if(!e[s]){var i=this._createFileDataFromFile(t);e[s]=i,this._updateStatSums(i)}}},_createFileDataFromFile:function(t){var e={bytes:t.size,extension:t.extension};return e},_updateStatSums:function(t){var e=this._stats,s=e.files,i=e.bytes;s++,i+=t.bytes,e.files=s,e.bytes=i,this._shouldSendStats()},_shouldSendStats:function(){var s=this._stats,i=s.files,n=s.bytes;i%e===0&&this._sendStats("File Threshold Crossed: "+i),n>this._nextBytesThreshold&&this._previousTotalBytes<this._nextBytesThreshold&&(this._sendStats("Bytes Threshold Crossed: "+this._nextBytesThreshold/1024/1024+"MB"),this._nextBytesThreshold+=t),this._previousTotalBytes=n},_sendStats:function(t){var e=this._stats,s=e.files,i=e.bytes,n=(i/1024/1024).toFixed(2),r="File and Thumbnail Usage: "+s+" files ("+n+"MB)",a=this._sumFileListData(),o=this._convertSumsToTabbedString(a),h=m$886$0.get("cloudOSService");h.recordStat(r,{trigger:t,files:s,bytes:i,bytesInMB:n,bytesSummedByExtensionInTabbedFormat:o}),m$809$1.debug(r+"\ntrigger: "+t+"\nfiles: "+s+"\nbytes: "+i+"\nbytesInMB: "+n+"\nbytesSummedByExtensionInTabbedFormat:\n"+o)},_sumFileListData:function(){for(var t={},e=this._fileList,s=Object.keys(e),i=0;i<s.length;i++){var n=s[i],r=e[n],a=r.extension,o=t[a];o||(o=0),o+=r.bytes,t[a]=o}return t},_convertSumsToTabbedString:function(t){for(var e="",s=Object.keys(t),i=0;i<s.length;i++){
var n=s[i],r=t[n];e+=n+"\t"+r+"\r"}return e},__superMap:{_6f$5M$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Services.ThumbnailStatsReporterService"}});m$419$0=s}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._service}}),init:function(){this.__s._j$5a$init.call(this),this._service=this.loadService()},loadService:function(){return m$419$0.create()},__superMap:{_j$5a$init:"init"}}).create(),i=e.get("service");m$45$0=i}();
!function(){"use strict";var e=null,t=m$626$0.extend(m$544$0,{frameCompleted:m$558$0(),requestAnimationFrame:function(t){if(!e)for(var i=["requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame"],n=0,m=i.length;n<m&&!(e=window[i[n]]);n++);if(e)e(function(e){t(e),this.frameCompleted()}.bind(this));else{var a=this;m$799$0(function(){t((new Date).getTime()),a.frameCompleted()},100)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.BaseAnimationUtils$225"}}),i=t.create();m$225$0=i}();
!function(){for(var r=function(r,t){t||(t=0);var n=r.length;if(t<0)throw new TypeError("Start offset is negative");if(n+t>this.length)throw new RangeError("Source is too large");for(var a=0;a<n;a++)this[a+t]=r[a]},t=function(r,t){var n=this.length;void 0===t&&(t=n),t<0&&(t=n+t),t>n&&(t=n),r<0&&(r=n+r),r<0&&(r=0);for(var a=[],e=r;e<t;e++)a[e-r]=this[e];return a},n=function(n){if(arguments.length>1)throw new TypeError("Polyfilled typed arrays do not support the viewing of `ArrayBuffer`s.");var a=Array.isArray(n)?n:null,e=a?a.length:isNaN(n)?0:n,o=new Array(e);o.buffer=null,o.byteOffset=NaN,o.BYTES_PER_ELEMENT=NaN,o.set=r,o.subarray=t;var i=0;if(a)for(;i<e;i++)o[i]=a[i];else for(;i<e;i++)o[i]=0;return o},a="Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=a.length-1;e>=0;e--)window[a[e]]||(window[a[e]]=n)}();
!function(){"use strict";function e(){S=!1;var e=D=Date.now(),n=Math.max(e-M,1);B=1e3/n,M=e,m$541$0.pause(),T=!0;for(var a,t=0,i=E,u=0,y=0,w=0,h=0;t<i;t++)h=q[t],m$541$0.setNodeToDirtyFromParent(h);for(m$541$0.resume(),m$541$0.pause(),i=x,t=0;t<i;t++)if(u=C[t],b[u]=-1,!(u<0)){if(y=m[u],w=$[u],w&=p,_>=0&&y<_&&w&v)l[u]=f[u].skipVariableToEnd(u,A,u*r),f[u]=null,a=c[u],a||(a=[]),a[0]=m$216$0,c[u]=a,w|=N;else if(W>=0&&y<W&&w&g){0===(w&I)&&(d[u]=z,U[z++]=u,w|=I),$[u]=w;continue}if(w&N){a=c[u];var H=a[0],X=f[u],j=s[u]+n,G=0,J=0,K=u*r;X&&(G=X.velocityForVariable(u,j,A,K),J=X.accelerationForVariable(u,j,A,K),X.finishVariable(u,j,A,K,l[u]),X!==H&&X.animatorWillChange(u,j,A,K)),a[0]=u,a[1]=s[u]=0,a[2]=A,a[3]=K,a[4]=l[u],a[5]=G,a[6]=0,H.initVariable.apply(H,a),a.length=0,f[u]=H,w&=k,w&=V,w|=(0|H.isSkippable)*v,w&=F,w|=(0|H.isPauseable)*g}else w&I?(d[u]=-1,w&=P):s[u]+=n;$[u]=w,m$541$0.setNodeToDirtyFromParent(o[u])}for(x=0,T=!1,m$541$0.resume(),m$541$0.pause(),i=O,t=0;t<i;t++)h=L[t],m$541$0.setNodeToDirtyFromParent(h);m$541$0.resume(),D=-1}var r=9,n=128,a=0,t=-1,i=n,o=new Int32Array(n),l=new Float64Array(n),u=new Float64Array(n),s=new Int32Array(n),$=new Int32Array(n),m=new Int32Array(n),f=new Array(n),c=new Array(n),y=new Array(n),w=new Array(n),b=new Int32Array(n),d=new Int32Array(n),A=new Float64Array(n*r),g=1,F=~g,v=2,V=~v,h=4,p=~h,I=8,P=~I,N=16,k=~N,D=-1,B=0,M=Date.now(),S=!1,C=new Int32Array(n),T=!1,x=0,q=new Int32Array(64),E=0,L=new Int32Array(64),O=0,U=new Int32Array(n),z=0,H=[],W=-1,X=[],_=-1,j=function(){var e,n=2*i;e=new Int32Array(n),e.set(o),o=e,e=new Float64Array(n),e.set(l),
l=e,e=new Float64Array(n),e.set(u),u=e,e=new Int32Array(n),e.set(s),s=e,e=new Int32Array(n),e.set($),$=e,e=new Int32Array(n),e.set(m),m=e,e=new Int32Array(n),e.set(C),C=e,e=new Int32Array(n),e.set(U),U=e,e=new Float64Array(n*r),e.set(A),A=e,e=new Int32Array(n),e.set(b),b=e,e=new Int32Array(n),e.set(d),d=e,i=n},G=m$543$0.extend({isCacheable:!1,flushNode:function(e,n){var a=m$541$0.getDataForNode(n),t=f[a].tick(a,s[a],A,a*r,l[a]);l[a]=t},calculateValueForNode:function(e,r,n){var a=m$541$0.getDataForNode(r);return l[a]}}).create(),J=function(e,r){var n=0;t>0?(n=t,t=o[n]):(n=a++,a>i&&j());var u=m$541$0.allocNode(G,null,m$541$0.FLUSH);o[n]=u,l[n]=+e,$[n]=N,m[n]=0|r,b[n]=-1,d[n]=-1,m$541$0.setDataForNode(n,u);var s=c[n];return s||(s=[],c[n]=s),s[0]=m$216$0,fe(n),n},K=function(e){var r=o[e];m$541$0.freeNode(r);var n=b[e];n>0&&(C[n]=-1,b[e]=-1);var a=b[e];a>0&&(U[a]=-1,d[e]=-1),o[e]=t,t=e,l[e]=$[e]=m[e]=f[e]=0,Z(e)},Q=function(e,r,n,a){var t=c[e];t||(t=[]),t[0]=r,t[1]=null,t[2]=null,t[3]=null,t[4]=null,t[5]=null,t[6]=null;for(var i=5,o=2,l=arguments.length;o<l;o++)t[o+i]=arguments[o];var u=$[e];u|=N,$[e]=u,fe(e)},R=function(e,r,n){y[e]=r,w[e]=n},Y=function(e){var r=w[e];if(r){var n=y[e];r.call(n,e,l[e])}},Z=function(e){w[e]=null,y[e]=null},ee=function(e){H.push(e),W=W>=0?Math.min(W,e):e},re=function(e){var r=H.indexOf(e),n=0;if(r<0&&m$802$0("begin/endPausingVariablesBelowPriority mismatch! "+e+" not paused."),H.splice(r,1),H.length>0)for(W=1e7,r=0,n=H.length;r<n;r++)W=Math.min(W,H[r]);else W=-1;n=z,z=0;var a,t;for(r=0;r<n;r++)a=U[r],t=m[a],W>0&&t<W?(d=z,U[z++]=a):fe(a)},ne=function(e){
X.push(e),_=_>=0?Math.min(_,e):e},ae=function(e){var r=X.indexOf(e),n=0;if(r<0&&m$802$0("begin/endSkippingVariablesBelowPriority mismatch! "+e+" not paused."),X.splice(r,1),X.length>0)for(_=1e7,r=0,n=X.length;r<n;r++)_=Math.min(_,X[r]);else _=-1},te=function(e){return l[e]+u[e]},ie=function(e){return $[e]&v?f[e].getFinalValue(e,A,e*r)+u[e]:l[e]+u[e]},oe=function(e,r){f[e]!==m$216$0?(u[e]=0,l[e]=r,Q(e,m$216$0)):(u[e]=0,l[e]=r,fe(e))},le=function(e,r){r&&(l[e]=r),Q(e,m$216$0)},ue=function(e,r,n,a,t,i){void 0===a&&(a=Number.MAX_VALUE),Q(e,m$217$0,r-u[e],n,a-u[e],t,i)},se=function(e,r,n,a){Q(e,m$215$0,r,n,a)},$e=function(e,r,n,a,t,i,o){Q(e,m$214$0,r,n,a,t,i,o)},me=function(e,r){var n=l[e];u[e]=r-n},fe=function(e){e<0&&m$802$0("Tried to request frame for a variable that doesn't exist.");var r=$[e];r&h||(b[e]=x,C[x++]=e,r|=h,$[e]=r,ce())},ce=function(){S||(m$225$0.requestAnimationFrame(e),S=!0)},ye=function(e){return o[e]},we=function(){return B},be=function(e){q[E++]=e},de=function(e){L[O++]=e},Ae={requestFrame:ce,requestFrameForVariable:fe,frame:e,allocVariable:J,setCallbackForVariable:R,clearCallbackForVariableIfNeeded:Z,triggerCallbackForVariableIfNeeded:Y,freeVariable:K,beginAnimating:Q,beginDrag:se,beginSmoothMoveTo:ue,beginBezier:$e,set:oe,rebaseCurrentValue:me,get:te,getFinalValue:ie,reset:le,beginPausingVariablesBelowPriority:ee,endPausingVariablesBelowPriority:re,beginSkippingVariablesBelowPriority:ne,endSkippingVariablesBelowPriority:ae,addPreFrameNode:be,addPostFrameNode:de,nodeForVariable:ye,getFPS:we};m$213$0=Ae}();
!function(){"use strict";var i=100,n={isPauseable:!1,isSkippable:!1,initVariable:function(i,n,a,e,r,t,o){a[e]=-Number.MAX_VALUE,a[e+1]=r,a[e+2]=0,a[e+3]=0},finishVariable:function(){},animatorWillChange:function(){},tick:function(n,a,e,r,t){var o=Date.now(),u=o-e[r];if(e[r]=o,u>i)e[r+2]=0,e[r+3]=0;else if(u>0){var c=e[r+1],l=t-c,f=e[r+2],b=0===u?f:l/u,s=u/i,v=b*s+f*(1-s),V=v-f;e[r+1]=t,e[r+2]=v,e[r+3]=V}return t},velocityForVariable:function(n,a,e,r){var t=Date.now()-e[r];return t>i?0:e[r+2]},accelerationForVariable:function(n,a,e,r){var t=Date.now()-e[r];return t>i?0:e[r+3]}};m$216$0=n}();
!function(){"use strict";var a=[94.9122,-.0105361,.9],e=[194.957,-.00512933,.95],i=[494.983,-.00202027,.98],r=[994.992,-.00100503,.99],t=.001,l={isPauseable:!0,isSkippable:!1,initVariable:function(a,i,r,t,l,o,n,$,c,b){b&&m$213$0.setCallbackForVariable(a,c,b),$=$||e,r[t]=l,r[t+1]=o,r[t+2]=$[0],r[t+3]=$[1],r[t+4]=$[2]},finishVariable:function(a){m$213$0.triggerCallbackForVariableIfNeeded(a),m$213$0.clearCallbackForVariableIfNeeded(a)},animatorWillChange:function(){},tick:function(a,e,i,r,l){var o=i[r],n=i[r+1],$=i[r+2],c=i[r+3],b=i[r+4];return n*Math.pow(b,e/10)/n>t?m$213$0.requestFrameForVariable(a):m$213$0.reset(a),o+n*$*(1-Math.pow(Math.E,c*e))},velocityForVariable:function(a,e,i,r){return i[r+1]*Math.pow(i[r+4],e/10)},accelerationForVariable:function(a,e,i,r){return this.velocityForVariable(a,e,i,r)-this.velocityForVariable(a,e-1,i,r)}};m$215$1=a,m$215$2=e,m$215$3=i,m$215$4=r,m$215$0=l}();
!function(){"use strict";var a={isPauseable:!0,isSkippable:!0,initVariable:function(a,r,e,t,i,n,o,l,u,c,b,f){c!==Number.MAX_VALUE&&(i=c),f&&m$213$0.setCallbackForVariable(a,b,f);var p=l-i,h=(10*p-3*u*(o*u+2*n))/Math.pow(u,3),M=(u*(3*o*u+8*n)-15*p)/Math.pow(u,4),w=(6*p-u*(o*u+3*n))/Math.pow(u,5);e[t]=i,e[t+1]=n,e[t+2]=o,e[t+3]=h,e[t+4]=M,e[t+5]=w,e[t+6]=l,e[t+7]=u},finishVariable:function(a){m$213$0.triggerCallbackForVariableIfNeeded(a),m$213$0.clearCallbackForVariableIfNeeded(a)},animatorWillChange:function(){},tick:function(a,r,e,t,i){var n=e[t+7];if(r<n){var o=e[t],l=e[t+1],u=e[t+2],c=e[t+3],b=e[t+4],f=e[t+5],p=0;return p=o+l*r+u*Math.pow(r,2)+c*Math.pow(r,3)+b*Math.pow(r,4)+f*Math.pow(r,5),m$213$0.requestFrameForVariable(a),p}return m$213$0.reset(a,i),e[t+6]},velocityForVariable:function(a,r,e,t){var i=e[t+7];if(r>=i)return 0;var n=e[t+1],o=e[t+2],l=e[t+3],u=e[t+4],c=e[t+5];return n+2*o*r+3*l*Math.pow(r,2)+4*u*Math.pow(r,3)+5*c*Math.pow(r,4)},accelerationForVariable:function(a,r,e,t){var i=e[t+7];if(r>=i)return 0;var n=e[t+2],o=e[t+3],l=e[t+4],u=e[t+5];return 2*n+6*o*r+12*l*Math.pow(r,2)+20*u*Math.pow(r,3)},skipVariableToEnd:function(a,r,e){return r[e+6]},getFinalValue:function(a,r,e){return r[e+6]}};m$217$0=a}();
!function(){"use strict";function e(e,t,r){for(var a=e.concat([]);a.length>t;){for(var n=0;n<a.length/t;n++)for(var i=0;i<t;i++)a[n*t+i]=(1-r)*a[n*t+i]+r*a[(n+1)*t+i];a.length-=t}return a}var t=[],r={isPauseable:!0,isSkippable:!0,initVariable:function(e,r,a,n,i,l,f,u,o,s,c,m,h){h&&m$213$0.setCallbackForVariable(e,m,h),t[e]||(t[e]=[]);var v=t[e];v.dx=0,v.d2x=0;for(var g={path:[i].concat(u),timingCurve:o,tweenCurve:s,duration:c,lastTime:0,timeOffset:0},d=0;d<v.length;d++)v[d].timeOffset-=v[d].lastTime,v[d].lastTime=0;v.push(g),a[n]=u[u.length-1]},finishVariable:function(e){m$213$0.triggerCallbackForVariableIfNeeded(e),m$213$0.clearCallbackForVariableIfNeeded(e)},animatorWillChange:function(e){var r=t[e];r.splice(0,r.length)},tick:function(r,a,n,i,l){var f=t[r];if(!f||f.length<1)return l;var u,o=a-f[0].lastTime,s=0,c=[],m=null;for(u=f.length-1;u>=0;u--){m=f[u];var h=a-m.timeOffset,v=h/m.duration,g=Math.min(v,1);g=e(m.timingCurve,1,g)[0],u===f.length-1&&(s=g),c.unshift(e(m.path,1,g)[0]),m.lastTime=a}var d=c[0];for(u=1;u<f.length;u++){var b=f[u],p=f[u-1],$=Math.max(b.timeOffset,p.timeOffset),V=Math.min(b.timeOffset+b.duration,p.timeOffset+p.duration)-$,x=a-$,F=x/V;F=e(m.tweenCurve,1,F)[0],F>=1||F<0?(f.splice(0,u),c.splice(0,u),u=0,d=c[0]):d=(1-F)*d+F*c[u]}s>=1?(f.splice(0,f.length),m$213$0.reset(r,d)):m$213$0.requestFrameForVariable(r);var C=(d-l)/o;return f.d2x=f.dx-C,f.dx=C,d},velocityForVariable:function(e,r,a,n){var i=t[e];return i&&"number"==typeof i.dx?i.dx:0},accelerationForVariable:function(e,r,a,n){var i=t[e];return i&&"number"==typeof i.d2x?i.d2x:0},skipVariableToEnd:function(e,a,n){
var i=r.getFinalValue(e,a,n),l=t[e];return l.splice(0,l.length),i},getFinalValue:function(e,r,a){var n=t[e];if(!n||n.length<1)return r[a];var i=n[n.length-1].path;if(!i||i.length<1)return r[a];var l=i[i.length-1];return l?l:r[a]}};m$214$0=r}();
!function(){"use strict";var t={};t.spliceWithoutReturn=function(t,n,e){var r=t.length;if(n=n||0,n<0?(n=r+n,n<0&&(n=0)):n>r&&(n=r),2===arguments.length)return void(t.length=n);e=e||0,e=Math.max(0,Math.min(e,r-n));var i,h=arguments.length,f=h>3?h-3:0,l=f-e;if(l>0)for(i=r+l;i-- >n+f;)t[i]=t[i-l];else for(i=n+f;i<r;i++)t[i]=t[i-l];for(i=n;i<n+f;i++)t[i]=arguments[i-n+3];l<0&&(t.length=r+l)},m$226$0=t}();
!function(){"use strict";var t,i={flushNode:function(t,i){m$541$0.getDataForNode(i)(),m$541$0.freeNode(i),t.removeUnfreedCallbackNode(i)},calculateValueForNode:m$805$0},e="_animation_idFor_",n={mixinDependencies:[m$544$0],_animatedVariables:null,_unfreedCallbackNodes:null,isAnimating:m$545$1(!1),init:function(){this._animatedVariables=[],this._unfreedCallbackNodes=[],this._animation_animationsInProgress=0,this.__s._3N$Mt$init.apply(this,arguments)},dispose:function(){this.__s._3N$Nh$dispose.call(this);var t,i=this._animatedVariables,e=i.length;for(t=0;t<e;t++)m$213$0.freeVariable(i[t]);for(t=0,e=this._unfreedCallbackNodes.length;t<e;t++)m$541$0.freeNode(this._unfreedCallbackNodes[t])},animate:function(t,n,a,s){var o,r=this._properties[t],h=r.adaptStartingLocationForTarget,$=this[e+t];h&&(o=h(this,t,m$213$0.get($),n));var m=r.set;m&&(n=m(this,t,n));var l=this,u=m$541$0.allocNode(i,this,m$541$0.FLUSH);m$541$0.setDataForNode(function(){l._animation_animationDidEnd(),"function"==typeof s&&s()},u),this._unfreedCallbackNodes.push(u),this._animation_animationDidBegin(),m$213$0.beginSmoothMoveTo($,n,a,o,this,function(){m$541$0.setNodeToDirtyFromParent(u)})},animateBezier:function(t,n,a,s,o,r){var h=this._properties[t],$=h.adaptTargetForStartingLocation,m=this[e+t];if($){n[0]=$(this,t,m$213$0.get(m),n[0]);for(var l=1;l<n.length;l++)n[l]=$(this,t,n[l-1],n[l])}var u=h.set;u&&u(this,t,n[n.length-1]);var c=this,d=m$541$0.allocNode(i,!0);m$541$0.setDataForNode(function(){c._animation_animationDidEnd(),"function"==typeof r&&r()},d),this._unfreedCallbackNodes.push(d),m$213$0.beginBezier(m,n,a,s,o,this,function(){
m$541$0.setNodeToDirtyFromParent(d)}),this._animation_animationDidBegin()},removeUnfreedCallbackNode:function(t){var i=this._unfreedCallbackNodes.indexOf(t);i<0||m$226$0.spliceWithoutReturn(this._unfreedCallbackNodes,i,1)},_animation_animationDidBegin:function(){this._animation_animationsInProgress++,this.get("isAnimating")||this.set("isAnimating",!0)},_animation_animationDidEnd:function(t,i){this._animation_animationsInProgress=Math.max(this._animation_animationsInProgress-1,0),0===this._animation_animationsInProgress&&this.set("isAnimating",!1)},beginDragAnimation:function(t,i){var n=this[e+t];m$213$0.beginDrag(n,i)},resetAnimation:function(t){var i=this._properties[t],n=i.get,a=i.set,s=this[e+t];if(n||a){var o=m$213$0.get(s);n&&(o=n.call(this,this,t,o)),a&&(o=a.call(this,this,t,o)),m$213$0.reset(s,o)}else m$213$0.reset(s)},getFinalValue:function(t){var i=this[e+t],n=m$213$0.getFinalValue(i),a=this._properties[t],s=a.get;return s&&(n=s.call(this,this,t,n)),n},rebaseCurrentValue:function(t,i){var n=this[e+t];m$213$0.rebaseCurrentValue(n,i)},__superMap:{_3N$Mt$init:"init",_3N$Nh$dispose:"dispose"}},a=m$552$0.create({}),s=m$541$0.allocNode(a,{},0);t=m$545$0.extend({init:function(t,i){this.defaultValue=t,this.priority=i,this.get||(this.usesBuiltinGet=!0),this.set||(this.usesBuiltinSet=!0),this.__s._3N$2EX$init.call(this,t)},initForObject:function(t,i){var n=m$213$0.allocVariable(this.defaultValue,0|this.priority),a=m$213$0.nodeForVariable(n);t.downstreamNodes[i]=a,t.upstreamNodes[i]=s,t[e+i]=n,t._animatedVariables.push(n)},setInitialValueForObject:function(){},wasRegistered:function(){
this.finalGetForObject=this.usesBuiltinGet?this.getForObject:this.getForObjectWithGetter,this.finalSetForObject=this.usesBuiltinSet?this.setForObject:this.setForObjectWithSetter},getForObjectWithGetter:function(t,i){var n=t[e+i];return this.get(t,i,m$213$0.get(n))},setForObjectWithSetter:function(t,i,n){var a=t[e+i];m$213$0.set(a,this.set(t,i,n))},getForObject:function(t,i){var n=t[e+i];return m$213$0.get(n)},setForObject:function(t,i,n){var a=t[e+i];m$213$0.set(a,n)},requiresSupport:n,__superMap:{_3N$2EX$init:"init"}});var o=function(i,e){return t.create(i,e)};m$212$2=t,m$212$0=n,m$212$1=o}();
!function(){"use strict";var e=m$626$0.extend({nextItemPool:null,delegate:null,init:function(e){this.__s._3l$2j$init.call(this,e),this._cache={}},clearItemsForKeyIdentifier:function(e){var t=this._cache[e];if(t){for(var i=t.content,n=i.length,r=0;r<n;r++)i[r]=null;t.index=-1;var o=this.nextItemPool;o&&o.clearItemsForKeyIdentifier(e)}},clearAllItems:function(){for(var e in this._cache)this.clearItemsForKeyIdentifier(e)},getItemsForKeyIdentifier:function(e){var t=this._cache[e];if(!t)return[];var i=t.index,n=t.content;return i>=0?n.slice(0,i+1):[]},queueItemForKeyIdentifier:function(e,t){var i=this._cache[t];i||(i=this._cache[t]={content:[],index:-1});var n=i.index,r=i.content,o=r.length;0===o||n===o-1?r.push(e):r[n+1]=e,i.index++},dequeueItemForKeyIdentifier:function(e){var t=this._cache,i=t[e];if(!i)return null;var n=i.index,r=i.content,o=null;n>=0&&(o=r[n],r[n]=null,i.index--);var l=this.nextItemPool,c=this.delegate;return!o&&l&&(o=l.dequeueItemForKeyIdentifier(e),o&&c&&c.itemPoolWillDequeueFlushedItemForKeyIdentifier(this,o,e)),o},flush:function(){var e=this._cache,t=this.nextItemPool,i=this.delegate;if(t){var n,r,o,l,c,u;for(l in e){for(n=e[l],r=n.content,o=n.index,c=0;c<=o;c++)u=r[c],t.queueItemForKeyIdentifier(u,l),i&&i.itemPoolDidFlushItemForKeyIdentifier(this,u,l),r[c]=null;n.index=-1}}},poolContainsItemsForKeyIdentifier:function(e){var t=this._cache,i=t[e];if(!i)return!1;var n=i.content;return n.length>0},__superMap:{_3l$2j$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.ItemPool"}});m$236$0=e}();
!function(){"use strict";function e(e,r){var t=i.get("default");t.trace(e,r)}var r=m$626$0.extend({isDisposed:m$629$1({readOnly:!0,get:function(e,r,t,i){return this._disposed}}),init:function(e){this.__s._43$5b$init.call(this,e),this._tracer=e.tracer,this._traceGroupTag=e.traceGroupTag,this._observer=e.observer,this._disposed=!1},dispose:function(){if(!this._disposed){var e=this._tracer,r=this._traceGroupTag,t=this._observer;e.removeObserver(r,t),this._disposed=!0}},__superMap:{_43$5b$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.TraceObserveHandler$255"}}),t=null,i=m$626$0.extend({staticMembers:{default:m$629$1({readOnly:!0,get:function(e,r,s,a){return t||(t=i.create()),t}}),__QUALIFIED_CLASS_NAME__:"BRKit.Tracer"},init:function(){this.__s._43$Kd$init.call(this),this._observers={}},addObserver:function(e,t){var i=this._observers,s=i[e];s||(s=i[e]=[]);var a=s.indexOf(t);if(!(a>=0)){s.push(t);var n=r.create({tracer:this,traceGroupTag:e,observer:t});return n}},removeObserver:function(e,r){var t=this._observers,i=t[e];i&&m$765$0(r,i)},trace:function(e,r){var t=this._observers[e];if(t){r.groupTag=e;for(var i=0,s=t.length;i<s;i++){var a=t[i];a(r)}}},__superMap:{_43$Kd$init:"init"}});m$255$0=i,m$255$1=e}();
!function(){"use strict";var t=m$563$1("BRKit.UI.ImageStateEnum",function(t){t("Prepared"),t("Loading"),t("Cancel"),t("Loaded"),t("Error")}),e="",i="brkit.image",a="loading_image",n="loaded_image",r="loading_image_error",s="loading_image_cancelled",_=m$626$0.extend(m$544$0,{staticMembers:{TRACE_GROUP:i,TRACE_STATUS_LOADING_IMAGE:a,TRACE_STATUS_LOADED_IMAGE:n,TRACE_STATUS_LOADING_IMAGE_ERROR:r,TRACE_STATUS_LOADING_IMAGE_CANCELLED:s,__QUALIFIED_CLASS_NAME__:"BRKit.UI.Image"},owner:m$545$1(null),src:m$545$1(e),state:m$545$1({readOnly:!0,defaultValue:t.Prepared,get:function(t,e,i,a){return this._state}}),element:m$629$1({readOnly:!0,get:function(t,e,i,a){return this._imageElement}}),width:m$629$1({readOnly:!0,get:function(e,i,a,n){return this._state===t.Loaded?this._imageElement.width:0}}),height:m$629$1({readOnly:!0,get:function(e,i,a,n){return this._state===t.Loaded?this._imageElement.height:0}}),init:function(t){var e=this._imageElement=document.createElement("img");e.addEventListener("load",this._imgElementDidLoad.bind(this)),e.addEventListener("error",this._imgElementDidError.bind(this)),this.__s._4U$YN$init.call(this,t)},reset:function(){this._src=e,this._updateStateForSrc(e)},_srcDidChange:m$557$1("src",function(t){this._updateStateForSrc(t)}),_updateStateForSrc:function(e){var i=this._state;i===t.Loading&&(this._trace(s),this._transitionToState(t.Cancel)),""===e||null===e||void 0===e?this._transitionToState(t.Prepared):(this._loadStartTime=Date.now(),this._trace(a),this._transitionToState(t.Loading)),e&&(this._imageElement.src=e)},_transitionToState:function(t){var e=this._state;
e!==t&&(this._state=t,this.propertyChanged("state"))},_imgElementDidLoad:function(){if(this.get("state")===t.Loading){var e=Date.now(),i=e-this._loadStartTime;this._trace(n,{duration:i}),this._transitionToState(t.Loaded)}},_imgElementDidError:function(){this.get("state")===t.Loading&&(this._trace(r),this._transitionToState(t.Error))},_trace:function(t,e){var a=e||{};a.src=this.get("src"),a.id=m$807$0(this),a.status=t,a.timestamp=Date.now(),m$255$1(i,a)},__superMap:{_4U$YN$init:"init"}});m$282$1=t,m$282$0=_}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ImageView"},additionalClassNames:m$589$1(["image"]),alwaysShow:!1,image:m$545$1({readOnly:!0,get:function(e,i,t,a){return this._image}}),src:m$545$1(m$282$0.EMPTY_SRC),init:function(e){this.__s._51$9K$init.call(this,e),this._loadImage()},reset:function(){this.get("image").reset()},_loadImage:function(){var e=this.get("element"),i=this._image=m$282$0.create({owner:this,src:m$539$1(".owner.src")});e.appendChild(i.get("element")),this.propertyChanged("image")},_iv_imageStateDidChange:m$557$1(".image",".image.state",function(e,i){e&&(this.alwaysShow?this._showImage(!0):this._showImage(i===m$282$0.STATE_LOADED))}),_showImage:function(e){var i=this.get("image");if(i){var t=i.get("element").classList;e?(t.add("show"),t.remove("hide")):(t.add("hide"),t.remove("show"))}},__superMap:{_51$9K$init:"init"}});m$316$0=e}();
!function(){"use strict";var e=m$626$0.extend({init:function(e){this.__s._6b$5P$init.call(this,e),this._pool=m$236$0.create()},dequeueCanvas:function(e){var i=this._pool,t=i.dequeueItemForKeyIdentifier(e);return t?t:null},enqueueCanvas:function(e,i){var t=this._pool;t.queueItemForKeyIdentifier(e,i)},__superMap:{_6b$5P$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Services.CanvasCache"}});m$415$0=e}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._service}}),init:function(){this.__s._V$4q$init.call(this),this._service=this.loadService()},loadService:function(){return m$415$0.create()},__superMap:{_V$4q$init:"init"}}).create(),i=e.get("service");m$31$0=i}();
!function(){"use strict";function e(e){var a=12.5/60;return e*a}var a=m$563$1("AppIconTypes",function(e){e("APP_ICON"),e("APP_ICON_PLACEHOLDER")}),t=10,i=0,n=m$296$0.extend(m$212$0,{opaqueTestSize:3,canvasClassName:"",fadeOpacity:m$212$1({get:function(e,a,t,i){return this._fadeOpacity?this._fadeOpacity:0},set:function(e,a,t,i,n){e&&this&&(this._fadeOpacity=e)}}),prerendered:!1,error:m$558$0(),size:m$545$1(60),src:m$545$1(m$282$0.EMPTY_SRC),placeholderSrc:m$545$1(m$282$0.EMPTY_SRC),reuseIdentifier:m$629$1,init:function(e){this.__s._4o$Rj$init.call(this,e)},willMoveToWindow:function(e){this.__s._4o$Sr$willMoveToWindow.call(this,e),e&&this._setupCanvas()},prepareForReuse:function(){var e=this._canvas;e&&(this.$().removeChild(e),this._enqueueCachedCanvas(this._canvas,a.APP_ICON),e=this._canvas=null);var t=this._placeholderCanvas;t&&(this.$().removeChild(t),this._enqueueCachedCanvas(this._placeholderCanvas,a.APP_ICON_PLACEHOLDER),t=this._placeholderCanvas=null)},_addCanvasToView:function(){var e=this._canvas;if(e)this._placeholderCanvas&&(this.$().removeChild(this._placeholderCanvas),this._enqueueCachedCanvas(this._placeholderCanvas,a.APP_ICON_PLACEHOLDER),t=this._placeholderCanvas=null),this.$().appendChild(e),this._fadeIn();else{var t=this._placeholderCanvas;t&&this.$().appendChild(t)}},_fadeIn:function(){var e=1;this.animate("fadeOpacity",e,t)},_drawPlaceholder:function(){this.set("fadeOpacity",1);var e=this._dequeueCachedCanvas(a.APP_ICON_PLACEHOLDER);if(e)return this._placeholderCanvas=e,void this._addCanvasToView();var t=this,i=this.get("placeholderSrc");if(i){var n=new Image;
n.src=i,n.onload=function(){m$254$0.setTimeout(function(){t._placeholderCanvas||(t._placeholderCanvas=t._createNewCanvas());var e=t._placeholderCanvas.getContext("2d");t._drawCanvasMask(),e.globalCompositeOperation="source-atop",e.drawImage(n,0,0,t.size,t.size),e.globalCompositeOperation="source-over",t._addCanvasToView()})}}},_setupCanvas:function(){var e=this._dequeueCachedCanvas(a.APP_ICON);e?(this._canvas=e,this._addCanvasToView()):this._drawCanvas()},_drawCanvas:function(){var e=this;this._drawPlaceholder();var a=++i;this._activeRequestIdx=a;var t=new Image,n=this.get("src");n&&(t.src=n,t.onload=function(){m$254$0.setTimeout(function(){if(a===e._activeRequestIdx){e._canvas||(e._canvas=e._createNewCanvas());var i=e._canvas.getContext("2d");e.set("fadeOpacity",0),e.get("prerendered")||(e._drawCanvasMask(),i.globalCompositeOperation="source-atop"),i.drawImage(t,0,0,e.size,e.size),i.globalCompositeOperation="source-over",e._addCanvasToView()}})}.bind(this),t.onerror=function(){m$254$0.setTimeout(function(){a===e._activeRequestIdx&&e.error()})}.bind(this))},_drawCanvasMask:function(){var a=this._canvas;if(a){var t=a.getContext("2d"),i=(m$653$0.get("sharedInstance").get("devicePixelRatio"),this.size);m$648$0.get("sharedInstance").get("isIE")&&t.rotate(2*Math.PI),t.fillStyle="#FBFBFB";var n=e(i);i<2*n&&(n=i/2),i<2*n&&(n=i/2),t.beginPath(),t.moveTo(n,0),t.arcTo(i,0,i,i,n),t.arcTo(i,i,0,i,n),t.arcTo(0,i,0,0,n),t.arcTo(0,0,i,0,n),t.closePath(),t.fill()}},_dequeueCachedCanvas:function(e){var a=this._getCanvasCacheReuseIdentifier(e),t=m$31$0.dequeueCanvas(a);return t},_enqueueCachedCanvas:function(e,a){
var t=this._getCanvasCacheReuseIdentifier(a);m$31$0.enqueueCanvas(e,t)},_getCanvasCacheReuseIdentifier:function(e){var a=this.reuseIdentifier,t=a+"::"+e.name;return t},_createNewCanvas:function(){var e=this.get("size"),a=m$653$0.get("sharedInstance").get("devicePixelRatio"),t=document.createElement("canvas");t.width=e*a,t.height=e*a,t.className=this.canvasClassName,t.style.opacity=this.fadeOpacity,t.style.zIndex=0,t.style.position="absolute";var i=t.getContext("2d");return i.scale(a,a),null!=i.imageSmoothingEnabled?i.imageSmoothingEnabled=!0:(i.mozImageSmoothingEnabled=!0,i.webkitImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0),null!=i.imageSmoothingQuality&&(i.imageSmoothingQuality="high"),t},_isImageOpaque:function(e){var a=this.get("opaqueTestSize"),t=document.createElement("canvas");t.width=e.naturalWidth,t.height=e.naturalHeight;var i=t.getContext("2d");return i.drawImage(e,0,0),!!this._isCornerOpaque(i.getImageData(0,0,a,a))&&(!!this._isCornerOpaque(i.getImageData(e.naturalWidth-a,0,a,a))&&(!!this._isCornerOpaque(i.getImageData(0,e.naturalHeight-a,a,a))&&!!this._isCornerOpaque(i.getImageData(e.naturalWidth-a,e.naturalHeight-a,a,a))))},_isCornerOpaque:function(e){for(var a=e.data,t=a.length/4,i=0;i<t;i++)if(255!==a[i+3])return!1;return!0},__superMap:{_4o$Rj$init:"init",_4o$Sr$willMoveToWindow:"willMoveToWindow"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.AppIconShowcaseView"}});m$302$0=n}();
!function(){"use strict";var e={getCanvasSizeForThumbnailDisplaySize:function(e){switch(e){case m$100$0.LARGE:return 128;case m$100$0.MEDIUM:return 52;case m$100$0.SMALL:return 32;default:return 64}},getCanvasSizeForAppIconDisplaySize:function(e){switch(e){case m$100$0.LARGE:return 94;case m$100$0.MEDIUM:return 52;case m$100$0.SMALL:return 32;default:return 64}}};m$206$0=e}();
!function(){"use strict";var e=3,t={scaleImageDirectToContext:function(e,t,a){var r,i,h,n,c=this.getRectForScaledImage(t,a);h=c.size.width,n=c.size.height;var g=this.createRectFromContext(e),o=this.getScaledOriginForCenteredRectInLargerDestinationRect(c,g);r=o.x,i=o.y;try{e.drawImage(t,r,i,h,n)}catch(e){var d=t.width,s=t.height,m=m$886$0.get("cloudOSService");return m.recordStat("Error scaling image in _scaleImageDirectToContext()",{class:"BR.ImageScaler",function:"_scaleImageDirectToContext()",imageWidth:d,imageHeight:s,errorMessage:e.message,errorName:e.name,stack:e.stack}),!1}return!0},scaleImageWithHalfingStrategy:function(e,t,a){var r=document.createElement("canvas"),i=r.getContext("2d"),h=document.createElement("canvas"),n=h.getContext("2d");r.width=h.width=r.height=h.height=0;var c,g,o,d,s,m,l,u,v=t.naturalWidth||t.width,$=t.naturalHeight||t.height;c=0,g=0,o=v,d=$;var w=this.getRectForScaledImage(t,a);l=w.size.width,u=w.size.height;var M=this.createRectFromContext(e),I=this.getScaledOriginForCenteredRectInLargerDestinationRect(w,M);s=I.x,m=I.y;var R=l/o,f=u/d;if(!v||!$)return!1;var x=Math.max(R,f),S=Math.pow(2,Math.ceil(Math.log(1.1*x)/Math.log(2)));if(S>=1)return e.drawImage(t,s,m,l,u),!0;var z=1,C=o,F=d,D=Math.max(Math.pow(2,Math.ceil(Math.log(C)/Math.log(2)),r.width)),L=Math.max(Math.pow(2,Math.ceil(Math.log(F)/Math.log(2)),r.height));for(r.width===D&&r.height===L||(r.width=h.width=D,r.height=h.height=L),i.drawImage(t,c,g,o,d,0,0,o,d);z>S;){n.drawImage(r,0,0,C,F,0,0,C=Math.ceil(C/2),F=Math.ceil(F/2)),i.clearRect(0,0,C,F);var p=r;r=h,h=p,p=i,i=n,n=p,z/=2}return e.drawImage(r,0,0,C,F,s,m,l,u),
i.clearRect(0,0,o,d),n.clearRect(0,0,o,d),r=null,h=null,!0},getScale:function(e,t){var a,r=e.naturalWidth||e.width,i=e.naturalHeight||e.height,h=this.isImageLandscape(e);return a=h?t/r:t/i},getRectForScaledImage:function(t,a){var r,i,h,n,c,g,o,d=t.naturalWidth||t.width,s=t.naturalHeight||t.height;r=d,i=s;var m=this.isImageLandscape(t);if(m?(h=s/d,g=a,o=a*h):(h=d/s,g=a*h,o=a),g=Math.round(g)||1,o=Math.round(o)||1,o<e){var l=e/o,u=l*g;o=e,g=u>a?a:u}else if(g<e){var l=e/g,v=l*o;o=v>a?a:v,g=e}n=Math.round(a/2-g/2),c=Math.round(a/2-o/2);var $=m$232$0.create(n,c),w=m$234$0.create(g,o);return m$233$0.create($,w)},getOriginForCenteredRectInLargerDestinationRect:function(e,t){var a=Math.round(t.size.width/2-e.size.width/2),r=Math.round(t.size.height/2-e.size.height/2),i=m$232$0.create(a,r);return i},getScaledOriginForCenteredRectInLargerDestinationRect:function(e,t){var a=m$653$0.get("sharedInstance").get("devicePixelRatio"),r=Math.round((t.size.width/2-e.size.width*a/2)/a),i=Math.round((t.size.height/2-e.size.height*a/2)/a),h=m$232$0.create(r,i);return h},createRectFromContext:function(e){var t=m$232$0.create(0,0),a=m$234$0.create(e.canvas.width,e.canvas.height);return m$233$0.create(t,a)},createSquareRectFromSize:function(e){var t=m$232$0.create(0,0),a=m$234$0.create(e,e);return m$233$0.create(t,a)},isImageLandscape:function(e){var t=e.naturalWidth||e.width,a=e.naturalHeight||e.height,r=t>a;return r}};m$425$0=t}();
!function(){"use strict";function t(t,i,n){var a=o[n];a||(a=o[n]=[]),a.push({target:t,action:i})}function i(t,i,n){var a=o[n];if(a){for(var e=null,r=0,c=a.length;r<c;r++){var f=a[r];if(f.target===t&&f.action===i){e=r;break}}e>=0&&a.splice(e,1)}}function n(t){var i=t.get("id"),n=o[i];if(n)for(var a=0,e=n.length;a<e;a++){var r=n[a],c=r.target,f=r.action,l=c[f];l.call(c,t)}}var a=m$626$0.extend({id:null,sender:null,context:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.Notification"}}),e=m$626$0.extend({staticMembers:{addTargetActionForNotification:t,removeTargetActionForNotification:i,dispatchNotification:n,__QUALIFIED_CLASS_NAME__:"BRKit.NotificationCenter"}}),o={};m$237$0=a,m$237$1=e}();
!function(){"use strict";var t=m$70$0.extend({itemIDs:null,run:function(){var t=this.get("itemIDs"),e=[];t.forEach(function(t){e.push({drivewsid:t})});var i=this;return m$35$0.post("/retrieveItemDetails",{items:e}).then(function(t){return i._requestDidSucceed(t)}).catch(function(t){return m$242$0.reject(t)})},_requestDidSucceed:function(t){var e=t.body,i=e.items,r={};return i.forEach(function(t){r[t.drivewsid]=t.thumbnail}),r},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.ThumbnailQuery"}});m$72$0=t}();
!function(){"use strict";var n=function(n){if(!n)return"";var t=n.match(/^"v=\d{1}:t=([\w\W]*)"$/);return null!=t&&2===t.length?t[1]:null};m$205$0=n}();
!function(){"use strict";var e="docws",r=m$626$0.extend(m$544$0,{cloudOSService:m$545$1(),getURLForItem:function(e){return this._getDocWSURLForItem(e)},_getDocWSURLForItem:function(r,t){var o,i=r.get("zone"),a=r.get("docwsid"),t=m$242$0.create(),n=m$886$0.get("cloudOSService");try{o=m$205$0(n.getValidateToken())}catch(e){var c=m$202$0.getListOfAvailableCookiesAsConcatenatedString();m$802$0("Error in BRApp.Services.ItemURLService requesting COSK getValidateCookie()",{error:e,cookies:c})}null==o&&m$809$1.error("ItemURLService Failed to getAuthTokenFromCookie");var s=m$337$0.create({useCredentialsIfCrossOrigin:!0}),d=s.url;return d.serviceName=e,d.pathname="/ws/"+i+"/download/by_id",d.appendQueryParameter("document_id",a),d.appendQueryParameter("token",o),s.didSucceed=function(e){var o=e.get("response"),i=JSON.parse(o.encodedBody),a=i.package_token,n=m$626$0.create();n.set("item",r),void 0!==a?(n.set("url",a.url),n.set("isPackage",!0)):(n.set("url",i.data_token.url),n.set("isPackage",!1)),t.resolve(n)},s.didFail=function(e){var o,i=e.get("response"),a=i.get("body");o=a?m$626$0.create({item:r,errorCode:a.error_code,serverErrorCode:a.serverErrorCode,reason:a.reason}):m$626$0.create({item:r,errorCode:"UNK",serverErrorCode:"UNK",reason:"UNK"}),t.reject(o)},s.send(),t},_getDriveWSURLForItem:function(e,r){var t=this._getDriveWSURL(),o="/download?drivewsid="+e.get("id"),i=t+o;return m$242$0.createAndResolve(i)},_getDriveWSURL:function(){var e=this.getPath("cloudOSService.environment.authBag");return e.getServiceUrlFor("drivews",!1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.ItemURLService"
}});m$138$0=r}();
!function(){"use strict";var e=m$626$0.extend({_itemURLService:null,service:m$629$1({readOnly:!0,get:function(e,t,r,i){var c=this._itemURLService;return c||(c=this._itemURLService=m$138$0.create({cloudOSService:m$228$0({root:m$886$0,path:"cloudOSService"})})),c}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.ItemURLServiceController$38"}}),t=e.create().get("service");m$38$0=t}();
!function(){"use strict";var e=!1,t={getImageDataFromImageAndCanvas:function(e,t){t.height=e.height,t.width=e.width;var a=t.getContext("2d");a.drawImage(e,0,0,e.width,e.height);var i=a.getImageData(0,0,e.width,e.height);return i},canBrowserUsePerformanceNow:function(){var e=m$648$0.get("sharedInstance"),t=!0;return(e.isIE||e.isEdge||e.isSafari)&&(t=!1),t},createNewCanvas:function(e){var t=m$653$0.get("sharedInstance").get("devicePixelRatio"),a=document.createElement("canvas");a.width=e*t,a.height=e*t,a.style.width=e+"px",a.style.height=e+"px",a.style.zIndex=0,a.style.position="absolute";var i=a.getContext("2d");return i.scale(t,t),null!=i.imageSmoothingEnabled?i.imageSmoothingEnabled=!0:(i.mozImageSmoothingEnabled=!0,i.webkitImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0),null!=i.imageSmoothingQuality&&(i.imageSmoothingQuality="high"),a},debugCanvas:function(t){e!==!1&&(t.rect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="rgba(256, 0, 0, 0.5)",t.fill())},getVideoLetterBoxSizeForThumbnailSize:function(e){return e>100?12:e>40?4:e>10?2:12},getImageMatBoxSizeForThumbnailSize:function(e){return e>100?5:e>40?3:e>10?2:12},canvasSupportsImageSmoothingQuality:function(){var e=this.createNewCanvas(),t=e.getContext("2d");return void 0!=t.imageSmoothingQuality}};m$210$0=t}();
!function(){"use strict";var e=m$563$1("DrawThumbnailTreatmentType",["Default","Image","Video"]),t=m$563$1("DrawThumbnailSteps",["ImageMat","VideoMat","WhiteBackground","Border","Image"]),a=m$251$0.extend({marginSize:2,lineWidth:1,lineOffset:.5,icon:null,size:null,identifier:null,scalingHasStartedCallback:null,file:null,treatmentType:null,scalingWebWorkerProvider:null,useImageSmoothingQualityHigh:!1,startRun:function(){var a=this;this.scalingHasStartedCallback&&"function"==typeof this.scalingHasStartedCallback&&this.scalingHasStartedCallback(),m$254$0.setTimeout(function(){var r=a.treatmentType;switch(r){case e.Image:var i=a._getRectsForImageTreatment(),n=[t.ImageMat,t.Image,t.Border];break;case e.Video:var i=a._getRectsForVideoTreatment(),n=[t.VideoMat,t.Image,t.Border];break;default:var i=a._getRectsForDefaultTreatment(),n=[t.WhiteBackground,t.Image,t.Border]}var c,s=a.scalingWebWorkerProvider;s?c=a._drawThumbnailWorker(i,n).then(function(e){e.success?a.finishRunWithSuccess(e):a.finishRunWithFailure(e)}):(c=a._drawThumbnailDirect(i,n),c.success?a.finishRunWithSuccess(c):a.finishRunWithFailure(c))})},shouldAllowCancel:function(){return!this.get("isRunning")},cancel:function(){this.__s._2O$wf$cancel.call(this),this.finishCancellingRun()},_getRectsForImageTreatment:function(){var e=this._calculateImageRectForImageTreatment(),t=this._calculateImageMatRect(),a={mat:t,image:e,border:e};return a},_getRectsForVideoTreatment:function(){var e=this._calculateImageRect(),t=this._calculateVideoMatRect(e),a={mat:t,image:e,border:e};return a},_getRectsForDefaultTreatment:function(){var e=this._calculateImageRect(),t={
background:e,image:e,border:e};return t},_drawThumbnailDirect:function(e,a){var r=this.size,i=m$210$0.createNewCanvas(r),n=i.getContext("2d");this.useImageSmoothingQualityHigh&&(n.imageSmoothingEnabled=!0,n.imageSmoothingQuality="high");for(var c=0;c<a.length;c++){var s=a[c];switch(s){case t.WhiteBackground:this._drawWhiteBackground(n,e);break;case t.Image:this._drawImageWithScaling(n,e);break;case t.Border:this._drawBorderOnImage(n,e);break;case t.VideoMat:this._drawVideoMat(n,e);break;case t.ImageMat:this._drawImageMat(n,e)}}var m={success:!0,canvas:i};return m},_drawThumbnailWorker:function(e,a){var r=this,i=this.size,n=this.icon,c=(m$648$0.get("sharedInstance"),m$653$0.get("sharedInstance").get("devicePixelRatio")),s=r.scalingWebWorkerProvider.acquireWorkerPacket();if(!s){var m={success:!1};return m}var g=m$242$0.create(),o=s.worker,l=s.scratchCanvas,h=l.getContext("2d"),d=m$210$0.getImageDataFromImageAndCanvas(n,l),u=Math.max(e.image.width,e.image.height),$=u*c,f=m$425$0.getScale(n,$);return o.onmessage=function(c){if(c.data.error){o.onmessage=null,r.scalingWebWorkerProvider.returnWorkerPacket(s);var m={success:!1};return m}for(var l=m$210$0.createNewCanvas(i),d=l.getContext("2d"),u=0;u<a.length;u++){var $=a[u];switch($){case t.WhiteBackground:r._drawWhiteBackground(d,e);break;case t.Image:r._drawImageWithEventData(d,h,c,e,n.width);break;case t.Border:r._drawBorderOnImage(d,e);break;case t.VideoMat:r._drawVideoMat(d,e);break;case t.ImageMat:r._drawImageMat(d,e)}}o.onmessage=null,r.scalingWebWorkerProvider.returnWorkerPacket(s),c=null;var m={success:!0,canvas:l};g.resolve(m);
},o.postMessage({imageDataBuffer:d.data.buffer,sourceWidth:n.width,sourceHeight:n.height,scale:f,canUsePerformanceNow:m$210$0.canBrowserUsePerformanceNow()},[d.data.buffer]),d=null,g},_calculateImageRect:function(){var e=this.size,t=this.icon,a=e-2*this.marginSize,r=m$425$0.getRectForScaledImage(t,a),i=m$425$0.createSquareRectFromSize(e),n=m$425$0.getOriginForCenteredRectInLargerDestinationRect(r,i),c=m$233$0.create(n,r.size);return c},_calculateImageRectForImageTreatment:function(){var e=this.size,t=this.icon,a=m$210$0.getImageMatBoxSizeForThumbnailSize(e),r=e-2*this.marginSize-2*a,i=m$425$0.getRectForScaledImage(t,r),n=m$425$0.createSquareRectFromSize(e),c=m$425$0.getOriginForCenteredRectInLargerDestinationRect(i,n),s=m$233$0.create(c,i.size);return s},_calculateVideoMatRect:function(e){var t=this.size,a=this.icon,r=m$425$0.createSquareRectFromSize(t),i=m$210$0.getVideoLetterBoxSizeForThumbnailSize(t),n=m$425$0.isImageLandscape(a),c=null;c=n?m$234$0.create(e.size.width,e.size.height+2*i):m$234$0.create(e.size.width+2*i,e.size.height);var s=m$233$0.create(m$232$0.create(0,0),c),m=m$425$0.getOriginForCenteredRectInLargerDestinationRect(s,r),g=m$233$0.create(m,c);return g},_calculateImageMatRect:function(){var e=this.size,t=this.icon,a=m$425$0.createSquareRectFromSize(e),r=m$210$0.getImageMatBoxSizeForThumbnailSize(e),i=e-2*this.marginSize-2*r,n=m$425$0.getRectForScaledImage(t,i),c=m$234$0.create(n.size.width+2*r,n.size.height+2*r),s=m$233$0.create(m$232$0.create(0,0),c),m=m$425$0.getOriginForCenteredRectInLargerDestinationRect(s,a),g=m$233$0.create(m,c);return g},_drawWhiteBackground:function(e,t){
e.fillStyle="rgba(256, 256, 256, 1)",e.fillRect(t.background.x,t.background.y,t.background.width,t.background.height)},_drawVideoMat:function(e,t){e.fillStyle="rgba(0, 0, 0, 1)",e.fillRect(t.mat.x,t.mat.y,t.mat.width,t.mat.height)},_drawImageMat:function(e,t){e.fillStyle="rgba(256, 256, 256, 1)",e.fillRect(t.mat.x,t.mat.y,t.mat.width,t.mat.height),e.fillStyle="transparent",e.beginPath(),e.lineWidth=this.lineWidth,e.strokeStyle="rgba(0, 0, 0, .13)",e.strokeRect(t.mat.x+this.lineOffset,t.mat.y+this.lineOffset,t.mat.width-2*this.lineOffset,t.mat.height-2*this.lineOffset)},_drawBorderOnImage:function(e,t){e.beginPath(),e.lineWidth=this.lineWidth,e.strokeStyle="rgba(0, 0, 0, .13)",e.strokeRect(t.border.x+this.lineOffset,t.border.y+this.lineOffset,t.border.width-2*this.lineOffset,t.border.height-2*this.lineOffset)},_drawImageWithEventData:function(e,t,a,r,i){var n,c=m$648$0.get("sharedInstance"),s=m$653$0.get("sharedInstance").get("devicePixelRatio"),m=a.data.scaledWidth,g=a.data.scaledHeight,o=new Uint8ClampedArray(a.data.imageDataBuffer);c.isEdge||c.isIE?(n=t.createImageData(m,g),n.data.set(o)):n=new ImageData(o,m,g),o=null;a.data.time,a.data.workerNumber;e.putImageData(n,r.image.x*s,r.image.y*s,0,0,m*s,g*s),n=null},_drawImageWithScaling:function(e,t){var a=this.icon,r=Math.max(t.image.width,t.image.height),i=(Date.now(),m$425$0.scaleImageDirectToContext(e,a,r));Date.now();return i},__superMap:{_2O$wf$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Tasks.DrawThumbnailTreatmentTask"}});m$150$1=e,m$150$0=a}();
!function(){"use strict";var e=100,s=!0,t=!0,a=navigator.hardwareConcurrency-1||1,n=m$626$0.extend({_currentTasksList:{},_pauseBetweenScalingEventTasksList:{},scheduler:m$629$1({get:function(e,s,t,a){return this._scheduler}}),init:function(e){this.__s._6e$Kz$init.apply(this,arguments),this._scheduler=this.loadTaskScheduler(),this._browserSupportsWebWorkers=!1,this._doesBrowserSupportWebWorkers()&&(this._browserSupportsWebWorkers=!0),this._canvasSupportsImageScalingQualityHigh=!1,m$210$0.canvasSupportsImageSmoothingQuality()&&(this._canvasSupportsImageScalingQualityHigh=!0)},loadTaskScheduler:function(){var e=m$252$0.create({trace:!1,traceId:"thumbnail scaler",allowedMaximumRunningTasks:a});return e},_doesBrowserSupportWebWorkers:function(){var e=!1;if(window.Worker&&(e=!0),m$648$0.sharedInstance.isIE&&11==m$648$0.sharedInstance.majorVersion){e=!0;try{var s=new Float32Array(4).buffer;window.postMessage("{}","*",[s])}catch(s){e=!1}}return e},drawThumbnailWithTreatmentType:function(e,a,n,c,u,o){var l,h=this;switch(e){case"IMAGES":l=m$150$1.Image;break;case"VIDEOS":l=m$150$1.Video;break;case"MUSIC":default:l=m$150$1.Default}var _;_=t&&this._canvasSupportsImageScalingQualityHigh?m$150$0.create({icon:a,size:n,identifier:c,scalingHasStartedCallback:u,file:o,treatmentType:l,useImageSmoothingQualityHigh:!0}):s&&this._browserSupportsWebWorkers?m$150$0.create({icon:a,size:n,identifier:c,scalingHasStartedCallback:u,file:o,scalingWebWorkerProvider:i,treatmentType:l}):m$150$0.create({icon:a,size:n,identifier:c,scalingHasStartedCallback:u,file:o,treatmentType:l});var k=r.create();return this._addTaskToCurrentTasksList(c,_),
this._addTaskToPauseBetweenScalingEventTasksList(c,k),this._scheduler.scheduleTask(k).then(function(){h._removeTaskFromPauseBetweenScalingEventTasksList(c)}),this._scheduler.scheduleTask(_).then(function(e){return h._removeTaskFromCurrentTasksList(c),e})},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},cancelScaleThumbnailTask:function(e){var s=this._currentTasksList[e],t=this._pauseBetweenScalingEventTasksList[e];s&&s.isCancellable&&(s.cancel(),this._removeTaskFromCurrentTasksList(e)),t&&t.isCancellable&&(t.cancel(),this._removeTaskFromPauseBetweenScalingEventTasksList(e))},_addTaskToCurrentTasksList:function(e,s){this._currentTasksList[e]=s},_removeTaskFromCurrentTasksList:function(e){delete this._currentTasksList[e]},_addTaskToPauseBetweenScalingEventTasksList:function(e,s){this._pauseBetweenScalingEventTasksList[e]=s;Object.keys(this._pauseBetweenScalingEventTasksList)},_removeTaskFromPauseBetweenScalingEventTasksList:function(e){delete this._pauseBetweenScalingEventTasksList[e]},__superMap:{_6e$Kz$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Services.ThumbnailScalingService"}}),i=m$626$0.extend({init:function(){this.__s._6e$20Q$init.apply(this,arguments),this._chromeWorkerCounter=0},acquireWorkerPacket:function(){var e=new Worker(r$992);e.postMessage({init:this._chromeWorkerCounter++});var s=document.createElement("canvas"),t={worker:e,scratchCanvas:s};return t},returnWorkerPacket:function(e){e.worker.terminate(),e=null},__superMap:{_6e$20Q$init:"init"}}).create(),r=m$251$0.extend({startRun:function(){var s=this;m$254$0.setTimeout(function(){
s.finishRunWithSuccess()},e)},shouldAllowCancel:function(){return!this.get("isRunning")},cancel:function(){this.__s._6e$2Hd$cancel.call(this),this.finishCancellingRun()},__superMap:{_6e$2Hd$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Services.PauseBetweenScalingEventTask$418"}});m$418$0=n}();
!function(){"use strict";var i=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(i,e,t,n){return this._service}}),init:function(){this.__s._i$5P$init.call(this),this._service=this.loadService()},loadService:function(){return m$418$0.create()},__superMap:{_i$5P$init:"init"}}).create(),e=i.get("service");m$44$0=e}();
!function(){"use strict";var e=4,t="IMAGE_WORKER",n=m$626$0.extend({numberOfDownloadImageTasks:m$629$1(e),scheduler:m$629$1({get:function(e,t,n,s){return this._scheduler}}),init:function(e){this.__s._6c$AS$init.apply(this,arguments),this._scheduler=this.loadTaskScheduler(),this._currentTasksList={}},loadTaskScheduler:function(){var e=m$252$0.create({trace:!1,traceId:"downloadImageTaskController",allowedMaximumRunningTasks:this.numberOfDownloadImageTasks});return e},downloadImageForURL:function(e,t){var n=this,s=i.create({url:t,identifier:e});return this._addTaskToCurrentTasksList(e,s),this._scheduler.scheduleTask(s).then(function(t){return n._removeTaskFromCurrentTasksList(e),t})},enqueueWorker:function(e){s.enqueueWorker(e)},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},cancelTask:function(e){var t=this._currentTasksList[e];t&&t.isCancellable&&(t.cancel(),this._removeTaskFromCurrentTasksList(e))},_addTaskToCurrentTasksList:function(e,t){this._currentTasksList[e]=t},_removeTaskFromCurrentTasksList:function(e){delete this._currentTasksList[e]},__superMap:{_6c$AS$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Services.DownloadImageService"}}),s=m$626$0.extend({init:function(e){this.__s._6c$cL$init.call(this,e),this._pool=m$236$0.create()},dequeueWorker:function(){var e=this._pool,n=e.dequeueItemForKeyIdentifier(t);return n?n:null},enqueueWorker:function(e){var n=this._pool;n.queueItemForKeyIdentifier(e,t)},__superMap:{_6c$cL$init:"init"}}).create(),i=m$251$0.extend({url:null,identifier:null,startRun:function(){var e=this;m$254$0.setTimeout(function(){
var t=s.dequeueWorker();t||(t=new Image,t.crossOrigin="https://cvws.icloud-content.com"),t.onload=function(){var n={success:!0,downloadImageWorker:t};e.finishRunWithSuccess(n)},t.onerror=function(n){var i={success:!1};s.enqueueWorker(t),e.finishRunWithFailure(i)},t.src=e.url})},_getImageDataFromCanvas:function(e){var t=document.createElement("canvas");t.height=e.height,t.width=e.width;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);var s=n.getImageData(0,0,e.width,e.height);return s},shouldAllowCancel:function(){return!this.get("isRunning")},cancel:function(){this.__s._6c$1CR$cancel.call(this),this.finishCancellingRun()},__superMap:{_6c$1CR$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Services.DownloadImageTask$416"}});m$416$0=n}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._service}}),init:function(){this.__s._X$5G$init.call(this),this._service=this.loadService()},loadService:function(){return m$416$0.create()},__superMap:{_X$5G$init:"init"}}).create(),i=e.get("service");m$33$0=i}();
!function(){"use strict";var e=500,i=m$296$0.extend(m$212$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"canvas",children:[],name:"iconCanvas"}],classes:["thumbnail-icon"],name:"canvasContainer",styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"fadeOpacity",attributes:{},unit:null,property:"opacity"}},attributes:{width:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},attribute:"width"},height:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},attribute:"height"}}},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ThumbnailShowcaseView"},thumbnailTreatmentTypeService:null,fadeOpacity:m$212$1(0),updated:m$558$0(),error:m$558$0(),thumbnailCanvasFactory:null,displaySize:m$629$1({set:function(e,i,t,n,a){this._displaySize=e},get:function(e,i,t,n){return this._displaySize?this._displaySize:m$100$0.LARGE}}),showImmediately:!1,reuseIdentifier:m$629$1({readOnly:!0,get:function(e,i,t,n){return this.identifier}}),identifier:m$629$1(),file:m$629$1(),uniqueRequestId:-1,init:function(e){if(this.__s._5H$s0$init.call(this,e),!this.file)return void m$802$0("ThumbnailShowcaseView requires a 'file' object to be provided at creation.",{application:this});if(!this.thumbnailCanvasFactory)return void m$802$0("ThumbnailShowcaseView requires a 'thumbnailCanvasFactory' object to be provided at creation.",{application:this});this._isReadyForDisplay=!1;var i=this.get("canvasContainer");this._originalPlaceholderCanvas=i.childNodes[0]},prepareForReuse:function(){this.suspendThumbnailLoading()},isReadyForDisplay:function(){
return this._isReadyForDisplay},startLoading:function(){this.resumeThumbnailLoading()},suspendThumbnailLoading:function(){this._thumbnailCanvas&&this._thumbnailCanvas.isCancellable()&&this._thumbnailCanvas.cancel()},resumeThumbnailLoading:function(){this._thumbnailCanvas&&!this._isReadyForDisplay?this._thumbnailCanvas.start():this._setupThumbnailCanvas()},_setupThumbnailCanvas:function(){if(!this._isReadyForDisplay){var e=this,i=m$206$0.getCanvasSizeForThumbnailDisplaySize(this.displaySize);e.thumbnailTreatmentTypeService.getThumbnailTreatmentTypeForFile(this.file).then(function(n){return e.isThumbnailLoadingPaused?void(e._loadingEventHasBeenPaused=!0):(e._thumbnailCanvas=t.create({file:e.file,size:i,identifier:e.reuseIdentifier,thumbnailTreatmentType:n}),void e._thumbnailCanvas.start().then(function(){e._addRenderedCanvasToView()}).catch(function(){e._isReadyForDisplay=!1,e.error(!0)}))})}},_fadeIn:function(){var i=1;this.animate("fadeOpacity",i,e)},_addRenderedCanvasToView:function(){var e=this._thumbnailCanvas;if(!e)return!1;var i=e.get("canvas");if(!i)return!1;var t=m$653$0.get("sharedInstance").get("devicePixelRatio"),n=this.get("size");i.style.width=n*t,i.style.height=n*t,i.style.opacity=1;var a=this.get("canvasContainer");a.replaceChild(i,a.childNodes[0]),this._isReadyForDisplay=!0,this.updated(!0)},__superMap:{_5H$s0$init:"init"}}),t=m$626$0.extend(m$544$0,{size:m$629$1(128),thumbnailTreatmentType:null,file:null,identifier:null,canvas:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._canvas?this._canvas:null}}),reuseIdentifier:m$629$1({readOnly:!0,get:function(e,i,t,n){
return this.identifier}}),init:function(e){this.__s._5H$1yi$init.call(this,e),this._renderComplete=!1,this._lastSuccessfullyRenderedEtag=null,this._scalingHasStarted=!1,this._continueLoading=!0},isCancellable:function(){return!this._scalingHasStarted&&!this._renderComplete},cancel:function(){this._continueLoading=!1},start:function(){if(this._continueLoading=!0,this._renderComplete)return m$242$0.resolve();var e=this;return this._loadURL().then(function(){return e._beginLoadingCanvas()})},_loadURL:function(){var e=this,i=this.file;if(!i)return this.failureCallback(),m$242$0.reject();var t=i.get("thumbnail");return t&&t.url&&t.expires?(this._url=t.url,this._urlExpires=t.expires,m$242$0.resolve()):m$38$0.getURLForItem(i).then(function(i){return e._url=i.get("url"),m$242$0.resolve()})},_beginLoadingCanvas:function(){var e=m$242$0.create();if(!this._continueLoading)return e.cancel();if(this._isThumbnailUrlStillValid()===!1)return this._updateExpiredURL(),e.cancel();var i=this,t=this._url;return t?this._lastSuccessfullyRenderedEtag===this.file.etag?e.cancel():(m$33$0.downloadImageForURL(this.identifier,t).then(function(t){var n=t.downloadImageWorker,a=n.naturalWidth||n.width,r=n.naturalHeight||n.height;return a&&r?i._continueLoading?void m$254$0.setTimeout(function(){var t=function(){i._scalingHasStarted=!0};i._drawThumbnailWithTreatmentIntoContext(n,t).then(function(t){if(!t.success)return e.reject();var a=t.canvas;return i._canvas=a,m$33$0.enqueueWorker(n),e.resolve()}).catch(function(i){return m$33$0.enqueueWorker(n),e.reject()})}):(m$33$0.enqueueWorker(n),e.cancel()):e.cancel();
}).catch(function(i){return e.reject()}),e):e.cancel()},_isThumbnailUrlStillValid:function(){var e=this._urlExpires;if(!e)return!0;var i=new Date,t=new Date(e);return t>=i},_updateExpiredURL:function(){var e=this.file.id,i=m$613$0.create();i.add(e);var t=m$72$0.create({itemIDs:i}),n=this;t.run().then(function(i){var t=i[e].url,a=i[e].expires;t&&a&&(n._url=t,n._urlExpires=a,n._beginLoadingCanvas())}).catch(function(e){var i=m$886$0.get("cloudOSService");i.recordStat("Error loading updated thumbnail info for expired thumbnail",{class:"ThumbnailShowcaseView",function:"_updateExpiredURL()",errorMessage:e.message,errorName:e.name,stack:e.stack})})},_drawThumbnailWithTreatmentIntoContext:function(e,i){var t=this.thumbnailTreatmentType,n=this.get("size");return m$44$0.drawThumbnailWithTreatmentType(t,e,n,this.reuseIdentifier,i,this.file).then(function(e){return e})},__superMap:{_5H$1yi$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ThumbnailCanvas$332"}});m$332$0=i}();
!function(){"use strict";var t={active:m$545$1(),pressed:m$545$1(),enabled:m$545$1(!0),target:null,action:null,shortcut:null,allowRightClick:m$629$1(!1),pointerDown:function(t){if(2===t.button&&!this.get("allowRightClick"))return!1;if(!this.get("enabled"))return!0;var e=this._capturedPointerId=t.pointerId;return this.setPointerCapture(e),this._tracking=!0,this._updateAppearance(!0),this.didBeginTracking(),!0},pointerUp:function(t){if(!this._tracking)return!1;this._tracking=!1,this.getPointerCapture(this._capturedPointerId)===this&&(this.releasePointerCapture(this._capturedPointerId),this._capturedPointerId=null);var e=m$261$0.elementContainsElement(this.element,this._adjustEventTargetForIpad(t).target);return this._updateAppearance(e),e?(this.didEndTracking(),this.performTargetAction()):this.didCancelTracking(),!0},pointerOut:function(t){this.get("enabled")&&this._updateAppearance(!1)},pointerOver:function(t){this.get("enabled")&&this._updateAppearance(!0)},_adjustEventTargetForIpad:function(t){return t.nativeEvent&&t.nativeEvent.target&&(t.target=t.nativeEvent.target),t},_updateAppearance:function(t){if(this.get("enabled")){var e=this._tracking;this.set("pressed",t&&e),this.set("active",t&&!e)}},performTargetAction:function(){if(this.get("enabled")){var t=this.get("target"),e=this.get("action");if(t&&e){var i=e;m$781$0(e)&&(i=t[e]),m$777$0(i)||m$802$0("Cannot perform action. Action must be a function on target "+t),i.call(t,this)}}},_brkit_bs_enabledDidChange:m$557$1("enabled",function(t){if(t!==!0){this.set("pressed",!1),this.set("active",!1);var e=this._tracking;this._tracking=!1,
this._capturedPointerId&&(this.releasePointerCapture(this._capturedPointerId),this._capturedPointerId=null),e&&this.didCancelTracking()}}),handleKeyDown:function(t){var e=this.shortcut;return!(!e||t.which!==e)&&(this.performTargetAction(),!0)},didBeginTracking:function(){},didEndTracking:function(){},didCancelTracking:function(){}};m$256$0=t}();
!function(){"use strict";var e=m$296$0.extend(m$256$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"active",truevalue:"active",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"pressed",truevalue:"pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"enabled",falsevalue:"disabled",attributes:{}}],attributes:{role:"button","aria-disabled":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"false",falsevalue:"true",attributes:{},attribute:"aria-disabled"},tabindex:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tabindex",attributes:{},attribute:"tabindex"},title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"displayTooltip",attributes:{},attribute:"title"},"aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{},attribute:"aria-label"}}},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.Button"},additionalClassNames:m$589$1(["button"]),tabindex:m$545$1({defaultValue:0}),title:m$545$1(""),tooltip:m$545$1(""),disabledTooltip:m$545$1(""),displayTooltip:m$545$1({readOnly:!0,dependencies:["enabled","tooltip","disabledTooltip"],get:function(e,t,i,a){var s=a.internalGet(this,t[1+i]),n=a.internalGet(this,t[2+i]),l=a.internalGet(this,t[0+i]);return l?s:n?n:s}}),showTitle:m$629$1({readOnly:!0,defaultValue:!0}),showLeftAccessory:m$629$1({readOnly:!0,defaultValue:!1}),showRightAccessory:m$629$1({readOnly:!0,defaultValue:!1}),init:function(e){this.__s._4p$UC$init.call(this,e),this._setupDOMStructure(),
this._refreshTitle()},_titleDidChange:m$557$1("title","element",function(e,t){t&&(this._refreshTitle(),this.notifyParentOfDynamicContentChange())}),_refreshTitle:function(){var e=this._titleElem,t=this.get("title");e&&m$261$0.setElementText(e,t)},_setupDOMStructure:function(){var e=this.get("element"),t=null;this.get("showLeftAccessory")&&(t=this._leftAccessoryElem=document.createElement("div"),t.className="left-accessory",e.appendChild(t)),this.get("showTitle")&&(t=this._titleElem=document.createElement("div"),t.className="title",e.appendChild(t)),this.get("showRightAccessory")&&(t=this._rightAccessoryElem=document.createElement("div"),t.className="right-accessory",e.appendChild(t))},didMoveToWindow:function(e){this.__s._4p$o7$didMoveToWindow.call(this,e),e||(this.set("active",!1),this.set("pressed",!1))},__superMap:{_4p$UC$init:"init",_4p$o7$didMoveToWindow:"didMoveToWindow"}});m$303$0=e}();
!function(){"use strict";var e=m$626$0.extend({thumbnailTreatmentMap:{},getThumbnailTreatmentTypeForFile:function(e){var t=this,n=(e.get("extension")||"").toLowerCase();if(e&&e.thumbnail&&e.thumbnail.treatment)return m$242$0.resolve(e.thumbnail.treatment);var i=this.thumbnailTreatmentMap[n];if(i)return m$242$0.resolve(i);var a=m$242$0.create(),u=m$886$0.get("cloudOSService");return u.getConformingTypes(n).then(function(e){var i=null;e.indexOf("public.image")>=0?(i="IMAGES",t.thumbnailTreatmentMap[n]=i):t._isMusicConformingType(e)?(i="MUSIC",t.thumbnailTreatmentMap[n]=i):t._isVideoConformingType(e)?(i="VIDEOS",t.thumbnailTreatmentMap[n]=i):(i="DOCUMENTS",t.thumbnailTreatmentMap[n]=i),a.resolve(i)}).catch(function(e){a.reject(e)}),a},_isVideoConformingType:function(e){return e.length>=2&&("public.audiovisual-content"===e[0]||"public.audiovisual-content"===e[1])},_isMusicConformingType:function(e){return e.length>=2&&("public.audio"===e[0]||"public.audio"===e[1])&&"public.audiovisual-content"!==e[0]&&"public.audiovisual-content"!==e[1]},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.ThumbnailTreatmentTypeService"}});m$145$0=e}();
!function(){"use strict";function e(e,i){var r=m$242$0.create(),t=m$417$0.get("sharedInstance"),o=e.canvasSize,s=e.fileType,a=e.isIWorkFile,c=t.getIconTypeForFileType(s);return m$254$0.setTimeout(function(){if(a)t.fetchIconURL(s,m$417$1.IWORK).then(function(t){if(t){var s=n(t,o,e,i);r.resolve(s)}else r.resolve(null)});else{if(!s)return void r.resolve(null);t.fetchIconURL(s,m$417$1.DEFAULT).then(function(s){if(s){a===!1&&(o=t.getIconCanvasSizeForType(c));var u=n(s,o,e,i);r.resolve(u)}else r.resolve(null)})}}),r}function i(e,i){var r=m$417$0.get("sharedInstance"),t=e.fileType,o=e.isIWorkFile,s=e.displaySize,a=r.getIconTypeForFileType(t),c=m$206$0.getCanvasSizeForAppIconDisplaySize(s);if(o){var u=r.getIconURL(t,m$417$1.IWORK);if(u){var l=n(u,c,e,i);return l}return null}if(!t)return null;var u=r.getIconURL(t,m$417$1.DEFAULT);if(u){o===!1&&(c=r.getIconCanvasSizeForType(a,s));var l=n(u,c,e,i);return l}return null}function n(e,i,n,r){var t=m$302$0.create({canvasClassName:n.canvasClassName,src:e,size:i,prerendered:n.iconPrerendered,reuseIdentifier:r});return t}var r=m$626$0.extend({init:function(e){this.__s._6a$9M$init.call(this,e),this._pool=m$236$0.create()},shouldAcquireIconCanvasViewAsync:function(e){var i=m$242$0.create(),n=m$790$0(e.fileID);return m$254$0.setTimeout(function(){var r=m$417$0.get("sharedInstance"),t=e.fileType,o=e.isIWorkFile;o?r.fetchIconURL(t,m$417$1.IWORK).then(function(e){e?i.resolve({shouldAcquire:!0,fileID:n}):i.resolve({shouldAcquire:!1,fileID:n})}):t?r.fetchIconURL(t,m$417$1.DEFAULT).then(function(e){e?i.resolve({shouldAcquire:!0,fileID:n}):i.resolve({shouldAcquire:!1,
fileID:n})}):i.resolve({shouldAcquire:!1,fileID:n})}),i},shouldAcquireIconCanvasViewSync:function(e){var i=m$417$0.get("sharedInstance"),n=e.fileType,r=e.isIWorkFile;if(r){var t=i.getIconURL(n,m$417$1.IWORK);return!!t}if(n){var t=i.getIconURL(n,m$417$1.DEFAULT);return!!t}return!1},getShowcaseViewFromCache:function(e){var i=this._pool,n=this.createShowcaseViewReuseIdentifier(e),r=i.dequeueItemForKeyIdentifier(n);return r?r:null},getShowcaseViewFromCacheWithReuseIdentifier:function(e){var i=this._pool,n=i.dequeueItemForKeyIdentifier(e);return n?n:null},isShowcaseViewAvailableForIdentifier:function(e){var i=this._pool,n=i.poolContainsItemsForKeyIdentifier(e);return n},fetchAppIconShowcaseView:function(i){var n=this,r=m$242$0.create();return m$254$0.setTimeout(function(){var t=n.createShowcaseViewReuseIdentifier(i);e(i,t).then(function(e){r.resolve(e)})}),r},getAppIconShowcaseView:function(e){var n=this.createShowcaseViewReuseIdentifier(e),r=i(e,n);return r},releaseShowcaseView:function(e){var i=this._pool,n=e.get("reuseIdentifier");i.queueItemForKeyIdentifier(e,n)},createThumbnailShowcaseViewUniqueIdentifier:function(e,i){var n=e.id,r=i.name;return n+"::"+r},createShowcaseViewReuseIdentifier:function(e){var i,n="normal";e.isIWorkFile&&(n="iWork");var r=e.displaySize.name,t=e.fileType,o=e.iconPrerendered;return i=t+"::"+n+"::"+o+"::"+r},__superMap:{_6a$9M$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Pools.ShowcaseViewPool"}});m$414$0=r}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._service}}),init:function(){this.__s._g$51$init.call(this),this._service=this.loadService()},loadService:function(){return m$414$0.create()},__superMap:{_g$51$init:"init"}}).create(),i=e.get("service");m$42$0=i}();
!function(){"use strict";var e=1048576,i=["png","jpg","jpeg","gif","bmp"],t=m$626$0.extend({init:function(e){this.__s._6X$GW$init.call(this,e),this._pauseThumbnailLoading=!1;var i=m$145$0.create();this._thumbnailTreatmentTypeService=i},isThumbnailLoadingPaused:m$629$1({readOnly:!0,default:!1,get:function(e,i,t,n){return this._pauseThumbnailLoading}}),canProvideThumbnailCanvasForFile:function(e){if(!e)return!1;var i=e.get("thumbnail");return!(!i&&!this._isSynthesizedThumbnailAvailableForFile(e))},createThumbnailShowcaseViewForFile:function(e,i,t){if(this._pauseThumbnailLoading){var n={success:!1,reason:"PAUSED"};return n}var a=m$332$0.create({displaySize:i,file:e,identifier:t,thumbnailCanvasFactory:this,thumbnailTreatmentTypeService:this._thumbnailTreatmentTypeService}),n={success:!0,thumbnailShowcaseView:a};return n},cacheThumbnailCanvasForFile:function(e,i){if(!this._pauseThumbnailLoading&&this.canProvideThumbnailCanvasForFile(e)!==!1){var t=m$42$0.createThumbnailShowcaseViewUniqueIdentifier(e,i);m$42$0.isShowcaseViewAvailableForIdentifier(t)||n.isFileBeingCached(e,i)||n.preloadThumbnail(this,e,i)}},suspendThumbnailLoading:function(){this._pauseThumbnailLoading=!0,n.cancelAllTasks()},resumeThumbnailLoading:function(){this._pauseThumbnailLoading=!1},_isSynthesizedThumbnailAvailableForFile:function(t){var n=t.get("size"),a=t.get("extension");return!!(a&&(a=a.toLowerCase(),i.indexOf(a)>=0&&n<e&&n>0))},__superMap:{_6X$GW$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Factories.ThumbnailCanvasFactory"}}),n=m$626$0.extend({currentTasksList:{},suspend:function(){this._suspended||(this._suspended=!0,
this._scheduler.suspend())},resume:function(){this._suspended&&(this._suspended=!1,this._scheduler.resume())},scheduler:m$629$1({get:function(e,i,t,n){return this._scheduler}}),init:function(e){this.__s._6X$1IO$init.apply(this,arguments),this._scheduler=this.loadTaskScheduler({delegate:this});var i=m$145$0.create();this._thumbnailTreatmentTypeService=i},loadTaskScheduler:function(){var e=m$252$0.create({trace:!1,traceId:"native file upload",allowedMaximumRunningTasks:1});return e},preloadThumbnail:function(e,i,t){var n=this,s=m$206$0.getCanvasSizeForThumbnailDisplaySize(t),r=this._createKeyForTask(i,s),u=a.create({file:i,displaySize:t,thumbnailCanvasFactory:e,id:r,thumbnailTreatmentTypeService:this._thumbnailTreatmentTypeService});return this._addTaskToCurrentTasksList(r,u),this._scheduler.scheduleTask(u).then(function(){n._removeTaskFromCurrentTasksList(r)}).catch(function(e){n._removeTaskFromCurrentTasksList(r)})},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},isFileBeingCached:function(e,i){var t=m$206$0.getCanvasSizeForThumbnailDisplaySize(i),n=this._createKeyForTask(e,t);return!!this.currentTasksList[n]},_createKeyForTask:function(e,i){var t=m$206$0.getCanvasSizeForThumbnailDisplaySize(i),n=e.get("id");return n+"::"+t},_addTaskToCurrentTasksList:function(e,i){this.currentTasksList[e]=i},_removeTaskFromCurrentTasksList:function(e){delete this.currentTasksList[e]},taskSchedulerTaskDidCancel:function(e,i){delete this.currentTasksList[i.id]},__superMap:{_6X$1IO$init:"init"}}).create(),a=m$251$0.extend({id:null,file:null,displaySize:null,thumbnailCanvasFactory:null,
thumbnailTreatmentTypeService:null,startRun:function(){var e=this,i=this.get("thumbnailCanvasFactory"),t=this.get("file"),n=this.get("displaySize"),a=m$42$0.createThumbnailShowcaseViewUniqueIdentifier(t,n),s=m$332$0.create({displaySize:n,file:t,identifier:a,thumbnailCanvasFactory:i,thumbnailTreatmentTypeService:this.thumbnailTreatmentTypeService});this._thumbnailShowcaseViewUpdateListener=s.listen("updated",function(i){e._thumbnailShowcaseViewUpdateListener.disconnect(),e._thumbnailShowcaseViewUpdateListener=null,e._thumbnailShowcaseViewErrorListener.disconnect(),e._thumbnailShowcaseViewErrorListener=null,m$42$0.releaseShowcaseView(s),e.finishRunWithSuccess()}),this._thumbnailShowcaseViewErrorListener=s.listen("error",function(i){e._thumbnailShowcaseViewUpdateListener.disconnect(),e._thumbnailShowcaseViewUpdateListener=null,e._thumbnailShowcaseViewErrorListener.disconnect(),e._thumbnailShowcaseViewErrorListener=null,e.finishRunWithFailure(i)}),s.startLoading()},shouldAllowCancel:function(){return!this.get("isRunning")},cancel:function(){this.__s._6X$2N7$cancel.call(this),this._thumbnailShowcaseViewUpdateListener&&(this._thumbnailShowcaseViewUpdateListener.disconnect(),this._thumbnailShowcaseViewUpdateListener=null),this._thumbnailShowcaseViewErrorListener&&(this._thumbnailShowcaseViewErrorListener.disconnect(),this._thumbnailShowcaseViewErrorListener=null),this.finishCancellingRun()},__superMap:{_6X$2N7$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.Factories.precacheThumbnailShowcaseViewTask$411"}});m$411$0=t}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._service}}),init:function(){this.__s._h$5N$init.call(this),this._service=this.loadService()},loadService:function(){return m$411$0.create()},__superMap:{_h$5N$init:"init"}}).create(),i=e.get("service");m$43$0=i}();
!function(){"use strict";function e(e){if(!e)return"";var i=e.toLowerCase();return m$417$0.get("sharedInstance").getGlyphClassNameForFileType(i)||null}var i=m$563$1("FileShowcaseViewTypes",function(e){e("DEFAULT_ICON"),e("EXTENSION"),e("EXTENSION_FADE_IN"),e("THUMBNAIL_IMMEDIATE"),e("THUMBNAIL_FADE_IN"),e("ICON_CANVAS_VIEW"),e("EMPTY_FILE_ICON")}),t=500,s={key:null,keynote:null,"key-tef":null,"keynote-tef":null,kth:null,pages:null,"pages-tef":null,template:null,numbers:null,"numbers-tef":null,nmbtemplate:null},a=m$424$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[]},__QUALIFIED_CLASS_NAME__:"BR.UI.FileShowcaseView"},additionalClassNames:m$589$1(["x-showcase","x-file"]),extSize:"size-default",content:m$545$1({defaultValue:null}),fileType:m$545$1({defaultValue:"",render:!0}),fileExtension:m$545$1({defaultValue:"",render:!0}),filePreviewImageSrc:m$545$1(m$282$0.EMPTY_SRC),filePreviewImageView:null,pauseLoadingThumbnail:m$545$1({defaultValue:!1}),showThumbnailsWhenAvailable:!0,init:function(e){this.__s._6j$nV$init.call(this,e),this._currentRequestId=0},displaySize:m$629$1({set:function(e,i,t,s,a){this._displaySize=e},get:function(e,i,t,s){return this._displaySize?this._displaySize:m$100$0.LARGE}}),suspendThumbnailLoading:function(){this._pauseLoadingThumbnail=!0},resumeThumbnailLoading:function(){this._pauseLoadingThumbnail=!1,this.content&&this._thumbnailLoadingWasPaused===!0&&(this._loadThumbnail(),this._thumbnailLoadingWasPaused=!1)},loadSubviews:function(){var e=this.filePreviewImageView=m$316$0.create({additionalClassNames:m$589$1(["file-preview"]),
src:m$228$0({root:this,path:"filePreviewImageSrc"})}),i=this;e.observe("image.state",function(){i.setNeedsRender()}),this.addSubview(e)},willMoveToWindow:function(e){this.__s._6j$1G1$willMoveToWindow.call(this,e),e&&(this._pauseLoadingThumbnail=!1,this._thumbnailLoadingWasPaused=!1)},prepareForReuse:function(){this.__s._6j$1J7$prepareForReuse.call(this),this._currentRequestId++,this._thumbnailShowcaseViewUpdateListener&&(this._thumbnailShowcaseViewUpdateListener.disconnect(),this._thumbnailShowcaseViewUpdateListener=null),this._thumbnailShowcaseViewErrorListener&&(this._thumbnailShowcaseViewErrorListener.disconnect(),this._thumbnailShowcaseViewErrorListener=null);var e=this._genericFileShowcaseView,i=this._currentlyDisplayedShowcaseView;this._currentlyDisplayedShowcaseView=null;var t=this._queuedForDisplayShowcaseView;this._queuedForDisplayShowcaseView=null,e&&(e.parent&&this.removeSubview(e),e.isAnimating&&e.resetAnimation("fadeOpacity"),e.set("fadeOpacity",0),e.set("content",null)),i&&(i.isAnimating&&i.resetAnimation("fadeOpacity"),i.set("fadeOpacity",0),this._returnShowcaseViewToPool(i)),t&&(t.isAnimating&&t.resetAnimation("fadeOpacity"),t.set("fadeOpacity",0),this._returnShowcaseViewToPool(t))},_contentDidChange:m$557$1("content",function(e){var i=e?e.get("extension"):"NO_EXTENSION";this.set("fileExtension",i),this.set("fileType",i),m$45$0.registerFile(e),this._showcaseViewDisplayStrategy=r.create({file:e,hasFilePreviewImageView:!!this.filePreviewImageView})}),render:function(){this.__s._6j$1_p$render.call(this);var e=this.get("content");if(e){var t,s=e.get("id"),a=this._showcaseViewDisplayStrategy.canProvideThumbnailCanvasForFile();
if(this.showThumbnailsWhenAvailable){var n=m$42$0.createThumbnailShowcaseViewUniqueIdentifier(e,this.displaySize),r=m$42$0.isShowcaseViewAvailableForIdentifier(n);if(r){var l=m$42$0.getShowcaseViewFromCacheWithReuseIdentifier(n);if(l){if(l.isReadyForDisplay())return void this._displayThumbnailShowcaseViewWithImmediately(l);m$42$0.releaseShowcaseView(l)}}}if(this._showcaseViewDisplayStrategy.shouldShowFilePreviewImage())return this.filePreviewImageView.imageView.image.state===m$282$0.STATE_LOADED;if(!this._showcaseViewDisplayStrategy.shouldShowFileIcon()||(this._renderImmediatelyForKey(i.DEFAULT_ICON),a!==!1)){var o=this._getFileTypeforIconCanvasView(),h=this.isIWorkFile(o),c={fileType:o,isIWorkFile:h,displaySize:this.displaySize,fileID:s},u=this._getFileDetails(c);if(t=m$42$0.getShowcaseViewFromCache(u))this._queuedForDisplayShowcaseView=t,this._renderImmediatelyForKey(i.ICON_CANVAS_VIEW);else if(m$42$0.shouldAcquireIconCanvasViewSync(u)){var w=m$42$0.getAppIconShowcaseView(u);this._queuedForDisplayShowcaseView=w,this._renderImmediatelyForKey(i.ICON_CANVAS_VIEW)}else if(this._showcaseViewDisplayStrategy.shouldShowFileExtension()&&(this._renderImmediatelyForKey(i.EXTENSION),a===!1))return;a&&this._loadThumbnail()}}},_renderImmediatelyForKey:function(e){switch(e){case i.EXTENSION:case i.DEFAULT_ICON:this._removeGenericFileShowcaseViewAndPrepareForReuse(),this._renderGenericFileShowcaseView(e);break;case i.ICON_CANVAS_VIEW:this._removeGenericFileShowcaseViewAndPrepareForReuse(),this._renderGenericFileShowcaseView(i.EMPTY_FILE_ICON),this._renderAppIconShowcaseView()}},_removeGenericFileShowcaseViewAndPrepareForReuse:function(){
var e=this._genericFileShowcaseView;e&&(e.parent&&this.removeSubview(e),e.set("fadeOpacity",0))},_removeShowcaseViewAndPrepareForReuse:function(){var e=this._currentlyDisplayedShowcaseView;this._currentlyDisplayedShowcaseView=null,this._returnShowcaseViewToPool(e)},_returnShowcaseViewToPool:function(e){e&&(e.parent&&this.removeSubview(e),e.prepareForReuse(),m$42$0.releaseShowcaseView(e))},_renderGenericFileShowcaseView:function(e){var i=this._genericFileShowcaseView;i||(i=n.create(),this._genericFileShowcaseView=i),i.setContentAndViewType(this.get("content"),e),i.set("fadeOpacity",1),this.addSubview(i)},_renderGenericFileShowcaseViewWithFadeIn:function(e){var i=this._genericFileShowcaseView;i||(i=n.create(),this._genericFileShowcaseView=i),i.set("content",this.get("content")),i.set("viewType",e),i.set("fadeOpacity",0),this.addSubview(i),i.animate("fadeOpacity",1,t)},_renderNewThumbnailShowcaseViewImmediately:function(){var e=this._queuedForDisplayShowcaseView;e&&(this._removeGenericFileShowcaseViewAndPrepareForReuse(),this._removeShowcaseViewAndPrepareForReuse(),e.set("fadeOpacity",1),this.addSubview(e),this._currentlyDisplayedShowcaseView=e,this._queuedForDisplayShowcaseView=null)},_renderNewThumbnailShowcaseViewWithFadeIn:function(){var e=this._queuedForDisplayShowcaseView;if(e){var i=this._genericFileShowcaseView;i||(i=this._currentlyDisplayedShowcaseView);var s=this,a=this._currentRequestId,n=function(){a===s._currentRequestId&&(s._removeShowcaseViewAndPrepareForReuse(),s._currentlyDisplayedShowcaseView=e,s._queuedForDisplayShowcaseView=null,s._removeGenericFileShowcaseViewAndPrepareForReuse());
};e.set("fadeOpacity",0),this.addSubview(e),i?(i.animate("fadeOpacity",0,t),e.animate("fadeOpacity",1,t,n)):e.animate("fadeOpacity",1,t,n),i||(this._removeGenericFileShowcaseViewAndPrepareForReuse(),this._removeShowcaseViewAndPrepareForReuse(),this._currentlyDisplayedShowcaseView=e,this._queuedForDisplayShowcaseView=null)}},_renderAppIconShowcaseView:function(){var e=this._queuedForDisplayShowcaseView;this._queuedForDisplayShowcaseView=null,e&&(e.set("fadeOpacity",1),this.addSubview(e),this._currentlyDisplayedShowcaseView=e)},_getFileTypeforIconCanvasView:function(){var e=this.get("fileType");return e?e.toLowerCase():"UNK"},isIWorkFile:function(e){return e in s},_loadThumbnail:function(){if(this.content&&this.showThumbnailsWhenAvailable){if(this._pauseLoadingThumbnail)return void(this._thumbnailLoadingWasPaused=!0);var e=this,i=this.get("content"),t=m$42$0.createThumbnailShowcaseViewUniqueIdentifier(i,this.displaySize),s=m$42$0.getShowcaseViewFromCacheWithReuseIdentifier(t);if(!s){var a=m$43$0.createThumbnailShowcaseViewForFile(i,this.displaySize,t);if(!a.success)return void("PAUSED"===a.reason&&(this._thumbnailLoadingWasPaused=!0));s=a.thumbnailShowcaseView}if(s.isReadyForDisplay())return void this._displayThumbnailShowcaseViewWithImmediately(s);var n=this._currentRequestId;this._thumbnailShowcaseViewUpdateListener&&(this._thumbnailShowcaseViewUpdateListener.disconnect(),this._thumbnailShowcaseViewUpdateListener=null),this._thumbnailShowcaseViewErrorListener&&(this._thumbnailShowcaseViewErrorListener.disconnect(),this._thumbnailShowcaseViewErrorListener=null),this._thumbnailShowcaseViewUpdateListener=s.listen("updated",function(i){
i&&e._currentRequestId===n&&e._displayThumbnailShowcaseViewWithFadeIn(s)}),this._thumbnailShowcaseViewErrorListener=s.listen("error",function(e){}),s.startLoading()}},_displayThumbnailShowcaseViewWithFadeIn:function(e){this._queuedForDisplayShowcaseView=e,this._renderNewThumbnailShowcaseViewWithFadeIn(e)},_displayThumbnailShowcaseViewWithImmediately:function(e){this._queuedForDisplayShowcaseView=e,this._renderNewThumbnailShowcaseViewImmediately()},_getFileDetails:function(e){var i=e.fileType;if(i){var t,s=e.isIWorkFile;e.isThumbnail;return t=s?this._createFileDetailsBundleForIWorkFileType(e):this._createFileDetailsBundleForDefaultFileType(e)}},_createFileDetailsBundleForDefaultFileType:function(e){var i=e.fileType,t=e.displaySize,s={fileType:i,canvasClassName:"app-icon",iconPrerendered:!1,isIWorkFile:!1,displaySize:t};return s},_createFileDetailsBundleForIWorkFileType:function(e){var i=e.fileType,t="iwork-icon",s=m$417$0.get("sharedInstance"),a=s._getContainerTypeForAppLibrary(i);"pages"===a&&(t="iwork-icon-pages");var i=e.fileType,n=e.displaySize,r={fileType:i,canvasClassName:t,iconPrerendered:!0,isIWorkFile:!0,displaySize:n};return r},__superMap:{_6j$nV$init:"init",_6j$1G1$willMoveToWindow:"willMoveToWindow",_6j$1J7$prepareForReuse:"prepareForReuse",_6j$1_p$render:"render"}}),n=m$296$0.extend(m$212$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["file-icon"]},{type:"ELEMENT",tagname:"div",children:[],classes:["file-extension",{type:"CLASSNAMEOUTLET",bindingtype:"ENUMBINDING",
name:"extSize",validvalues:["size-default","size-4","size-5","size-long"],attributes:{}}]}],classes:["file-icon-container"],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"fadeOpacity",attributes:{},unit:null,property:"opacity"}}}]},__QUALIFIED_CLASS_NAME__:"BR.UI.GenericFileShowcaseView$423"},viewType:m$545$1(),fadeOpacity:m$212$1(0),additionalClassNames:m$589$1(["x-showcase","x-file"]),extSize:"size-default",content:m$545$1({defaultValue:null}),fileType:m$545$1({defaultValue:"",render:!0}),fileExtension:m$545$1({defaultValue:"",render:!0}),filePreviewImageSrc:m$545$1(m$282$0.EMPTY_SRC),filePreviewImageView:null,_contentDidChange:m$557$1("content",function(e){if(e){var i=e?e.get("extension"):"NO_EXTENSION";this.set("fileExtension",i),this.set("fileType",i)}}),prepareForReuse:function(){this._resetFileShowcaseView()},setContentAndViewType:function(e,i){this.set("viewType",i),this.set("content",e)},render:function(){this.__s._6j$5rK$render.call(this);var e=this.get("viewType");this._resetFileShowcaseView(),this._renderFileIconContainer(),e===i.DEFAULT_ICON?this._renderFileIcon():e===i.EXTENSION&&this._renderFileExtension()},_resetFileShowcaseView:function(){var e=this.get("filePreviewImageView");e&&e.set("visible",!1);var i=this.$(".file-extension");i.style("display","none");var t=this.$(".file-icon-container");t.style("display","none");var s=this.$(".file-icon"),a=this._currentIconClassName;this._currentIconClassName="blank",a&&s.removeClass(a),s.addClass("blank")},_renderFileIconContainer:function(){var e=this.$(".file-icon-container");e.style("display","");
},_renderFileIcon:function(){var i=this.$(".file-icon"),t=this.get("fileType"),s=e(t)||"blank",a=this._currentIconClassName;t||(s="blank"),a&&i.removeClass(a),s&&i.addClass(s),this._currentIconClassName=s},_renderFileExtension:function(){var e=this.$(".file-extension"),t=this.get("fileExtension");if(!t)return void e.text("");var s=t.length;return s>7?void e.text(""):(s<4?this.set("extSize","size-default"):4===s?this.set("extSize","size-4"):5===s?this.set("extSize","size-5"):s>5&&s<8&&this.set("extSize","size-long"),void(this.get("viewType")===i.EXTENSION?(e.style("display","block"),e.text(this.get("fileExtension"))):e.text("")))},__superMap:{_6j$5rK$render:"render"}}),r=m$626$0.extend({file:null,hasFilePreviewImageView:!1,init:function(e){this.__s._6j$6c1$init.call(this,e),this._fileType=this.file?this.file.get("extension"):"NO_EXTENSION"},shouldShowFilePreviewImage:function(){if(!this.hasFilePreviewImageView)return!1},shouldShowFileIconContainer:function(){return!this.shouldShowFilePreviewImage()},shouldShowFileIcon:function(){return!!this.shouldShowFileIconContainer()&&!!e(this._fileType)},shouldShowFileExtension:function(){return!this.shouldShowFileIcon()},canProvideThumbnailCanvasForFile:function(){return m$43$0.canProvideThumbnailCanvasForFile(this.file)},__superMap:{_6j$6c1$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.UI.ShowcaseViewDisplayStrategy$423"}});m$423$0=a}();
!function(){"use strict";var e=m$424$0.extend({additionalClassNames:m$589$1(["showcase","folder"]),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.FilesGrid.FolderShowcaseView"}});m$183$0=e}();
!function(){"use strict";var i=10,e=m$296$0.extend(m$212$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"_imageView"}],classes:["icon-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"roundedCornerMask",truevalue:"rounded-corner-mask",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isMediumDisplaySize",truevalue:"medium",attributes:{}}],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"fadeOpacity",attributes:{},unit:null,property:"opacity"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"height"}}},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.IconView"},_imageView:null,fadeOpacity:m$212$1(0),init:function(){this.__s._2z$LI$init.apply(this,arguments);var i=this.get("displaySize"),e=m$282$0.create({displaySize:i,src:m$228$0({root:this,path:"src"})});this.set("_imageView",e)},reuseIdentifier:null,showImmediately:!1,didMoveToWindow:function(i){if(this.__s._2z$XN$didMoveToWindow.apply(this,arguments),i){var e=this.get("_imageView");e&&(this._imageViewListener=e.listen("state",this._imageViewStateDidChange.bind(this)))}else this._imageViewListener&&(this._imageViewListener.disconnect(),delete this._imageViewListener)},_fadeIn:function(){var e=this;setTimeout(function(){e.animate("fadeOpacity",1,i)},20)},roundedCornerMask:m$545$1(!0),src:m$545$1(""),size:m$545$1(60),displaySize:m$629$1({set:function(i,e,t,n,s){
this._displaySize=i},get:function(i,e,t,n){return this._displaySize?this._displaySize:m$100$0.LARGE}}),backgroundColor:m$545$1({default:null,set:function(i,e,t,n,s){this._backgroundColor=i},get:function(i,e,t,n){return this._backgroundColor||"transparent"}}),error:m$558$0(),_srcObserver:m$557$1("src",function(i){i&&(this.showImmediately?this.set("fadeOpacity",1):(this.set("fadeOpacity",0),this._fadeIn()))}),_imageViewStateDidChange:function(i){switch(i){case m$282$1.Error:this.error()}},_isMediumDisplaySize:function(){var i=this.get("displaySize");return i===m$100$0.MEDIUM},__superMap:{_2z$LI$init:"init",_2z$XN$didMoveToWindow:"didMoveToWindow"}});m$187$0=e}();
!function(){"use strict";var n=m$900$1("BRApp.AppIconTypes",function(n){n("iOS"),n("OSX")});m$98$0=n}();
!function(){"use strict";var e={"com.apple.Pages":null,"com.apple.Keynote":null,"com.apple.Numbers":null},i=m$424$0.extend({additionalClassNames:m$589$1(["showcase","folder","library"]),content:m$545$1({defaultValue:null}),delegate:null,_iconView:null,displaySize:m$629$1({set:function(e,i,t,n,o){this._displaySize=e},get:function(e,i,t,n){return this._displaySize?this._displaySize:m$100$0.LARGE}}),iconSrc:m$545$1(m$316$0.EMPTY_SRC),prepareForReuse:function(){var e=this._iconView;e&&(this.removeSubview(e),t.returnIconViewToCache(e),this._iconView=null)},_contentDidChange:m$557$1("content","element",function(e,i){if(i&&e){var t=this.get("delegate");t&&"function"==typeof t.appFolderShowcaseViewContentDidChange&&t.appFolderShowcaseViewContentDidChange(this,e),this._showAppLibraryIcon()}}),_showAppLibraryIcon:function(){var e,i,n,o,s,c=m$417$0.get("sharedInstance"),a=this.get("content");if(a){e=a.get("zone"),i=a.get("name"),n=c.getIconTypeForAppLibrary(i);var r={zone:e,name:i,type:n,displaySize:this.displaySize},h=t.createShowcaseViewReuseIdentifier(r),d=t.getIconViewFromCache(h);if(d)return d.showImmediately=!0,this._iconView=d,void this.addSubview(d);if(!n){if(!this._isIWorkContainer(e))return void this._showPlaceholderIcon();switch(s=e.split(".").pop(),n="IOS",s){case"Pages":i="pages";break;case"Numbers":i="numbers";break;case"Keynote":i="key"}var o=c.getIconURL(i,m$417$1.DEFAULT);this._setupIconWithIconSrc(o,n,h)}var o=c.getIconURL(i,m$417$1.APP_LIBRARY);this._setupIconWithIconSrc(o,n,h)}},_setupIconWithIconSrc:function(e,i,t){var n=this._iconView;this.set("iconSrc",e),"IOS"===i?(this._iconView=n=this._loadIOSAppIcon(n,t),
this.addSubview(n)):"OSX"===i?e===m$316$0.EMPTY_SRC?(this._iconView=n=this._loadIOSAppIcon(n,t),this.addSubview(n)):(this._iconView=n=this._loadMacAppIcon(n,t),this.addSubview(n)):m$802$0("Unexpected icon type: ",i,{view:this})},_showPlaceholderIcon:function(){var e=this,i={zone:"placeholder",name:"placeholder",type:"placeholder",displaySize:this.displaySize},n=t.createShowcaseViewReuseIdentifier(i),o=t.getIconViewFromCache(n);return o?(o.showImmediately=!0,this._iconView=o,void this.addSubview(o)):void m$417$0.get("sharedInstance").fetchIconURL(null,m$417$1.APP_LIBRARY).then(function(i){var t=e._loadIOSAppIcon(null,n);e.set("isIOSIcon",!0),e.set("iconSrc",i),e.addSubview(t),e._iconView=t})},_loadMacAppIcon:function(e,i){var t=this.get("displaySize"),n=m$417$0.get("sharedInstance").getIconSizeForType("OSX",t);return this.set("isIOSIcon",!1),e||(e=m$187$0.create({additionalClassNames:m$589$1(["mac-app-icon"]),src:this.iconSrc,size:n,displaySize:t,roundedCornerMask:m$539$1("parent.isIOSIcon"),reuseIdentifier:i})),this._iconViewListener=e.listen("error",function(e){e&&this._showPlaceholderIcon()}.bind(this)),e.set("size",n),e},isIOSIcon:m$545$1(!1),_loadIOSAppIcon:function(e,i){var t=this.get("iconSrc");this.set("isIOSIcon",!0),t||(t=m$282$0.EMPTY_SRC,this.set("iconSrc",t));var n=this.get("displaySize"),o=m$417$0.get("sharedInstance").getIconSizeForType("IOS",n);return e||(e=m$187$0.create({additionalClassNames:m$589$1(["ios-app-icon"]),src:this.iconSrc,size:o,displaySize:n,roundedCornerMask:m$539$1("parent.isIOSIcon"),reuseIdentifier:i})),e.listen("error",function(e){e&&this._showPlaceholderIcon();
}.bind(this)),e.set("size",o),e},_isIWorkContainer:function(i){return i in e},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.FilesGrid.AppFolderShowcaseView"}}),t=m$626$0.extend({init:function(e){this.__s._2q$2NY$init.call(this,e),this._pool=m$236$0.create()},getIconViewFromCache:function(e){var i=this._pool,t=i.dequeueItemForKeyIdentifier(e);return t?t:null},returnIconViewToCache:function(e){var i=this._pool,t=e.reuseIdentifier;i.queueItemForKeyIdentifier(e,t)},createShowcaseViewReuseIdentifier:function(e){var i=e.zone,t=e.name,n=e.type,o=e.displaySize.name,s=i+"::"+t+"::::"+n+"::"+o;return s},__superMap:{_2q$2NY$init:"init"}}).create();m$178$0=i}();
!function(){"use strict";var e={getIconViewForAlertItem:function(e){var t,i,n,s,a,m,o,l,$=null,d=e.get("context"),r=e.get("details");if(d){var c=d.file;n=m$209$0.getBaseNameForNativeFile(c),t=m$209$0.getUncompressedExtensionForNativeFile(c),o=c.id,l=c.etag,s=c.size,a=c.zone,m=c.docwsid,c.thumbnail&&($=c.thumbnail)}else r&&(n=r.name,t=r.extension,i=r.type,o=r.id,l=r.etag,s=r.size,a=r.zone,m=r.docwsid,r.thumbnail&&($=r.thumbnail));var u,g=m$64$0.create();return g.set("name",n),g.set("extension",t),g.set("id",o),g.set("etag",l),g.set("size",s),g.set("zone",a),g.set("docwsid",m),g.set("thumbnail",$),u=(t||e.get("type")!==m$23$0.NotCompressed)&&(t||"FOLDER"!==i)?t||"APP_LIBRARY"!==i?m$423$0.create({additionalClassNames:m$589$1(["medium"]),content:g,fileType:t,fileExtension:t,displaySize:m$100$0.MEDIUM}):m$178$0.create({additionalClassNames:m$589$1(["medium"]),content:g,delegate:null,displaySize:m$100$0.MEDIUM}):m$183$0.create({additionalClassNames:m$589$1(["medium"])})},getIconForFile:function(e){e.kindOf&&e.kindOf(m$64$0)===!1&&m$802$0("IconUtil.getIconForFile() requires a 'file' object.",{controller:this});var t=m$423$0.create({additionalClassNames:m$589$1(["medium"]),content:e,fileType:e.get("extension"),fileExtension:e.get("extension"),displaySize:m$100$0.MEDIUM});return t}};m$207$0=e}();
!function(){"use strict";var t=m$626$0.extend({alertGroupType:null,shouldPresentContextButtonForAlertGroup:function(t){return!1},getContextButtonForAlertGroup:function(t){return null},shouldPresentDetailsForAlertGroup:function(t){return!1},getMessageForAlertGroup:function(t){return null},getDescriptionForAlertGroup:function(t){return null},getPresentationInfoForAlertGroupItemAtIndex:function(t,e,r){return null},shouldPresentItemDescriptionsForAlertGroup:function(t){return!1},areAllItemsTheSameConflictType:function(t){var e=t[0],r=e.details.conflictType,n=t.every(function(t){return t.details.conflictType===r});return n},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.AlertManagement.AlertPresentationInfoGenerator"}});m$398$0=t}();
!function(){"use strict";var e=m$626$0.extend({message:null,description:null,iconView:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.AlertManagement.AlertItemPresentationInfo"}});m$397$0=e}();
!function(){"use strict";var t={shouldPresentItemDescriptionsForAlertGroup:function(t){for(var e,r=t.get("items"),n=r.length,i=0;i<n;i++){var o=r[i],c=r[i].get("type"),s=o.get("details");if(s&&s.conflictType&&(c=s.conflictType.name),e&&e!==c)return!0;e=c}return!1}};m$24$0=t}();
!function(){"use strict";var e=m$563$1("BRApp.Data.TransactionItemConflictType",["None","DestinationDeleted","ItemMoved","ItemModified","ItemDeleted","OutOfQuota","Unknown"]);m$58$0=e}();
!function(){"use strict";var t=m$398$0.extend({shouldPresentDetailsForAlertGroup:function(t){return t.get("items").length>1},getMessageForAlertGroup:function(t){var e=t.get("items"),r=e.length;return r>1?this.getMainMessageForAlertGroup(t,m$923$0.getNumberFormatter().format(r)):this.getMainMessageForAlertItem(e[0])},getDescriptionForAlertGroup:function(t){var e=t.get("items"),r=e.length;return r>1?this.getMainDescriptionForAlertGroup(t,m$923$0.getNumberFormatter().format(r)):this.getDescriptionForAlertItem(e[0],!0)},getPresentationInfoForAlertGroupItemAtIndex:function(t,e,r){var n=e.get("details");return m$397$0.create({message:n.name,description:this.getDescriptionForAlertItem(e,!1),iconView:m$207$0.getIconViewForAlertItem(e)})},getMainMessageForAlertGroup:function(t){return null},getMainDescriptionForAlertGroup:function(t){return null},getMainMessageForAlertItem:function(t){return null},getDescriptionForAlertItem:function(t,e){var r,n=t.get("details");switch(n.conflictType){case m$58$0.DestinationDeleted:return r="Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted",m$565$1(r,{folder:n.destinationFolder});case m$58$0.ItemDeleted:return r="Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.",r+=this._getLocItemTypeForAlertItem(t),m$565$1(r);case m$58$0.ItemMoved:return r="Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.",r+=this._getLocItemTypeForAlertItem(t),m$565$1(r);case m$58$0.ItemModified:return r="Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.",r+=this._getLocItemTypeForAlertItem(t),m$565$1(r);
case m$58$0.OutOfQuota:return m$565$1("Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota");case m$58$0.Unknown:return e?this.getVerboseDefaultUnknownConflictDescriptionForAlertItem(t):this.getShortDefaultUnknownConflictDescriptionForAlertItem(t)}},getVerboseDefaultUnknownConflictDescriptionForAlertItem:function(t,e){return m$565$1("Alert.TransactionError.ItemDetails.Conflict.Description.Default")},getShortDefaultUnknownConflictDescriptionForAlertItem:function(t){return m$565$1("Alert.TransactionError.ItemDetails.Conflict.Description.Default")},_getLocItemTypeForAlertItem:function(t){switch(t.get("details").type){case"FOLDER":return"Folder";case"APP_LIBRARY":return"AppLibrary";default:return"File"}},shouldPresentItemDescriptionsForAlertGroup:function(t){return m$24$0.shouldPresentItemDescriptionsForAlertGroup(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.TransactionErrorAlertPresentationInfoGenerator"}});m$15$0=t}();
!function(){"use strict";var r=m$15$0.extend({alertGroupType:m$20$0.CreateFolderErrors,getMainMessageForAlertGroup:function(r,e){return m$565$1("Alert.TransactionError.Group.CreateFolders.Message",{count:e})},getMainDescriptionForAlertGroup:function(r,e){return m$565$1("Alert.TransactionError.Group.CreateFolders.Description")},getMainMessageForAlertItem:function(r){return m$565$1("Alert.TransactionError.CreateFolder.Message",{name:r.get("details").name})},getVerboseDefaultUnknownConflictDescriptionForAlertItem:function(r){return m$565$1("Alert.TransactionError.CreateFolder.Description")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.CreateFoldersTransactionErrorAlertPresentationInfoGenerator"}});m$10$0=r}();
!function(){"use strict";var e=m$15$0.extend({alertGroupType:m$20$0.DeletedItemErrors,getMainMessageForAlertGroup:function(e,r){return m$565$1("Alert.TransactionError.Group.DeleteItems.Message",{count:r})},getMainDescriptionForAlertGroup:function(e,r){return m$565$1("Alert.TransactionError.Group.DeleteItems.Description")},getMainMessageForAlertItem:function(e){return m$565$1("Alert.TransactionError.DeleteItems.Single.Message",{name:e.get("details").name})},getVerboseDefaultUnknownConflictDescriptionForAlertItem:function(e){var r="Alert.TransactionError.DeleteItems.Single.";return r+=this._getLocItemTypeForAlertItem(e),r+=".Description",m$565$1(r)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.DeleteItemsTransactionErrorAlertPresentationInfoGenerator"}});m$11$0=e}();
!function(){"use strict";var e=m$398$0.extend({alertGroupType:m$18$0.RenameItemErrors,shouldPresentDetailsForAlertGroup:function(e){return e.items.length>1},getMessageForAlertGroup:function(e){var t=e.items,r=t.length;return r>1?this.getMainMessageForAlertGroup(e,r):this.getMainMessageForAlertItem(t[0])},getDescriptionForAlertGroup:function(e){var t=e.items,r=t.length;return r>1?this.getMainDescriptionForAlertGroup(e,r):this.getDescriptionForAlertItem(t[0],!0)},getPresentationInfoForAlertGroupItemAtIndex:function(e,t,r){var n=t.details;return m$397$0.create({message:n.item.name,description:this.getDescriptionForAlertItem(t,!1),iconView:m$207$0.getIconViewForAlertItem(t)})},getMainMessageForAlertGroup:function(e,t){return m$565$1("Alert.CannotRenameItem.Group.Message",{count:t})},getMainDescriptionForAlertGroup:function(e,t){return m$565$1("Alert.CannotRenameItem.Group.Description")},getMainMessageForAlertItem:function(e){var t,r=e.details.item,n=e.type,i=e.details.newName,s=r.isFolder;switch(n){case m$19$0.DuplicateName:return s||r.extension&&""===r.extension?(t="Alert.CannotRenameItem.NoExtension.Message",m$565$1(t,{name:i})):(t="Alert.CannotRenameItem.WithExtension.Message",m$565$1(t,{name:i,extension:r.extension}));case m$19$0.WhitespaceName:if(s||r.extension&&""===r.extension)return t="Alert.WhitespaceName.Folder.Message",m$565$1(t,{name:i});var a=i+"."+r.extension;return t="Alert.WhitespaceName.File.Message",m$565$1(t,{fileNameWithExtension:a});case m$19$0.InvalidName:if(s||r.extension&&""===r.extension)return t="Alert.InvalidName.Folder.Message",m$565$1(t,{name:i});var a=i+"."+r.extension;
return t="Alert.InvalidName.File.Message",m$565$1(t,{fileNameWithExtension:a});case m$19$0.HiddenFile:return t="Alert.HiddenName.Folder.Message",s||(t="Alert.HiddenName.File.Message"),m$565$1(t)}},getDescriptionForAlertItem:function(e,t){var r,n=e.type;switch(n){case m$19$0.DuplicateName:return r="Alert.CannotRenameItem.Description",m$565$1(r);case m$19$0.WhitespaceName:return r="Alert.WhitespaceName.Description",m$565$1(r);case m$19$0.InvalidName:return r="Alert.InvalidName.Description",m$565$1(r);case m$19$0.HiddenFile:return r="Alert.HiddenName.Description",m$565$1(r)}},shouldPresentItemDescriptionsForAlertGroup:function(e){return m$24$0.shouldPresentItemDescriptionsForAlertGroup(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.LocalEditItemsErrorAlertPresentationInfoGenerator"}});m$12$0=e}();
!function(){"use strict";var e=m$15$0.extend({alertGroupType:m$20$0.MovedItemErrors,getMainMessageForAlertGroup:function(e,r){return m$565$1("Alert.TransactionError.Group.MoveItems.Generic.Message",{count:r})},getMainDescriptionForAlertGroup:function(e,r){return m$565$1("Alert.TransactionError.Group.MoveItems.Generic.Description")},getMainMessageForAlertItem:function(e){return m$565$1("Alert.TransactionError.MovingItems.Single.Message",{name:e.get("details").name,folder:e.get("details").destinationFolder})},getVerboseDefaultUnknownConflictDescriptionForAlertItem:function(e){var r="Alert.TransactionError.MovingItems.Single.";return r+=this._getLocItemTypeForAlertItem(e),r+=".Description",m$565$1(r)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.MoveItemsTransactionErrorAlertPresentationInfoGenerator"}});m$13$0=e}();
!function(){"use strict";var e=m$15$0.extend({alertGroupType:m$20$0.RenameItemErrors,getMainMessageForAlertGroup:function(e,r){return m$565$1("Alert.TransactionError.Group.RenameItems.Message",{count:r})},getMainDescriptionForAlertGroup:function(e,r){return m$565$1("Alert.TransactionError.Group.RenameItems.Description")},getMainMessageForAlertItem:function(e){var r="Alert.TransactionError.RenameItem.";return r+=this._getLocItemTypeForAlertItem(e),r+=".Message",m$565$1(r,{name:e.get("details").name})},getVerboseDefaultUnknownConflictDescriptionForAlertItem:function(e){var r="Alert.TransactionError.RenameItem.";return r+=this._getLocItemTypeForAlertItem(e),r+=".Description",m$565$1(r)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.RenameItemsTransactionErrorAlertPresentationInfoGenerator"}});m$14$0=e}();
!function(){"use strict";var e=m$29$0.get("supportHelpPage"),t=m$15$0.extend({alertGroupType:m$20$0.UploadItemErrors,getContextButtonForAlertGroup:function(t){return m$303$0.create({additionalClassNames:m$589$1(["upgrade-instructions"]),title:m$565$1("Alert.UpgradeInstructions"),target:this,action:function(){window.open(e,"_blank")}})},getMessageForAlertGroup:function(e){return this._getMessageAndDescription(e).message},getDescriptionForAlertGroup:function(e){return this._getMessageAndDescription(e).description},shouldPresentDetailsForAlertGroup:function(e){var t=e.items;return 1!==t.length&&this.areAllItemsTheSameConflictType(t)},_getMessageAndDescription:function(e){var t=e.get("items");return this.shouldPresentDetailsForAlertGroup(e)?this._getMessageAndDescriptionForMultipleAlertItems(t):this._getMessageAndDescriptionForSingleAlertItem(t[0])},_getMessageAndDescriptionForMultipleAlertItems:function(e){var t,r,o=e[0],n=o.details.conflictType,i=this.areAllItemsTheSameConflictType(e);if(i)switch(n){case m$58$0.OutOfQuota:t=m$565$1("Upload.Error.Coalesced.OutOfQuota.Title",{fileCount:e.length}),r=m$565$1("Upload.Error.Coalesced.OutOfQuota.Description");break;case m$58$0.Unknown:default:t=m$565$1("Upload.Error.Coalesced.Unknown.Title",{fileCount:e.length}),r=m$565$1("Upload.Error.Coalesced.Unknown.Description")}else t=m$565$1("Upload.Error.Coalesced.Default.Title",{fileCount:e.length}),r=m$565$1("Upload.Error.Coalesced.Default.Description");return{message:t,description:r}},_getMessageAndDescriptionForSingleAlertItem:function(e){var t,r,o=e.details.conflictType,n=e.details.name;switch(o){
case m$58$0.OutOfQuota:t=m$565$1("Upload.Error.OutOfQuota.Title",{fileName:n}),r=m$565$1("Upload.Error.OutOfQuota.Description");break;case m$58$0.Unknown:default:t=m$565$1("Upload.Error.Default.Title",{fileName:n}),r=m$565$1("Upload.Error.Default.Description")}return{message:t,description:r}},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UploadFilesTransactionErrorAlertPresentationInfoGenerator"}});m$16$0=t}();
!function(){"use strict";var e=m$398$0.extend({alertGroupType:m$22$0.items,shouldPresentDetailsForAlertGroup:function(e){var r=e.get("items");r[0];return r.length>1},getMessageForAlertGroup:function(e){return this._getMessageAndDescription(e).message},getDescriptionForAlertGroup:function(e){return this._getMessageAndDescription(e).description},getPresentationInfoForAlertGroupItemAtIndex:function(e,r,t){var o=this._getMessageAndDescriptionForSingleAlertItem(r),i=r.get("context")||{},a=i.file;if(a){var s=o.description;return r.type!==m$23$0.HiddenFile&&r.type!==m$23$0.SizeTooBig||(s=this._getDetailedItemDescriptionForSingleAlertItem(r)),m$397$0.create({message:a.name,description:s,iconView:m$207$0.getIconViewForAlertItem(r)})}return m$397$0.create({message:o.message,description:o.description})},shouldPresentItemDescriptionsForAlertGroup:function(e){return m$24$0.shouldPresentItemDescriptionsForAlertGroup(e)},_getMessageAndDescription:function(e){var r=e.get("items");return this.shouldPresentDetailsForAlertGroup(e)?this._getMessageAndDescriptionForMultipleAlertItems(r):this._getMessageAndDescriptionForSingleAlertItem(r[0])},_getMessageAndDescriptionForMultipleAlertItems:function(e){var r,t,o,i=e[0],a=i.get("context"),s=i.get("type"),n=e.length,l=a.destination,p="";if(l&&l.getAppLibrary){var d=l.getAppLibrary();d&&(p=d.get("fullName"))}if(r=this.areAllItemsTheSameConflictType(e))switch(s){case m$23$0.NotCompressed:t=m$565$1("Upload.Error.Coalesced.NotCompressed.Title",{fileCount:n}),o=m$565$1("Upload.Error.Coalesced.NotCompressed.Description");break;case m$23$0.BadAppLibraryType:
t=m$565$1("Upload.Error.Coalesced.BadFileTypeForAppLibrary.Title",{num:n,appName:p}),o=m$565$1("Upload.Error.Coalesced.BadFileTypeForAppLibrary.Description",{appName:p});break;case m$23$0.HiddenFile:t=m$565$1("Upload.Error.Coalesced.HiddenFile.Title"),o=m$565$1("Upload.Error.Coalesced.HiddenFile.Description");break;case m$23$0.SizeTooBig:t=m$565$1("Upload.Error.Coalesced.SizeTooBig.Title",{fileCount:n}),o=m$565$1("Upload.Error.Coalesced.SizeTooBig.Description");break;case m$23$0.Unknown:default:t=m$565$1("Upload.Error.Coalesced.Default.Title"),o=m$565$1("Upload.Error.Coalesced.Default.Description")}else t=m$565$1("Upload.Error.Coalesced.Default.Title",{fileCount:n}),o=m$565$1("Upload.Error.Coalesced.Default.Description");return{message:t,description:o}},_getMessageAndDescriptionForSingleAlertItem:function(e){var r,t,o=e.get("type"),i=e.get("context")||{},a=i.file,s=i.destination,n="";if(s&&s.getAppLibrary){var l=s.getAppLibrary();l&&(n=l.get("fullName"))}switch(o){case m$23$0.NotCompressed:case m$23$0.IEFolderDropZeroFileCount:var p=a?m$209$0.getUncompressedExtensionForNativeFile(a):null;if(p&&m$341$2(p)){var d,$="Upload.Error.Package.Title.",m="Upload.Error.Package.Description.";switch(p){case"pages":d="Pages";break;case"key":case"keynote":d="Keynote";break;case"numbers":d="Numbers"}d?(r=m$565$1($+d),t=m$565$1(m+d,{extension:p})):(r=m$565$1("Upload.Error.Package.Title"),t=m$565$1("Upload.Error.Package.Description"))}else r=m$565$1("Upload.Error.SelectionContainsFolder.Title"),t=m$565$1("Upload.Error.SelectionContainsFolder.Description");break;case m$23$0.BadAppLibraryType:r=m$565$1("Error.Upload.BadFileTypeForAppLibrary.Title",{
appName:n}),t=m$565$1("Error.Upload.BadFileTypeForAppLibrary.Message",{appName:n});break;case m$23$0.HiddenFile:r=m$565$1("Upload.Error.HiddenFile.Title",{fileName:a.name}),t=m$565$1("Upload.Error.HiddenFile.Description");break;case m$23$0.SizeTooBig:r=m$565$1("Upload.Error.SizeTooBig.Title",{fileName:a.name}),t=m$565$1("Upload.Error.SizeTooBig.Description");break;case m$23$0.BrowserNotSupported:r=m$565$1("Upload.Error.BrowserNotSupported.Title"),t=m$565$1("Upload.Error.BrowserNotSupported.Description");break;case m$23$0.Unknown:default:r=m$565$1("Upload.Error.Default.Title",{fileName:a.name}),t=m$565$1("Upload.Error.Default.Description")}return{message:r,description:t}},_getDetailedItemDescriptionForSingleAlertItem:function(e){var r=e.get("type");switch(r){case m$23$0.HiddenFile:return m$565$1("Upload.Error.HiddenFile.Description");case m$23$0.SizeTooBig:return m$565$1("Upload.Error.SizeTooBig.DetailedDescription");default:var t=this._getMessageAndDescriptionForSingleAlertItem(e);return t.description}},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UploadValidationErrorAlertPresentationInfoGenerator"}});m$17$0=e}();
!function(){"use strict";function t(i){if(i){var n=i.getAttribute&&i.getAttribute("tabindex");if(null!==n&&isFinite(n)&&i.focus)return void i.focus();for(var e=i.firstChild;e;e=e.nextSibling)t(e)}}m$295$0=t}();
!function(){"use strict";var e=200,t=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}],classes:["message"],attributes:{id:"ariaAlertMessage"}},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description"],attributes:{id:"ariaAlertDescription"}}],classes:["content-wrapper"]},{type:"ELEMENT",tagname:"div",children:[],attributes:{id:"alertAccessoryView"}},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"buttonViews"}],classes:["cw-alert-buttons"]}],name:"alertView",classes:["cw-alert"],attributes:{role:"dialog","aria-labelledby":"ariaAlertMessage","aria-describedby":"ariaAlertDescription"}}],classes:["br-view","br-alert-modal","cw-alert-modal"]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.AlertView"},message:m$545$1(),description:m$545$1(),iconNames:m$545$1(),buttonViews:null,suppressedKeyCodes:null,_updatePositionOnChange:m$557$1("message","description",function(){this.updatePosition()}),updatePosition:function(){var e=this.get("alertView");m$760$0(e,{"margin-left":-(e.offsetWidth/2),"margin-top":-(e.offsetHeight/2)})},animateOpen:function(t){this.updatePosition(),this.get("style").set("opacity",1),t&&m$799$0(t,e),this._showForScreenReader(!0)},
animateClosed:function(t){this.get("style").set("opacity",0),t&&m$799$0(t,e),this._showForScreenReader(!1)},_iconNamesDidChange:m$557$1("iconNames",function(e){var t=this.get("alertIcon");e&&(e instanceof Array?e.forEach(function(e){t.classList.add(e)}):t.classList.add(e))}),handleKeyDown:function(e){for(var t=this.buttonViews,i=0,s=t.length,a=this.suppressedKeyCodes;i<s;i++)if(t.objectAt(i).handleKeyDown(e))return!0;if(a)for(i=0,s=a.length;i<s;i++)if(e.which===a[i])return e.preventDefault(),!0;return!1},_showForScreenReader:function(e){e?(this.previousFocus=document.activeElement,m$295$0(this.get("element"))):this.previousFocus&&this.previousFocus.focus&&this.previousFocus.focus();for(var t=rootResponder&&rootResponder.get("window"),i=t&&t.get("rootViews"),s=e?this:null,a=i&&i.length||0;a--;){var n=i[a],r=n&&n.get("element"),o=s&&n!==s;r&&r.setAttribute("aria-hidden",o?"true":"false")}}});m$301$0=t}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[],name:"expanderNodeArrow",classes:["expander-control-arrow",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"is-expanded",attributes:{}}]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"labelText",attributes:{}}],classes:["label-text","expander-control"]}],name:"expanderNode"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"}],classes:["content-view"]}],classes:["expandable-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"is-expanded",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ExpandableView"},isExpanded:m$545$1(!1),labelText:m$545$1("Default Text"),contentView:m$619$1(m$296$0),pointerDown:function(e){this.get("expanderNode").contains(e.target)&&this.set("isExpanded",!this.get("isExpanded"))}});m$311$0=e}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"adjustTitleLocationForDescription",truevalue:"has-description",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showDescription",truevalue:"",falsevalue:"hide-description",attributes:{}}]}],classes:["detail-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"iconView",truevalue:"has-icon-view",attributes:{}}]}],classes:["detail-view"]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ItemDetailView"},prepareForReuse:function(){this.set("title",""),this.set("iconView",null),this.set("description","")},iconView:m$545$1(),title:m$545$1(),description:m$545$1(),showDescription:m$545$1(!1),adjustTitleLocationForDescription:m$545$1(!1),_iconViewDidChange:m$557$1("iconView",function(e){var i=this._cachedIconView;i&&this.removeSubview(i,".icon"),e&&this.addSubview(e,".icon"),this._cachedIconView=e||null})});m$319$0=e}();
!function(){"use strict";var e=m$301$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}],classes:["message"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description"]},{type:"ELEMENT",tagname:"div",children:[],classes:["details-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"detailsVisible",truevalue:"",falsevalue:"hide-container",attributes:{}}]}],classes:["content-wrapper"]},{type:"ELEMENT",tagname:"div",children:[],attributes:{id:"alertAccessoryView"}},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"buttonViews"}],classes:["cw-alert-buttons"]}],name:"alertView",classes:["cw-alert"]}],classes:["br-view","br-alert-modal","cw-alert-modal"]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.DetailedAlertView"},init:function(e){this.__s._4w$Ww$init.call(this,e),this._detailViews=[]},detailsVisible:m$545$1({defaultValue:!0}),detailDescriptionsVisible:m$545$1({defaultValue:!1}),previousDetailDescriptionsVisible:m$629$1(!1),addDetail:function(e,t,s){var a=i.dequeueDetailView();a.set("title",e),a.set("description",t),a.set("iconView",s),a.set("showDescription",this.get("detailDescriptionsVisible")),a.set("adjustTitleLocationForDescription",this.get("detailDescriptionsVisible")),
this._detailViews.push(a),this.addSubview(a,".details-container")},removeDetails:function(){for(var e=this._detailViews,t=e.length,s=0;s<t;s++){var a=e[s];a.prepareForReuse(),this.removeSubview(a,".details-container"),i.queueDetailView(a)}this._detailViews.length=0,this.set("detailDescriptionsVisible",!1),this.set("previousDetailDescriptionsVisible",!1)},_detailDescriptionsVisibleDidChange:m$557$1("detailDescriptionsVisible",function(e){var i=this._detailViews,t=i?i.length:0,s=this.get("previousDetailDescriptionsVisible");if(s!==e){for(var a=0;a<t;a++){var n=i[a];n.set("showDescription",e),n.set("adjustTitleLocationForDescription",e)}this.set("previousDetailDescriptionsVisible",e)}}),__superMap:{_4w$Ww$init:"init"}}),i=m$626$0.extend({init:function(){this.__s._4w$1VG$init.call(this),this._pool=m$236$0.create()},dequeueDetailView:function(){var e=this._pool.dequeueItemForKeyIdentifier("detailview");return e?e:m$319$0.create()},queueDetailView:function(e){this._pool.queueItemForKeyIdentifier(e,"detailview")},__superMap:{_4w$1VG$init:"init"}}).create();m$310$0=e}();
!function(){"use strict";var e=m$310$0.extend({additionalClassNames:m$589$1(["brx"]),iconNames:"iclouddrive",staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.UI.Views.DetailedAlertView"}});m$422$0=e}();
!function(){"use strict";var t=m$563$1("AlertPresentationState",["NotPresented","Presenting","Presented","Dismissing"]),e=m$626$0.extend(m$544$0,{delegate:null,dismissedAlert:m$558$0(),presentedAlert:m$558$0(),alertGroup:m$629$1({readOnly:!0,get:function(t,e,r,n){return this._alertGroup}}),isAlertBecomingDismissed:m$629$1({readOnly:!0,get:function(e,r,n,i){return this._presentationState===t.Dismissing}}),isAlertBecomingPresented:m$629$1({readOnly:!0,get:function(e,r,n,i){return this._presentationState===t.Presenting}}),isAlertPresented:m$629$1({readOnly:!0,get:function(e,r,n,i){return this._presentationState===t.Presented}}),init:function(e){this.__s._6L$LM$init.call(this,e),this._alertPresentationInfoGenerators={},this._alertGroup=null,this._alertView=null,this._contextAlertButton=null,this._presentationState=t.NotPresented},addAlertPresentationInfoGenerator:function(t){var e=this._alertPresentationInfoGenerators;e[t.get("alertGroupType")]=t},_getPresentationInfoGeneratorForAlertGroup:function(t){return this._alertPresentationInfoGenerators[t.get("type")]},presentAlertGroup:function(e){this._alertGroup&&m$802$0("Cannot present. Is currently presenting alert group",{alertPresenter:this});var r=this,n=m$303$0.create({additionalClassNames:m$589$1(["confirm"]),title:m$565$1("Alert.Confirm"),target:this,action:function(){r._dismissAlertView()},shortcut:m$688$0.RETURN}),i=this._getMessageForAlertGroup(e),o=this._getDescriptionForAlertGroup(e),s=m$422$0.create({additionalClassNames:m$589$1(["brapp"]),message:i,description:o,buttonViews:[n]});this._includeContextButtonToAlertViewForAlertGroupIfNeeded(s,e);
var l=(e.get("items"),this._shouldPresentDetailsForAlertGroup(e));s.set("detailsVisible",l),this._addAlertGroupItemsToAlertViewDetailsStartingFromIndex(e,s,0),this._alertGroup=e,this._alertView=s;var a=window.rootResponder.get("window");a.addRootView(s),this._presentationState=t.Presenting,s.animateOpen(function(){r._completePresentingAlertView()})},updateForAlertGroup:function(t){var e=this._alertGroup,r=this._alertView,n=this._getMessageForAlertGroup(t),i=this._getDescriptionForAlertGroup(t),o=this._shouldPresentDetailsForAlertGroup(t),s=0;r.set("message",n),r.set("description",i),r.set("detailsVisible",o),e.get("type")!==t.get("type")?r.removeDetails():s=e.get("items").length,this._addAlertGroupItemsToAlertViewDetailsStartingFromIndex(t,r,s),this._includeContextButtonToAlertViewForAlertGroupIfNeeded(r,t),this._alertGroup=t},_shouldPresentDetailsForAlertGroup:function(t){var e=this._getPresentationInfoGeneratorForAlertGroup(t);return e.shouldPresentDetailsForAlertGroup(t)},_shouldPresentItemDescriptionsForAlertGroup:function(t){var e=this._getPresentationInfoGeneratorForAlertGroup(t);return e.shouldPresentItemDescriptionsForAlertGroup(t)},_getMessageForAlertGroup:function(t){var e=this._getPresentationInfoGeneratorForAlertGroup(t);return e.getMessageForAlertGroup(t)},_getDescriptionForAlertGroup:function(t){var e=this._getPresentationInfoGeneratorForAlertGroup(t);return e.getDescriptionForAlertGroup(t)},_addAlertGroupItemsToAlertViewDetailsStartingFromIndex:function(t,e,r){for(var n=this._getPresentationInfoGeneratorForAlertGroup(t),i=t.get("items"),o=r,s=i.length;o<s;o++){
var l=i[o],a=n.getPresentationInfoForAlertGroupItemAtIndex(t,l,o),u=a.get("message"),p=a.get("description"),d=a.get("iconView")||null;e.addDetail(u,p,d)}var _=this._shouldPresentItemDescriptionsForAlertGroup(t);e.set("detailDescriptionsVisible",_)},_includeContextButtonToAlertViewForAlertGroupIfNeeded:function(t,e){if(!this._contextAlertButton){var r=this._getPresentationInfoGeneratorForAlertGroup(e);if(r.shouldPresentContextButtonForAlertGroup(e)){var n=t.get("buttonViews"),i=r.getContextButtonForAlertGroup(e);n.unshift(i),this._contextAlertButton=i}}},_completePresentingAlertView:function(){this._presentationState=t.Presented,this.presentedAlert(this)},_dismissAlertView:function(){this._presentationState=t.Dismissing;var e=this;this._alertView.animateClosed(function(){e._completeDismissingAlertView()})},_completeDismissingAlertView:function(){this._presentationState=t.NotPresented;var e=this._alertGroup,r=this._alertView;this._alertGroup=null,this._alertView=null,this._contextAlertButton=null;var n=window.rootResponder.get("window");n.removeRootView(r),this.dismissedAlert(this,e)},__superMap:{_6L$LM$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.AlertManagement.AlertPresenter"}});m$399$0=e}();
!function(){"use strict";var e=m$626$0.extend({alertPresenter:m$629$1({readOnly:!0,get:function(e,t,r,n){return this._alertPresenter}}),init:function(e){this.__s._U$FQ$init.call(this,e),this._alertPresenter=this.loadAlertPresenter()},loadAlertPresenter:function(){var e=m$399$0.create();return e.addAlertPresentationInfoGenerator(m$10$0.create()),e.addAlertPresentationInfoGenerator(m$11$0.create()),e.addAlertPresentationInfoGenerator(m$13$0.create()),e.addAlertPresentationInfoGenerator(m$14$0.create()),e.addAlertPresentationInfoGenerator(m$16$0.create()),e.addAlertPresentationInfoGenerator(m$17$0.create()),e.addAlertPresentationInfoGenerator(m$12$0.create()),e},__superMap:{_U$FQ$init:"init"}}).create(),t=e.get("alertPresenter");m$30$0=t}();
!function(){"use strict";var e=m$563$1("RaiseAggregateAlertSchedulerState",["Prepared","AlertRaised"]),t=m$626$0.extend({alertPresenter:m$629$1({get:function(e,t,r,i){return this._alertPresenter},set:function(e,t,r,i,s){var a=this._alertPresenter;this._alertPresenter=e,this._alertPresenterDidChange(a,e)}}),init:function(t){this.__s._6M$C6$init.call(this,t),this._state=e.Prepared,this._alertPresenter=null,this._alertAggregators=[],this._alertAggregatorsCache={},this._raisedAlertGroup=null,this._pendingAlertGroupsQueue=[]},addAlertAggregator:function(e){this._alertAggregators.push(e)},raiseAlertForItem:function(t){switch(this._state){case e.Prepared:this._registerPendingAlertItem(t),this._tryRaisingNextAlert();break;case e.AlertRaised:var r=this.get("alertPresenter");if(r.get("isAlertBecomingDismissed"))this._registerPendingAlertItem(t);else{var i=this._raisedAlertGroup,s=this._tryAggregatingAlertGroupWithAlertItem(i,t);s?(this._raisedAlertGroup=s,r.updateForAlertGroup(s)):this._registerPendingAlertItem(t)}}},_registerPendingAlertItem:function(e){for(var t,r=this._pendingAlertGroupsQueue,i=0,s=r.length;i<s;i++){t=r[i];var a=this._tryAggregatingAlertGroupWithAlertItem(t,e);if(a)return void(r[i]=a)}t=this._createAlertGroupForAlertItem(e),t||m$809$1.warn(this+" did not create an alert group for alert item",{service:this,alertItem:e}),r.push(t)},_tryRaisingNextAlert:function(){var t=this._pendingAlertGroupsQueue.shift();if(!t)return void(this._state=e.Prepared);this._state=e.AlertRaised,this._raisedAlertGroup=t;var r=this.get("alertPresenter");r.presentAlertGroup(t)},_tryAggregatingAlertGroupWithAlertItem:function(e,t){
var r=this._alertAggregatorsCache,i=r[e.get("type")];return i||m$802$0("Cannot aggregate alert group. Missing aggregator",{service:this,alertGroup:e}),i.allowsAggregationForAlertItem(t)?i.aggregateAlertGroupWithAlertItem(e,t):null},_createAlertGroupForAlertItem:function(e){var t=this._alertAggregators,r=this._alertAggregatorsCache,i=e.get("type"),s=r[i];if(!s)for(var a=0,n=t.length;a<n;a++)if(s=t[a],s.allowsAggregationForAlertItem(e)){r[i]=s;break}if(!s)return null;var l=s.createAlertGroupForAlertItem(e);return r[l.get("type")]=s,l},_alertPresenterDidChange:function(e,t){if(this._changingAlertPresenter=!0,e&&(this._alertPresenterDismissedAlertObserver.disconnect(),this._alertPresenterDismissedAlertObserver=null),t){var r,i=this;r=t.observe("dismissedAlert",function(e){e&&(i._changingAlertPresenter||i._alertPresenterDidDismissAlert())}),this._alertPresenterDismissedAlertObserver=r}this._changingAlertPresenter=!1},_alertPresenterDidDismissAlert:function(){this._tryRaisingNextAlert()},__superMap:{_6M$C6$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.AlertManagement.RaiseAggregateAlertScheduler"}});m$400$0=t}();
!function(){"use strict";var e=m$626$0.extend({filterAlertGroup:function(e){for(var t=e.get("type"),r=e.get("items"),a={},n=0;n<r.length;n++){var s=r[n],i=s.get("context");if(null===i){var t=s.get("type"),l=t.name;a[l]=[],a[l].push(s)}else{var l=i.file.name;void 0!==a[l]?a[l].push(s):(a[l]=[],a[l].push(s))}}var p=this._filterAlertItemHashByErrorType(t,a);return e.set("items",p),e},_filterAlertItemHashByErrorType:function(e,t){var r=[];for(var a in t){var n=t[a];if(1===n.length)r.push(n[0]);else{for(var s=0,i=0;i+1<n.length;){var l=n[i],p=l.get("type").name,m=n[i+1],o=m.get("type").name;this._compareAlertItemErrorTypes(p,o)===o&&(s=i+1),i++}r.push(n[s])}}return r},staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.AlertManagement.AlertGroupFilter"}});m$395$0=e}();
!function(){"use strict";var r=m$395$0.extend({_compareAlertItemErrorTypes:function(r,e){for(var t=["IEFolderDropZeroFileCount","BadAppLibraryType","HiddenFile","NotCompressed","BrowserNotSupported","Unknown"],o=0;o<t.length;o++){var n=t[o];if(r===n)return r;if(e===n)return e}return r},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.AlertManagement.Filter.UploadValidationErrorsFilterForAlertGroupItems"}});m$9$0=r}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({get:function(e,r,t,a){return this._raiseAlertService}}),init:function(e){this.__s._f$Fk$init.call(this,e),this._raiseAlertService=this.loadRaiseAlertService()},loadRaiseAlertService:function(){var e=m$400$0.create();return e.addAlertAggregator(m$4$0.create()),e.addAlertAggregator(m$2$0.create()),e.addAlertAggregator(m$1$0.create()),e.addAlertAggregator(m$5$0.create()),e.addAlertAggregator(m$7$0.create()),e.addAlertAggregator(m$3$0.create()),e.addAlertAggregator(m$8$0.create({filters:this._loadFiltersForUploadValidationErrors()})),e.set("alertPresenter",m$30$0),e},_loadFiltersForUploadValidationErrors:function(){var e=[],r=m$9$0.create();return e.push(r),e},__superMap:{_f$Fk$init:"init"}}).create(),r=e.get("service");m$41$0=r}();
!function(){"use strict";var r=m$563$1("BRApp.NativeFileUploadErrorType",["Unknown","OutOfQuota","FatalError"]);m$125$0=r}();
!function(){"use strict";var e=m$626$0.extend({raiseAlertService:null,init:function(e){this.__s._1I$An$init.call(this,e);var n=this._alertItemGenerators={};n[m$59$0.CreateFolder]=r.create(),n[m$59$0.DeleteItems]=t.create({alertItemType:m$21$0.DeleteItemError}),n[m$59$0.MoveItems]=t.create({alertItemType:m$21$0.MoveItemError}),n[m$59$0.RenameItem]=t.create({alertItemType:m$21$0.RenameItemError}),n[m$59$0.UploadItem]=a.create({alertItemType:m$21$0.UploadItemError})},alertCommitErrorsForTransaction:function(e){for(var t=this._alertItemGenerators[e.get("type")],r=this._generateAlertItemsWithAlertItemGenerator(e,t),a=this.get("raiseAlertService"),n=0,i=r.length;n<i;n++)a.raiseAlertForItem(r[n])},_generateAlertItemsWithAlertItemGenerator:function(e,t){for(var r=e.get("commitInfo"),a=r.get("uncommittedInfoItems"),n=[],i=0,o=a.length;i<o;i++){var l=a[i],m=t.createAlertItem(e,l);n.push(m)}return n},__superMap:{_1I$An$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.TransactionErrorsAlertService"}}),t=m$626$0.extend({alertItemType:null,createAlertItem:function(e,t){return m$396$0.create({type:this.get("alertItemType"),details:this.getDetails(e,t)})},getDetails:function(e,t){var r=this.getTransactionItem(e,t),a=this.getConflictType(e,t),n=this.getDestinationFolderName(e,t);return{conflictType:a,name:r.get("fullName"),type:r.get("type"),extension:r.get("extension")||null,destinationFolder:n,id:r.get("id"),etag:r.get("etag"),size:r.get("size"),zone:r.get("zone"),docwsid:r.get("docwsid"),thumbnail:r.get("thumbnail")}},getTransactionItem:function(e,t){return t.getTransactionItem();
},getConflictType:function(e,t){var r;switch(t.status){case m$57$0.DestinationDeleted:r=m$58$0.DestinationDeleted;break;case m$57$0.ItemDeleted:r=m$58$0.ItemDeleted;break;case m$57$0.ItemModified:r=t.hasTransactionItemMoved()?m$58$0.ItemMoved:m$58$0.ItemModified;break;default:r=m$58$0.Unknown}return r},getDestinationFolderName:function(e,t){var r=e.get("destinationFolder")||null;return r?r.get("fullName"):null},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.AlertItemGenerator$81"}}),r=t.extend({alertItemType:m$21$0.CreateFolderError,getTransactionItem:function(e,t){return e.get("stagedFolder")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.CreateFolderAlertItemGenerator$81"}}),a=t.extend({alertItemType:m$21$0.UploadItemError,getDetails:function(e,t){var r=this.__s._1I$1Qv$getDetails.call(this,e,t);return r.nativeFile=e.get("nativeFile"),r},getTransactionItem:function(e,t){return e.get("stagedFile")},getConflictType:function(e,t){var r,a=e.get("commitInfo"),n=a.get("fatalError");switch(n.type){case m$125$0.OutOfQuota:r=m$58$0.OutOfQuota;break;default:r=this.__s._1I$1bj$getConflictType.call(this,e,t)}return r},__superMap:{_1I$1Qv$getDetails:"getDetails",_1I$1bj$getConflictType:"getConflictType"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Data.UploadFileAlertItemGenerator$81"}});m$81$0=e}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,i,t,r){return this._service}}),init:function(){this.__s._m$6l$init.call(this),this._service=this.loadService()},loadService:function(){return m$81$0.create({raiseAlertService:m$41$0})},__superMap:{_m$6l$init:"init"}}).create(),i=e.get("service");m$48$0=i}();
!function(){"use strict";var e=m$29$0.get("ROOT_FOLDER_ID"),t=m$626$0.extend({fileSystem:m$629$1({readOnly:!0,get:function(e,t,i,s){return this._fileSystem}}),init:function(){this.__s._a$Ba$init.call(this),this._accessRightsAssignmentManager=m$52$0.create(),this._fileSystem=this.loadFileSystem()},loadFileSystem:function(){var e=(window.dataManager=m$519$0.extend(m$506$0).create(),m$61$0.create({delegate:this,transactionErrorsAlertService:m$48$0}));return e},fileSystemDidFetchFolderContent:function(t,i,s){var n=i.id;n===e&&m$417$0.get("sharedInstance").registerIconsForAppLibraries(s),this._assignRightsToFolderContent(i,s)},_assignRightsToFolderContent:function(e,t){this._accessRightsAssignmentManager.assignRightsToContent(e,t)},fileSystemDidFinishHandlingTransaction:function(e,t){this._refreshQuotaForTransactionIfNeeded(t)},_refreshQuotaForTransactionIfNeeded:function(e){if(e.get("commitInfo").get("hasCommittedItems"))switch(e.get("type")){case m$59$0.UploadItem:case m$59$0.DeleteItems:m$886$0.get("cloudOSService").refreshQuotaData()}},__superMap:{_a$Ba$init:"init"}}).create(),i=t.get("fileSystem");m$36$0=i}();
!function(){"use strict";var e=m$626$0.extend({fileSystem:null,detected:m$629$1({readOnly:!0,get:function(e,t,i,o){return!!this._rootFolder}}),rootFolder:m$629$1({readOnly:!0,get:function(e,t,i,o){return this._rootFolder}}),init:function(e){this.__s._2G$Gd$init.call(this,e);var t=m$29$0.ROOT_FOLDER_ID,i={drivewsid:t,docwsid:"root",zone:"com.apple.CloudDocs",name:"",type:"FOLDER"};t=m$89$0(i);var o=this.fileSystem;this._rootFolder=o.getItemById(t)},__superMap:{_2G$Gd$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.PrefetchRootFolderService"}});m$142$0=e}();
!function(){"use strict";var t="https://setup.icloud.com",e=t+"/setup/ws/1/validate",i=t+"/setup/ws/1/updateAccount",r=m$626$0.extend({cloudOSService:null,detected:m$629$1({readOnly:!0,get:function(t,e,i,r){return this._detected}}),error:m$629$1({readOnly:!0,get:function(t,e,i,r){return this._error}}),init:function(t){this.__s._2I$Oo$init.call(this,t),this._validatedAccountMigration=!1,this._detected=!1},setup:function(){m$799$0(function(){this._runInitialDetection()}.bind(this));var t=this._promise=m$242$0.create();return t},_drivewsDetectedInCloudOSService:function(){var t=this.get("cloudOSService"),e=t.get("environment").get("authBag"),i=e.getServiceInfoFor("drivews");return!!i},_brMigratedDetected:function(){var t=this.get("cloudOSService"),e=t.getPath("environment.authBag.user");return e.get("brMigrated")||!1},_userAccountMigrated:function(){var t=this._drivewsDetectedInCloudOSService(),e=this._brMigratedDetected();return t&&e},_runInitialDetection:function(){var t=this._userAccountMigrated();t?(this._detected=!0,this._promise.resolve(this)):this._runValidation()},_runValidation:function(){var t=m$576$0.create({url:e,useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0}),i=this;t.send().then(function(){i._setupValidateRequestDidSucceed(t)},function(){i._setupValidateRequestDidFail(t)})},_setupValidateRequestDidSucceed:function(t){var e=t.get("response").get("body"),i=this.get("cloudOSService").get("environment").get("authBag");i.processAuthBag(e);var r=this._drivewsDetectedInCloudOSService(),s=this._brMigratedDetected();this._detected=r&&s,
r&&!s?this._validateAccountMigrationStatusIfNeeded():this._promise.resolve(this)},_setupValidateRequestDidFail:function(t){var e=t.get("response"),i=new Error("iCloud setup validation failed");i.status=e.get("status"),i.source=t,this._error=i,this._promise.reject(i)},_validateAccountMigrationStatusIfNeeded:function(){return this._validatedAccountMigration?void this._promise.resolve(this):(this._validatedAccountMigration=!0,void this.get("fileSystem").fetchRootFolderDetails().then({success:this._validateAccountMigrationStatusDidComplete.bind(this),failure:this._validateAccountMigrationStatusDidFail.bind(this)}))},_validateAccountMigrationStatusDidComplete:function(t){var e={brMigrated:!0},r=m$576$0.create({method:"POST",url:i,useCredentialsIfCrossOrigin:!0,body:e,reportingPathname:null,shouldReportSuccess:!1,shouldReportFailure:!1});r.setHeader("Content-Type","text/plain");var s=this;r.send().then(function(){s._updateAccountMigrationStatusDidComplete(r)},function(){s._updateAccountMigrationStatusDidFail(r)})},_validateAccountMigrationStatusDidFail:function(t){this._detected=!1;var e=this._promise;402===t.status?(this._detected=!1,e.resolve(this)):(this._error=t,e.reject(t))},_updateAccountMigrationStatusDidComplete:function(t){var e=this.get("cloudOSService"),i=e.getPath("environment.authBag.user");i.set("brMigrated",!0),this._detected=!0,this._promise.resolve(this)},_updateAccountMigrationStatusDidFail:function(t){var e=t.get("response"),i=e.status,r=new Error("Update account migration failed");r.status=i,r.type="unknown",r.request=t,this._error=r,this._detected=!1,this._promise.reject(r);
},__superMap:{_2I$Oo$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.SetupDriveWSService"}});m$144$0=r}();
!function(){"use strict";var e=1e6,r=function(r){var n,t;arguments.length<1&&m$802$0("Necessary arguments not provided.",this),n=m$242$0.create();try{var a=new FileReader;a.onload=function(){n.resolve(!0)},a.onerror=function(e){n.resolve(!1)},t=r.size>e?r.slice(0,e):r,a.readAsBinaryString?a.readAsBinaryString(t):a.readAsText&&a.readAsText(t)}catch(e){n.reject()}return n};m$93$0=r}();
!function(){"use strict";var e=function(e,t){var n=m$209$0.getUncompressedExtensionForNativeFile(e);return t.acceptsFilesWithExtension(n)};m$97$0=e}();
!function(){"use strict";var t=function(t){return!/^\./.test(t.name)};m$91$0=t}();
!function(){"use strict";var t=10737418240,e=function(e){return arguments.length<1&&m$802$0("Necessary arguments not provided.",this),!(e.size>t)};m$92$0=e}();
!function(){"use strict";function t(t,e,i,n){var a=[],o=m$242$0.create(),r=i.length>1,s={file:t,destination:e,multipleFiles:r};return a.push({validation:m$97$0,arguments:[t,e],fail:function(){n.raiseAlertForItem(m$396$0.create({type:m$23$0.BadAppLibraryType,context:s}))}}),a.push({validation:m$93$0,arguments:[t],async:!0,fail:function(){n.raiseAlertForItem(m$396$0.create({type:m$23$0.NotCompressed,context:s}))}}),a.push({validation:m$91$0,arguments:[t],fail:function(){n.raiseAlertForItem(m$396$0.create({type:m$23$0.HiddenFile,context:s}))}}),a.push({validation:m$92$0,arguments:[t],fail:function(){n.raiseAlertForItem(m$396$0.create({type:m$23$0.SizeTooBig,context:s}))}}),m$242$0.map(a,function(t){var e=m$242$0.create();return t.async||(t.validation=m$242$0.promisify(t.validation)),t.validation.apply(this,t.arguments).then(function(i){i===!0?e.resolve(!0):(t.fail(),e.resolve(!1))}),e}).then(function(t){for(var e=t.length,i=!0,n=0;n<e;n++)t[n]===!1&&(i=!1);o.resolve(i)}).catch(function(t){n.raiseAlertForItem(m$396$0.create({type:m$23$0.Unknown,context:s}))}),o}var e=m$626$0.extend(m$544$0,{activeTransactions:m$545$1({readOnly:!0,get:function(t,e,i,n){for(var a=this._activeFileUploadTransactions,o=Object.keys(a),r=key.length,s=new Array(o.length),l=0;l<r;l++){var c=a[o[l]];s[l]=c.transaction}return s}}),activeTransactionsCount:m$545$1({readOnly:!0,get:function(t,e,i,n){return this._activeFileUploadTransactionsCount}}),hasActiveTransactions:m$545$1({readOnly:!0,dependencies:["activeTransactionsCount"],get:function(t,e,i,n){return this._activeFileUploadTransactionsCount>0}}),activatedTransactions:m$558$0(),
transactionFinalized:m$558$0(),init:function(t){this.__s._2K$Rr$init.call(this),this._fileSystem=t?t.fileSystem:null,this._raiseAlertService=t?t.raiseAlertService:null,this._activeFileUploadTransactions={},this._activeFileUploadTransactionsCount=0,this._uploadFileToTransactionMap={},this._stagedTransactions=[]},uploadFilesToFolder:function(t,e){this._beginPreparingUploadingFiles(),this._validateFilesAndUpload(t,e)},cancelUploadForFile:function(t){var e=this._uploadFileToTransactionMap[m$807$0(t)];return e?e.get("isCancellable")?void e.cancel():void m$809$1.warn("Unable to cancel file upload. Cancel not allowed"):void m$809$1.warn("Unable to cancel file upload. Missing transaction")},_beginPreparingUploadingFiles:function(){},_endPreparingUploadingFiles:function(){for(var t=this._stagedTransactions,e=0,i=t.length;e<i;e++)t[e].commit();this._activeFileUploadTransactionsCount+=t.length,this.activatedTransactions(t.slice()),this._stagedTransactions.length=0,this.propertyChanged("activeTransactionsCount"),this.propertyChanged("activeTransactions")},_prepareToUploadFileToFolder:function(t,e){var i=this._fileSystem.uploadFile(t,e);if(!i)return void m$809$1.warn("Unable to upload file to folder. No transaction returned");i.stage();var n=i.get("stagedFile"),a=this,o=i.observe("finalized",function(t){t&&a._transactionDidFinalize(i)});this._activeFileUploadTransactions[m$807$0(i)]={observer:o,transaction:i,file:n},this._uploadFileToTransactionMap[m$807$0(n)]=i,this._stagedTransactions.push(i)},_transactionDidFinalize:function(t){var e=m$807$0(t),i=this._activeFileUploadTransactions,n=i[e];
if(!n)return void m$809$1.warn("Cannot complete finalizing file upload transaction. Missing info.");n.observer.disconnect();var a=n.file;delete this._uploadFileToTransactionMap[m$807$0(a)],delete i[e],this._activeFileUploadTransactionsCount--,this.propertyChanged("activeTransactionsCount"),this.transactionFinalized(t)},_validateFilesAndUpload:function(e,i){var n=e?e.length:0,a=this._raiseAlertService,o=this;return 0===n?void a.raiseAlertForItem(m$396$0.create({type:m$23$0.IEFolderDropZeroFileCount})):void m$242$0.forEach(e,function(n){return t(n,i,e,o._raiseAlertService).then(function(t){return!!t&&(o._prepareToUploadFileToFolder(n,i),!0)})}).then(function(){o._endPreparingUploadingFiles()})},__superMap:{_2K$Rr$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UploadFilesService"}});m$146$0=e}();
!function(){"use strict";var e=m$626$0.extend({service:null,init:function(e){this.__s._o$48$init.apply(this,arguments);var i=m$146$0.create({fileSystem:m$36$0,raiseAlertService:m$41$0});this.set("service",i)},__superMap:{_o$48$init:"init"}}).create(),i=e.get("service");m$50$0=i}();
!function(){"use strict";var t=20,n=m$626$0.extend({items:m$629$1({readOnly:!0,get:function(t,n,e,i){}}),length:m$629$1({readOnly:!0,get:function(t,n,e,i){return this._length}}),init:function(n){this.__s._3s$4t$init.call(this,n),this._startIndex=0,this._length=0,this._queue=new Array(t),this.clear()},add:function(t){var n=this._startIndex,e=this._length,i=this._queue,s=i.length,h=n+e;h<=s?i[h]=t:i.push(t),this._length++},clear:function(){this._startIndex=0,this._length=0;for(var t=this._queue,n=t.length,e=0;e<n;e++)t[e]=null},hasNext:function(){return this._length>0},next:function(){var t=this._length;if(0===t)return null;var n=this._startIndex,e=this._queue,i=e[n];return e[this._startIndex]=null,this._length--,0===this._length?this._startIndex=0:this._startIndex++,i},__superMap:{_3s$4t$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.Queue"}});m$243$0=n}();
!function(){"use strict";function e(){return window.innerWidth}function t(){return window.innerHeight}var i=m$563$1("BRKit.UI.WindowStateEnum",function(e){e("Inactive"),e("Prepared"),e("UpdateViews")}),n=m$626$0.extend({delegate:null,state:m$629$1({readOnly:!0,get:function(e,t,i,n){return this._state}}),rootViews:m$629$1({readOnly:!0,defaultValue:function(){return[]},get:function(e,t,i,n){return this._rootViews}}),isActive:m$629$1({readOnly:!0,get:function(e,t,n,s){return this._state!==i.Inactive}}),width:m$629$1({readOnly:!0,get:function(t,i,n,s){var a=this._width;return null===a&&this.get("isActive")&&(a=this._width=e()),a}}),height:m$629$1({readOnly:!0,get:function(e,i,n,s){var a=this._height;return null===a&&this.get("isActive")&&(a=this._height=t()),a}}),layer:m$629$1({readOnly:!0,get:function(e,t,i,n){return this._layer}}),init:function(e){this.__s._5J$dj$init.call(this,e),this._layer=m$259$0.create({dataSource:{getBackingElementForDOMLayer:function(){return document.body}}}),this._state=i.Inactive;var t=this._windowDidResize.bind(this);this._windowResizeHandler=function(){m$801$0(t)},this._performViewsUpdateHandle=this._performViewsUpdate.bind(this),this._renderViewsQueue=m$243$0.create(),this._layoutViewsQueue=m$243$0.create()},runCommand:function(e){this.get("isActive")&&(e(),this.updateViewsIfNeeded())},invalidate:function(){this._width=null,this._height=null},activate:function(){this.get("isActive")&&m$802$0("Invalid call. Incorrect state",{windowObject:this}),this._state=i.Prepared,this.invalidate();var e=this,t=this._windowResizeHandler=function(){e._windowDidResize();
};window.addEventListener("resize",t),setTimeout(function(){this._invalidateAllRootViewFrames(),this.updateViewsIfNeeded()}.bind(this)),this._timeoutObserver=m$254$0.observe("timeoutCompleted",function(t){t&&e.updateViewsIfNeeded()}),this._frameObserver=m$225$0.observe("frameCompleted",function(t){t&&e.updateViewsIfNeeded()})},deactivate:function(){this.get("isActive")||m$802$0("Invalid call. Incorrect state",{windowObject:this}),this._state=i.Inactive,this.invalidate(),window.removeEventListener("resize",this._windowResizeHandler),this._timeoutObserver.dispose()},addRootView:function(e){var t=this._rootViews;t.indexOf(e)>0||(this._layer.addSublayer(e.get("layer")),t.push(e),e.willMoveToWindow(this),e.didMoveToWindow(this),document.body.appendChild(e.get("element")),this.get("isActive")&&(e.invalidateFrame(),this.updateViewsIfNeeded()))},removeRootView:function(e){var t=this._rootViews;t.indexOf(e)<0||(m$765$0(e,t),e.willMoveToWindow(null),e.didMoveToWindow(null),this._layer.removeSublayer(e.get("layer")),document.body.removeChild(e.get("element")))},queueViewForLayout:function(e){this._layoutViewsQueue.add(e)},queueViewForRender:function(e){this._renderViewsQueue.add(e)},_invalidateAllRootViewFrames:function(){for(var e=this.get("rootViews"),t=e.length,i=0;i<t;i++)e[0].invalidateFrame()},_windowDidResize:function(){switch(this._state){case i.UpdateViews:this._pendingWindowResizeChange=!0;break;case i.Prepared:this.invalidate();for(var e=this.get("rootViews"),t=e.length,n=0;n<t;n++)e[n].invalidateFrame();this.updateViewsIfNeeded()}},updateViewsIfNeeded:function(){switch(this._state){
case i.Prepared:this._state=i.UpdateViews,this._performViewsUpdate()}},_performViewsUpdate:function(){this._state!==i.UpdateViews&&m$802$0("Invalid call. Incorrect state",{windowObject:this});var e,t=this._renderViewsQueue,n=this._layoutViewsQueue;do{for(;t.hasNext();)e=t.next(),e.renderIfNeeded();for(;n.hasNext();)e=n.next(),e.layoutIfNeeded()}while(t.hasNext());this._finalizeViewsUpdate()},_finalizeViewsUpdate:function(){this._state!==i.UpdateViews&&m$802$0("Invalid call. Incorrect state",{windowObject:this}),this._state=i.Prepared,this._pendingWindowResizeChange&&(this._pendingWindowResizeChange=!1,setTimeout(this._windowResizeHandler))},__superMap:{_5J$dj$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Window"}});m$334$1=i,m$334$0=n}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{traceId:null,trace:!1,viewClassname:null,parentViewController:m$545$1(null),view:m$629$1({defaultValue:null,readOnly:!0,get:function(e,i,t,n){var r=this._view;if(!r){r=this._view=this.loadView(),r.set("viewController",this);var o=this.get("viewClassname");o&&m$261$0.addClass(r.get("element"),o),this.logTrace("did load view"),this.viewDidLoad(r)}return r}}),isViewLoaded:m$629$1({readOnly:!0,get:function(e,i,t,n){return!!this._view}}),childViewControllers:null,isMovingToParentViewController:m$629$1({defaultValue:!1,readOnly:!0}),isMovingFromParentViewController:m$629$1({defaultValue:!1,readOnly:!0}),isBeingPresented:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._beingPresented}}),isBeingDismissed:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._beingDismissed}}),isViewVisible:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._viewVisible}}),preferredContentSize:null,preferDynamicContentHeight:!1,preferDynamicContentWidth:!1,modalInPopover:!0,navigationController:m$629$1({readOnly:!0,get:function(e,i,t,n){for(var r=this.get("parentViewController");r;){if(r.isNavigationController)return r;r=r.get("parentViewController")}return null}}),navigationItem:m$629$1({readOnly:!0,get:function(e,i,t,n){return this.loadNavigationItem()}}),init:function(e){this.childViewControllers=[],this.__s._4j$k3$init.call(this,e),this._viewVisible=!1,this._beingPresented=!1,this._beingDismissed=!1},loadView:function(){return null},loadNavigationItem:function(){return null},viewDidLoad:function(e){},viewWillAppear:function(){this._beingPresented=!0,
this._viewVisible=!1},viewDidAppear:function(){this._beingPresented=!1,this._viewVisible=!0},viewWillDisappear:function(){this._beingDismissed=!0,this._viewVisible=!0},viewDidDisappear:function(){this._beingDismissed=!1,this._viewVisible=!1},shouldAutomaticallyForwardAppearanceMethods:function(){return!0},beginAppearanceTransition:function(e){if(e?(this.logTrace("view will appear"),this.viewWillAppear()):(this.logTrace("view will disappear"),this.viewWillDisappear()),this.shouldAutomaticallyForwardAppearanceMethods())for(var i,t=this.get("childViewControllers"),n=t.length,r=0;r<n;r++)i=t[r],i.beginAppearanceTransition(e)},endAppearanceTransition:function(e){if(e?(this.logTrace("view did appear"),this.viewDidAppear()):(this.logTrace("view did disappear"),this.viewDidDisappear()),this.shouldAutomaticallyForwardAppearanceMethods())for(var i,t=this.get("childViewControllers"),n=t.length,r=0;r<n;r++)i=t[r],i.endAppearanceTransition(e)},willMoveToParentViewController:function(e){this.logTrace("will move to parent view controller",e),this._isMovingToParentViewController=!!e,this._isMovingFromParentViewController=!e},didMoveToParentViewController:function(e){this.logTrace("did move to parent view controller",e),this.set("parentViewController",e),this._isMovingToParentViewController=!1,this._isMovingFromParentViewController=!1},addChildViewController:function(e){this.logTrace("add child view controller",e),e.willMoveToParentViewController(this);var i=this.get("childViewControllers");i.push(e)},removeChildViewController:function(e){this.logTrace("remove child view controller",e);var i=this.get("childViewControllers");
m$765$0(e,i),e.removeFromParentViewController()},removeFromParentViewController:function(){this.didMoveToParentViewController(null)},viewWillLayoutSubviews:function(){},viewDidLayoutSubviews:function(){},logTrace:function(e,i){(window.TRACE_VIEW_CONTROLLERS||this.trace)&&console.log(this+" "+e+(void 0!==i?": "+i:""))},toString:function(){var e=this.traceId,i=m$806$0(this);return"["+i+": "+(e?e:m$807$0(this))+"]"},__superMap:{_4j$k3$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.ViewController"}});m$297$0=e}();
!function(){"use strict";function t(){return r||(r=a.create()),r}var r=null,a=m$626$0.extend(m$544$0,{delegate:null,dragInitiator:m$629$1({readOnly:!0,get:function(t,r,a,e){return this._dragInitiator}}),dragTargetInfo:m$545$1({readOnly:!0,get:function(t,r,a,e){return this._dragTargetInfo}}),dragTargetHandler:m$629$1({readOnly:!0,get:function(t,r,a,e){return this._dragTargetHandler}}),dragSourceInfo:m$629$1({readOnly:!0,get:function(t,r,a,e){return this._dragSourceInfo}}),init:function(t){this.__s._4C$Fc$init.call(this,t),this._data={},this._dragging=!1},draggingStarted:function(t,r,a){this._dragging&&this._throwFatalInvalidStateError("Cannot notify dragging started");var e=a.get("type");if("file-system"!==e&&"none"!==e){var n=r.dataTransfer;n.effectAllowed=a.effectAllowed,m$648$0.get("sharedInstance").get("isIE")||m$648$0.get("sharedInstance").get("isEdge")?n.setData("Text","(data)"):n.setData("application/x-br-file","(data)")}this._dragging=!0,this._dragInitiator=t,this._dragSourceInfo=a},draggingEnded:function(){this._dragging||this._throwFatalInvalidStateError("Cannot notify dragging end");var t=this._dropHandler,r=this._dragTargetView;r&&r.set("isDragTargetFocused",!1),this._dragging=!1,this._dragInitiator=null,this._dragTargetInfo=null,this._dragTargetHandler=null,this._dragTargetView=null,this._dragSourceInfo=null,t&&(t(),this._dropHandler=null),this.propertyChanged("dragTargetInfo")},setDragTargetHandler:function(t,r,a){this._dragging||this._throwFatalInvalidStateError("Cannot set drag target handler");var e=this._dragTargetInfo=t.getDragTargetInfo(r,a,this.get("dragSourceInfo"));
r.dataTransfer.dropEffect=e.data.dropEffect;var n=this._dragTargetHandler,g=this._dragTargetView;n!==t&&(g&&g.set("isDragTargetFocused",!1),a.set("isDragTargetFocused",!0),this._dragTargetView=a,this._dragTargetHandler=t,this.propertyChanged("dragTargetInfo"))},clearDragTargetHandler:function(){this._dragging||this._throwFatalInvalidStateError("Cannot clear drag target handler");var t=this._dragTargetView;t&&t.set("isDragTargetFocused",!1),this._dragTargetHandler=null,this._dragTargetView=null,this._dragTargetInfo=null,this.propertyChanged("dragTargetInfo")},setDropHandler:function(t,r,a,e,n){this._dropHandler=t.bind(r,a,e,n)},_throwFatalInvalidStateError:function(t){m$802$0(t+". Invalid state.",{dragService:this})},__superMap:{_4C$Fc$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.DragDrop.DragService"}});m$264$1=t,m$264$0=a}();
!function(){"use strict";var r={isDragTargetFocused:m$545$1(!1),dragTargetHandler:null,drop:function(r){var e=this.get("dragTargetHandler"),t=!!e&&e.drop(r,this);return t!==!1&&(r.preventDefault(),r.stopPropagation(),!0)},dragEnter:function(r){var e=this.get("dragTargetHandler"),t=!!e&&e.dragEnter(r,this);return t!==!1&&(r.preventDefault(),!0)},dragOver:function(r){var e=this.get("dragTargetHandler"),t=!!e&&e.dragOver(r,this);return t!==!1&&(r.preventDefault(),!0)},dragLeave:function(r){var e=this.get("dragTargetHandler"),t=!!e&&e.dragLeave(r,this);return t!==!1&&(r.preventDefault(),!0)}};m$271$0=r}();
!function(){"use strict";var e=m$296$0.extend(m$271$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:["root",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDragTargetFocused",truevalue:"drag-hover",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.RootView"}});m$193$0=e}();
!function(){"use strict";function t(t,e){if(!t.get("isActive"))throw new Error(t+" Service is not active. "+e)}var e=m$563$1("FolderNavigationService.ActivationState",["Inactive","Active"]),i=m$626$0.extend(m$544$0,{currentWorkingPath:m$545$1({readOnly:!0,get:function(t,e,i,r){var n=this._currentHistoryState;if(!n)return null;var o=this._fileSystem.getFolderById(n.folderId);return o.path}}),isActive:m$629$1({readOnly:!0,get:function(t,i,r,n){return this._activationState===e.Active}}),hasHistory:m$629$1({readOnly:!0,get:function(t,e,i,r){return!!window.history.state}}),history:m$629$1({readOnly:!0,get:function(t,e,i,r){return window.history.state}}),init:function(t){this.__s._2B$J7$init.call(this,t),this._fileSystem=t.fileSystem,this._currentHistoryState=null,this._activationState=e.Inactive},activate:function(){this.get("isActive")||(this._activationState=e.Active,this._setupHistoryStateMonitoring(),this._setupFileSystemMonitoring())},deactivate:function(){this.get("isActive")&&(this._activationState=e.Inactive,this._teardownHistoryStateMonitoring(),this._teardownFileSystemMonitoring())},moveToFolder:function(e){t(this,"Cannot move to folder.");var i=this._createHistoryStateForFolder(e);this._currentHistoryState?window.history.pushState(i,e.name,""):(i.root=!0,window.history.replaceState(i,e.name,"")),this._currentHistoryState=i,this.propertyChanged("currentWorkingPath")},moveUpFolder:function(){t(this,"Cannot move back.");var e=this._currentHistoryState;if(e){var i=e.folderId,r=this._fileSystem.getFolderById(i);if(r){var n=r.get("parent");n&&this.moveToFolder(n)}}},_createHistoryStateForFolder:function(t,e){
var i=t.path.map(function(t){return{id:t.id,name:t.name,etag:t.etag}});return{folderId:t.id,path:i}},_setupFileSystemMonitoring:function(){var t=this._fileSystem,e=this;this._itemsSynchObserver=t.observe("synchronizedItems",function(t){if(t){var i=t.context;e._fileSystemDidSynchronizeItems(i)}})},_teardownFileSystemMonitoring:function(){var t=this._itemsSynchObserver;t&&(t.diconnect(),this._itemsSynchObserver=null)},_fileSystemDidSynchronizeItems:function(t){var e=this._currentHistoryState;if(e){var i=e.path,r={};t.forEach(function(t){r[t.id]=t});var n=!!i.find(function(t){return!!r[t.id]});n&&this._synchronizeCurrentHistoryStateIfNeeded()}},_synchronizeCurrentHistoryStateIfNeeded:function(){var t=this._currentHistoryState;if(!t)return!1;var e=t.path,i=this._fileSystem.getFolderById(t.folderId),r=i,n=!1,o=this._fileSystem;if(!i||i.isDeleted)e.slice().reverse().find(function(t){var e=o.getFolderById(t.id);return!(!e||e.isDeleted)&&(r=e,!0)}),n=!0;else{var s=i.path;n=s.length!==e.length||!!e.find(function(t,e){var i=s[e];return t.id!==i.id})}return n&&(t=this._currentHistoryState=this._createHistoryStateForFolder(r),window.history.replaceState(t,r.name,""),this.propertyChanged("currentWorkingPath")),n},_setupHistoryStateMonitoring:function(){var t=this;this._historyStatePopObserver=m$801$0(function(e){t._historyDidPopState(e)}),window.addEventListener("popstate",this._historyStatePopObserver)},_teardownHistoryStateMonitoring:function(){window.removeEventListener("popstate",this._historyStatePopObserver),this._historyStatePopObserver=null},_historyDidPopState:function(t){var e=window.history.state;
if(null===e){this._currentHistoryState=null;var i=this._fileSystem.getRootFolder();return void this.moveToFolder(i)}this._currentHistoryState=e;var r=this._synchronizeCurrentHistoryStateIfNeeded();r||this.propertyChanged("currentWorkingPath")},__superMap:{_2B$J7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.FolderNavigationService"}});m$137$0=i}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,r,t,i){var c=this._service;return c||(this._service=c=this.loadService()),c}}),loadService:function(){var e=m$137$0.create({fileSystem:m$36$0});return e}}).create(),r=e.get("service");m$37$0=r}();
!function(){"use strict";var i=m$626$0.extend(m$544$0,m$647$0,{owner:m$545$1(),target:m$539$1("owner"),delay:0,timesToFire:1,delays:null,fireCount:0,isRunning:!1,isPaused:!1,_pauseCount:0,_timeRemainingAtPause:NaN,timeUntilFire:m$629$1({readOnly:!0,get:function(i,t,n,e){return this.isRunning?this.isPaused?1/0:this._nextFiringTime-Date.now():NaN}}),_handle:null,_nextFiringTime:NaN,start:function(){return this.isRunning?this:(this.isRunning=!0,this._nextFiringTime=Date.now(),this._scheduleNextFiringOrStop(),this)},restart:function(){return this.stop(),this.start(),this},stop:function(){return this.isRunning?(this._handle&&(window.clearTimeout(this._handle),this._handle=null),this.fireCount=0,this.isRunning=!1,this.isPaused&&(this.isPaused=!1,this._pauseCount=0,this._timeRemainingAtPause=NaN),this):this},pause:function(){return this.isRunning?(this._pauseCount++,1===this._pauseCount&&(this._timeRemainingAtPause=this.get("timeUntilFire"),this.isPaused=!0,this._nextFiringTime=NaN,window.clearTimeout(this._handle),this._handle=null),this):this},resume:function(){return this.isRunning?(this._pauseCount--,0===this._pauseCount&&(this._nextFiringTime=Date.now()+this._timeRemainingAtPause,this._handle=m$799$0(t.bind(this),Math.max(0,this._timeRemainingAtPause)),this._timeRemainingAtPause=NaN,this.isPaused=!1),this._pauseCount<0&&(this._pauseCount=0),this):this},fastForward:function(i){return this.isRunning?i<0?this.rewind(-i):0===i?this:(i||(i=this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause-=i:(this._nextFiringTime-=i,window.clearTimeout(this._handle),this._handle=m$799$0(t.bind(this),Math.max(0,this._nextFiringTime-Date.now()))),
this):this},rewind:function(i){return this.isRunning?i<0?this.fastForward(-i):0===i?this:(i||(i=this.getDelayAfterFireCount()-this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause+=i:(this._nextFiringTime+=i,window.clearTimeout(this._handle),this._handle=m$799$0(t.bind(this),Math.max(0,this._nextFiringTime-Date.now()))),this):this},getDelayAfterFireCount:function(){var i=this.delays;return i?i[Math.min(i.length-1,this.fireCount)]:this.fireCount>=this.timesToFire?1/0:this.delay},fire:function(){this.callAction()},_getRunningTimeUntilNextFiring:function(){return this.isPaused?this._timeRemainingAtPause:this.get("timeUntilFire")},_scheduleNextFiringOrStop:function(){var i=this.getDelayAfterFireCount();if(i<1/0){var n=this._nextFiringTime+=i;this._handle=m$799$0(t.bind(this),Math.max(0,n-Date.now()))}else this.stop()},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Utils.Timer"}}),t=function(){this.fireCount++,this._scheduleNextFiringOrStop(),this.callAction()};m$211$0=i}();
!function(){"use strict";var t=m$626$0.extend({runAction:null,resolveAction:null,duration:null,_timer:null,isPolling:m$629$1({readOnly:!0,get:function(t,i,e,s){return this._timer&&this._timer.isRunning}}),init:function(t){this.__s._2F$76$init.call(this,t),this._timer=m$211$0.create({delay:t.delay,delays:t.delays,target:this,action:"_runAction"})},start:function(){this.get("isPolling")&&m$802$0("Cannot start. Currently polling",{service:this}),this.get("runAction")||m$802$0("Cannot start. Requires a run action",{service:this}),this.get("resolveAction")||m$802$0("Cannot start. Requires a resolve action",{service:this}),this._timer.start();var t=this._promise=m$242$0.create();return t},stop:function(){this.get("isPolling")||m$802$0("Cannot stop. Not currently polling",{service:this}),this._timer.stop(),this._promise=null},_runAction:function(){this._timer.pause(),this.runAction().then({success:this._actionDidComplete.bind(this),failure:this._actionDidFail.bind(this)})},_actionDidComplete:function(t){var i=this.get("resolveAction"),e=!i||i(t);e?(this._promise.resolve(t),this.get("isPolling")&&this.stop()):this.get("isPolling")&&this._timer.resume()},_actionDidFail:function(t){this._promise.reject(t),this.stop()},__superMap:{_2F$76$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.PollingService"}});m$141$0=t}();
!function(){"use strict";var e=m$301$0.extend({additionalClassNames:m$589$1(["brx"]),iconNames:"iclouddrive",staticMembers:{__QUALIFIED_CLASS_NAME__:"BR.UI.Views.AlertView"}});m$421$0=e}();
!function(){"use strict";var e=30,t=950,i=931,a=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageTitle",attributes:{}}],classes:["not-migrated-message-title"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageContents",attributes:{}}],classes:["not-migrated-message-contents"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabled",attributes:{}}],classes:["not-migrated-message-notenabled",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isWindows",truevalue:"",falsevalue:"show",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabledWindows",attributes:{}},{type:"TEXT",data:" "},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabledWindowsLink",attributes:{}}],attributes:{id:"windowsDownloadLink"}}],classes:["not-migrated-message-notenabled",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isWindows",truevalue:"show",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageFootnote",attributes:{}}],classes:["not-migrated-message-footnote"]}],classes:["not-migrated-message"],name:"_notMigratedMessageContainer",styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageTop",attributes:{},
unit:"px",property:"top"},left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageLeft",attributes:{},unit:"px",property:"left"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageWidth",attributes:{},unit:"px",property:"width"}}},{type:"ELEMENT",tagname:"img",children:[],classes:["not-migrated-image"],styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageLeft",attributes:{},unit:"px",property:"left"},top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageTop",attributes:{},unit:"px",property:"top"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageHeight",attributes:{},unit:"px",property:"height"}}}],classes:["not-migrated"],name:"_notMigratedContainer"},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.NotMigratedView"},containerWidth:m$545$1(),containerHeight:m$545$1(),_loadingMessage:m$545$1(m$565$1("NotMigrated.Loading.Message")),_messageTitle:m$545$1(m$565$1("Application.Title")),_messageContents:m$545$1(m$565$1("NotMigrated.Contents.Message")),_messageNotEnabled:m$545$1(m$565$1("NotMigrated.Advice")),_messageNotEnabledWindows:m$545$1(m$565$1("NotMigrated.Advice.Windows")),_messageNotEnabledWindowsLink:m$545$1(m$565$1("NotMigrated.Advice.Windows.Link")),_messageFootnote:m$545$1(m$565$1("NotMigrated.Footnote")),_messageWidth:m$545$1(590),_messageLeft:m$545$1(30),_messageTop:m$545$1(),_imageLeft:m$545$1(),_imageTop:m$545$1(),_imageHeight:m$545$1(),willMoveToWindow:function(e){if(e){var t=m$653$0.get("sharedInstance"),i=this;this._dprObserver=t.observe("devicePixelRatio",function(e){e&&i._dprDidChange(e)})}else this._dprObserver&&(this._dprObserver.dispose(),
this._dprObserver=null)},layoutSubviews:function(){var e=this.get("_notMigratedContainer"),i=e.clientWidth,a=e.clientHeight;if(a&&a){i<t&&(i=t);var n=this.get("_notMigratedMessageContainer"),s=n.clientHeight,o=n.clientWidth,d=.58*i;this._setMessageStyle(o,d,s,a),this._setImageStyle(a,d)}},_imageUrl:r$965,_imageUrl2:r$966,_dprDidChange:function(e){var t=this._imageUrl;e>1&&(t=this._imageUrl2);var i=this.$(".not-migrated-image");i.attr("src",t)},_setMessageStyle:function(t,i,a,n){var s=i/2,o=s-t/2*1.18;o<e&&(o=e,t=i-2*e),this.set("_messageWidth",t),this.set("_messageLeft",o);var d=n/2,g=d-a/2*1.14;this.set("_messageTop",g)},_setImageStyle:function(e,t){var a=.125*e,n=e-2*a;a>155&&(n=i,a=(e-n)/2),this.set("_imageTop",a),this.set("_imageHeight",n);var s=t;this.set("_imageLeft",s)},frameDidInvalidate:function(){this.__s._30$1Td$frameDidInvalidate.call(this),this.setNeedsLayout()},_isWindows:function(){return m$653$0.get("sharedInstance").get("isWindows")},_openWindowsDownloadWindow:function(){window.open(m$565$1("NotMigrated.Advice.Windows.URL"),"Download iCloud for Windows")},pointerDown:function(e){return"windowsDownloadLink"===e.target.id&&this._openWindowsDownloadWindow(),!0},__superMap:{_30$1Td$frameDidInvalidate:"frameDidInvalidate"}});m$189$0=a}();
!function(){"use strict";var r=[[4352,4607],[11904,12031],[12032,12255],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[63744,64255],[65072,65103]],t=function(t){var n,e=r;if(!t)return!1;for(var u=0,f=e.length;u<f;++u)if(n=e[u],t>=n[0]&&t<=n[1])return!0;return!1},n=function(r){if(r=r.trim(),0===r.length)return!1;for(var n=0,e=r.length-1;n<=e;)if(!t(r.charCodeAt(n++))||!t(r.charCodeAt(e--)))return!1;return!0};m$827$1=t,m$827$0=n}();
!function(){"use strict";var m=function(m,a,i,$,r){var t;return m&&a?t=m$827$0(m)&&m$827$0(a)?a+m:m$565$1("Name.Display.FirstAndFamilyNames",{firstName:m,familyName:a}):m?t=m:a?t=a:$?t=$:r&&(t=r),t||(t=i||""),t};m$919$0=m}();
!function(){"use strict";var t=m$626$0.extend({groups:m$629$1({readOnly:!0,get:function(t,n,i,u){return this._groups}}),init:function(t){this.__s._4W$4I$init.call(this,t),this._groups=[]},addMenuGroup:function(t){this._groups.push(t)},getMenuGroupByIndex:function(t){return this._groups[t]||null},__superMap:{_4W$4I$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Menu"}}),n=m$626$0.extend(m$544$0,{id:null,title:"",value:null,checked:m$545$1(!1),target:null,action:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.MenuItem"}});m$284$0=t,m$284$1=n}();
!function(){"use strict";var t=m$563$1("BRKit.UI.ContentSizeConstraintType",["Fixed","Dynamic"]),n=m$626$0.extend({type:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.ContentSizeConstraint"}});n.Type=t;var e=n.extend({type:t.Fixed,value:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.FixedContentSizeConstraint$257"}}),i=n.extend({type:t.Dynamic,max:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.DynamicContentSizeConstraint$257"}});n.Fixed=function(t){return e.create({value:t})},n.Dynamic=function(t){return i.create(t)};var a=m$626$0.extend({widthConstraint:null,heightConstraint:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.ContentSizeConstraints"}});a.DYNAMIC_UNBOUNDED=n.create({widthConstraint:n.Dynamic(),heightConstraint:n.Dynamic()}),m$257$2=t,m$257$1=n,m$257$0=a}();
!function(){"use strict";var n=m$563$1("BRKit.UI.PopoverArrowDirectionEnum",function(n){n("Up"),n("Down"),n("Left"),n("Right"),n("Any"),n("Unknown")});m$288$0=n}();
!function(){"use strict";var t=function(t){var e=0,r=0,n=0,a=0;switch(arguments.length){case 0:break;case 1:a=t.left||0,n=t.right||0,e=t.top||0,r=t.bottom||0;break;case 4:a=arguments[0],n=arguments[1],e=arguments[2],r=arguments[3];break;default:m$802$0("[BRKit.UI.EdgeInsets] Cannot create. Invalid number of arguments")}this.left=a,this.right=n,this.bottom=r,this.top=e};t.prototype.toString=function(){var t=this.left,e=this.right,r=this.top,n=this.bottom;return"[BRKit.UI.EdgeInsets: <left: "+t+", right: "+e+", top: "+r+", bottom: "+n+">]"},t.create=function(){var e,r=arguments;switch(r.length){case 0:e=new t;break;case 1:e=new t(r[0]);break;case 4:e=new t(r[0],r[1],r[2],r[3]);break;default:m$802$0("Cannot create edge insets. Invalid number of arguments")}return Object.freeze(e),e},t.ZERO=t.create(),m$276$0=t}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["container"]},{type:"ELEMENT",tagname:"div",children:[],classes:["arrow"]}]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.PopoverBackgroundView"},additionalClassNames:m$589$1(["popover"]),arrowHeight:0,arrowBase:0,arrowOffset:m$545$1({defaultValue:0}),arrowDirection:m$545$1({defaultValue:m$288$0.Left}),contentViewInsets:m$276$0.ZERO,capInsets:m$276$0.ZERO,contentView:m$545$1(null),delegete:null,_layoutArrow:function(){var e=this.get("frame"),t=(this.get("arrowHeight"),this.get("arrowBase")),i=this.get("arrowDirection"),a=this.get("arrowOffset"),n=0,r=Math.round(t/2),o=0,s=null,c=null,l=this._getArrowElement(),h=l.style;switch(i){case m$288$0.Up:case m$288$0.Down:n=Math.round(e.get("width")/2),o=n-r,s=o+a,h.left=s+"px";break;case m$288$0.Left:case m$288$0.Right:n=Math.round(e.get("height")/2),o=n-r,c=o+a,h.top=c+"px";break;default:m$802$0("Cannot lay out. Invalid arrow direction: "+i,{view:this})}},_changeArrowElementFromDirectionToDirection:function(e,t){var i=this._getArrowElement(),a=i.classList;e&&a.remove(e.name.toLowerCase()),a.add(t.name.toLowerCase());var n,r,o,s,c=this.get("arrowHeight")*-1,l=this.get("contentViewInsets");switch(t){case m$288$0.Up:n=c+l.top;break;case m$288$0.Down:s=c+l.bottom;break;case m$288$0.Left:r=c+l.left;break;case m$288$0.Right:o=c+l.right;break;default:m$802$0("Cannot position arrow. Invalid direction: "+t,{view:this})}var h=i.style;h.top=n?n+"px":null,h.bottom=s?s+"px":null,h.left=r?r+"px":null,
h.right=o?o+"px":null},_arrowDirectionDidChange:m$557$1("element","arrowDirection",function(e,t){t!==this._cachedArrowDirection&&(t&&(this._changeArrowElementFromDirectionToDirection(this._cachedArrowDirection,t),this._cachedArrowDirection=t),this.layout())}),_arrowOffsetDidChange:m$557$1("element","arrowOffset",function(e,t){t!==this._cachedArrowOffset&&(this._cachedArrowOffset=t,this.layout())}),_contentViewDidChange:m$557$1("element","contentView",function(e,t){if(e){var i=this._cachedContentView;i&&this.removeSubview(i,".container"),t&&this.addSubview(t,".container"),this._cachedContentView=t}}),_getArrowElement:function(){var e=this._arrowElem||null;if(!e){var t=this.get("element");if(!t)return;e=this._arrowElem=t.querySelector(".arrow")}return e},layout:function(){this._layoutArrow(),this.__s._5A$1NT$layout.call(this)},frameDidInvalidate:function(){this.__s._5A$1OU$frameDidInvalidate.call(this),this.layout()},frameBoundsDidChange:function(){this.__s._5A$1Pu$frameBoundsDidChange.call(this),this.layout()},pointerDown:function(e){return!0},pointerUp:function(e){return!0},subviewDidChangeDynamicContent:function(e){var t=this.get("contentView");if(e===t){var i=this.get("delegate"),a=i?i.popupBackgroundViewContentViewDidChangeDynamicContent:null;a&&a.call(i,this,t)}},__superMap:{_5A$1NT$layout:"layout",_5A$1OU$frameDidInvalidate:"frameDidInvalidate",_5A$1Pu$frameBoundsDidChange:"frameBoundsDidChange"}}),t=e.extend({additionalClassNames:m$589$1(["default"]),arrowHeight:14,arrowBase:29,contentViewInsets:m$276$0.create(1,1,1,1),capInsets:m$276$0.create(5,5,5,5),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.DefaultPopoverBackgroundView"
}});m$325$0=e,m$325$1=t}();
!function(){"use strict";var i=[m$288$0.Left,m$288$0.Up,m$288$0.Right,m$288$0.Down],e=m$626$0.extend(m$544$0,{delegate:null,additionalClassNames:m$589$1([]),popoverContentSizeConstraints:m$629$1({set:function(i,e,o,t,r){this._popoverContentSizeConstraints=i},get:function(i,e,o,t){var r=this._popoverContentSizeConstraints;return r||(r=m$257$0.DYNAMIC_UNBOUNDED,this._popoverContentSizeConstraints=r),r}}),contentViewController:m$545$1(null),popoverLayoutMargins:m$276$0.ZERO,popoverDirectionArrow:m$629$1({defaultValue:m$288$0.Unknown,readOnly:!0}),isShowing:m$545$1({defaultValue:!1}),popoverVisible:m$629$1({defaultValue:!1,readOnly:!0}),init:function(i){this.__s._4b$Yf$init.call(this,i),this._popoverLayoutStrategy=t.create({popoverController:this}),this._popoverRootView=this.loadPopoverRootView();var e=this._popoverBackgroundView=this.loadPopoverBackgroundView();e.set("delegate",this)},loadPopoverBackgroundView:function(){return m$325$1.create()},loadPopoverRootView:function(){return o.create({additionalClassNames:m$589$1(this.get("additionalClassNames")),viewController:this,delegate:this})},presentPopoverForView:function(i,e){this.get("popoverVisible")&&m$802$0("Cannot present popover. Popover is visible",{controller:this}),this._anchorView=i,this._permittedArrowDirections=this._normalizePermittedArrowDirections(e);var o=this._window=i.get("window"),t=this.get("contentViewController");o||m$802$0("Cannot present popover. View must be visible in window",{controller:this,view:i}),t||m$802$0("Cannot present popover. Requires content view controller",{controller:this}),t.beginAppearanceTransition(!0);
var r=this._popoverRootView;r.anchorView=i,r.set("isModal",t.get("modalInPopover"));var n=this._popoverBackgroundView,s=this._popoverLayoutStrategy;s.anchorView=i,s.popoverBackgroundView=n,s.window=o,n.set("contentView",t.get("view")),n.$().style("visibility","hidden"),r.addSubview(n),this._deferInitialPopoverLayout=!0,o.addRootView(r),t.endAppearanceTransition(!0),this._popoverVisible=!0,this.set("isShowing",!0)},dismissPopover:function(){var i=this.get("contentViewController"),e=this._window,o=this._popoverRootView,t=this._popoverBackgroundView;i.beginAppearanceTransition(!1),t.set("contentView",null),o.anchorView=null,o.set("isModal",!0),o.removeSubview(t),e.removeRootView(o);var r=this._popoverLayoutStrategy;r.anchorView=null,r.window=null,r.popoverBackgroundView=null,this.hidePopoverLayoutMargins(),i.endAppearanceTransition(!1),this._window=null,this._anchorView=null,this._permittedArrowDirections=null,this._popoverVisible=!1,this.set("isShowing",!1)},refreshLayout:function(){this.get("popoverVisible")&&this._refreshLayout()},viewWillLayoutSubviews:function(){this._refreshLayout()},viewDidLayoutSubviews:function(){},popoverRootViewShouldPerformAction:function(i){return!0},popoverRootViewPerformAction:function(i){var e=this.delegate,o=null;o=e?e.popoverControllerShouldDismissPopover:null;var t=!o||o.call(e,this);t&&(this.dismissPopover(),o=e?e.popoverControllerDidDismissPopover:null,o&&o.call(e,this))},popoverRootViewShouldDeferLayout:function(i){return this._deferInitialPopoverLayout},popoverRootViewDidDeferLayout:function(i){if(this._deferInitialPopoverLayout){var e=this._popoverLayoutStrategy,o=this._permittedArrowDirections;
e.preparePopoverForInitialLayout(),e.fitPopoverForArrowDirections(o),this._deferInitialPopoverLayout=!1,this._popoverBackgroundView.$().style("visibility","visible")}},popupBackgroundViewContentViewDidChangeDynamicContent:function(i,e){var o=this._permittedArrowDirections,t=this._popoverLayoutStrategy;t.preparePopoverForInitialLayout(),t.fitPopoverForArrowDirections(o)},_refreshLayout:function(){if(this.get("isShowing")&&!this._deferInitialPopoverLayout){var i=this._permittedArrowDirections,e=this._popoverLayoutStrategy;e.fitPopoverForArrowDirections(i)}},_normalizePermittedArrowDirections:function(e){for(var o,t=[],r=m$772$0(e)?e:[e],n=r.length,s=0;s<n;s++){if(o=r[s],o===m$288$0.Any){t=i;break}i.indexOf(o)<0&&m$802$0("Invalid arrow direction: "+o,{controller:this}),t.push(o)}return t},_contentViewControllerDidChange:m$557$1("contentViewController",function(i){i!==this._cachedContentViewController&&(this._transitionContentViewControllers(this._cachedContentViewController,i),this._cachedContentViewController=i)}),_transitionContentViewControllers:function(i,e){var o=this._popoverBackgroundView,t=this.get("popoverVisible");t&&(i.beginAppearanceTransition(!1),e.beginAppearanceTransition(!0),o.set("contentView",e.get("view")),e.endAppearanceTransition(!0),i.endAppearanceTransition(!1))},showPopoverLayoutMargins:function(){if(!this._isShowingPopoverLayoutMargins){var i=this.get("popoverLayoutMargins"),e=this._popoverLayoutMarginsDiv;e||(e=this._popoverLayoutMarginsDiv=document.createElement("div"),e.className="popover-layout-margins");var o=e.style;o.left=i.left+"px",o.top=i.top+"px",
o.right=i.right+"px",o.bottom=i.bottom+"px",this._popoverRootView.get("element").appendChild(e),this._isShowingPopoverLayoutMargins=!0}},hidePopoverLayoutMargins:function(){this._isShowingPopoverLayoutMargins&&(this._popoverRootView.get("element").removeChild(this._popoverLayoutMarginsDiv),this._isShowingPopoverLayoutMargins=!1)},__superMap:{_4b$Yf$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.PopoverController"}}),o=m$296$0.extend({additionalClassNames:m$589$1(["popover-root"]),delegate:null,isModal:m$545$1(!0),pointerDown:function(i){return this._capturedEventPointerDown=!0,this.setPointerCapture(i.pointerId),!0},pointerUp:function(i){if(!this._capturedEventPointerDown)return!1;this._capturedEventPointerDown=!1,this.releasePointerCapture(i.pointerId);var e=this.delegate;return e.popoverRootViewShouldPerformAction(this)&&e.popoverRootViewPerformAction(this),!0},frameDidInvalidate:function(){var i=this.delegate;if(i.popoverRootViewShouldDeferLayout(this)){var e=this;m$254$0.setTimeout(function(){e.setNeedsLayout()}),i.popoverRootViewDidDeferLayout(this)}else this.setNeedsLayout()},_isModalDidChange:m$557$1("element","isModal",function(i,e){if(i){var o=i.classList;e?(o.add("modal"),o.remove("nomodal")):(o.add("nomodal"),o.remove("modal"))}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.PopoverRootView$289"}}),t=m$626$0.extend({popoverController:null,popoverBackgroundView:null,popoverContentSizeConstraints:m$629$1({get:function(i,e,o,t){return this.get("popoverController").get("popoverContentSizeConstraints")}}),anchorView:null,window:null,init:function(i){
this.__s._4b$3S5$init.call(this,i),this._preferredPopoverBodySize=null},preparePopoverForInitialLayout:function(){var i=this.get("popoverController"),e=i.get("contentViewController"),o=this.get("popoverBackgroundView"),t=o.get("contentViewInsets"),r=this.get("popoverContentSizeConstraints"),n=r.get("widthConstraint"),s=r.get("heightConstraint"),a=!1,h=!1,p=0,g=0;switch(n.get("type")){case m$257$2.Fixed:p=n.get("value");break;case m$257$2.Dynamic:h=!0}switch(s.get("type")){case m$257$2.Fixed:g=s.get("value");break;case m$257$2.Dynamic:a=!0}var c=a||h,l=p+t.left+t.right,d=g+t.top+t.bottom;if(!c)return void(this._preferredPopoverBodySize=m$234$0.create(l,d));o.get("frame").reset(),o.adjustPosition(0,0);var v=e.get("view"),u=v.get("preferredSize");if(a&&h)return l=u.width+t.left+t.right,d=u.height+t.top+t.bottom,void(this._preferredPopoverBodySize=m$234$0.create(l,d));a?o.adjustSize(l,d):h&&o.adjustSize(u.width,d);var w=v.get("preferredSize"),$=a?w.height:g,m=h?w.width:p;if(a){var f=s.get("max");f>0&&$>f&&($=f)}if(h){var y=n.get("max");y>0&&C>y&&(m=y)}var _=$+t.top+t.bottom,C=m+t.left+t.right;this._preferredPopoverBodySize=m$234$0.create(C,_)},fitPopoverForArrowDirections:function(i){var e=i.length;0===e&&m$802$0("Cannot fit popover. Requires arrow directions",{controller:this}),1===e&&this.layoutPopoverForArrowDirection(i[0]);for(var o,t,r=this.getWindowBoundingRect(),n=i[0],s=!1,a=0;a<e;a++)if(o=i[a],t=this.getInitialEnclosingPopoverRectForArrowDirection(o),s=this.enclosingPopoverRectFitsInsideWindowBoundingRectForArrowDirection(t,r,o)){this.layoutPopoverForArrowDirection(o);break;
}s||this.layoutPopoverForArrowDirection(n)},layoutPopoverForArrowDirection:function(i){var e=this.getWindowBoundingRect(),o=this.getInitialEnclosingPopoverRectForArrowDirection(i),t=this.getOffsetForRectInsideWindowBoundingRectForArrowDirection(o,e,i),r=this.popoverBackgroundView,n=r.get("arrowHeight"),s=0,a=0,h=0,p=0;switch(i){case m$288$0.Left:s=o.origin.x+n,a=o.origin.y+t,h=o.size.width-n,p=o.size.height;break;case m$288$0.Right:s=o.origin.x,a=o.origin.y+t,h=o.size.width-n,p=o.size.height;break;case m$288$0.Up:s=o.origin.x+t,a=o.origin.y+n,h=o.size.width,p=o.size.height-n;break;case m$288$0.Down:s=o.origin.x+t,a=o.origin.y,h=o.size.width,p=o.size.height-n;break;default:m$802$0("Cannot try fitting popover. Invalid arrow direction",{controller:this})}var g=this.get("popoverContentSizeConstraints"),c=g.get("heightConstraint"),l=(g.get("widthConstraint"),-t),d=0;switch(c.get("type")){case m$257$2.Dynamic:if(e.origin.y>a)switch(d=e.origin.y-a,p-=d,a+=d,i){case m$288$0.Left:case m$288$0.Right:l-=d}else if(a+p>e.origin.y+e.size.height)switch(d=a+p-(e.origin.y+e.size.height),p-=d,i){case m$288$0.Left:case m$288$0.Right:l+=d/2}}r.set("arrowDirection",i),r.set("arrowOffset",l),r.adjustPosition(s,a),r.adjustSize(h,p)},enclosingPopoverRectFitsInsideWindowBoundingRectForArrowDirection:function(i,e,o){var t=0,r=!1;switch(o){case m$288$0.Left:t=e.origin.x+e.size.width,r=i.origin.x+i.size.width>t;break;case m$288$0.Right:t=e.origin.x,r=i.origin.x<t;break;case m$288$0.Up:t=e.origin.y+e.size.height,r=i.origin.y+i.size.height>t;break;case m$288$0.Down:t=e.origin.y,r=i.origin.y<t;break;default:
m$802$0("Cannot detect if encluding popover rect fits inside window bounding rect. Invalid arrow direction",{controller:this})}return!r},getOffsetForRectInsideWindowBoundingRectForArrowDirection:function(i,e,o){var t=this.popoverBackgroundView,r=t.get("arrowBase"),n=t.get("capInsets"),s=Math.round(i.size.height/2),a=Math.round(i.size.width/2),h=Math.round(r/2),p=0,g=0;switch(o){case m$288$0.Left:case m$288$0.Right:e.origin.y>i.origin.y?(p=e.origin.y-i.origin.y,g=i.origin.y+s-h-n.top,i.origin.y+p>g&&(p=g-i.origin.y)):i.origin.y+i.size.height>e.origin.y+e.size.height&&(p=e.origin.y+e.size.height-i.origin.y-i.size.height,g=i.origin.y+i.size.height-s+h+n.bottom,i.origin.y+i.size.height+p<g&&(p=-(i.origin.y+i.size.height-g)),i.origin.y+p<e.origin.y&&(p+=e.origin.y-(i.origin.y+p)));break;case m$288$0.Up:case m$288$0.Down:e.origin.x>i.origin.x?(p=e.origin.x-i.origin.x,g=i.origin.x+a-h-n.left,i.origin.x+p>g&&(p=g-i.origin.x)):i.origin.x+i.size.width>e.origin.x+e.size.width&&(p=e.origin.x+e.size.width-i.origin.x-i.size.width,g=i.origin.x+i.size.width-a+h+n.right,i.origin.x+i.size.width+p<g&&(p=-(i.origin.x+i.size.width-g)),i.origin.x+p<e.origin.x&&(p+=e.origin.x-(i.origin.x+p)));break;default:m$802$0("Cannot get offset for rect inside window bounding rect. Invalid arrow direction",{controller:this})}return p},getWindowBoundingRect:function(){var i=this.window.get("width"),e=this.window.get("height"),o=this.popoverController.get("popoverLayoutMargins"),t=o.top,r=o.left,n=o.right,s=o.bottom,a=i-r-n,h=e-t-s,p=m$232$0.create(r,t),g=m$234$0.create(a,h);return m$233$0.create(p,g)},getPopoverBodySize:function(){
return this._preferredPopoverBodySize},getEnclosingPopoverSizeForArrowDirection:function(i){var e,o=this.popoverBackgroundView,t=o.arrowHeight,r=this.getPopoverBodySize();switch(i){case m$288$0.Left:case m$288$0.Right:e=m$234$0.create(r.width+t,r.height);break;case m$288$0.Up:case m$288$0.Down:e=m$234$0.create(r.width,r.height+t);break;default:m$802$0("Cannot get enclosing popover size. Invalid arrow direction",{controller:this})}return e},getInitialEnclosingPopoverRectForArrowDirection:function(i){var e=this.getEnclosingPopoverSizeForArrowDirection(i),o=Math.round(e.width/2),t=Math.round(e.height/2),r=this.anchorView,n=r.get("layer").get("getScreenBounds"),s=Math.round(n.size.width/2),a=Math.round(n.size.height/2),h=0,p=0;switch(i){case m$288$0.Left:h=n.origin.x+n.size.width,p=n.origin.y+a-t;break;case m$288$0.Right:h=n.origin.x-e.width,p=n.origin.y+a-t;break;case m$288$0.Up:h=n.origin.x+s-o,p=n.origin.y+n.size.height;break;case m$288$0.Down:h=n.origin.x+s-o,p=n.origin.y-e.height;break;default:m$802$0("Cannot get enclosing popover rect at init position. Invalid arrow direction",{controller:this})}var g=m$232$0.create(h,p),c=m$233$0.create(g,e);return c},__superMap:{_4b$3S5$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.PopoverLayoutStrategy"}});m$289$0=e,m$289$1=t}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"input",children:[],attributes:{type:"file",multiple:"true"}},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.Upload.FileSelectorView"},init:function(){this.__s._3A$5d$init.apply(this,arguments);var e=this,t=this.get("element");t.addEventListener("change",function(t){e._handleFileSelection(t)}),document.body.appendChild(t)},files:m$545$1(),didSelectFiles:m$558$0(),openSelectorDialog:function(e){this._callback=e;var t=this.get("element");t.value=null,t.click()},reset:function(){this.set("files",null)},_handleFileSelection:function(e){var t=this.get("element"),i=t.files;!i||i&&0===i.length||(this.set("files",i),this.didSelectFiles(i))},__superMap:{_3A$5d$init:"init"}});m$199$0=e}();
!function(){"use strict";var e=m$714$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["progress-bar"],name:"progressNode"}],classes:["total"]}],classes:["cw-progress-view"]},__QUALIFIED_CLASS_NAME__:"CW.UI.ProgressView"},value:m$545$1({defaultValue:0}),_updateDOM:m$557$1("value",function(e){var t=this.get("progressNode");t.setAttribute("style","width:"+(e||0)+"%")})});m$737$0=e}();
!function(){"use strict";function t(t){var r=m$923$0.getNumberFormatter();return r.format(t)}m$427$0=t}();
!function(){"use strict";function i(i,e){var n,U,r=0,a=i,l=s;for(null!=e&&(l=e.multipleType||s,n=e.precision);a>=1e3&&r<5;)a/=l,r++;switch(r){case 0:U="Utils.Units.bytes";break;case 1:a=t(a,n||0),U=l===s?"Utils.Units.kB":"Utils.Units.KiB";break;case 2:a=t(a,n||1),U=l===s?"Utils.Units.MB":"Utils.Units.MiB";break;case 3:a=t(a,n||2),U=l===s?"Utils.Units.GB":"Utils.Units.GiB";break;case 4:a=t(a,n||2),U=l===s?"Utils.Units.TB":"Utils.Units.TiB";break;default:a=t(a,n||2),U=l===s?"Utils.Units.PB":"Utils.Units.PiB"}var $=m$427$0(a);return m$565$1("ItemSize",{number:$,sizeUnit:m$565$1(U)})}function t(i,t){var s=Math.pow(10,t);return Math.round(i*s)/s}var s=1e3,e=1024;m$426$0=s,m$426$1=e,m$426$2=i}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["fileIcon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h5",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"fileName",attributes:{}}]}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"progressView"}],classes:["progress-bar"]},{type:"ELEMENT",tagname:"a",children:[],name:"closeButton",classes:["close-button"],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"cancelTooltip",attributes:{},attribute:"title"},href:"#"}}],classes:["progress",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isComplete",truevalue:"complete",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isWaiting",truevalue:"not-sending",attributes:{}}]},{type:"ELEMENT",tagname:"a",children:[],name:"retryButton",classes:["retry-icon","hide"],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"retryTooltip",attributes:{},attribute:"title"},href:"#"}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"byteCountString",attributes:{}}],classes:["byte-count"]}],classes:["mainBody"]}],classes:["br-file-upload-view"]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.Upload.FileProgressView"},init:function(){this.progressView=m$737$0.create(),this.__s._39$Vw$init.apply(this,arguments)},sortOrder:m$545$1(1),
fileContent:m$545$1(null),cancelTooltip:m$545$1(m$565$1("Upload.Cancel")),retryTooltip:m$545$1(m$565$1("Upload.Retry")),isWaiting:m$545$1(!0),isComplete:m$545$1({defaultValue:!1}),isFailed:m$545$1({defaultValue:!1}),percentComplete:m$545$1(),bytesTotal:m$545$1({defaultValue:0,get:function(e,t,i,s){return this._bytesTotal},set:function(e,t,i,s,n){0===e&&this._bytesTotal||(this._bytesTotal=e)}}),bytesTransferred:m$545$1({defaultValue:0}),byteCountString:"",progressView:null,closeWasClicked:m$558$0(),retryWasClicked:m$558$0(),loadSubviews:function(){this.fileIconView=m$423$0.create({additionalClassNames:m$589$1(["medium"]),displaySize:m$100$0.MEDIUM}),this.addSubview(this.fileIconView,".fileIcon")},valuesDidChange:m$557$1("percentComplete",function(){var e=this.get("progressView"),t=this.get("percentComplete");e&&e.set("value",100*t),1===t&&this.set("isComplete",!0)}),_updateByteCountString:m$557$1("bytesTotal","bytesTransferred","isFailed","isComplete",function(e,t,i,s){0!==t||0!==e||s&&i?this.set("isWaiting",!1):this.set("isWaiting",!0);var n=this.get("isWaiting");if(i){this.get("isComplete")||this.set("isComplete",!0);var a=m$565$1("Upload.Progress.Failed");return this.set("byteCountString",a),void this.get("retryButton").classList.remove("hide")}if(n&&!s){var r=m$565$1("Upload.Progress.Waiting");return this.set("byteCountString",r),void this.get("retryButton").classList.add("hide")}this.get("retryButton").classList.add("hide");var l,o=m$426$2(e,{precision:1}),m=m$426$2(t,{precision:1});l=s?o:m$565$1("Upload.Progress.ByteCount",{totalSize:o,transferredSize:m}),this.set("byteCountString",l);
}),_fileContentDidChange:m$557$1("fileContent","element",function(e,t){if(t){var i=this.get("fileIconView"),s=e?e.get("name"):"";i&&i.set("content",e),this.set("fileName",s)}}),_isCompleteDidChange:m$557$1("isComplete",function(e){e&&this.set("isWaiting",!1)}),pointerUp:function(e){e.target===this.get("closeButton")?this.closeWasClicked():e.target===this.get("retryButton")&&this.retryWasClicked()},__superMap:{_39$Vw$init:"init"}});m$198$0=e}();
!function(){"use strict";function t(t){var n=t.clientX,c=t.clientY;return m$232$0.create(n,c)}m$292$0=t}();
!function(){"use strict";var t=m$563$1("ScrollBarOrientationEnum",function(t){t("Vertical"),t("Horizontal")}),e=new Array(3),i=0,n=1,s=2,a=2,h=7,d=11,r=h+2*a,o=d+2*a,l=200,c=150,u=500,g=m$296$0.extend(m$212$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["track"],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"trackOpacity",attributes:{},unit:null,property:"opacity"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"trackThickness",attributes:{},unit:"px",property:"width"}}},{type:"ELEMENT",tagname:"div",children:[],classes:["handle"],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbOpacity",attributes:{},unit:null,property:"opacity"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbThickness",attributes:{},unit:"px",property:"width"}}}]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ScrollBarView"},additionalClassNames:m$589$1(["scrollbar"]),trackOpacity:m$212$1(0),thumbOpacity:m$212$1(0),thumbThickness:m$212$1(h),trackThickness:m$212$1(r),hasHandle:m$545$1(!1),isShowing:m$545$1({readOnly:!0,dependencies:["thumbOpacity","hasHandle"],get:function(t,e,i,n){return n.internalGet(this,e[1+i])&&n.internalGet(this,e[0+i])>0}}),isHovering:m$545$1(!1),isExpanded:m$545$1(!1),delegate:null,orientation:t.Vertical,contentSize:m$629$1({defaultValue:0,render:!0}),contentClipSize:m$629$1({defaultValue:0,render:!0}),contentOffset:m$629$1({defaultValue:0,render:!0}),isDragging:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._draggingHandle}}),dragging:m$558$0(),
minHandleSize:15,init:function(t){this.__s._5D$gL$init.call(this,t),this.$().addClass("vertical"),this._handle=this.$(".handle"),this._draggingHandle=!1,this.show()},show:function(){this._isShowing||(this._isShowing=!0,this.animate("thumbOpacity",1,l)),this._scheduleHide()},_scheduleHide:function(){this._scheduledHide&&(clearTimeout(this._scheduledHide),this._scheduledHide=null);var t=this;this._scheduledHide=m$799$0(function(){t._scheduledHide=null,t.hide()},u)},hide:function(){if(this._scheduledHide&&(clearTimeout(this._scheduledHide),this._scheduledHide=null),this._isShowing){if(this.get("isHovering"))return;this.set("isExpanded",!1),this._isShowing=!1,this.animate("thumbOpacity",0,l)}},render:function(){var t=this._handle,e=this.get("contentSize"),a=this.get("contentClipSize"),h=a<e;if(this.get("hasHandle")!==h&&this.set("hasHandle",h),h){var d=this._getCurrentHandleInfo(),r=(d[i],d[n]),o=d[s];t.top(Math.round(o)),t.height(Math.round(r)),this._lastHandleOffset===o&&this._lastHandleSize===r||this.show(),this._lastHandleOffset=o,this._lastHandleSize=r}},didMoveToWindow:function(t){this.__s._5D$1DU$didMoveToWindow.call(this,t),t&&this.setNeedsRender()},pointerDown:function(t){if(this._isShowing)return t.target===this._handle.element()&&(this.setPointerCapture(t.pointerId),this._capturedPointerId=t.pointerId,this._lastCoord=m$292$0(t),this._draggingHandle=!0,!0)},pointerUp:function(t){return!!this._draggingHandle&&(this._draggingHandle=!1,this.releasePointerCapture(this._capturedPointerId),this._capturedPointerId=null,!0)},pointerOver:function(t){this._isShowing&&this.set("isHovering",!0);
},pointerOut:function(t){this.set("isHovering",!1)},pointerMove:function(e){if(!this._draggingHandle)return!1;var a=this._lastCoord,h=m$292$0(e),d=0,r=(this.delegate,this._getCurrentHandleInfo());switch(this.get("orientation")){case t.Vertical:d=h.y-a.y}this._lastCoord=h;var o=r[i],l=r[n],c=o-l,u=r[s]+d;u<0?u=0:u+l>o&&(u=o-l);var g=this.get("contentSize"),p=this.get("contentClipSize"),$=g-p,_=Math.round($*u/c);return this.set("contentOffset",_),this.dragging(),!0},frameBoundsDidChange:function(t){this.setNeedsRender()},frameDidInvalidate:function(){this.setNeedsRender()},hasHandleDidChange:m$557$1("isShowing",function(t){t!==this._lastIsShowing&&this.setNeedsRender(),this._lastIsShowing=t}),_getCurrentHandleInfo:function(){var t=this.get("contentSize"),a=this.get("contentClipSize"),h=this.get("frame"),d=h.get("height"),r=this.get("contentOffset"),o=this.get("minHandleSize"),l=a/t,c=t-a,u=Math.ceil(d*l);u<o&&(u=o);var g=d-u,p=0;return c>0&&(p=g*(r/c)),e[i]=d,e[n]=u,e[s]=p,e},_isHoveringDidChange:m$557$1("isHovering",function(t){t?this.set("isExpanded",!0):this._scheduleHide()}),_isExpandedDidChange:m$557$1("isExpanded",function(t){var e=0,i=0,n=0;t?(e=o,i=1,n=d):(e=r,i=0,n=h),this.animate("trackThickness",e,c),this.animate("trackOpacity",i,c),this.animate("thumbThickness",n,c)}),__superMap:{_5D$gL$init:"init",_5D$1DU$didMoveToWindow:"didMoveToWindow"}});m$328$1=t,m$328$0=g}();
!function(){"use strict";var n="Method not implemented",e=m$626$0.extend({size:0,intersectsRange:function(e){m$802$0(n)},subsetOfRange:function(e){m$802$0(n)},equals:function(e){m$802$0(n)},containsValue:function(e){m$802$0(n)},intersectWithRange:function(e){m$802$0(n)},unionWithRange:function(e){m$802$0(n)},mergeWithRange:function(e){m$802$0(n)},minValueAdjacentToRange:function(e){m$802$0(n)},maxValueAdjacentToRange:function(e){m$802$0(n)},betweenRanges:function(e,t){m$802$0(n)},subtractRange:function(e){m$802$0(n)},forEach:function(n){},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.BaseRange"}});m$227$0=e}();
!function(){"use strict";var n=m$227$0.extend({intersectsRange:function(n){return!1},subsetOfRange:function(n){return!0},equals:function(n){return n===this},containsValue:function(n){return!1},intersectWithRange:function(n){return this},unionWithRange:function(n){return n},mergeWithRange:function(n){return n},minValueAdjacentToRange:function(n){return!1},maxValueAdjacentToRange:function(n){return!1},betweenRanges:function(n,t){return!1},toString:function(){return"[Range: <EMPTY>]"},subtractRange:function(n){return[this]},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.EmptyRange$230"}}),t=n.create();Object.freeze(t),m$230$0=t}();
!function(){"use strict";var t=m$227$0.extend({start:0,end:0,size:0,isPoint:!1,maxValue:0,minValue:0,init:function(t,e){this.__s._3t$4v$init.call(this),this.start=t,this.end=e;var n=this.minValue=t<=e?t:e,a=this.maxValue=e>=t?e:t;this.isPoint=t===e,this.size=a-n+1},collectItemsFromList:function(t){for(var e=[],n=this.start;n<=this.end;n++)e.push(t[n]);return e},increment:function(e){return e||(e=1),t.create(this.start+e,this.end+e)},decrement:function(e){return e||(e=1),t.create(this.start-e,this.end-e)},expand:function(e){return e||(e=1),t.create(this.start,this.end+e)},contract:function(e){e||(e=1);var n=this.start,a=this.end-e;return a<n&&(a=n),t.create(n,a)},intersectsRange:function(t){return t!==m$230$0&&(this.containsValue(t.start)||this.containsValue(t.end)||this.subsetOfRange(t))},subsetOfRange:function(t){return t!==m$230$0&&(this.minValue>=t.minValue&&this.maxValue<=t.maxValue)},supersetOfRange:function(t){return t!==m$230$0&&(this.minValue<=t.minValue&&this.maxValue>=t.maxValue)},equals:function(t){return t!==m$230$0&&(this.minValue===t.minValue&&this.maxValue===t.maxValue)},containsValue:function(t){return t>=this.minValue&&t<=this.maxValue},intersectWithRange:function(e){if(!this.intersectsRange(e))return m$230$0;if(this.subsetOfRange(e))return this;if(e.subsetOfRange(this))return e;var n,a,i=this.minValue,u=this.maxValue,r=e.minValue,s=e.maxValue;return u>=r?(n=r,a=u):(n=i,a=s),t.create(n,a)},unionWithRange:function(e){if(!this.intersectsRange(e))return m$230$0;var n=this.minValue,a=this.maxValue,i=e.minValue,u=e.maxValue,r=n<=i?n:i,s=a>=u?a:u;return t.create(r,s);
},mergeWithRange:function(e){var n=this.minValue,a=this.maxValue;return e.minValue<n&&(n=e.minValue),e.maxValue>a&&(a=e.maxValue),t.create(n,a)},minValueAdjacentToRange:function(t){return t.maxValue+1===this.minValue},maxValueAdjacentToRange:function(t){return this.maxValue+1===t.minValue},betweenRanges:function(t,e){var n=this.minValue,a=this.maxValue;return t!==m$230$0&&e!==m$230$0&&(t.maxValue<n&&a<e.minValue||e.maxValue<n&&a<t.minValue)},subtractRange:function(e){if(!this.intersectsRange(e))return[this];if(this.subsetOfRange(e))return[m$230$0];var n=this.minValue,a=this.maxValue,i=e.minValue,u=e.maxValue;if(i>n&&u<a){var r=t.create(n,i-1),s=t.create(u+1,a);return[r,s]}return e.containsValue(n)?[t.create(u+1,a)]:[t.create(n,i-1)]},forEach:function(t){for(var e=this.minValue,n=this.maxValue,a=e;a<=n;a++)t(a)},toString:function(){var t=this.start,e=this.end,n="[Range: <";return n+=this.isPoint?t:t+", "+e,n+=">]"},__superMap:{_3t$4v$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.Range"}});t.EMPTY=m$230$0,t.createAsPoint=function(e){return t.create(e,e)},t.extend=function(){m$802$0("Cannot extend range")},m$244$0=t}();
!function(){"use strict";function e(e,t){var a=e.pageX,n=e.pageY,r=t&&t.get("frame"),f=r&&r.offsetRelativeToWindow();return f&&(a-=f.x,n-=f.y),m$232$0.create(a,n)}m$293$0=e}();
!function(){"use strict";var t=m$563$1("BRKit.UI.DragDrop.ScrollViewDragDirectionEnum",function(t){t("Up"),t("Down")}),e=m$626$0.extend({staticMembers:{Direction:t,__QUALIFIED_CLASS_NAME__:"BRKit.UI.DragDrop.ScrollViewDragRegion"},direction:null,width:40,minScrollRate:100,maxScrollRate:1500,init:function(t){this.__s._4M$D6$init.call(this,t),this._startTime=0},hitTest:function(t,e){var i=m$293$0(t,e),n=this._horizontalRange,s=this._verticalRange;return s&&n&&s.containsValue(i.y)&&n.containsValue(i.x)},prepare:function(e){var i,n,s=e.get("frame"),a=s.get("size"),r=this.get("width"),o=this.get("direction");switch(o){case t.Up:i=m$244$0.create(0,a.width),n=m$244$0.create(0,r);break;case t.Down:i=m$244$0.create(0,a.width),n=m$244$0.create(a.height-r,a.height)}this._horizontalRange=i,this._verticalRange=n},entered:function(t){this._lastTime=Date.now(),this._startOffsetY=t.get("contentOffset").y,this._startOffsetX=t.get("contentOffset").x,this._offsetDelta=0},adjustContentOffset:function(e,i){var n,s=m$293$0(e,i),a=this._lastTime,r=Date.now(),o=r-a,l=this.get("direction"),c=this.get("minScrollRate"),h=this.get("maxScrollRate"),_=h-c,f=this._verticalRange;switch(l){case t.Up:n=Math.abs(f.maxValue-s.y)/f.size;break;case t.Down:n=Math.abs(f.minValue-s.y)/f.size}var u=c+_*n,g=this._offsetDelta;switch(l){case t.Up:g+=o*u/1e3*-1;break;case t.Down:g+=o*u/1e3}var d=g+this._startOffsetY;this._offsetDelta=g,this._lastTime=r,i.adjustContentOffsetY(Math.round(d))},__superMap:{_4M$D6$init:"init"}}),i=m$626$0.extend({scrollView:null,dragRegions:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._dragRegions;
}}),init:function(t){this.__s._4M$12j$init.call(this,t),this._dragRegions=[],this._activeDragRegion=null,this._shouldPrepare=!1;var e=this;this._adjustScrollContentOffsetHandle=function(){e._adjustScrollContentOffset()}},addDragRegion:function(t){this._dragRegions.push(t),this.prepare()},prepare:function(){this._shouldPrepare=!0},dragEnter:function(t){this._scroll(t)},dragOver:function(t){this._scroll(t)},dragLeave:function(t){this._stopScrolling(t)},drop:function(t){this._stopScrolling(t)},_scroll:function(t){this._event=t,this._scheduleNextScrollContentOffsetAdjustment()},_stopScrolling:function(t){this._event=null,this._cancelNextScrollContentOffsetAdjustment()},_scheduleNextScrollContentOffsetAdjustment:function(){this._requestHandle||(this._requestHandle=m$225$0.requestAnimationFrame(this._adjustScrollContentOffsetHandle))},_cancelNextScrollContentOffsetAdjustment:function(){this._requestHandle=null},_adjustScrollContentOffset:function(){var t,e,i=this._event,n=this._dragRegions,s=this.get("scrollView");if(i){if(this._shouldPrepare){for(t=0,e=n.length;t<e;t++)n[t].prepare(s);this._shouldPrepare=!1}var a=this._activeDragRegion,r=null;if(a&&a.hitTest(i,s))r=a;else for(t=0,e=n.length;t<e;t++){var o=n[t];if(o.hitTest(i,s)){r=o;break}}r&&(r!==a&&r.entered(s),r.adjustContentOffset(i,s)),this._activeDragRegion=r}},__superMap:{_4M$12j$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.DragDrop.ScrollViewDragHandler"}});m$274$0=t,m$274$1=e,m$274$2=i}();
!function(){"use strict";function t(t){var e=0,n=t.nativeEvent;return void 0!==t.wheelDeltaY?e=t.wheelDeltaY:void 0!==t.deltaY?e=t.deltaY:n&&void 0!==n.wheelDeltaY&&(e=n.wheelDeltaY),e}var e=m$296$0.extend(m$212$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],styles:{overflow:"hidden"}},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ScrollView"},additionalClassNames:m$589$1(["scroll"]),delegate:null,contentOffset:m$629$1({readOnly:!0,defaultValue:function(){return{x:0,y:0}}}),contentSize:m$629$1({readOnly:!0,defaultValue:function(){return{width:0,height:0}}}),contentInset:m$629$1({readOnly:!0,defaultValue:function(){return{top:0,bottom:0,left:0,right:0}}}),verticalScrollBar:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._verticalScrollBar}}),_animatedContentOffsetX:m$212$1(0),_animatedContentOffsetY:m$212$1(0),init:function(t){this.__s._5E$PM$init.call(this,t),this._dragHandler=m$274$2.create({scrollView:this})},showScrollBars:function(){var t=this._verticalScrollBar;t&&t.show()},addScrollDragRegion:function(t){this._dragHandler.addDragRegion(t)},adjustContentOffset:function(t,e,n){if(this.get("isAnimating")&&this.shouldContinueCurrentScrollAnimationForContentOffset(t,e))return m$242$0.resolve(this);if(n){var i=250;n!==!0&&n>1&&(i*=n),this._targetContentOffsetX!==t&&(this._targetContentOffsetX=t,this.animate("_animatedContentOffsetX",t,i)),this._targetContentOffsetY!==e&&(this._targetContentOffsetY=e,this.animate("_animatedContentOffsetY",e,i));var s=this._animationPromise=m$242$0.create();return s}return this._targetContentOffsetX=t,this._targetContentOffsetY=e,
this.set("_animatedContentOffsetX",t),this.set("_animatedContentOffsetY",e),this._completeAdjustContentOffset(t,e),m$242$0.resolve(this)},shouldContinueCurrentScrollAnimationForContentOffset:function(t,e){return!1},_animatedContentOffsetDidChange:m$557$1("_animatedContentOffsetX","_animatedContentOffsetY",function(t,e){this._completeAdjustContentOffset(t,e)}),_animationStateDidChange:m$557$1("isAnimating",function(t){var e=this._animationPromise;e&&!t&&(this._animationPromise=null,e.resolve(this))}),_completeAdjustContentOffset:function(t,e){var n=this._contentOffset;n.x,n.y;n.x=t,n.y=e,this._adjustScrollBars(),this.contentOffsetDidChange(n),this.setNeedsLayout(),this.get("layer").adjustBoundsOffset(t,e);var i=this.delegate;if(i){var s=i.scrollViewDidScroll||null;s&&s.call(i,this,n)}},adjustContentOffsetYByDelta:function(t,e){var n=this._contentOffset.y+t;return this.adjustContentOffsetY(n,e)},adjustContentOffsetY:function(t,e){var n=this._contentSize,i=this._contentOffset,s=this._contentInset,a=this.get("frame"),o=i.y,r=a.get("height"),f=n.height+s.top+s.bottom;if(f<=r)return!0;t<-s.top&&(t=-s.top),t+r+s.top>f&&(t=n.height-r+s.bottom);var h=null;return t!==o?h=this.adjustContentOffset(i.x,t,e):e&&(h=m$242$0.createAndResolve(this)),this.setNeedsLayout(),h},loadSubviews:function(){var t=m$328$0.create({orientation:m$328$1.Vertical}),e=this;this._verticalScrollBarObserver=t.observe("dragging",function(t){t&&e._verticalScrollBarDragging()}),this._verticalScrollBar=t,this.addSubview(t)},adjustContentSize:function(t,e){var n=this._contentSize;n.width=t,n.height=e,this.setNeedsLayout(),
this._adjustScrollBars(),this.contentSizeDidChange(n)},adjustContentInset:function(t){var e=this._contentInset;e.top,e.bottom,e.left,e.right;void 0!==t.top&&(e.top=t.top),void 0!==t.bottom&&(e.bottom=t.bottom),void 0!==t.left&&(e.left=t.left),void 0!==t.right&&(e.right=t.right),this._adjustScrollBars(),this.contentInsetDidChange(e)},contentOffsetDidChange:function(t){},contentSizeDidChange:function(t){},contentInsetDidChange:function(t){},wheel:function(e){e.preventDefault();var n=t(e);return this.adjustContentOffsetYByDelta(n),!0},frameBoundsDidChange:function(t){this.__s._5E$1rM$frameBoundsDidChange.call(this,t),this._adjustScrollBars(),this._dragHandler.prepare()},frameDidInvalidate:function(t,e){this.__s._5E$1tn$frameDidInvalidate.call(this,t,e),this._adjustScrollBars(),this._dragHandler.prepare()},_verticalScrollBarDragging:function(){var t=this._verticalScrollBar;if(t){var e=this._contentOffset,n=this._contentInset;e.y=t.get("contentOffset")-n.top,this.get("layer").adjustBoundsOffset(e.x,e.y),this.setNeedsLayout(),this.contentOffsetDidChange(e)}},_adjustScrollBars:function(){var t=this._verticalScrollBar;if(t){var e=this._contentSize,n=this._contentInset,i=e.height+n.top+n.bottom,s=n.top+this._contentOffset.y,a=this.get("frame").get("height");this.get("element").getBoundingClientRect();t.set("contentSize",i),t.set("contentOffset",s),t.set("contentClipSize",a)}},dragEnter:function(t){return this._dragHandler.dragEnter(t),!1},dragOver:function(t){return this._dragHandler.dragOver(t),!1},dragLeave:function(t){return this._dragHandler.dragLeave(t),!1},drop:function(t){return this._dragHandler.drop(t),
!1},handleKeyDown:function(t){switch(t.which){case 32:return t.shiftKey?this.pageUp():this.pageDown(),!0;case m$688$0.PAGEUP:return this.pageUp(t.shiftKey),!0;case m$688$0.PAGEDOWN:return this.pageDown(t.shiftKey),!0;case m$688$0.END:return this.scrollToBottom(t.shiftKey),!0;case m$688$0.HOME:return this.scrollToTop(t.shiftKey),!0}return!1},pageDown:function(t){var e=this.get("frame").get("size").height;this.adjustContentOffsetYByDelta(e,t?10:1)},pageUp:function(t){var e=this.get("frame").get("size").height;this.adjustContentOffsetYByDelta(-e,t?10:1)},scrollToTop:function(t){this.adjustContentOffsetY(0,t?10:1)},scrollToBottom:function(t){this.adjustContentOffsetY(this.get("contentSize").height,t?10:1)},__superMap:{_5E$PM$init:"init",_5E$1rM$frameBoundsDidChange:"frameBoundsDidChange",_5E$1tn$frameDidInvalidate:"frameDidInvalidate"}});m$329$0=e}();
!function(){"use strict";var e=m$329$0.extend(m$544$0,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["scrollContentContainer"]}]}},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.ScrollingUploadContainer$200"},addContentView:function(e){this.addSubview(e,".scrollContentContainer"),this._updateContentSize()},removeContentView:function(e){this.removeSubview(e,".scrollContentContainer"),this._updateContentSize()},sortContentViews:function(e){for(var t=this.$(".scrollContentContainer").element(),i=0,n=e.length;i<n;i++){var o=e[i];t.appendChild(o.get("element"))}},_updateContentSize:function(){if(this.get("isAttachedToWindow")){var e=this.$(".scrollContentContainer").element().scrollHeight;this.adjustContentSize(0,e)}},_attachedObserver:m$557$1("isAttachedToWindow",function(e){if(e){var t=this;m$799$0(function(){t._updateContentSize()})}}),layoutSubviews:function(){var e=this.get("contentOffset"),t=this.$(".scrollContentContainer").element();t.scrollTop=e.y}}),t=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title"]},{type:"ELEMENT",tagname:"div",children:[],classes:["scrollContainer"]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"addFilesButton"}]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.UploadView"},additionalClassNames:m$589$1("upload-view"),init:function(){this.__s._3B$jI$init.apply(this,arguments);var e=this,t=this.get("addFilesButton");
t.set("target",this),t.set("action","addFilesButtonWasClicked"),this.get("fileSelectorView").listen("didSelectFiles",function(t){if(t){var i=t.context;e.filesWereSelectedForUpload(i)}}),this.addSubview(this.get("scrollContainer"),".scrollContainer")},scrollContainer:m$619$1(e,{additionalClassNames:m$589$1(["uploads"])}),totalFileCount:m$545$1({defaultValue:0}),remainingFileCount:m$545$1(0),title:m$545$1(m$565$1("Upload.PopoverDialogTitle")),fileSelectorView:m$619$1(m$199$0),preferredSize:m$545$1(null),addFilesButtonWasClicked:function(){return this.get("fileSelectorView").openSelectorDialog(),!0},uploadViews:m$545$1(m$619$1(Array)),_uploadViewsObserver:m$557$1("uploadViews",function(e){var t=this.get("scrollContainer");t&&t.sortContentViews(e)}),addFilesButton:m$619$1(m$303$0,{title:m$565$1("Upload.PopoverDialog.AddFilesButton"),additionalClassNames:m$589$1("add-files-button")}),filesWereSelectedForUpload:m$558$0(),createUploadView:function(){var e=m$198$0.create();return this.get("uploadViews").push(e),this.get("scrollContainer").addContentView(e),e},removeUploadView:function(e){var t=this.get("uploadViews"),i=t.indexOf(e);if(i!==-1){var n=t.splice(i,1);return this.get("scrollContainer").removeContentView(n[0]),!0}return!1},clearCompleted:function(){for(var e=this.get("uploadViews"),t=e.length-1;t>=0;t--){var i=e[t];i.get("isComplete")&&this.removeUploadView(i)}},_preferredSizeDidChange:m$557$1("preferredSize",function(e){e&&this.notifyParentOfDynamicContentChange()}),__superMap:{_3B$jI$init:"init"}});m$200$0=t}();
!function(){"use strict";var e=m$648$0.get("sharedInstance"),t=267,i=567,r=82,o=5,a=function(e,t){return e.get("sortOrder")>t.get("sortOrder")?1:e.get("sortOrder")<t.get("sortOrder")?-1:0},s=m$297$0.extend(m$544$0,{init:function(){this.__s._2m$dC$init.apply(this,arguments);var e=this._uploadFilesService=this.loadUploadFilesService(),t=this;e.observe("activatedTransactions",function(e){if(e){var i=e.context;t._addTransactionsToUploadView(i)}}),e.observe("transactionFinalized",function(e){if(e){var i=e.context;t._prepareToRemoveTransactionFromUploadView(i)}})},loadView:function(){this.__s._2m$nB$loadView.apply(this,arguments);var e=this,r=m$200$0.create({preferredSize:m$234$0.create(t,i)});return r.listen("filesWereSelectedForUpload",function(t){if(t){var i=t.context;i&&i.length>0&&e._uploadFilesToCurrentFolder(i)}}),r},loadUploadFilesService:function(){return m$50$0},viewDidDisappear:function(){this.clearCompletedUploads()},viewWillAppear:function(){this.__s._2m$14w$viewWillAppear.call(this),this.clearCompletedUploads()},folderContent:m$545$1(),_uploadFilesToCurrentFolder:function(e){var t=this.get("folderContent");if(!t)return m$809$1.error("uploadFilesToCurrentFolder: No folderContent."),void m$802$0("Folder content was not set on UploadViewController");var i=t.get("folder");this._uploadFilesService.uploadFilesToFolder(e,i)},presenterViewController:null,_addTransactionsToUploadView:function(e){for(var t,i=this.get("view"),r=0,a=e.length;r<a;r++){var s=e[r],n=s.get("stagedFile");t=i.createUploadView(),t.set("fileContent",n),this.attachViewListeners(t,s,i)}var l=i.getPath("uploadViews.length");
if(t&&l<o){var d=t.get("element").getBoundingClientRect(),c=d.height;this.set("_itemHeight",c)}this._calculateContentSize()},_prepareToRemoveTransactionFromUploadView:function(e){},attachViewListeners:function(e,t){var i=this,r=this.get("view"),o=!t.get("nativeFile").size,s=t.get("progress");s.observe("changed",function(t){if(t&&!o){if(!e)return m$809$1.error("Upload view no longer exists, but progress is still occuring."),void m$809$1.error("uploadProgressView:"+e.toString());e.set("percentComplete",s.get("percentageComplete")/100),e.set("bytesTotal",s.get("totalAmount")),e.set("bytesTransferred",s.get("amountComplete"))}}),t.observe("state",function(t){var o;switch(t){case m$87$1.Init:case m$87$1.Prepared:case m$87$1.Staging:case m$87$1.Staged:case m$87$1.Commit:case m$87$1.Commit.Prepared:o=1;break;case m$87$1.Commit.Running:o=0;break;case m$87$1.Completed:case m$87$1.Completed.Success:case m$87$1.Completed.Fail:case m$87$1.Reverting:case m$87$1.Reverted:case m$87$1.Finalizing:case m$87$1.Finalized:e.set("isComplete",!0),o=2;break;case m$87$1.Cancelled:r.removeUploadView(e),i._calculateContentSize();break;default:o=3}e.set("sortOrder",o);var s=r.get("uploadViews"),n=s.sort(a);r.set("uploadViews",n)});var n=t.get("stagedFile");e.listen("closeWasClicked",function(e){e&&(i._uploadFilesService.cancelUploadForFile(n),0===r.get("uploadViews").length&&i.shouldBeDismissed())}),e.listen("retryWasClicked",function(){r.removeUploadView(this),i.retryUploadTransaction(t)});var l=t.transactionDidFail||m$805$0;t.transactionDidFail=function(){l.apply(this,arguments),e.set("isFailed",!0)};
},retryUploadTransaction:function(e){var t=e.get("file"),i=e.get("destinationFolder");this.uploadFile(t,i)},clearCompletedUploads:function(){this.get("view").clearCompleted(),this._calculateContentSize()},shouldBeDismissed:m$558$0(),shouldShowPopover:m$629$1({readOnly:!0,get:function(e,t,i,r){return this._uploadFilesService.get("hasActiveTransactions")}}),selectFilesForUpload:function(){this._alertIfUnsupportedBrowser()||this.getPath("view.fileSelectorView").openSelectorDialog()},_browserIsSupported:function(){var t=e.get("majorVersion"),i=e.get("isSafari")&&t<6;return!e.get("isIE9OrLower")&&!i},_alertIfUnsupportedBrowser:function(){if(this._browserIsSupported())return!1;var e="Upload.Error.BrowserNotSupported.",t=m$565$1(e+"Title"),i=m$565$1(e+"Description");return this._showAlertDialog(t,i),!0},_showAlertDialog:function(e,t,i){var r,o=this.get("presenterViewController").get("view").get("window"),a=m$303$0.create({additionalClassNames:m$589$1(["confirm"]),alertView:r,title:m$565$1("Alert.Confirm"),action:function(){this.animateClosed(),o.removeRootView(r),i&&i.call(this)},shortcut:m$688$0.RETURN});return r=m$421$0.create({message:e,description:t,buttonViews:[a]}),a.set("target",r),o.addRootView(r),r.animateOpen(),r},_itemHeight:m$545$1({defaultValue:r}),_calculateContentSize:function(){var e=62,i=this.get("_itemHeight")||r,a=this.getPath("view.uploadViews.length")||1;a>o&&(a=o);var s=i*a+e,n=m$234$0.create(t,s),l=this.get("view");l.set("preferredSize",n)},__superMap:{_2m$dC$init:"init",_2m$nB$loadView:"loadView",_2m$14w$viewWillAppear:"viewWillAppear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ViewControllers.UploadViewController"
}});m$174$0=s}();
!function(){"use strict";var i=m$296$0.extend({additionalClassNames:m$589$1(["toolbar"]),groupSpacing:0,delegate:null,loadSubviews:function(){var i=this._leftContainerView=this.loadLeftContainerView(),e=this._middleContainerView=this.loadMiddleContainerView(),t=this._rightContainerView=this.loadRightContainerView();i.adjustPosition(0,0),e.adjustPosition(0,0),t.adjustPosition(0,0),this.addSubview(i),this.addSubview(e),this.addSubview(t),this.loadViewsForGroups()},loadViewsForGroups:function(){},loadLeftContainerView:function(){return m$296$0.create({additionalClassNames:m$589$1(["group","left"])})},loadMiddleContainerView:function(){return m$296$0.create({additionalClassNames:m$589$1(["group","middle"])})},loadRightContainerView:function(){return m$296$0.create({additionalClassNames:m$589$1(["group","right"])})},addViewToLeftGroup:function(i){this._addViewToContainerView(i,this._leftContainerView)},addViewToMiddleGroup:function(i){this._addViewToContainerView(i,this._middleContainerView)},addViewToRightGroup:function(i){this._addViewToContainerView(i,this._rightContainerView)},addSpacerToRightGroup:function(i){this._addSpaceToContainerView(this._rightContainerView,i)},addSpacerToLeftGroup:function(i){this._addSpaceToContainerView(this._leftContainerView,i)},addSpacerToMiddleGroup:function(i){this._addSpaceToContainerView(this._middleContainerView,i)},_addViewToContainerView:function(i,e){e.addSubview(i),this.setNeedsLayout()},_addSpaceToContainerView:function(i,e){var t=document.createElement("div");t.className="spacer",e&&t.classList.add(e),i.get("element").appendChild(t)},frameDidInvalidate:function(i){
this.setNeedsLayout()},layoutSubviews:function(){var i=this.get("frame"),e=Math.round(i.get("width")/2),t=this._leftContainerView,a=t.get("frame"),n=this._rightContainerView,o=n.get("frame"),d=this._middleContainerView,r=d.get("frame"),s=Math.round(r.get("width")/2),u=e-s,w=i.get("width")-o.get("width"),h=this.get("groupSpacing"),l=a.get("width")+h;u<l&&(u=l),l=u+r.get("width")+h,w<l&&(w=l),d.adjustPosition(u,0),n.adjustPosition(w,0)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.ToolbarView"}});m$197$0=i}();
!function(){"use strict";var t=2*Math.PI,e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"canvas",children:[],classes:["arc-spinner"]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.ArcSpinner"},_isSpinning:!1,didMoveToWindow:function(t){this.__s._2n$7Y$didMoveToWindow.apply(this,arguments),t?(this._isAttached=!0,this._renderFrame()):this._isAttached=!1},dpr:m$545$1(m$228$0({root:m$653$0.get("sharedInstance"),path:"devicePixelRatio"})),diameter:m$629$1(22),strokeWeight:m$629$1(1),rotationDuration:m$629$1(1e3),cutOut:m$629$1(6),color:m$629$1({get:function(t,e,i,n){return this._color||(this._color=window.getComputedStyle(this.get("element")).color),this._color},set:function(t,e,i,n,o){this._color=t}}),dprSensitiveRadius:m$629$1({dependencies:["diameter","dpr"],readOnly:!0,get:function(t,e,i,n){return n.internalGet(this,e[0+i])/2*n.internalGet(this,e[1+i])}}),_renderFrame:function(e){var i=this.get("dpr"),n=this.get("element"),o=n.getContext("2d"),r=this.get("color"),s=this.get("rotationDuration"),a=this.get("cutOut")*i,d=this.get("dprSensitiveRadius"),h=this.get("strokeWeight")*i,l=this.get("diameter")*i,c=e%s/s*t+t;n.width=n.height=l,o.globalCompositeOperation="source-over",o.translate(l/2,l/2),o.fillStyle=r,o.beginPath(),o.arc(0,0,d,0,t),o.closePath(),o.fill(),o.fillStyle="black",o.globalCompositeOperation="destination-out",o.beginPath(),o.arc(0,0,d-h,0,t),o.closePath(),o.fill(),o.rotate(c),o.fillRect(-a/2,-(d+2*h),a,d),this._isAttached&&m$225$0.requestAnimationFrame(this._renderFrame.bind(this))},__superMap:{_2n$7Y$didMoveToWindow:"didMoveToWindow"}});m$175$0=e}();
!function(){"use strict";var n=500,i=m$303$0.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["spinner-bg"]}]}},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.SpinnableButton"},isSpinning:m$545$1(!1),_spinner:m$545$1(null),_loadSpinner:function(){return this._spinner&&this.removeSubview(this._spinner),this._spinner=m$175$0.create({width:22,height:22}),this._spinner},showSpinner:function(){this.get("isSpinning")||(this.set("isSpinning",!0),this.addSubview(this._loadSpinner()),m$799$0(function(){this.get("element").classList.add("spinning")}.bind(this),0))},hideSpinner:function(){this.get("element").classList.remove("spinning"),this.set("isSpinning",!1),m$799$0(function(){this._spinner&&this.removeSubview(this._spinner),this._spinner=null}.bind(this),n)}});m$195$0=i}();
!function(){"use strict";var t=m$197$0.extend({additionalClassNames:m$589$1(["main"]),appsLauncherButton:m$629$1({readOnly:!0}),newFolderButton:m$629$1({readOnly:!0}),uploadFilesButton:m$629$1({readOnly:!0}),downloadFilesButton:m$629$1({readOnly:!0}),trashFilesButton:m$629$1({readOnly:!0}),emailFilesButton:m$629$1({readOnly:!0}),userActionMenuButton:m$629$1({readOnly:!0}),helpButton:m$629$1({readOnly:!0}),folderControlsVisible:m$545$1(!0),loadViewsForGroups:function(){var t=this._appsLauncherButton=this.loadAppsLauncherButton(),o=this._newFolderButton=this.loadNewFolderButton(),i=this._uploadFilesButton=this.loadUploadFilesButton(),l=this._downloadFilesButton=this.loadDownloadFilesButton(),e=this._trashFilesButton=this.loadTrashFilesButton(),a=this._emailFilesButton=this.loadEmailFilesButton(),s=this._userActionMenuButton=this.loadUserActionMenuButton(),n=this._helpButton=this.loadHelpButton();this.addViewToLeftGroup(t),this.addViewToMiddleGroup(o),this.addViewToMiddleGroup(i),this.addViewToMiddleGroup(l),this.addViewToMiddleGroup(e),a&&this.addViewToMiddleGroup(a),this.addViewToRightGroup(s),this.addSpacerToRightGroup("short"),this.addViewToRightGroup(n)},loadAppsLauncherButton:function(){return m$303$0.create({additionalClassNames:m$589$1(["toolbar-item","apps-launcher","large-display-text"]),title:m$565$1("Toolbar.ApplicationTitle"),tooltip:m$565$1("Toolbar.Button.AppsLauncher.Tooltip"),showLeftAccessory:!0,showRightAccessory:!0,tabindex:0})},loadNewFolderButton:function(){return m$303$0.create({additionalClassNames:m$589$1(["toolbar-item","new-folder"]),title:m$565$1("Toolbar.Button.NewFolder.Tooltip"),
tooltip:m$565$1("Toolbar.Button.NewFolder.Tooltip"),showTitle:!1,visible:m$228$0({root:this,path:".folderControlsVisible"}),tabindex:0})},loadUploadFilesButton:function(){return m$303$0.create({additionalClassNames:m$589$1(["toolbar-item","upload-files"]),title:m$565$1("Toolbar.Button.Upload.Tooltip"),tooltip:m$565$1("Toolbar.Button.Upload.Tooltip.Enabled"),disabledTooltip:m$565$1("Toolbar.Button.Upload.Tooltip.Disabled"),showTitle:!1,visible:m$228$0({root:this,path:".folderControlsVisible"}),tabindex:0})},loadDownloadFilesButton:function(){return m$195$0.create({additionalClassNames:m$589$1(["toolbar-item","download-files"]),title:m$565$1("Toolbar.Button.Download.Tooltip"),tooltip:m$565$1("Toolbar.Button.Download.Tooltip"),showTitle:!1,visible:m$228$0({root:this,path:".folderControlsVisible"}),tabindex:0})},loadTrashFilesButton:function(){return m$303$0.create({additionalClassNames:m$589$1(["toolbar-item","trash-files"]),title:m$565$1("Toolbar.Button.Delete.Tooltip"),tooltip:m$565$1("Toolbar.Button.Delete.Tooltip"),showTitle:!1,visible:m$228$0({root:this,path:".folderControlsVisible"}),tabindex:0})},loadEmailFilesButton:function(){return!!m$886$0.get("currentUser").isServiceActive("mail")&&m$303$0.create({additionalClassNames:m$589$1(["toolbar-item","email-files"]),title:m$565$1("Toolbar.Button.Email.Tooltip"),tooltip:m$565$1("Toolbar.Button.Email.Tooltip"),showTitle:!1,visible:m$228$0({root:this,path:".folderControlsVisible"}),tabindex:0})},loadUserActionMenuButton:function(){return m$303$0.create({additionalClassNames:m$589$1(["toolbar-item","user-action-menu","large-display-text"]),
tooltip:m$565$1("Toolbar.Button.UserAction.Tooltip"),showRightAccessory:!0,tabindex:0})},loadHelpButton:function(){return m$303$0.create({additionalClassNames:m$589$1(["toolbar-item","help"]),showTitle:!1,title:m$565$1("Toolbar.Button.Help.Tooltip"),tooltip:m$565$1("Toolbar.Button.Help.Tooltip"),tabindex:0})},_folderControlsVisibleDidChange:m$557$1("folderControlsVisible",function(t){this.setNeedsLayout()}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.MainToolbarView"}});m$188$0=t}();
!function(){"use strict";var e={getCloudOSService:function(){return window.app.get("cloudOSService")}};m$148$0=e}();
!function(){"use strict";var e=m$296$0.extend({additionalClassNames:m$589$1(["menu"]),menu:null,preferredSize:m$629$1({readOnly:!0,get:function(e,t,i,s){return this.get("frame").get("size")}}),delegate:null,menuItemViews:m$629$1({readOnly:!0,get:function(e,t,i,s){return this._menuItemViews}}),loadSubviews:function(){var e,s,n,a=this.get("menu"),l=a.get("groups"),h=l.length,o=[];this._menuItemViews=o;for(var u=0;u<h;u++){e=l[u],s=e.length;for(var m=0;m<s;m++)n=t.create({menuItem:e[m],target:this,action:"_performActionForMenuItemView"}),o.push(n),this.addSubview(n);u<h-1&&this.addSubview(i.create())}},_performActionForMenuItemView:function(e){o.isFlashing()||e.flash(function(){this._performActionForMenuItem(e.get("menuItem"))}.bind(this))},_performActionForMenuItem:function(e){this.delegate.menuViewPerformActionForMenuItem(this,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.MenuView"}}),t=m$296$0.extend(m$256$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["checkmark"]},{type:"ELEMENT",tagname:"div",children:[],classes:["title"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"active",truevalue:"active",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"pressed",truevalue:"pressed",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.MenuItemView$321"},additionalClassNames:m$589$1(["menu-item"]),menuItem:m$545$1(null),_menuItemDidChange:m$557$1(".menuItem.checked",function(){this.refresh()}),refresh:function(){var e=this.get("menuItem");e&&(this.$(".checkmark").toggleClass("checked",e.get("checked")),
this.$(".title").text(e.get("title")))},didMoveToParentView:function(e){this.__s._56$hM$didMoveToParentView.call(this,e),e?this.refresh():this.set("menuItem",null)},flash:function(e){o.flashMenuItemView(this,e)},didMoveToWindow:function(e){this.__s._56$lw$didMoveToWindow.call(this,e),e||(this.set("active",!1),this.set("pressed",!1))},__superMap:{_56$hM$didMoveToParentView:"didMoveToParentView",_56$lw$didMoveToWindow:"didMoveToWindow"}}),i=m$296$0.extend({additionalClassNames:m$589$1(["separator"]),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.SeparatorView$321"}}),s=0,n=1,a=2,l=60,h=2,o={_flashState:s,flashMenuItemView:function(e,t){this._flashState!==s&&m$802$0("Flasher: Cannot flash menu item view. Invalid state"),this._view=e,this._callback=t,this._flashCount=0,this._flashOut()},isFlashing:function(){return this._flashState!==s},_flashOut:function(){this._flashState=n;var e=this._view.$();e.toggleClass("flash-out",!0),e.toggleClass("flash-in",!1),setTimeout(function(){this._flashIn()}.bind(this),l)},_flashIn:function(){this._flashState=a;var e=this._view.$();e.toggleClass("flash-out",!1),e.toggleClass("flash-in",!0),this._flashCount++,setTimeout(function(){this._nextFlashCycle()}.bind(this),l)},_nextFlashCycle:function(){this._flashCount<h?this._flashOut():this._completeFlashing()},_completeFlashing:function(){var e=this._callback,t=this._view.$();t.toggleClass("flash-out",!1),t.toggleClass("flash-in",!1),this._callback=null,this._view=null,e(),this._flashState=s}};m$321$0=e}();
!function(){"use strict";var e=m$626$0.extend({menu:null,menuItem:m$629$1({readOnly:!0,get:function(e,t,o,n){return this._tappedMenuItem}}),popoverLayoutMargins:m$276$0.ZERO,popoverContentSizeConstraints:null,popoverVisible:m$629$1({readOnly:!0,get:function(e,t,o,n){return this._popover.get("popoverVisible")}}),init:function(e){this.__s._4X$FU$init.call(this,e);var o=this._menuViewController=t.create({menuController:this,menu:this.get("menu")});this._popover=m$289$0.create({delegate:this,contentViewController:o,popoverLayoutMargins:this.get("popoverLayoutMargins"),popoverContentSizeConstraints:this.get("popoverContentSizeConstraints"),additionalClassNames:m$589$1(["sharp-corners"])})},presentPopoverForView:function(e,t){this._tappedMenuItem=null,this._popover.presentPopoverForView(e,t)},dismissPopover:function(){this._popover.dismissPopover()},menuViewPerformActionForMenuItem:function(e,t){this._tappedMenuItem=t,this.dismissPopover(),m$254$0.setTimeout(function(){this._performTargetActionForMenuItem(t)}.bind(this))},popoverControllerShouldDismissPopover:function(e){return!0},popoverControllerDidDismissPopover:function(e){},_performTargetActionForMenuItem:function(e){var t=e.get("target"),o=e.get("action");if(t&&o){var n=o;m$781$0(o)&&(n=t[o]),m$777$0(n)||m$802$0("Cannot perform action. Action must be a function on target",{controller:this,action:o,target:t}),n.call(t,this)}},__superMap:{_4X$FU$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.MenuPopoverController"}}),t=m$297$0.extend({menuController:null,menu:null,loadView:function(){return m$321$0.create({menu:this.get("menu"),
delegate:this.get("menuController")})},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.MenuViewController$285"}});m$285$0=e}();
!function(){"use strict";var t=m$626$0.extend({init:function(t){this.__s._AM$3x$init.call(this,t);var i=document.createElement("a");this.isDownloadAttributeSupported=void 0!==i.download},isDownloadAttributeSupported:null,__superMap:{_AM$3x$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.Capabilities.Links"}}),i=t.create();m$652$0=t,m$652$1=i}();
!function(){"use strict";var o=m$626$0.extend(m$544$0,{downloadFromURL:function(o){},downloadFromURLs:function(o){},completedFetchDownloadURLs:m$558$0(),failedFetchDownloadURLs:m$558$0(),busy:m$545$1(!1),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.BaseDownloadService"}});m$133$0=o}();
!function(){"use strict";var e=m$563$1("BRApp.UI.DownloadAlertState",function(e){e("Closed"),e("Open")}),t=m$626$0.extend(m$544$0,{alertState:m$545$1({defaultValue:e.Closed}),errorDataList:m$619$1(Array),registerDownloadErrorWithResponseData:function(t){this.alertState===e.Closed?(this.errorDataList.push(t),this._presentSingleFileAlert()):this.alertState===e.Open?(this.errorDataList.push(t),this._switchFromSingleToMultiAlert()):m$802$0("Download Alert - Unknown state")},registerDownloadError:function(e){var t=m$626$0.create({item:e,errorCode:"UNK",serverErrorCode:"UNK",reason:"UNK"});this.registerDownloadErrorWithResponseData(t)},_presentSingleFileAlert:function(){var t=this,r=rootResponder.get("window"),i=m$303$0.create({title:m$565$1("Button.OK"),additionalClassNames:m$589$1(["ok"]),target:this,action:function(){l.animateClosed(),r.removeRootView(l),t.alertState=e.Closed,t.errorDataList.length=0}}),o=this.errorDataList[0],l=this._myAlertView;if(l)l.set("message",this._getMessageForSingleAlertItem(o)),l.set("description",this._getDescriptionForSingleAlertItem(o));else{var l=m$421$0.create({message:this._getMessageForSingleAlertItem(o),description:this._getDescriptionForSingleAlertItem(o),buttonViews:[i]});this._myAlertView=l}r.addRootView(l),l.animateOpen(),this.alertState=e.Open},_presentMultiFileAlert:function(t){var r=this,i=rootResponder.get("window"),o=m$303$0.create({title:m$565$1("Button.OK"),additionalClassNames:m$589$1(["ok"]),target:this,action:function(){s.animateClosed(),i.removeRootView(s),r.alertState=e.Closed,r.errorDataList.length=0}}),l=this.errorDataList.length,s=this._detailedAlert;
s?(s.set("message",this._getMessageForMultipleAlertItems(this.errorDataList)),s.set("description",this._getDescriptionForMultipleAlertItems(this.errorDataList))):(s=m$422$0.create({additionalClassNames:m$589$1(["brapp"]),iconNames:"iclouddrive",message:this._getMessageForMultipleAlertItems(this.errorDataList),description:this._getDescriptionForMultipleAlertItems(this.errorDataList),buttonViews:[o]}),this._detailedAlert=s);var a=!1;"MultipleErrorTypes"===this._getErrorCodeForMultipleItems(this.errorDataList)&&(a=!0),s.removeDetails();for(var n=0;n<l;n++){var d=this.errorDataList[n],m=d.get("item"),u=m.get("fullName"),c="";a&&(c=this._getItemDescription(d)),s.addDetail(u,c,this._getIconViewForFile(m))}a?s.set("detailDescriptionsVisible",!0):s.set("detailDescriptionsVisible",!1),i.addRootView(s),t?s.animateOpen():(s.updatePosition(),s.get("style").set("opacity",1)),this.alertState=e.Open},_switchFromSingleToMultiAlert:function(){var e=rootResponder.get("window");e.removeRootView(this._myAlertView),this._presentMultiFileAlert()},_getIconViewForFile:function(e){var t=m$423$0.create({additionalClassNames:m$589$1(["medium"]),displaySize:m$100$0.MEDIUM});t.set("content",e);var r=e.get("extension");return t.set("fileType",r),t.set("fileExtension",r),t},_getMessageForSingleAlertItem:function(e){var t,r=e.get("errorCode"),i=e.get("item"),o=i.get("fullName");switch(r){case"DocumentDeletedException":t=m$565$1("Download.Error.Single.Deleted.Title",{fileName:o});break;default:t=m$565$1("Download.Error.Single.Generic.Title",{fileName:o})}return t},_getDescriptionForSingleAlertItem:function(e){
var t,r=e.get("errorCode");switch(r){case"DocumentDeletedException":t=m$565$1("Download.Error.Single.Deleted.Subtitle");break;default:t=m$565$1("Download.Error.Single.Generic.Subtitle")}return t},_getMessageForMultipleAlertItems:function(e){var t,r=this._getErrorCodeForMultipleItems(e),i=e.length;switch(r){case"DocumentDeletedException":t=m$565$1("Download.Error.Multiple.Deleted.Title",{fileCount:i});break;case"MultipleErrorTypes":t=m$565$1("Download.Error.Multiple.Mixed.Title",{fileCount:i});break;default:t=m$565$1("Download.Error.Multiple.Generic.Title",{fileCount:i})}return t},_getDescriptionForMultipleAlertItems:function(e){var t,r=this._getErrorCodeForMultipleItems(e);switch(r){case"DocumentDeletedException":t=m$565$1("Download.Error.Multiple.Deleted.Subtitle");break;case"MultipleErrorTypes":t=m$565$1("Download.Error.Multiple.Mixed.Subtitle");break;default:t=m$565$1("Download.Error.Multiple.Generic.Subtitle")}return t},_getItemDescription:function(e){var t,r=e.get("errorCode");switch(r){case"DocumentDeletedException":t=m$565$1("Download.Error.Multiple.ItemDetails.Deleted.Subtitle");break;default:t=m$565$1("Download.Error.Multiple.ItemDetails.Generic.Subtitle")}return t},_getErrorCodeForMultipleItems:function(e){for(var t,r=0;r<e.length;r++){var i=e[r];if(t){if(t!==i.get("errorCode")){t="MultipleErrorTypes";break}}else t=i.get("errorCode")}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.downloadAlertController"}}),t=t.create();m$154$0=t}();
!function(){"use strict";var e=5e4,n=1e3,o=Math.floor(e/n),t=m$133$0.extend({mixinDependencies:[m$544$0],itemURLService:null,_downloadURLsProcessed:0,_fileQueue:m$619$1(Array),downloadFromURL:function(e){var n=[];return n.push(e),this.downloadFromURLs(n)},downloadFromURLs:function(e){if(!this._fileQueue||!this._downloadURLsProcessed||!this._processDownloadQueueIndex){var n=this._fileQueue=[];this._downloadURLsProcessed=0,this._processDownloadQueueIndex=0}return e.forEach(function(e){n.push(e)}),this._processDownloadQueue()},_processDownloadQueue:function(){this.busy=!0;var e=this,t=this._fileQueue[this._processDownloadQueueIndex],r=0;this._processDownloadQueueIndex<o&&(r=n),m$254$0.setTimeout(function(){i.downloadIFrameForItem(t,e.itemURLService).then(function(){e._incrementDownloadURLsProcessed()}).catch(function(n){e._errorFetchingDownloadURL(n),e._incrementDownloadURLsProcessed()}),e._processDownloadQueueIndex++,e._processDownloadQueueIndex<e._fileQueue.length?e._processDownloadQueue():e.busy=!1},r)},_incrementDownloadURLsProcessed:function(){this._downloadURLsProcessed++,this._downloadURLsProcessed===this._fileQueue.length&&(this.completedFetchDownloadURLs(),u.removeAllPooledIFrames(),this._downloadURLsProcessed=0,this._processDownloadQueueIndex=0)},_errorFetchingDownloadURL:function(e){this.failedFetchDownloadURLs(),m$154$0.registerDownloadErrorWithResponseData(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.IFrameDownloadService"}}),i=m$626$0.extend({scheduler:m$629$1({get:function(e,n,o,t){return this._scheduler}}),init:function(e){this.__s._28$1Ae$init.apply(this,arguments),
this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){var e=m$252$0.create({trace:!1,traceId:"downloadIFrameTaskController",allowedMaximumRunningTasks:o});return e},downloadIFrameForItem:function(e,n){var o=r.create({item:e,itemURLService:n});return this._scheduler.scheduleTask(o).then(function(e){return e})},__superMap:{_28$1Ae$init:"init"}}).create(),r=m$251$0.extend({item:null,itemURLService:null,startRun:function(){var n=this,o=this.item,t=this.itemURLService;t.getURLForItem(o).then({success:function(o){var t=o.get("url"),i=o.get("item");t?n._createIFrameForItem(i,t,e).then(function(){n.finishRunWithSuccess()}):n.finishRunWithFailure(i)},failure:function(e){n.finishRunWithFailure(e)}})},_createIFrameForItem:function(e,n,o){var t=m$242$0.create();return m$799$0(function(){var i=u.dequeueIFrame();document.body.appendChild(i),i.id=e.id,i.src=n,m$799$0(function(){i.parentNode.removeChild(i),i.id=null,i.src=null,u.enqueueIFrame(i),t.resolve()},o)}),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.downloadIFrameTask$134"}}),s="DOWNLOAD_IFRAME_IDENTIFIER",u=m$626$0.extend({init:function(e){this.__s._28$1zo$init.call(this,e),this._pool=m$236$0.create()},dequeueIFrame:function(){var e=this._pool,n=e.dequeueItemForKeyIdentifier(s);if(n)return n;var n=document.createElement("iframe");return n.style.display="none",n},enqueueIFrame:function(e){var n=this._pool;n.queueItemForKeyIdentifier(e,s)},removeAllPooledIFrames:function(){var e=this._pool;e.clearAllItems()},__superMap:{_28$1zo$init:"init"}}).create();m$134$0=t}();
!function(){"use strict";var e=m$133$0.extend({mixinDependencies:[m$544$0],itemURLService:null,_downloadURLsProcessed:0,_fileQueue:m$619$1(Array),downloadFromURL:function(e){var o=[];return o.push(e),this.downloadFromURLs(o)},downloadFromURLs:function(e){var o=this._fileQueue=[];return this._downloadURLsProcessed=0,e.forEach(function(e){o.push(e)}),this._processDownloadQueue()},_processDownloadQueue:function(){this.set("busy",!0);for(var e=this,o=0;o<this._fileQueue.length;o++){var n=this._fileQueue[o],t=this.get("itemURLService");t.getURLForItem(n).then({success:function(o){var n=o.get("url"),t=o.get("item");if(e._incrementDownloadURLsProcessed(),n){var s=document.createElement("a");if(s.href=n,s.download="",document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),s.dispatchEvent(r)}else e._errorFetchingDownloadURL(t)}else e._errorFetchingDownloadURL(t)},failure:function(o){e._incrementDownloadURLsProcessed(),e._errorFetchingDownloadURL(o)}})}},_incrementDownloadURLsProcessed:function(){this._downloadURLsProcessed++,this._downloadURLsProcessed===this._fileQueue.length&&(this.completedFetchDownloadURLs(),this.set("busy",!1))},_errorFetchingDownloadURL:function(e){this.failedFetchDownloadURLs(),m$154$0.registerDownloadErrorWithResponseData(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.LinkDownloadService"}});m$135$0=e}();
!function(){"use strict";var e=m$626$0.extend(m$544$0,{mixinDependencies:[m$544$0],service:null,init:function(){this.__s._Y$A3$init.call(this),m$652$1.isDownloadAttributeSupported&&m$648$0.sharedInstance.isChrome?this.set("service",m$135$0.create({itemURLService:m$38$0})):this.set("service",m$134$0.create({itemURLService:m$38$0}))},downloadFromURL:function(e){var i=m$242$0.create(),t=m$886$0.get("cloudOSService");return t.recordStat("File Download",{size:e.get("size")}),this.get("service").downloadFromURL(e),i},downloadFromURLs:function(e){var i=m$886$0.get("cloudOSService");e.forEach(function(e){i.recordStat("File Download",{size:e.get("size")})}),this.get("service").downloadFromURLs(e)},__superMap:{_Y$A3$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.DownloadServiceController"}}),i=e.create();m$34$0=e,m$34$1=i}();
!function(){"use strict";var t=m$626$0.extend(m$544$0,m$643$0,{getQuotaData:function(){return m$886$0.getPath("environment.quotaData")},refreshQuotaData:function(){var t=m$886$0.get("cloudOSService");t&&t.refreshQuotaData()},quotaChanged:m$558$0(),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Services.QuotaService"}});m$143$0=t}();
!function(){"use strict";function t(t){return!t}function e(t,e,n){if(0===n)return!1;var o=t.some(function(t){return t.get("isFolder")||t.get("isAppLibrary")||t.get("transactionState")!==m$56$0.Prepared});return!o}function n(t,e,n){var o=e.get("folder"),i=o.getContainingAppLibrary();if(!i)return!0;switch(i.get("maxDepth")){case"NONE":return!1;case"ONE":return o.get("depth")-1===0;default:return!0}}function o(t,e,n){if(0===n)return!1;var o=t.some(function(t){return t.get("transactionState")!==m$56$0.Prepared});return!o}function i(t,e,n){if(0===n)return!1;var o=t.some(function(t){return t.get("isFolder")||t.get("isAppLibrary")||t.get("transactionState")!==m$56$0.Prepared});return!o}function l(t,e,n,o){return!o&&(e&&e.get("hasLoadedContent"))}var a=m$626$0.extend(m$544$0,{selection:m$545$1(null),folderContent:m$545$1(null),isEditing:m$545$1(!1),shouldAllowDragAndDropUpload:m$545$1({readOnly:!0,get:function(t,e,n,o){return this._allowDragAndDropUpload}}),shouldAllowDownloading:m$545$1({readOnly:!0,get:function(t,e,n,o){return this._allowDownloading}}),shouldAllowNewFolder:m$545$1({readOnly:!0,get:function(t,e,n,o){return this._allowNewFolder}}),shouldAllowTrashFiles:m$545$1({readOnly:!0,get:function(t,e,n,o){return this._allowTrashFiles}}),shouldAllowEmailFiles:m$545$1({readOnly:!0,get:function(t,e,n,o){return this._allowEmailFiles}}),shouldAllowUploading:m$545$1({readOnly:!0,get:function(t,e,n,o){return this._allowUploading}}),init:function(t){this.__s._2P$Z4$init.call(this,t),this._overQuota=!1,this._connectQuotaChangedListener(),this._allowUploading=!1,this._allowNewFolder=!1,
this._allowTrashFiles=!1,this._allowEmailFiles=!1,this._allowDownloading=!1,this._allowDragAndDropUpload=!1,this.observe("selection",this._updatePolicy.bind(this)),this.observe("folderContent",this._updatePolicy.bind(this)),this.observe("isEditing",this._updatePolicy.bind(this))},destroy:function(t){this._disconnectQuotaChangedListener(),this.__s._2P$j9$destroy.call(this,t)},_selectionDidChange:m$557$1("selection.changed",function(){this._updatePolicy()}),_folderContentChange:m$557$1("folderContent.changed",function(){this._updatePolicy()}),_folderContentLoadStateChanged:m$557$1("folderContent.loadState",function(){this._updatePolicy()}),_updatePolicy:function(){var a=this.get("selection"),r=a?a.get("size"):0,s=this.get("folderContent"),d=!!s&&s.get("isLoading"),h=this.get("isEditing");this._allowDownloading=!!s&&!d&&e(a,s,r),this._allowTrashFiles=!!s&&!d&&o(a,s,r),this._allowEmailFiles=!!s&&!d&&i(a,s,r),this._allowUploading=!!s&&!d&&l(a,s,r,this._overQuota),this._allowNewFolder=!!s&&!d&&n(a,s,r),this._allowDragAndDropUpload=!!s&&!d&&t(h),this.propertyChanged("shouldAllowDownloading"),this.propertyChanged("shouldAllowNewFolder"),this.propertyChanged("shouldAllowTrashFiles"),this.propertyChanged("shouldAllowEmailFiles"),this.propertyChanged("shouldAllowUploading"),this.propertyChanged("shouldAllowDragAndDropUpload")},_connectQuotaChangedListener:function(){this._disconnectQuotaChangedListener();var t=this,e=m$143$0.sharedInstance;this._quotaChangedListener=e.listen("quotaChanged",function(n){if(n){var o=e.getQuotaData();t._overQuota=o.overQuota,t._updatePolicy()}})},_disconnectQuotaChangedListener:function(){
var t=this._quotaChangedListener;t&&(t.disconnect(),this._quotaChangedListener=null)},__superMap:{_2P$Z4$init:"init",_2P$j9$destroy:"destroy"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ActionPolicy"}});m$151$0=a}();
!function(){"use strict";var i=m$626$0.extend({actionPolicy:m$629$1({readOnly:!0,get:function(i,t,n,c){return this._actionPolicy}}),init:function(i){this.__s._2R$5Y$init.call(this,i),this._actionPolicy=m$151$0.create()},__superMap:{_2R$5Y$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ActionPolicyController$153"}}),t=i.create();m$153$0=t}();
!function(){"use strict";var e=m$276$0.create({right:5}),t=m$297$0.extend(m$148$0,{selection:m$545$1(null),folderContent:m$545$1(null),uploadViewController:m$619$1(m$174$0),loadView:function(){var e=m$188$0.create({groupSpacing:40}),t=m$153$0.get("actionPolicy"),o=e.get("appsLauncherButton");o.set("target",this),o.set("action","performShowAppLauncherAction"),this._appsLauncherButton=o;var i=e.get("userActionMenuButton");i.set("target",this),i.set("action","performShowUserMenuSettingsAction");var r=e.get("helpButton");r.set("target",this),r.set("action","performShowHelp");var n=e.get("newFolderButton");n.set("target",this),n.set("action","performCreateNewFolderAction"),t.observe("shouldAllowNewFolder",function(e){n.set("enabled",e)});var s=e.get("uploadFilesButton");s.set("target",this),s.set("action","performUploadFilesAction"),t.observe("shouldAllowUploading",function(e){s.set("enabled",e)}),this._uploadFilesButton=s;var l=e.get("downloadFilesButton");l.set("target",this),l.set("action","performDownloadFilesAction"),t.observe("shouldAllowDownloading",function(e){l.set("enabled",e)});var a=m$34$1.get("service");a&&a.observe("busy",function(e){e?l.showSpinner():l.hideSpinner()}.bind(this));var c=e.get("trashFilesButton");c.set("target",this),c.set("action","performTrashFilesAction"),t.observe("shouldAllowTrashFiles",function(e){c.set("enabled",e)});var u=e.get("emailFilesButton");u&&(u.set("target",this),u.set("action","performEmailFilesAction"),t.observe("shouldAllowEmailFiles",function(e){u.set("enabled",e)}));var p=this.get("uploadViewController");p.presenterViewController=this,
this._uploadViewController=p,this.observe("folderContent",function(e){p.set("folderContent",e)});var h=m$289$0.create({contentViewController:p});return p.listen("shouldBeDismissed",function(e){if(e){var t=h.get("isShowing");t&&h.dismissPopover()}}),m$237$1.addTargetActionForNotification(this,"performUploadFilesAction","uploadItems"),this._popoverController=h,e},didMoveToParentViewController:function(e){this.__s._2i$1gu$didMoveToParentViewController.apply(this,arguments),e||m$237$1.removeTargetActionForNotification(this,"performUploadFilesAction","uploadItems")},getUserMenu:function(){var e=this._userMenu;if(e)return e;e=m$284$0.create();var t,o,i,r,n,s,l=m$886$0.get("cloudOSService"),a=l.getPath("environment.accountMenu");if(a){for(t=a.items,i=[],n=0,s=t.length;n<s;++n)o=t[n],r=m$284$1.create({title:o.title,action:o.action,target:l}),i.push(r);e.addMenuGroup(i)}return this._userMenu=e,e},getUserMenuPopoverController:function(){var t=this._userMenuPopoverController;return t?t:(t=m$285$0.create({menu:this.getUserMenu(),popoverLayoutMargins:e}),this._userMenuPopoverController=t,t)},handleKeyDown:function(e){switch(e.which){case m$688$0.ESC:if(e.shiftKey&&!e.ctrlKey&&!e.metaKey)return this.performShowAppLauncherAction(this),!0}return!1},performShowAppLauncherAction:function(e){var t=this.getCloudOSService(),o=this._appsLauncherButton.get("frame").getOriginRect();t.showAppSwitcher(m$626$0.create({left:o.origin.x,top:o.origin.y,width:o.size.width,height:o.size.height+10}))},performShowUserMenuSettingsAction:function(e){var t=this.getUserMenuPopoverController();t.get("popoverVisible")||t.presentPopoverForView(e,m$288$0.Up);
},performShowHelp:function(e){var t=this.getCloudOSService();t.showHelp("mmd0b4a7f5e8")},performCreateNewFolderAction:function(){m$237$1.dispatchNotification(m$237$0.create({id:"createSubfolder"}))},performTrashFilesAction:function(){m$237$1.dispatchNotification(m$237$0.create({id:"removeSelectedItems"}))},performEmailFilesAction:function(){m$237$1.dispatchNotification(m$237$0.create({id:"emailSelectedItems"}))},performUploadFilesAction:function(){var e=this._uploadViewController;e.get("shouldShowPopover")?this.showUploadPopover():e.selectFilesForUpload()},performDownloadFilesAction:function(){m$237$1.dispatchNotification(m$237$0.create({id:"downloadSelectedItems"}))},showUploadPopover:function(){var e=this._popoverController;e.get("popoverVisible")||e.presentPopoverForView(this._uploadFilesButton,m$288$0.Up)},viewWillAppear:function(){this.__s._2i$2tl$viewWillAppear.call(this);var e=this.getCloudOSService().get("environment").get("authBag").get("user");this._userObserver=e.observe("firstName","lastName",this._cloudOSUserNameDidChange.bind(this))},_cloudOSUserNameDidChange:function(e,t){var o=this.get("view").get("userActionMenuButton"),i=m$919$0(e),r=m$919$0(e,t),n=m$827$0(r)?r:i;o.set("title",n)},__superMap:{_2i$1gu$didMoveToParentViewController:"didMoveToParentViewController",_2i$2tl$viewWillAppear:"viewWillAppear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ViewControllers.MainToolbarViewController"}});m$170$0=t}();
!function(){"use strict";var n={isLocaleAnExtraLongLanguage:function(){var n=m$565$4(),t=n.split("-")[0],a=["es","ru","el","pt","ja","de","nl","it","id","ms","ca"];return a.indexOf(t)>-1}};m$208$0=n}();
!function(){"use strict";var e=function(e,n){this.range=e,this.next=n||null},n=m$626$0.extend(m$544$0,{size:m$629$1({readOnly:!0,get:function(e,n,t,a){for(var r,i=this._root,o=0;i;)r=i.range,o+=r?r.get("size"):0,i=i.next;return o}}),first:m$629$1({readOnly:!0,get:function(e,n,t,a){var r=this._root,i=r.next;return i.range.minValue}}),firstRange:m$629$1({readOnly:!0,get:function(e,n,t,a){var r=this._root,i=r.next;return i?i.range:null}}),isEmpty:m$629$1({readOnly:!0,get:function(e,n,t,a){return!this._root.next}}),changed:m$558$0(),init:function(n){this.__s._3u$K4$init.call(this,n),this._root=new e(m$230$0)},containsValue:function(e){for(var n=this._root;n;){if(n.range.containsValue(e))return!0;n=n.next}return!1},forEachRange:function(e){for(var n=this._root.next;n;)e(n.range),n=n.next},forEachValue:function(e){this.forEachRange(function(n){for(var t=n.minValue;t<=n.maxValue;t++)e(t)})},count:function e(n){for(var t=this._root,e=0;t;){for(var a=t.range,r=a.minValue;r<=a.maxValue;r++){var i=n(r);i===!0&&e++}t=t.next}return e},all:function(e){return this.count(e)===this.get("size")},any:function(e){return this.count(e)>0},one:function(e){return 1===this.count(e)},none:function(e){return 0===this.count(e)},filter:function(e){for(var n=this.clone(),t=this._root;t;){for(var a=t.range,r=a.minValue;r<=a.maxValue;r++){var i=e(r);i!==!0&&n.removeValue(r)}t=t.next}return n},collectItemsFromList:function(e){var n=[];return this.forEachValue(function(t){n.push(e[t])}),n},addRange:function(n){if(n!==m$230$0){for(var t=this._root,a=!1;t;){var r=t.range,i=t.next,o=i?i.range:null;if(r.intersectsRange(n)||r.maxValueAdjacentToRange(n)){
t.range=r.mergeWithRange(n),r=t.range,i&&(r.intersectsRange(o)||r.maxValueAdjacentToRange(o))&&(t.range=r.mergeWithRange(o),t.next=i.next),a=!0;break}if(!i){t.next=new e(n),a=!0;break}if(n.betweenRanges(r,o)){t.next=new e(n,i),a=!0;break}if(r===m$230$0&&n.maxValue<o.minValue){t.next=new e(n,i),a=!0;break}t=i}a&&this._notifyChanged()}},removeRange:function(n){if(n!==m$230$0){for(var t=null,a=this._root,r=!1;a;){var i=a.range,o=a.next,u=o?o.range:null;if(i.intersectsRange(n)){var s=i.subtractRange(n),g=s[0],h=s[1]||null;if(g===m$230$0)a=t,a.next=o;else if(h){var c=new e(g),f=new e(h,o);c.next=f,t.next=c,a=f,t=c}else a.range=g;r=!0}if(o&&n.betweenRanges(i,u))break;t=a,a=o}r&&this._notifyChanged()}},addValue:function(e){this.addRange(m$244$0.createAsPoint(e))},removeValue:function(e){this.removeRange(m$244$0.createAsPoint(e))},addRangeSet:function(e){var n=this;e.forEachRange(function(e){n.addRange(e)})},removeRangeSet:function(e){var n=this;e.forEachRange(function(e){n.removeRange(e)})},increaseFromValue:function(n,t){1===arguments.length&&(t=1);for(var a=this._root;a;){var r=a.range;if(n<=r.minValue)a.range=r.increment(t);else if(r.containsValue(n)){var i=m$244$0.create(r.minValue,n-1),o=m$244$0.create(n+t,r.maxValue+t),u=new e(o);u.next=a.next,a.range=i,a.next=u,a=u}a=a.next}this._notifyChanged()},decreaseFromValue:function(e,n){1===arguments.length&&(n=1);for(var t,a=m$244$0.create(e,e+n-1),r=this._root;r;){var i=r.range,o=t?t.range:null;if(o&&i.subsetOfRange(a))r=t.next=r.next;else{if(i.intersectsRange(a)){var u,s=i.subtractRange(a);u=2===s.length?s[0].mergeWithRange(s[1].decrement(n)):s[0].minValue>e?s[0].decrement(n):s[0],
i=r.range=u}else if(a.maxValue<i.minValue){var g=i.minValue-n,h=i.maxValue-n;i=r.range=m$244$0.create(g,h)}o&&o.maxValueAdjacentToRange(i)&&(t.range=o.mergeWithRange(i),t.next=r.next,r=t),t=r,r=r.next}}this._notifyChanged()},clear:function(){var e=this._root;e.next&&(e.next=null,this._notifyChanged())},prepareForChange:function(){this._preparingForChange&&m$802$0("cannot prepare. Already preparing for change"),this._preparingForChange=!0},finalizeChange:function(){this._preparingForChange||m$802$0("cannot finalize. Not prepared for change."),this._preparingForChange=!1,this._hasChanges&&(this._hasChanges=!1,this.changed(this))},_notifyChanged:function(){this._preparingForChange?this._hasChanges=!0:this.changed(this)},clone:function(){var e=n.create();return e.addRangeSet(this),e},toString:function(){for(var e="[RangeSet: ",n=this._root;n;){var t=n.range,a=n.next;t!==m$230$0?(e+=t.isPoint?t.start:"<"+t.start+", "+t.end+">",n=a,n&&(e+=", ")):(a||(e+="<EMPTY>"),n=a)}return e+="]"},__superMap:{_3u$K4$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.RangeSet"}});n.extend=function(){m$802$0("Cannot extend range set")},m$245$0=n}();
!function(){"use strict";var t=m$613$0.extend(m$544$0,{changed:m$558$0(),size:m$629$1({readOnly:!0,get:function(t,n,h,e){return this.get("length")}}),init:function(t){this._batchChangeCounter=1,this.__s._3n$5p$init.call(this,t),this._batchChangeCounter=0,this._batchChanged=!1},add:function(t){var n=this.__s._3n$88$add.call(this,t);return n===!0&&(this._batchChanged=!0,this._notifyChange()),n},addItems:function(t){this.beginBatchChanges();var n=this;t.forEach(function(t){n.add(t)}),this.endBatchChanges()},remove:function(t){var n=this.__s._3n$FA$remove.call(this,t);return n===!0&&(this._batchChanged=!0,this._notifyChange()),n},removeItems:function(t){this.beginBatchChanges();var n=this;t.forEach(function(t){n.remove(t)}),this.endBatchChanges()},clear:function(){var t=this.toArray();this.removeItems(t||[])},batchChanges:function(t){this.beginBatchChanges(),t(this),this.endBatchChanges()},beginBatchChanges:function(){this._batchChangeCounter++},endBatchChanges:function(){this._batchChangeCounter--,0===this._batchChangeCounter?this._notifyChange():this._batchChangeCounter<0&&m$802$0("BRKit.ObservableSet#endBatchChanges: Cannot invoke. Invalid state")},_notifyChange:function(){0===this._batchChangeCounter&&this._batchChanged&&(this._batchChanged=!1,this.changed())},__superMap:{_3n$5p$init:"init",_3n$88$add:"add",_3n$FA$remove:"remove"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.ObservableSet"}});m$238$0=t}();
!function(){"use strict";var e="mixed",t=m$296$0.extend(m$256$0,{staticMembers:{MIXED:e,template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[],classes:["indicator"]},{type:"ELEMENT",tagname:"span",children:[],classes:["title"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"active",truevalue:"active",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"pressed",truevalue:"pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"enabled",falsevalue:"disabled",attributes:{}}],attributes:{role:"checkbox","aria-disabled":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"false",falsevalue:"true",attributes:{},attribute:"aria-disabled"},tabindex:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tabindex",attributes:{},attribute:"tabindex"},title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.Checkbox"},additionalClassNames:m$589$1(["checkbox"]),tabindex:m$545$1({defaultValue:0}),title:m$545$1({render:!0,dynamicContent:!0,defaultValue:""}),value:m$545$1({render:!0,defaultValue:!1}),tooltip:m$545$1(m$539$1("title")),render:function(){if(this.shouldRenderForKey("value")){var t,a=this.get("value");t=a===!0||a!==!1&&null!==a&&void 0!==a&&e,this.$(".indicator").toggleClass("checked",t===!0).toggleClass("not-checked",t===!1).toggleClass("mixed",t===e)}if(this.shouldRenderForKey("title")){var i=this.get("title"),l=!!i&&i.length>0;this.$(".title").toggleClass("show",l).toggleClass("noshow",!l).text(i);
}},didEndTracking:function(){this.__s._4q$aJ$didEndTracking.call(this);var t,a=this.get("value");t=a===e||!a,this.set("value",t)},__superMap:{_4q$aJ$didEndTracking:"didEndTracking"}});m$304$0=t}();
!function(){"use strict";var t=0,e=1,n=2,i=3,r=4,a=5,s=m$626$0.extend({staticMembers:{STATE_POSSIBLE:t,STATE_BEGAN:e,STATE_CHANGED:n,STATE_ENDED:i,STATE_FAILED:r,STATE_RECOGNIZED:a,__QUALIFIED_CLASS_NAME__:"BRKit.UI.GestureRecognizer"},view:null,state:m$629$1({defaultValue:t}),target:null,action:null,event:null,init:function(t){this.__s._4R$Fl$init.call(this,t),this._capturedPointerId=null},reset:function(){this.event=null,this._state=t;var e=this._capturedPointerId;null!==e&&(this.get("view").releasePointerCapture(e),this._capturedPointerId=null)},setPointerCapture:function(t){this._capturedPointerId=t,this.get("view").setPointerCapture(t)},releasePointerCapture:function(t){this.get("view").releasePointerCapture(t),this._capturedPointerId=null},pointerDown:function(t){this.event=this._adjustEventTargetForIpad(t)},pointerUp:function(t){this.event=this._adjustEventTargetForIpad(t)},pointerMove:function(t){this.event=this._adjustEventTargetForIpad(t)},_adjustEventTargetForIpad:function(t){return t.nativeEvent&&t.nativeEvent.target&&(t.target=t.nativeEvent.target),t},performTargetAction:function(){var t=this.get("target"),e=this.get("action");t&&e||m$802$0("Cannot perform target-action pair. requires target and action");var n=m$781$0(e)?t[e]:e;n||m$802$0("Target cannot receive action '"+e+"'");var i=n.call(t,this);return this._resetStateIfNeeded(),i},_resetStateIfNeeded:function(){var t=this._state;switch(t){case a:case r:this.reset()}},__superMap:{_4R$Fl$init:"init"}});m$279$0=s}();
!function(){"use strict";var t=m$279$0.extend({taps:1,throttleDelay:0,_ignoreNextTap:!1,init:function(t){this.__s._4T$Co$init.call(this,t),this._tapsTimeoutHandler=this._tapsTimeout.bind(this),this._timeoutHandle=null},reset:function(){switch(this._tapCount=0,this._capturedEventTarget=null,this._clearTimeoutIfNeeded(),this.get("state")){case m$279$0.STATE_POSSIBLE:var t=this._capturedPointerId;null!==t&&this.get("view").releasePointerCapture(evt.get("pointerId"));break;case m$279$0.STATE_BEGAN:this.set("state",m$279$0.STATE_FAILED),this.performTargetAction()}this.__s._4T$Qg$reset.apply(this,arguments)},pointerDown:function(t){switch(this.__s._4T$Rb$pointerDown.call(this,t),this.get("state")){case m$279$0.STATE_POSSIBLE:this._capturedEventTarget=t.target,this.setPointerCapture(t.pointerId),this._tapCount=0,this._startTimeoutIfNeeded(),this.set("state",m$279$0.STATE_BEGAN),this.performTargetAction()}},pointerUp:function(t){if(this.__s._4T$ZJ$pointerUp.call(this,t),!this._ignoreNextTap)switch(this.get("state")){case m$279$0.STATE_BEGAN:this.releasePointerCapture(t.pointerId),this._tapCount++;var e=this._tapCount;e===this.taps&&(this._clearTimeoutIfNeeded(),t.target===this._capturedEventTarget?(this.set("state",m$279$0.STATE_RECOGNIZED),this.performTargetAction(),this._ignoreNextTap=!0,this._throttleTimeout=m$799$0(function(){this._ignoreNextTap=!1}.bind(this),this.throttleDelay)):this.set("state",m$279$0.STATE_POSSIBLE))}},pointerCancel:function(t){switch(this.__s._4T$11f$pointerCancel.apply(this,arguments),this.get("state")){case m$279$0.STATE_BEGAN:this.set("state",m$279$0.STATE_FAILED),
this.performTargetAction()}},_tapsTimeout:function(){switch(this.get("state")){case m$279$0.STATE_BEGAN:this.set("state",m$279$0.STATE_FAILED),this.performTargetAction()}},_startTimeoutIfNeeded:function(){this.get("taps")>1&&(this._timeoutHandle=m$799$0(this._tapsTimeoutHandler,650))},_clearTimeoutIfNeeded:function(){var t=this._timeoutHandle;null!==t&&(clearTimeout(t),this._timeoutHandle=null)},__superMap:{_4T$Co$init:"init",_4T$Qg$reset:"reset",_4T$Rb$pointerDown:"pointerDown",_4T$ZJ$pointerUp:"pointerUp",_4T$11f$pointerCancel:"pointerCancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.GestureRecognizers.TapGestureRecognizer"}});m$281$0=t}();
!function(){"use strict";function e(e){for(var t,i=e;i;){if(t=i.view)return t;i=i.parentElement}return null}var t=500,i=m$563$1("BRKit.UI.Views.CollectionViewSelectionMode",function(e){e("None"),e("Individual"),e("Multiple")}),l=m$329$0.extend(m$544$0,{staticMembers:{SelectionMode:i,__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.CollectionView"},additionalClassNames:m$589$1(["collection"]),delegate:null,visibleIndexRange:m$629$1({readOnly:!0,get:function(e,t,i,l){var n=this._visibleIndexRange;return n?m$244$0.create(n.start,n.end):m$244$0.EMPTY}}),visibleCells:m$629$1({readOnly:!0,get:function(e,t,i,l){return this._currentCellList}}),selectedIndexes:m$545$1({readOnly:!0,get:function(e,t,i,l){return this._selectedIndexes}}),selectionMode:i.Multiple,init:function(e){this.__s._4r$Ta$init.call(this,e),this._selectedIndexes=m$245$0.create(),this._currentCellList=[],this._nextCellList=[],this._lastSelectedIndex=null,this._lastSelectedRange=null,this._cursorIndex=-1,this._selectingCell=null,this._visibleIndexRange=null,this._scrollCellUpdateStrategy=s.create({view:this}),this._contentChangeCellUpdateStrategy=d.create({view:this}),this._currentCellUpdateStrategy=this._scrollCellUpdateStrategy;var i=this._singleTapGestureRecognizer=m$281$0.create({target:this,action:this._handleSingleTapGesture}),l=this._doubleTapGestureRecognizer=m$281$0.create({taps:2,target:this,action:this._handleDoubleTapGesture,throttleDelay:t});this.addGestureRecognizer(i),this.addGestureRecognizer(l),this._cellsCache=m$236$0.create()},selectItemAtIndex:function(e){var t=this.get("selectionMode"),l=t!==i.None,n=t===i.Individual,s=(t===i.Multiple,
this._selectedIndexes);if(l){n&&this.deselectAllItems(),s.addValue(e);var d=this.getVisibleCellAtItemIndex(e);d&&d.set("selected",!0)}},deselectItemAtIndex:function(e){var t=this.get("selectionMode"),l=t!==i.None;t===i.Individual,t===i.Multiple,this._selectedIndexes;if(l){this._selectedIndexes.removeValue(e);var n=this.getVisibleCellAtItemIndex(e);n&&n.set("selected",!1)}},deselectAllItems:function(){var e=this._selectedIndexes;e.get("isEmpty")||(e.clear(),this.refreshCellSelection())},reload:function(){this.clearAllVisibleCells()},reloadItemAtIndex:function(e){this._reloadRange(m$244$0.createAsPoint(e))},reloadItemsInRange:function(e){this._reloadRange(e)},reloadVisibleItems:function(){this._reloadRange(this.get("visibleIndexRange"))},reloadForContentChanges:function(e,t){this._contentChangesReloadInfo={changes:e,completionCallback:t},this.didBeginReloadForContentChanges(e)},didBeginReloadForContentChanges:function(e){},didEndReloadForContentChanges:function(e){},getVisibleCellAtItemIndex:function(e){var t=this.get("visibleIndexRange"),i=this.get("visibleCells");return t!==m$244$0.EMPTY&&t.containsValue(e)?i[e-t.minValue]:null},getItemIdentifierForCell:function(e){return this.delegate.collectionViewGetItemIdentifierForCell(this,e)},getItemIdentifierForIndex:function(e){return this.delegate.collectionViewGetItemIdentifierForIndex(this,e)},clearAllVisibleCells:function(){for(var e,t,i=this._currentCellList,l=this.delegate,n=i.length,s=this._cellsCache,d=0;d<n&&(e=i[d],e);d++)l.collectionViewShouldReuseCell(this,e)&&(t=l.collectionViewGetReuseIdentifierForCell(this,e),l.collectionViewPrepareReusableCell(this,e),
s.queueItemForKeyIdentifier(e,t),e.endDisplay(),e.set("index",null),e.set("selected",!1)),i[d]=null;s.flush(),this._visibleIndexRange=null},adjustVisibleIndexRange:function(e,t){this.willAdjustVisibleIndexRange(e,t);var i=this._visibleIndexRange||null,l=this._currentCellList,n=this._nextCellList,s=this._cellsCache,d=this.getCellUpdateStrategy();n[t-e+1]=null,d.set("fromVisibleIndexRange",i),d.set("fromCellList",l),d.set("toCellList",n),d.updateCellsForVisibleIndexRange(e,t),s.flush();for(var r=l.length,o=0;o<r;o++)l[o]=null;i||(this._visibleIndexRange=i={}),i.start=e,i.end=t,this._currentCellList=n,this._nextCellList=l,this.didAdjustVisibleIndexRange()},getCellUpdateStrategy:function(){var e=this._scrollCellUpdateStrategy;return this._contentChangesReloadInfo&&(e=this._contentChangeCellUpdateStrategy),e},willAdjustVisibleIndexRange:function(e,t){},didAdjustVisibleIndexRange:function(){var e=this._contentChangesReloadInfo;if(e){var t=e.changes,i=e.completionCallback;this._contentChangesReloadInfo=null,this.didEndReloadForContentChanges(t),i&&i(this)}},didGetCellForIndex:function(e,t){},didReloadCells:function(){},wheel:function(e){return this._selectingCell?(e.preventDefault(),!0):this.__s._4r$2Jd$wheel.call(this,e)},_reloadRange:function(e){var t=this.get("visibleIndexRange");if(t.intersectsRange(e)){for(var i,l,n=(this.delegate,t.minValue),s=t.maxValue,d=this._currentCellList,r=(this._cellsCache,n);r<s;r++)e.containsValue(r)&&(i=r-n,l=d[i],this.releaseCellForVisibleIndex(l,r),l=this.acquireCellForVisibleIndex(r),d[i]=l);this._cellsCache.flush(),this.didReloadCells()}},releaseCellForVisibleIndex:function(e,t){
var i,l=this.delegate,n=this._cellsCache;e.endDisplay(),l.collectionViewDidEndDisplayingCellForIndex(this,e,t),l.collectionViewShouldReuseCell(this,e)?(i=l.collectionViewGetReuseIdentifierForCell(this,e),l.collectionViewPrepareReusableCell(this,e),n.queueItemForKeyIdentifier(e,i)):this.removeSubview(e)},acquireCellForVisibleIndex:function(e){var t,i=this.delegate,l=this._cellsCache,n=i.collectionViewGetCellReuseIdentifierForIndex(this,e);return n&&(t=l.dequeueItemForKeyIdentifier(n)),t?(t.beginDisplay(),i.collectionViewWillDisplayReusableCellForIndex(this,t,e)):(t=i.collectionViewGetCellForIndex(this,e),t||m$802$0("Require a grid view cell for index "+e,{view:this}),t.beginDisplay(),this.didGetCellForIndex(t,e),this.addSubview(t)),t.set("index",e),t.set("selected",this.get("selectedIndexes").containsValue(e)),t},refreshCellSelection:function(){for(var e,t=this.get("selectedIndexes"),i=this.get("visibleCells"),l=i.length,n=0;n<l&&(e=i[n],e);n++)e.set("selected",t.containsValue(e.get("index")))},_handleSingleTapGesture:function(e){if(2!==e.get("event").button)switch(e.get("state")){case m$279$0.STATE_BEGAN:1===this.getPath("selectedIndexes.size")&&(this._mayBeActivatingIndex=this.getPath("selectedIndexes.first")),this._beginSelectionForEvent(e.get("event"));break;case m$279$0.STATE_RECOGNIZED:if(this._endSelectionForEvent(e.get("event")),1===this.getPath("selectedIndexes.size")&&this.getPath("selectedIndexes.first")===this._mayBeActivatingIndex&&this._mayBeActivatingIndex>=0){var t=this.delegate,i=this.getPath("selectedIndexes.first"),l=this.getVisibleCellAtItemIndex(i);l&&t.collectionViewCellDidActivateAtIndex&&t.collectionViewCellDidActivateAtIndex(this,l,i,e.get("event"));
}this._mayBeActivatingIndex=-1;break;case m$279$0.STATE_FAILED:this._cancelSelectionForEvent(e.get("event")),this._mayBeActivatingIndex=-1}},_handleDoubleTapGesture:function(e){switch(e.get("state")){case m$279$0.STATE_RECOGNIZED:this._performActionForEvent(e.get("event"))}},_beginSelectionForEvent:function(e){var t=this._findCellForElement(e.target);this._beginSelectionForCellWithModifiers(t,e)},_endSelectionForEvent:function(e){var t=this._findCellForElement(e.target);this._endSelectionForCellWithModifiers(t,e)},_beginSelectionForCellWithModifiers:function(e,t){var i=null;e&&(i=e.get("index")),this._beginSelectionForItemAtIndexWithModifiers(i,t)},_endSelectionForCellWithModifiers:function(e,t){var i=null;e&&(i=e.get("index")),this._endSelectionForItemAtIndexWithModifiers(i,t)},_beginSelectionForItemAtIndexWithModifiers:function(e,t){var l=this.get("selectionMode"),n=this._selectedIndexes;if(l===i.None)return this._selectingIndex=null,this._lastSelectedIndex=null,this._cursorIndex=-1,void(this._lastSelectedRange=m$244$0.EMPTY);if(null===e||e<0)return this._clearSelectedIndexes(),this._cursorIndex=-1,this._lastSelectedRange=null,void(this._lastSelectedIndex=null);var s=this.getVisibleCellAtItemIndex(e);if(this.shouldSelectItemAtIndex(e)){var d=l===i.Multiple,r=t.shiftKey&&d,o=t.metaKey&&m$653$0.get("sharedInstance").get("isMac"),a=t.ctrlKey&&m$653$0.get("sharedInstance").get("isWindows"),c=(o||a)&&d,h=r||c,I=this._lastSelectedRange||m$244$0.EMPTY,u=this._lastSelectedIndex,g=n.containsValue(e);if(h||!g){if(r){var x=m$244$0.create(u||0,e),f=this;I.forEach(function(e){e!==u&&f.shouldDeselectItemAtIndex(e)&&(f.deselectItemAtIndex(e),
f.didDeselectItemAtIndex(e))}),x.forEach(function(e){e!==u&&f.shouldSelectItemAtIndex(e)&&(f.selectItemAtIndex(e),f.didSelectItemAtIndex(e))}),this._lastSelectedRange=x,this._cursorIndex=e}else c?(this._lastSelectedRange=m$244$0.EMPTY,this._lastSelectedIndex=e,g?(this.deselectItemAtIndex(e),this.didDeselectItemAtIndex(e)):(this.selectItemAtIndex(e),this.didSelectItemAtIndex(e),this._cursorIndex=e)):this.shouldHighlightCellForIndex(e)&&s&&s.set("highlighted",!0);this._selectingIndex=h?null:e}else this._selectingIndex=e}},_endSelectionForItemAtIndexWithModifiers:function(e,t){var l=this._selectingIndex,n=this._selectedIndexes,s=this.get("selectionMode"),d=s===i.Multiple,r=(t.shiftKey&&d,t.metaKey&&d);if(this._selectingIndex=null,!(null===l||l<0)){var o=this.getVisibleCellAtItemIndex(l),a=this.getVisibleCellAtItemIndex(e);if(a!==o)return void(o&&o.get("highlighted")&&o.set("highlighted",!1));this._lastSelectedIndex=l,this._lastSelectedRange=m$244$0.EMPTY,n.containsValue(l)?r?(this.deselectItemAtIndex(l),this.didDeselectItemAtIndex(l)):(this._clearSelectedIndexes(),this.selectItemAtIndex(l),this.didSelectItemAtIndex(l),this._cursorIndex=l):(o&&o.get("highlighted")&&o.set("highlighted",!1),this._clearSelectedIndexes(),this.selectItemAtIndex(l),this.didSelectItemAtIndex(l),this._cursorIndex=l)}},_cancelSelectionForEvent:function(e){var t=this._findCellForElement(e.target),i=(t?t.get("index"):null,this._selectingIndex),l=this._selectedIndexes;if(this._selectingIndex=null,!(null===i||i<0)){var n=this.getVisibleCellAtItemIndex(i);return t!==n?void(n&&n.get("highlighted")&&n.set("highlighted",!1)):void(l.containsValue(i)||(this._clearSelectedIndexes(),
l.addValue(i),this.didSelectItemAtIndex(i),this._cursorIndex=i))}},_clearSelectedIndexes:function(){var e=this._selectedIndexes,t=this;if(!e.get("isEmpty")){var i=e.filter(function(e){return t.shouldDeselectItemAtIndex(e)});i.forEachValue(function(e){t.deselectItemAtIndex(e),t.didDeselectItemAtIndex(e)})}},_performActionForEvent:function(e){var t=this._findCellForElement(e.target);if(t){var i=t.get("index");this.shouldPerformActionForItemAtIndex(i)&&this.performActionForItemAtIndex(i)}},shouldPerformActionForItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewShouldPerformActionForItemAtIndex:null;return!!i&&i.call(t,this,e)},performActionForItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewPerformActionForItemAtIndex:null;i&&i.call(t,this,e)},_findCellForElement:function(t){for(var i=e(t);i;){if(i.isCollectionViewCell)return i;if(i===this)return null;i=i.get("parent")}return null},shouldHighlightCellForIndex:function(e){var t=this.delegate,i=t?t.collectionViewShouldHighlightCellForIndex:null;i&&i.call(t,this,e)},shouldSelectItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewShouldSelectItemAtIndex:null;return!i||i.call(t,this,e)},shouldDeselectItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewShouldDeselectItemAtIndex:null;return!i||i.call(t,this,e)},didSelectItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewDidSelectItemAtIndex:null;i&&i.call(t,this,e)},didDeselectItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewDidDeselectItemAtIndex:null;i&&i.call(t,this,e)},__superMap:{_4r$Ta$init:"init",_4r$2Jd$wheel:"wheel"
}}),n=m$626$0.extend({view:null,fromVisibleIndexRange:null,fromCellList:null,toCellList:null,updateCellsForVisibleIndexRange:function(e,t){},releaseCellForVisibleIndex:function(e,t){this.get("view").releaseCellForVisibleIndex(e,t)},acquireCellForVisibleIndex:function(e){return this.get("view").acquireCellForVisibleIndex(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.CollectionViewCellUpdateStrategy$305"}}),s=n.extend({updateCellsForVisibleIndexRange:function(e,t){var i,l,n,s=this.get("fromVisibleIndexRange"),d=s?s.start:null,r=s?s.end:null,o=this.get("fromCellList"),a=this.get("toCellList");if(s)for(i=d;i<=r;i++)(i<e||i>t)&&(n=i-d,l=o[n],this.releaseCellForVisibleIndex(l,i));for(i=e;i<=t;i++)n=i-e,l=s&&i>=d&&i<=r?o[i-d]:this.acquireCellForVisibleIndex(i),a[n]=l},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ScrollCellUpdateStrategy$305"}}),d=n.extend({updateCellsForVisibleIndexRange:function(e,t){var i,l,n,s,d=this.get("fromVisibleIndexRange"),r=(d?d.start:null,d?d.end:null,this.get("fromCellList")),o=this.get("toCellList"),a={},c=this._getItemIDsForCells(r),h=this._getItemIDsForIndexRange(e,t);for(i=0,l=c.length;i<l;i++)n=c[i],a[n]=r[i];for(i=0,l=h.length;i<l;i++)n=h[i],a[n]?(s=a[n],s.set("index",i+e),o[i]=s,a[n]=null):(s=this.acquireCellForVisibleIndex(i+e),o[i]=s);for(i=0,l=c.length;i<l;i++)n=c[i],a[n]&&(s=a[n],this.releaseCellForVisibleIndex(s,s.get("index")))},_getItemIDsForCells:function(e){for(var t=[],i=0,l=e.length;i<l;i++){var n=e[i];if(!n)break;var s=this.get("view").getItemIdentifierForCell(e[i]);t.push(s)}return t},_getItemIDsForIndexRange:function(e,t){
for(var i=[],l=e;l<=t;l++){var n=this.get("view").getItemIdentifierForIndex(l);i.push(n)}return i},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ContentChangeCellUpdateStrategy$305"}});m$305$1=i,m$305$0=l}();
!function(){"use strict";var t=[],e=0,i=1,n=[],o=0,s=1,r=m$563$1("BRKit.UI.GridViewColumnWidthConstraint",["Fixed","Full"]),a=m$626$0.extend({type:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.GridViewColumnWidthConstraint"}}),h=a.extend({type:r.Fixed,value:0,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.FixedGridViewColumnWidthConstraint$314"}}),d=a.extend({type:r.Full,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.FullGridViewColumnWidthConstraint$314"}});d.instance=d.create(),a.Fixed=function(t){return h.create({value:t})},a.Full=function(){return d.instance};var l=m$305$0.extend({additionalClassNames:m$589$1(["grid"]),delegate:null,columnWidth:m$629$1({defaultValue:function(){return a.Fixed(40)}}),rowHeight:20,columnSpacing:0,autoExpandColumnSpacing:!1,rowSpacing:0,minimumColumnSpan:1,padding:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._padding}}),anchorIndex:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._anchorIndex}}),itemCount:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._itemsCount}}),preferredSize:m$629$1({readOnly:!0,get:function(t,e,i,n){var o=this._itemsCount,s=this._getGridContentInfoForItemsCountAndAnchorIndex(o,0),r=m$234$0.create(s.contentWidth,s.contentHeight);return r}}),init:function(t){this.__s._4_$mw$init.call(this,t),t&&t.padding?this._padding=t.padding:this._padding={top:0,left:0,right:0,bottom:0},this._itemsCount=0,this._anchorIndex=0,this._anchorOffsetY=0,this._itemsIndexShift=0,this._allowScrollAnimationInterruption=!0,this.addScrollDragRegion(m$274$1.create({direction:m$274$1.Direction.Up
})),this.addScrollDragRegion(m$274$1.create({direction:m$274$1.Direction.Down}))},shouldContinueCurrentScrollAnimationForContentOffset:function(t,e){return!this._allowScrollAnimationInterruption},reload:function(){this.__s._4_$_B$reload.call(this);var t=this.delegate,e=t?t.gridViewGetAnchorIndexForReload:null,i=e?e.call(t,this):0;this._itemsCount=t.getItemCountForGridView(this),this._anchorIndex=i,this._adjustScrollContentDimensions(),0===i&&this.adjustContentOffset(0,0)},didBeginReloadForContentChanges:function(t){var e=this.delegate;this._itemsCount=e.getItemCountForGridView(this),this._anchorIndex=e.gridViewGetAnchorIndexForContentChanges(this,t),this._adjustScrollContentDimensions()},scrollToCursorIndex:function(){var t=this._cursorIndex;t&&this.scrollToItemAtIndexIntoVisibleRegion(t,!1)},scrollToItemAtIndexIntoVisibleRegion:function(t,i){var n=this._itemsCount,o=this._anchorIndex,s=this._getGridContentInfoForItemsCountAndAnchorIndex(n,o),r=this._getInfoForItemAtIndexAndGridContentInfo(t,s),a=r.offsetY,h=this.get("contentOffset").y,d=this.get("frame").get("height"),l=s.rowHeight,u=s.rowSpacing,c=Math.round(u/2),m=m$244$0.create(h,d+h),_=m$244$0.create(a,l+a),f=0,g=_.containsValue(m.minValue)||_.maxValue<=m.minValue,I=_.containsValue(m.maxValue)||_.minValue>=m.maxValue;if(g)f=a-c,f<0&&(f=0);else if(I){m.maxValue-_.maxValue;f=_.minValue-d+l+c,f+d>s.padddedContentHeight&&(f=s.padddedContentHeight-d)}var C=null;if(g||I){var p=this._getRowRangeForContentOffsetY(f),x=p[e],$=s.itemsIndexShift,S=x>0||0===$;this._allowScrollAnimationInterruption=S,C=this.adjustContentOffset(0,f,i),
S||(C=C.then(function(){return this._allowScrollAnimationInterruption=!0,m$242$0.resolve()}.bind(this)))}else i&&(C=m$242$0.resolve(this));return C},layoutSubviews:function(){this.__s._4_$1us$layoutSubviews.call(this);var t=this.get("contentOffset"),e=this._getVisibleIndexRangeForContentOffsetY(t.y),i=e[o],n=e[s],r=this._itemsIndexShift;this._anchorIndex=i,i<0?(i=0,n+=r,n>this._itemsCount-1&&(n=this._itemsCount-1),this._anchorIndex=0,this._itemsIndexShift=0,this.adjustVisibleIndexRange(i,n),this._adjustScrollContentDimensions()):this.adjustVisibleIndexRange(i,n)},didAdjustVisibleIndexRange:function(){this.__s._4_$2Ap$didAdjustVisibleIndexRange.call(this),this._positionVisibleCells()},didReloadCells:function(){this._positionVisibleCells()},frameBoundsDidChange:function(t){this.__s._4_$2Dp$frameBoundsDidChange.call(this,t),this._adjustScrollContentDimensions()},frameDidInvalidate:function(){this.__s._4_$2Ff$frameDidInvalidate.call(this),this._adjustScrollContentDimensions()},_getColumnWidthValue:function(){var t=this.get("columnWidth");switch(t.type){case r.Fixed:return t.value;case r.Full:var e=this.get("padding"),i=this.get("frame"),n=i.get("width")-e.left-e.right;return n;default:return t}},_positionVisibleCells:function(){var t=this.get("contentOffset"),e=(t.x,t.y),i=this.get("padding"),n=this.get("visibleIndexRange");if(n)for(var o,s,r,a,h=n.start,d=n.end,l=this._columnCount,u=this.rowHeight,c=this.rowSpacing,m=this._getColumnWidthValue(),_=this._columnSpacing,f=this._itemsIndexShift,g=this._anchorIndex,I=this.get("visibleCells"),C=Math.floor((h+f)/l),p=C,x=0,$=i.left,S=C*(u+c)+i.top,w=this._columnSpacePadding,A=Math.round(w/2),v=h;v<=d;v++)o=v-h,
s=I[o],r=$+A,a=S,s.adjustPosition(r,a),s.adjustSize(m,u),v===g&&(this._anchorOffsetY=e-a),x===l-1?(p++,x=0,S+=u+c,$=i.left):(x++,$+=m+_)},_columnCount:0,_rowCount:0,_columnSpacing:0,_columnSpacePadding:0,_adjustScrollContentDimensions:function(){var t=this._itemsCount,e=this._anchorIndex,i=this._getGridContentInfoForItemsCountAndAnchorIndex(t,e),n=this._itemsIndexShift=i.itemsIndexShift,o=this._columnCount=i.columnCount;this._rowCount=i.rowCount,this._columnSpacing=i.columnSpacing;this._columnSpacePadding=i.columnSpacePadding;var s=i.paddedContentWidth,r=i.paddedContentHeight;if(e>0||this._anchorOffsetY>0){var a=this.get("padding"),h=this.get("frame"),d=(h.get("width"),h.get("height")),l=Math.floor((e+n)/o),u=l*(this.rowHeight+this.rowSpacing)+a.top,c=u+this._anchorOffsetY;r<=d?c=0:c+d>r&&(c=r-d),this.adjustContentOffset(0,c)}this.adjustContentSize(s,r)},_getGridContentInfoForItemsCountAndAnchorIndex:function(t,e){var i=(this.delegate,this._getColumnWidthValue()),n=this.rowHeight,o=this.columnSpacing,s=this.rowSpacing,r=this.minimumColumnSpan,a=this.get("frame"),h=a.get("width"),d=(a.get("height"),this.get("padding")),l=0,u=0,c=r+o*(r-1),m=0,_=0;h-=d.left+d.right;var f=Math.floor(h/(i+o));l=t>0?f*i+o*(f-1):0;var g=h-l;i+o<g&&(f++,l+=i+o),t>0&&c>l&&(l=c,f=r),e>0&&(m=Math.abs(Math.ceil(e/f)*f-e),t+=m);var I=Math.ceil(t/f);u=I*n+s*(I-1),this.get("autoExpandColumnSpacing")&&t>f&&(_=Math.round((h-l)/f),o+=_);var C=l+d.left+d.right,p=u+d.top+d.bottom;return{columnWidth:i,rowHeight:n,rowSpacing:s,columnSpacing:o,columnSpacePadding:_,padding:d,contentWidth:l,contentHeight:u,paddedContentWidth:C,
paddedContentHeight:p,itemsIndexShift:m,columnCount:f,rowCount:I,itemsCount:t,anchorIndex:e}},_getInfoForItemAtIndexAndGridContentInfo:function(t,e){var i=e.padding,n=e.columnSpacing,o=e.rowSpacing,s=e.rowHeight,r=e.columnWidth,a=e.columnCount,h=e.itemsIndexShift+t,d=Math.floor(h/a),l=h>=a?h%(d*a):h,u=i.left+l*r+l*n,c=i.top+d*s+d*o;return{index:t,row:d,column:l,offsetX:u,offsetY:c}},_getRowRangeForContentOffsetY:function(n){var o=this.get("contentSize"),s=this.get("padding"),r=this.get("frame"),a=(this._rowCount,this._columnCount,this._itemsIndexShift),h=(this._itemsCount+a,r.get("height")),d=this.rowSpacing,l=n-s.top,u=h+(l<0?l:0);s.top+o.height<n+h&&(u=s.top+o.height-n),l<0&&(l=0);var c=this.rowHeight+d,m=Math.floor(l/c);(m+1)*c-d<l&&(m+=1);var _=Math.ceil((l+u)/c)-1,f=t;return f[e]=m,f[i]=_,f},_getVisibleIndexRangeForContentOffsetY:function(t){var r=this._getRowRangeForContentOffsetY(t),a=r[e],h=r[i],d=this._columnCount,l=a*d,u=h*d+(d-1),c=this._itemsIndexShift,m=this._itemsCount+c;m-1<u&&(u-=u-(m-1)),l-=c,u-=c;var _=n;return _[o]=l,_[s]=u,_},handleKeyDown:function(t){if(this.__s._4_$4yW$handleKeyDown.apply(this,arguments))return!0;var e=this._columnCount,i=this._itemsCount,n=this._cursorIndex,o=n,s=Math.floor(n/e),r=this.delegate;switch(null===n&&(n=0),t.which){case m$688$0.DOWN:if(t.preventDefault(),t.metaKey||t.ctrlKey){if(n<0||n>=i)return!0;r.collectionViewShouldPerformActionForItemAtIndex(this,n)&&r.collectionViewPerformActionForItemAtIndex(this,n)}else o<0?o=0:(o+=e,o>i&&(o=i-1,Math.floor(o/e)===s&&(o=n))),this._selectItemAtIndexWithModifiers(o,t);return!0;case m$688$0.UP:
return!t.metaKey&&!t.ctrlKey&&(o<0?o=0:(o-=e,o<0&&(o=n)),this._selectItemAtIndexWithModifiers(o,t),t.preventDefault(),!0);case m$688$0.RIGHT:return!t.metaKey&&!t.ctrlKey&&(o++,Math.floor(o/e)!==s&&(o=n),this._selectItemAtIndexWithModifiers(o,t),t.preventDefault(),!0);case m$688$0.LEFT:return!t.metaKey&&!t.ctrlKey&&(o--,Math.floor(o/e)!==s&&(o=n),this._selectItemAtIndexWithModifiers(o,t),t.preventDefault(),!0);case 9:return t.preventDefault(),!0;case 65:if(t.metaKey||t.ctrlKey)return this._selectItemAtIndexWithModifiers(0,{},!1),this._selectItemAtIndexWithModifiers(i,{shiftKey:!0},!1),t.preventDefault(),!0}return!1},selectItemAtIndexWithModifiers:function(t,e,i){this._selectItemAtIndexWithModifiers(t,e,i)},_selectItemAtIndexWithModifiers:function(t,e,i){if(!isNaN(t)){var n=this._itemsCount;if(t<0&&t++,t>=n&&(t=n-1),!(t<0)){i!==!1&&this.scrollToItemAtIndexIntoVisibleRegion(t,!0),this._beginSelectionForItemAtIndexWithModifiers(t,e),this._endSelectionForItemAtIndexWithModifiers(t,e);var o=this.getVisibleCellAtItemIndex(t);if(o){var s=o.get("element");s&&s.focus&&s.focus()}}}},__superMap:{_4_$mw$init:"init",_4_$_B$reload:"reload",_4_$1us$layoutSubviews:"layoutSubviews",_4_$2Ap$didAdjustVisibleIndexRange:"didAdjustVisibleIndexRange",_4_$2Dp$frameBoundsDidChange:"frameBoundsDidChange",_4_$2Ff$frameDidInvalidate:"frameDidInvalidate",_4_$4yW$handleKeyDown:"handleKeyDown"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.GridView"}});m$314$1=a,m$314$0=l}();
!function(){"use strict";var e=m$314$0.extend(m$212$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["file-grid-content"],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"contentOpacity",attributes:{},unit:null,property:"opacity"}}}],styles:{overflow:"hidden"},attributes:{role:"list",tabindex:"0"}},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.FileGridView"},left:m$212$1(0),opacity:m$212$1(1),contentOpacity:m$212$1(1),addSubview:function(e,t){return void 0===t&&(t=".file-grid-content"),this.__s._2o$I9$addSubview.call(this,e,t)},removeSubview:function(e,t){return void 0===t&&(t=".file-grid-content"),this.__s._2o$Kq$removeSubview.call(this,e,t)},_drawFrame:m$557$1("left","opacity",function(e,t){this.get("style").translate(e,0,0).set("opacity",t)}),__superMap:{_2o$I9$addSubview:"addSubview",_2o$Kq$removeSubview:"removeSubview"}});m$176$0=e}();
!function(){"use strict";var t=m$626$0.extend({leftButton:null,rightButton:null,titleLabel:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.NavigationItem"}});m$287$0=t}();
!function(){"use strict";var t=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"value",attributes:{escape:"false"}}],classes:["inner"]}],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.LabelView"},additionalClassNames:m$589$1(["label"]),value:m$545$1(""),tooltip:m$545$1(m$539$1("value")),_valueDidChange:m$557$1("value",function(t){this.get("isAttachedToWindow")&&this.notifyParentOfDynamicContentChange()})});m$320$0=t}();
!function(){"use strict";var n=function(n){return m$629$1(function(){return n.bind(this)})};m$339$0=n}();
!function(){"use strict";function t(t,i,e,n,s,a){a=Math.min(n/2,s/2,void 0===a?1/0:a),t.beginPath(),t.moveTo(i+a,e),t.arcTo(i+n,e,i+n,e+s,a),t.arcTo(i+n,e+s,i,e+s,a),t.arcTo(i,e+s,i,e,a),t.arcTo(i,e,i+n,e,a),t.closePath(),t.fill()}var i=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"canvas",children:[],classes:["br-spinner-view"]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.SpinnerView"},revolutionTime:600,tickCount:12,tickReach:.54375,tickWidth:(12-90/255)/64,spin:m$545$1(!1),isAnimating:m$545$1(!1),_tickOpacities:{12:[0,25,61,89,117,145,158,173,189,199,204,212].map(function(t){return(255-t)/255})},init:function(){this.__s._5F$jv$init.apply(this,arguments),this._canvas=this.get("element"),this._context=this._canvas.getContext("2d")},_startOrStopAnimation:m$557$1("isAnimating",function(t){this._compStyle=null,t?(this._animStartTime=Date.now(),this._drawStep(0),this._tick()):this.isInitialized&&this._drawStep(0)}),_tick:m$339$0(function(){if(this.get("isAnimating")){m$225$0.requestAnimationFrame(this._tick);var t=this.tickCount,i=this.revolutionTime/t,e=Date.now()-this._animStartTime,n=(e/i|0)%t;n!==this._currentStep&&this._drawStep(n)}}),didMoveToWindow:function(t){this.__s._5F$17W$didMoveToWindow.call(this,t),this._toggleSpinAnimation()},_spinDidChange:m$557$1("spin",function(t){this._toggleSpinAnimation()}),_spv_visibleDidChange:m$557$1("visible",function(t){this._toggleSpinAnimation()}),_toggleSpinAnimation:function(){var t=this.get("isAttachedToWindow"),i=this.get("spin"),e=this.get("visible");this.set("isAnimating",t&&i&&e)},_drawStep:function(t){var i=this.get("element"),e=m$648$0.get("sharedInstance");
if(e.get("isFirefox")&&!this._compStyle){var n=document.defaultView.getComputedStyle(i,null);if(!n)return;this._compStyle=n}this._ensureStyleInfo();var s=this._usesImageBG,a=this._imageBG;if(this._hasStyleInfo&&(!s||a)){this._currentStep=t;var o=this._canvas,h=this._context,r=s?a.pixelRatio:m$653$0.get("sharedInstance").get("devicePixelRatio"),c=this._visualSize*r;c!==o.width||c!==o.height?o.width=o.height=c:h.clearRect(0,0,c,c),this._backingSize=c,h.save(),h.translate(c/2,c/2),h.rotate(2*t*Math.PI/this.tickCount),e.get("isIE9OrLower")&&h.rotate(2*Math.PI),this._usesImageBG?this._drawImageContent():this._drawGeneratedContent(),h.restore()}},_drawImageContent:function(){var t=this._imageBG,i=this._context,e=this._backingSize;t&&i.drawImage(t,-e/2,-e/2,e,e)},_drawGeneratedContent:function(){var t=this._context,i=this._backingSize,e=this.tickCount;t.fillStyle=this._color;for(var n=0;n<e;n++)t.globalAlpha=this._opacityForTickOfCount(n,e),this.drawTick(t,i),t.rotate(-2*Math.PI/e);t.globalAlpha=1},drawTick:function(i,e,n){var s=this.tickReach*e/2,a=this.tickWidth*e/2;t(i,-a/2,-e/2,a,s)},_opacityForTickOfCount:function(t,i){var e=this._tickOpacities[i];if(e)return e[t];var n=2/i,s=t/(i-1),a=Math.pow(s,.6),o=.5-.5*Math.cos(a*Math.PI),h=.7*o+.3*a;return h*n+1*(1-h)},_ensureStyleInfo:function(){if(this._debug||!this._hasStyleInfo&&this._canvas&&this._canvas.parentNode){var t=this.get("style");this._visualSize=Math.round(parseFloat(t.get("width")));var i=this._usesImageBG="url("===(t.get("background-image")||"").slice(0,4);i||(this._color=t.get("color")),this._visualSize&&(this._color||i)&&(this._hasStyleInfo=!0);
}},__superMap:{_5F$jv$init:"init",_5F$17W$didMoveToWindow:"didMoveToWindow"}});m$330$0=i}();
!function(){"use strict";var e=m$763$0(["gif","jpeg","jpg","mp3","mp4","mov","png","txt","wav"]),n={ie9:m$763$0(["mov","mp4","wav","pdf"]),chrome:m$763$0(["mp4","mov"]),firefox:m$763$0(["mp4","mov"])},o=m$763$0(["key","key-tef","keynote","keynote-tef","numbers","numbers-tef","pages","pages-tef"]),t=m$626$0.extend(m$544$0,{staticMembers:{actions:{OPEN_IN_BROWSER:0,DOWNLOAD:1,OPEN_IN_IWORK:2},__QUALIFIED_CLASS_NAME__:"BRApp.Services.OpenFileService"},itemURLService:null,delegate:null,loadBrowser:function(){return m$648$0.get("sharedInstance")},_browserDoesNotSupportExtension:function(e){var o,t=(e.get("extension")||"").toLowerCase(),r=this.loadBrowser();return r.get("isIE9OrLower")?o="ie9":r.get("isChrome")?o="chrome":r.get("isFirefox")&&(o="firefox"),!!o&&n[o][t]},_canOpenFileInBrowser:function(n){return!(!e[(n.get("extension")||"").toLowerCase()]||this._browserDoesNotSupportExtension(n))},_canOpenFileInIWork:function(e){return o[(e.get("extension")||"").toLowerCase()]},openFile:function(e){return this._canOpenFileInBrowser(e)?this._openFileInBrowser(e):this._canOpenFileInIWork(e)?this._openFileInIWork(e):this._downloadFile(e)},_openFileInBrowser:function(e){var n=m$242$0.create(),o=window.open("","_blank");if(o){var t=this.get("itemURLService");return t.getURLForItem(e).then({success:function(e){var t=e.get("url"),r=e.get("item");if(!t)return o&&o.close(),void n.reject(r);var i=t.indexOf("?")===-1?"?":"&";o.location.href=t+i+"cd=i",n.resolve(r)},failure:function(e){o.close(),n.reject(e)}}),n}},_downloadFile:function(e){var n=m$242$0.create(),o=m$34$0.create();return o.downloadFromURL(e).then({
success:function(){n.resolve(e)},failure:function(){n.reject(e,t.actions.DOWNLOAD)}}),n},_openFileInIWork:function(e){var n=e.get("extension");n=n.replace(/-tef$/,"");var o=encodeURIComponent(e.get("name").replace(/\s/g,"_"));n&&"key"===n.toLowerCase()&&(n="keynote");var t=e.get("sharingToken");return t&&(t+="#"+o),m$886$0.get("cloudOSService").openIWorkFile({appName:n,sharingToken:t,zone:e.get("zone"),documentId:e.get("docwsid")}),m$242$0.createAndResolve()}});m$140$0=t}();
!function(){"use strict";var t=m$626$0.extend({init:function(){this._attachments=[],this.__s._Dp$5F$init.apply(this,arguments)},_windowInstanceId:null,openWindow:function(){return m$886$0.get("currentUser").isServiceActive("mail")?void(this._windowInstanceId=m$868$0.openWindowApplication(this.get("_mailComposeURL"),"","width=810,height=677,status=no,toolbar=no")):void m$802$0("Trying to compose email for user without active mail service")},closeWindow:function(){var t,e;this._windowInstanceId&&(t=m$868$0.windowApplications[this._windowInstanceId],t&&(e=t.window,e&&e.close()))},_mailComposeURL:m$629$1({readOnly:!0,get:function(t,e,i,n){return"https://"+window.location.hostname+"/message/current/"+m$565$4()+"/index.html#compose?willPM=true"}}),to:m$629$1(""),cc:m$629$1(""),bcc:m$629$1(""),subject:m$629$1(""),body:m$629$1(""),addAttachment:function(t,e,i,n){this.get("_attachments").push({fileName:t,type:e,size:i,url:n})},_attachments:null,addAttachments:function(t){this._attachments=this._attachments.concat(t)},populateFields:function(){this.get("hasValidAttachments")||m$802$0("You must supply property `type` (mime-type) for every attachment.");var t={to:this.get("to"),subject:this.get("subject"),body:this.get("body"),cc:this.get("cc"),bcc:this.get("bcc"),attachments:this._attachments,appName:m$886$0.cloudOSApplication.capitalizedName};m$868$0.passWindowApplicationMessage(this._windowInstanceId,"populateFields",t)},hasValidAttachments:m$629$1({readOnly:!0,get:function(t,e,i,n){var s=this._attachments;if(s)for(var a=0,o=s.length;a<o;a++)if(!s[a].type)return!1;return!0}}),__superMap:{
_Dp$5F$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.ComposeEmailController"}});m$870$0=t}();
!function(){"use strict";var e=2e7,t=m$626$0.extend({emailSelection:function(t){var a=(t.get("firstRange"),0),o=[];if(t.forEach(function(e){a+=e.get("size"),o.push(e)}),a>e)return this._showAttachmentTooLargeAlert(o),m$242$0.createAndResolve();var i=m$242$0.create(),r=m$870$0.create();return r.openWindow(),this._getDownloadDataForItems(o).then({success:function(e){r.addAttachments(e),r.populateFields(),i.resolve(e)},failure:function(e){r.closeWindow(),i.reject(e)}}),i},_getDownloadDataForItems:function(e,t,a){var o,i,r,n=this;return t=t||m$242$0.create(),a=a||[],e&&0!==e.length?(o=e.shift(),m$38$0.getURLForItem(o).then({success:function(o){var m=o.get("item");i=m.get("fullName");var s=o.get("url");o.get("isPackage")===!0?(i+=".zip",r=m$341$0.zip):(r=m$341$0[(m.get("extension")||"").toLowerCase()],r||(r="application/octet-stream")),a.push({fileName:i,type:r,size:m.get("size"),url:s}),n._getDownloadDataForItems(e,t,a)},failure:function(e){var a=e.get("item");t.reject(a)}}),t):void t.resolve(a)},_showAttachmentTooLargeAlert:function(t){var a,o,i=m$886$0.getPath("cloudOSApplication.rootViewController.view.window"),r=e/1e6;1===t.length?(a=m$565$1("Error.Email.AttachmentTooLarge.Title",{fileName:t[0].get("fullName")}),o=m$565$1("Error.Email.AttachmentTooLarge.Subtitle",{maxFileSizeInMB:r})):(a=m$565$1("Error.Email.AttachmentsTooLarge.Title"),o=m$565$1("Error.Email.AttachmentsTooLarge.Subtitle",{maxFileSizeInMB:r}));var n=m$303$0.create({shortcut:m$688$0.RETURN,additionalClassNames:m$589$1(["ok"]),title:m$565$1("Button.OK"),target:this,action:function(){m.animateClosed(),i.removeRootView(m);
}}),m=m$421$0.create({message:a,description:o,buttonViews:[n]});i.addRootView(m),m.animateOpen()}}).create();m$32$0=t}();
!function(){"use strict";var t=m$626$0.extend(m$544$0,{updated:m$558$0(),value:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.StatusInfoItem"}});m$165$0=t}();
!function(){"use strict";var t=m$165$0.extend({value:m$629$1({readOnly:!0,get:function(t,e,i,a){return this._value}}),isActive:m$629$1({readOnly:!0,get:function(t,e,i,a){return this._active}}),init:function(t){this.__s._2W$97$init.call(this,t),this._active=!1,this._dragService=this.loadDragService()},activate:function(){this._active=!0;var t=this._dragService;this._observer=t.observe("dragTargetInfo",this._dragTargetInfoDidChange.bind(this))},deactivate:function(){this._active=!1;var t=this._observer;t.disconnect(),t.dispose(),this._value=null,this.updated()},loadDragService:function(){return m$264$1()},_dragTargetInfoDidChange:function(t){if(this._active){var e=null;if(t){var i=t.get("data");if(i){var a=i.destinationFolder;if(a){var r,n=a.get("isRoot"),s=a.get("name");switch(t.get("action")){case"move":r="DragDrop.Status.MoveItems";break;case"upload":r="DragDrop.Status.UploadItems"}r&&(n&&(r+=".ToRootContainer"),e=m$565$1(r,{destinationName:s}))}}}this._value=e,this.updated()}},__superMap:{_2W$97$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.DragDrop.MoveItemDragStatusInfoItem"}});m$158$0=t}();
!function(){"use strict";var t=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[],classes:["inner"],attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"headingLevel",truevalue:"heading",attributes:{},attribute:"role"},"aria-level":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"headingLevel",attributes:{},attribute:"aria-level"}}}]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.StatusLabelView"},additionalClassNames:m$589$1(["status","label"]),defaultStatus:m$545$1(""),headingLevel:null,init:function(t){this.__s._37$C3$init.call(this,t),this._statusInfoItems=[],this._statusInfoItemObservers={}},addStatusInfoItem:function(t){this._statusInfoItems.push(t),this._connectToStatusInfoItem(t)},removeStatusInfoItem:function(t){this._diconnectFromStatusInfoItem(t),m$765$0(t,this._statusInfoItems),delete this._statusInfoItemObservers[m$807$0(t)]},render:function(){this.$(".inner").text(this._getStatus()),this.notifyParentOfDynamicContentChange()},didMoveToWindow:function(t){t?this._connectToAllStatusInfoItems():this._diconnectFromAllStatusInfoItems(),this.__s._37$Ob$didMoveToWindow.call(this,t)},_defaultStatusDidChange:m$557$1("defaultStatus",function(t){this.setNeedsRender()}),_getStatus:function(){for(var t=this._statusInfoItems,e=this.get("defaultStatus"),s=0,n=t.length;s<n;s++){var i=t[s].get("value");i&&(e=i)}return e},_connectToAllStatusInfoItems:function(t){for(var e=this._statusInfoItems,s=0,n=e.length;s<n;s++)this._connectToStatusInfoItem(e[s])},_diconnectFromAllStatusInfoItems:function(t){
for(var e=this._statusInfoItems,s=0,n=e.length;s<n;s++)this._disconnectFromStatusInfoItem(e[s])},_connectToStatusInfoItem:function(t){var e=m$807$0(t),s=this._statusInfoItemObservers[e];if(s)s.connect();else{var n=this;s=t.observe("updated",function(t){t&&n._statusInfoItemDidUpdate()}),this._statusInfoItemObservers[e]=s}},_disconnectFromStatusInfoItem:function(t){var e=this._statusInfoItemObservers[m$807$0(t)];e.disconnect()},_statusInfoItemDidUpdate:function(){this.setNeedsRender()},__superMap:{_37$C3$init:"init",_37$Ob$didMoveToWindow:"didMoveToWindow"}});m$196$0=t}();
!function(){"use strict";function e(e,n){t||(t=document.createElement("canvas"),t.width=10,t.height=10,t.style.hidden=!0,document.body.appendChild(t));var d=t.getContext("2d");return d.font=n,d.measureText(e)}var t=null;m$294$0=e}();
!function(){"use strict";function t(t,n,i,s){if(null==n)return t;for(var e=s&&s.insertionStr||u,f=s&&s.numberOfLines||1,h=1,m="",$=[];m.length<t.length;){var a=t.substr(m.length),l=a.match(/^\s*\S+|\s+$/),o=m+l[0],b=m$294$0(o,i).width;if(b<=n)m=o;else{if(h==f){m=r(t,n,e,i);break}""===m&&(m=r(l[0],n,e,i),a=t.substr(l[0].length)),$.push(m),t=a.trim(),m="",h++}}return $.push(m),$.join("\n")}function r(t,r,u,i){var s=r-m$294$0(u,i).width,e=s/2,f=n(t,e,1).trim(),h=n(t,e,-1).trim();return f+u+h}function n(t,r,n){for(var u=0,i=0,s=0,e="",f="",h=t.length;u<h;)if(u++,e=n>0?t.substr(0,u):t.substr(h-u),!t.substr(u-1,u).match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/)){if(i=m$294$0(e).width,i>r)return f;i!==s&&(f=e),s=i}return f}var u="…";m$347$0=t}();
!function(){"use strict";var i=m$296$0.extend({isCollectionViewCell:!0,additionalClassNames:m$589$1(["collection-cell"]),index:0,selected:m$545$1(),highlighted:m$545$1(),isDisplaying:m$629$1({readOnly:!0,get:function(i,s,n,t){return this._displaying}}),init:function(i){this.__s._4s$86$init.apply(this,arguments),this._displaying=!1},beginDisplay:function(){this._displaying=!0,this.$().removeClass("nodisplay")},endDisplay:function(){this._displaying=!1,this.$().addClass("nodisplay")},shouldAutomaticallyForwardSubviewFramesInvalidation:function(){return this._displaying},__superMap:{_4s$86$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.CollectionViewCell"}});m$306$0=i}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"input",children:[],name:"inputNode",classes:["cw-input"],attributes:{type:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"type",attributes:{},attribute:"type"},maxlength:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maxLength",attributes:{},attribute:"maxlength"}}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{}}],name:"placeholderNode",classes:["cw-placeholder",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isPlaceholderShowing",truevalue:"show",attributes:{}}]}],name:"inputContainer",classes:["container"]}],classes:["cw-textfield-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.TextField"},init:function(){this.__s._5G$Xj$init.apply(this,arguments);var e=this.get("inputNode"),t=this.get("isDefaultTabbingEnabled");t||e.setAttribute("tabindex","-1");var i=this.get("placeholder");i&&e.setAttribute("aria-label",i);var n=this.get("allowedCharacters");!n||n instanceof RegExp||m$802$0("Must use only RegExp for TextField character validation."),m$792$0(e,"select",this.handleSelectionChange.bind(this))},delegate:null,isDefaultTabbingEnabled:!0,isDisabled:m$545$1(!1),isEditable:m$545$1(!0),_isPlaceholderShowing:m$545$1({
dependencies:["value"],readOnly:!0,get:function(e,t,i,n){return!n.internalGet(this,t[0+i])}}),maxLength:null,type:"text",placeholder:void 0,value:m$545$1(""),_valueDidChange:m$557$1("value",function(e){var t=this.get("inputNode");t.value!==e&&(this.valueWillChangeInputElement(t.value,e),t.value=e,this.valueDidChangeInputElement(e))}),_elementValueDidChange:function(){var e=this.get("inputNode"),t=this.get("value"),i=e.value;if(t!==i){var n=this.get("isIMEInputActive");if(n)return;var a=this._isValidInput(i);a?(this.elementInputWillChangeValue(t,i),this.set("value",i),this.elementInputDidChangeValue(i)):e.value=t||""}},input:function(e){this._elementValueDidChange()},isFocused:m$545$1(!1),didReceiveFocus:function(){this.set("isFocused",!0)},didReceiveBlur:function(){this.set("isFocused",!1)},pointerDown:function(e){var t=this.get("placeholderNode");e.target===t&&(this.set("isFocused",!0),this.focus())},focus:function(){var e=this.get("inputNode");m$799$0(function(){e.focus()},0)},allowedCharacters:void 0,_isValidInput:function(e){var t=this.get("allowedCharacters");return!t||!e||t.test(e)},isIMEInputActive:m$545$1(!1),compositionStart:function(e){this.set("isIMEInputActive",!0)},compositionEnd:function(e){this.set("isIMEInputActive",!1),this._elementValueDidChange()},compositionUpdate:function(e){},_handleKeyActions:function(e){var t,i=this.delegate,n=this.get("isIMEInputActive");switch(e.which){case m$688$0.RETURN:if(!n&&i&&(t=i.textFieldPerformReturnAction))return t.call(i,this),!0;break;case m$688$0.ESC:if(!n&&i&&(t=i.textFieldPerformEscapeAction))return t.call(i,this),!0}
return!1},keyDown:function(e){if(this._handleKeyActions(e))return!1},handleSelectionChange:function(e){this.propertyChanged("selection")},select:function(){var e=this.get("inputNode");if(e)try{e.select()}catch(e){}},_selection:m$545$1(),_selectionDidChange:m$557$1("_selection",function(e){if(e){var t=this.get("inputNode");this.focus();var i=e.start,n=e.end,a=null,s=m$648$0.get("sharedInstance");if(t.setSelectionRange&&s.isIE===!1)t.setSelectionRange(i,n);else{a=t.createTextRange(),a.move("character",i),a.moveEnd("character",n-i);try{a.select()}catch(e){return null}}}}),selection:m$545$1({cacheable:!1,dependencies:["inputNode"],writeDependencies:["_selection"],get:function(e,t,i,n){var a,s,l,u=n.internalGet(this,t[0+i]),c=null;if(""===u.value?a=s=0:("selectionStart"in u&&(a=u.selectionStart),"selectionEnd"in u&&(s=u.selectionEnd)),null===a||null===s){var r=document.selection;if(r){var o=r.type;!o||"None"!==o&&"Text"!==o||(c=r.createRange(),l=c.text.length,a=Math.abs(c.moveStart("character",0-(u.value.length+1))),s=a+l)}}return l=a===-1||s===-1?-1:s-a,Object.freeze({start:a,end:s,length:l,value:u.value.slice(a,s)})},set:function(e,t,i,n,a){i[0+n]=e},writeDependencySetPathMap:["false"]}),elementInputWillChangeValue:function(e,t){},elementInputDidChangeValue:function(e){},valueWillChangeInputElement:function(e,t){},valueDidChangeInputElement:function(e){},_statusDidChange:m$557$1("isDisabled","isEditable",function(e,t){var i=this.get("inputNode");e?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled"),t?i.removeAttribute("readonly"):i.setAttribute("readonly","readonly");
}),__superMap:{_5G$Xj$init:"init"}});m$331$0=e}();
!function(){"use strict";var e=m$331$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"textarea",children:[],name:"inputNode",classes:["cw-input"],attributes:{type:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"type",attributes:{},attribute:"type"},maxlength:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maxLength",attributes:{},attribute:"maxlength"},size:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},attribute:"size"}}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{}}],name:"placeholderNode",classes:["cw-placeholder",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isPlaceholderShowing",truevalue:"show",attributes:{}}]}],name:"containerNode",classes:["container"]},{type:"ELEMENT",tagname:"span",children:[],name:"resizeNode",classes:["br-resizer"]}],classes:["br-text-area",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isIMEInputActive",truevalue:"ime-input-active",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ResizingTextArea"},keyDown:function(e){if(this.__s._5B$Iz$keyDown.apply(this,arguments),!e.metaKey&&!e.ctrlKey){var t=String.fromCharCode(e.which);/[\w ]/.test(t)&&(this.get("resizeNode").textContent=this.get("value")+t)}},_value_observer_for_resizer:m$557$1("value","element",function(e,t){
t&&(this.get("resizeNode").textContent=""===e?" ":e)}),compositionStart:function(){},compositionEnd:function(){},__superMap:{_5B$Iz$keyDown:"keyDown"}});m$326$0=e}();
!function(){"use strict";var r={draggable:m$545$1(!0),dragSourceHandler:null,dragStart:function(r){var t=this.get("draggable"),a=this.get("dragSourceHandler"),e=!!t&&(!a||a.dragStart(r,this));return e!==!1?(this.resetGestureRecognizers(),this.didStartDragging(r),!0):(r.preventDefault(),!1)},dragEnd:function(r){var t=this.get("dragSourceHandler"),a=!t||t.dragEnd(r,this);return a!==!1&&(r.preventDefault(),this.didEndDragging(r),!0)},drag:function(r){var t=this.get("dragSourceHandler"),a=!t||t.drag(r,this);return a!==!1&&(this.didDrag(r),!0)},didStartDragging:function(r){},didEndDragging:function(r){},didDrag:function(r){},_br_dragsourcehandlersupport_draggableDidChange:m$557$1("draggable","element",function(r,t){t&&t.setAttribute("draggable",r)})};m$267$0=r}();
!function(){"use strict";var r=m$626$0.create({CJK_UNICODE_RANGES:[[4352,4607],[11904,12031],[12032,12255],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[63744,64255],[65072,65103]],characterCodeIsCJK:function(r){if(!r)return!1;for(var t,e=this.CJK_UNICODE_RANGES,i=0,a=e.length;i<a;++i)if(t=e[i],r>=t[0]&&r<=t[1])return!0;return!1},stringIsCJK:function(r){if(r=r&&r.trim(),!r)return!1;for(var t=0,e=r.length-1;t<=e;)if(!this.characterCodeIsCJK(r.charCodeAt(t++))||!this.characterCodeIsCJK(r.charCodeAt(e--)))return!1;return!0},displayNameFor:function(r,t,e){var i;if(r&&t){var a="Localization.DisplayName";this.stringIsCJK(r)&&this.stringIsCJK(t)&&(a+="CJK"),i=m$565$1(a,{firstName:r,familyName:t})}else r?i=r:t&&(i=t);return i||(i=e||""),i}});m$340$0=r}();
!function(){"use strict";var t=["content.share","content.owner"],e={sharedByNameStringWithoutAttribution:m$545$1({dependencies:t,readOnly:!0,get:function(t,e,n,r){var a=this.content,i=a?a.share:null,h=a?a.owner:null;return this._getSharedByNameStringWithoutAttribution(i,h)}}),sharedByNameStringWithAttribution:m$545$1({dependencies:t,readOnly:!0,get:function(t,e,n,r){var a=this.content&&this.content.share,i=this.content&&this.content.owner;return this._getSharedByNameStringWithAttribution(a,i)}}),_getSharedByNameStringWithoutAttribution:function(t,e){if(!t)return"";switch(m$55$0[t]){case m$55$0.TO_ME:var n=e&&e.firstName||"",r=e&&e.lastName||"",a=e&&e.appleId||"";return m$340$0.displayNameFor(n,r,a);case m$55$0.FROM_ME:return m$565$1("Item.Shared.Me");default:return""}},_getSharedByNameStringWithAttribution:function(t,e){if(!t)return"";switch(m$55$0[t]){case m$55$0.TO_ME:var n=e&&e.firstName||"",r=e&&e.lastName||"",a=e&&e.appleId||"",i=m$340$0.displayNameFor(n,r,a);return m$565$1("Item.Shared.Label.SharedToMe",{name:i});case m$55$0.FROM_ME:return m$565$1("Item.Shared.Label.SharedByMe");default:return""}},isShared:m$545$1({readOnly:!0,dependencies:["content.share"],get:function(t,e,n,r){return!!r.internalGetPath(this,e[0+n])}})};m$194$0=e}();
!function(){"use strict";var t=function t(e,r){if(e){if(!e.getFullYear)throw new TypeError("Object passed to date formatter was not a date!");isNaN(e.getTime())&&m$802$0("Invalid date passed to date formatter")}else m$802$0("No date passed to date formatter.");r||m$802$0("No formatting string passed to date formatter. Date: "+e);for(var n=r.length,a=r[0],o=1;o<n;o++)r[o]!==a&&m$802$0("Invalid format string for a date; all characters mustbe the same: "+r+"; date: "+e);var u=t[a];return u||m$802$0("Formatter `"+a+"` not supported for date: "+e),u(e,n)};t.G=function(t,e){var r="Date.Era.";return r+=t.getFullYear()>=0?"AD":"BC",e<=3?m$565$1(r+".Abbreviated"):4===e?m$565$1(r+".Full"):5===e?m$565$1(r+".Letter"):void m$802$0("Invalid era format: Expected at most 5 digits; found "+e+".")},t.y=function(t,e){var r=t.getFullYear();1===e&&(e=r.length);for(var n=Math.abs(r).toString();n.length<e;)n="0"+n;return n=n.substr(n.length-e)},t.Y=t.y,t.u=function(t,e){var r=t.getFullYear();1===e&&(e=r.length);for(var n=t.getFullYear()<0,a=Math.abs(r).toString();a.length<e;)a="0"+a;return a=a.substr(a.length-e),(n?"-":"")+a},t.Q=function(t,e,r){var n=t.getMonth(),a=Math.floor(n/3)+1,o="Date.Quarter."+(r?"StandAlone.":"")+"Q"+a;return 1===e?""+a:2===e?"0"+a:3===e?m$565$1(o+".Abbreviated"):4===e?m$565$1(o+".Full"):void m$802$0("Unrecognized number of characters for quarter: "+e)},t.q=function(e,r){return t.Q(e,r,!0)},t.ENGLISH_MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],t.M=function(e,r,n){var a=e.getMonth(),o=""+(a+1),u="Date.Month."+(n?n:"")+t.ENGLISH_MONTH_NAMES[a];
return 1===r?o:2===r?(o.length<2&&(o="0"+o),o):3===r?m$565$1(u+".Abbreviated"):4===r?m$565$1(u+".Full"):5===r?m$565$1(u+".Letter"):void m$802$0("The # of Ms or Ls must be 1 to 5. Supplied: "+r)},t.L=function(e,r){var n="StandAlone.";return t.M(e,r,n)},t.P=function(e,r){var n="Prepositional.";return t.M(e,r,n)},t.d=function(t,e){var r=""+t.getDate();return e>r.length&&(r="0"+r),r},t.D=function(t,e){var r=new Date(t.getFullYear(),0,1),n=r.getTime(),a=t.getTime()-n,o=Math.floor(a/864e5)+1;for(o=""+o;o.length<e;)o="0"+o;return o},t.ENGLISH_DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.E=function(e,r){return r<3&&(r=3),t.e(e,r)},t.e=function(e,r,n){var a=e.getDay(),o=""+(a+1),u="Date.Day."+(n?"StandAlone.":"")+t.ENGLISH_DAY_NAMES[a];return 1===r?o:2===r?o="0"+o:3===r?m$565$1(u+".Abbreviated"):4===r?m$565$1(u+".Full"):5===r?m$565$1(u+".Letter"):void m$802$0("Unrecognized number of `e`s, `c`s, or `E`s in date format string.")},t.c=function(e,r){return t.e(e,r,!0)},t.a=function(t,e){1!==e&&m$802$0("`a` can only be included in a date format string once.");var r="Date.Period."+(t.getHours()>11?"PM":"AM");return m$565$1(r)},t._h=function(t,e,r,n){var a=t.getHours();r||(a%=12),n&&(r?0===a&&(a=24):0===a&&(a=12));var o=""+a;return o.length<e&&(o="0"+o),o},t.h=function(e,r){return t._h(e,r,!1,1)},t.H=function(e,r){return t._h(e,r,!0,0)},t.K=function(e,r){return t._h(e,r,!1,0)},t.k=function(e,r){return t._h(e,r,!0,1)},t.m=function(t,e){for(var r=""+t.getMinutes();r.length<e;)r="0"+r;return r},t.s=function(t,e){for(var r=""+t.getSeconds();r.length<e;)r="0"+r;
return r},t.S=function(t,e){var r=t.getMilliseconds()/1e3,n=Math.pow(10,e);for(r=Math.round(r*n),r=""+r;r.length<e;)r="0"+r;return r},t.A=function(t,e){var r=new Date(t.getFullYear(),t.getMonth(),t.getDay()).getTime(),n=t.getTime()-r;for(n=""+n;n.length<e;)n="0"+n;return n},m$791$0=t}();
!function(){"use strict";var e=864e5,t=1e3,a=m$626$0.extend({descriptionForDateTime:function(a){var r,i,o,n,s,T,d,m,g,h,D,u=this._sharedDescriptionForDateTimeReturnedObject,l="",C=1/0;return a&&(r=Date.now(),i=a.getTime(),o=(r-i)/6e4,s="DateTime.Relative.",Math.abs(o)<.5?(T="JustNow",C=3e4-60*o*1e3):o<0?(g=this._getSharedTodayDate(),h=g.getTime(),g.getUTCDate()===a.getUTCDate()&&g.getUTCMonth()===a.getUTCMonth()&&g.getUTCFullYear()===a.getUTCFullYear()?(T="Today",m=this._getSharedDateTimeFormatterConfig(),m.time=a,m.timeFormatter=m$791$0):i-h<2*e?T="Tomorrow":(d="DateTime.Absolute.DateOnly",m=this._getSharedDateTimeFormatterConfig(),m.date=a,m.dateFormatter=m$791$0),C=i-r-3e4):o<1.5?(T="OneMinuteAgo",C=9e4-60*o*1e3):(n=Math.round(o))<60?(T="LessThanAnHourAgo",m=this._getSharedDateTimeFormatterConfig(),m.minutes=n,C=60*(1-(o-Math.floor(o)))*1e3):(g=this._getSharedTodayDate(),h=g.getTime(),g.getUTCDate()===a.getUTCDate()&&g.getUTCMonth()===a.getUTCMonth()&&g.getUTCFullYear()===a.getUTCFullYear()?(T="Today",m=this._getSharedDateTimeFormatterConfig(),m.time=a,m.timeFormatter=m$791$0,D=h+e+t,C=D-r):h>i&&h-i<e?(T="Yesterday",D=h+e+t,C=D-r):(d="DateTime.Absolute.DateOnly",m=this._getSharedDateTimeFormatterConfig(),m.date=a,m.dateFormatter=m$791$0))),d||(d=s+T),d&&(l=m$565$1(d,m)),u.str=l,u.ttl=C===1/0?C:Math.round(C),u},_getSharedDateTimeFormatterConfig:function(){var e,t=this._sharedDateTimeFormatterConfig;for(e in t)delete t[e];return t},_getSharedTodayDate:function(){var a,r,i,o=this._sharedTodayDate;return o||(o=this._sharedTodayDate=new Date,a=o.getTime(),o.setUTCHours(o.getUTCHours()-o.getHours()),
o.setUTCMinutes(o.getUTCMinutes()-o.getMinutes()),o.setUTCSeconds(o.getUTCSeconds()-o.getSeconds()),o.setUTCMilliseconds(o.getUTCMilliseconds()-o.getMilliseconds()),r=o.getTime()+e+t,i=r-a,m$799$0(this._invalidateSharedTodayDate.bind(this),i)),o},_invalidateSharedTodayDate:function(){this._sharedTodayDate=null},_sharedDateTimeFormatterConfig:{},_sharedTodayDate:null,_sharedDescriptionForDateTimeReturnedObject:{str:"",ttl:0}}).create();m$420$0=e,m$420$1=a}();
!function(){"use strict";var n=/[:\n\r]/g,r=/[:\n\r\.]/g,e=function(e){if(e.isFolder){if(e.name.match(r))return!1}else if(e.name.match(n))return!1;return!0};m$94$0=e}();
!function(){"use strict";var n=function(n){return 0!==n.name.length&&0!==n.name.trim().length};m$96$0=n}();
!function(){"use strict";var i=function(i,n,e){var t=!1;return t=i.isFile?e.findFileWithNameAndExtension(n,i.extension):e.findFolderWithName(n),!t||t.id===i.id&&i.name===n};m$95$0=i}();
!function(){"use strict";var t,e,i=1,n=2,a=3,s=4,o=m$306$0.extend(m$267$0,m$271$0,m$194$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["showcase-container"]},{type:"ELEMENT",tagname:"div",children:[],classes:["title-container"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subinfoTitle",attributes:{}}],classes:["subinfo"]},{type:"ELEMENT",tagname:"div",children:[],classes:["shared-by-info",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShared",truevalue:"is-shared",attributes:{}}]}],classes:["body",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"selected",truevalue:"selected",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"highlighted",truevalue:"highlighted",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDragTargetFocused",truevalue:"drag-target-focused",attributes:{}}],attributes:{"aria-hidden":"true"}}],attributes:{role:"listitem",tabindex:"-1","aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},"aria-selected":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"selected",attributes:{},attribute:"aria-selected"}}},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.FilesGrid.Cell"},additionalClassNames:m$589$1(["files-grid-item","loaded"]),delegate:null,content:m$545$1({defaultValue:null}),showcaseView:m$629$1({get:function(t,e,i,n){return this._showcaseView},set:function(t,e,i,n,a){var s=this._showcaseView;
s&&this.removeSubview(s,".showcase-container"),s=this._showcaseView=t,s&&this.addSubview(s,".showcase-container")}}),infoButton:m$629$1({readOnly:!0,get:function(t,e,i,n){return this._infoButton}}),_isUploading:!1,_isWaiting:!1,subinfoTitle:m$545$1({dependencies:["content"],readOnly:!0,get:function(t,e,i,n){var a=n.internalGet(this,e[0+i]);if(this._isWaiting)return m$565$1("Upload.Progress.Waiting");if(this._isUploading)return m$565$1("Upload.Progress.Uploading");var s=a&&a.get("dateModified"),o=s&&isNaN(s.getTime());if(!a||a.get("isFolder")||o)return"";var l=m$420$1.descriptionForDateTime(s),d=l.ttl;return d&&d!==1/0&&(this._invalidateSubinfoTitleTimeout=m$799$0(this._invalidateSubinfoTitle.bind(this),d)),l.str}}),_updateLockedIcon:function(){var t=this._shouldShowLockedIcon();t?(this._lockedIconView||(this._lockedIconView=this._loadLockedIcon()),this.addSubview(this._lockedIconView)):this._lockedIconView&&this.removeSubview(this._lockedIconView)},ariaLabel:m$545$1({dependencies:["content"],readOnly:!0,get:function(t,e,i,n){var a=n.internalGet(this,e[0+i]);if(!a)return"";var s=a.get("fullName"),o="";a.get("isAppLibrary")?o=m$565$1("Kind.ApplicationLibrary"):a.get("isFolder")?o=m$565$1("Kind.Folder"):a.get("isFile")&&(o=m$565$1("Kind.File")),""!==o&&(o=" "+o);var l=this.get("subinfoTitle");""!==l&&(l=" "+l);var d=a&&a.get("dateModified");return this._isWaiting||this._isUploading||!d||(l=" "+m$565$1("FilesGrid.Cell.Info.LastModified",{date:l})),s+o+l}}),init:function(t){var e=t.showcaseView;e&&delete t.showcaseView,this.__s._2s$1pj$init.call(this,t),e&&this.set("showcaseView",e),
this._editState=i},didActivateWithEvent:function(t){for(var e=this._titleButton.get("element"),i=t.target;i;)i===e&&this.titleDidActivate(),i=i.parentNode},titleDidActivate:function(){this._editState!==i||this.getPath("content.isAppLibrary")||this.beginEditing()},beginEditing:function(){this._editState!==i&&m$802$0("Cannot begin editing. Invalid state",{cell:this}),this._activateEditing();var t=this.delegate,e=t?t.filesGridCellDidBeginEditMode:null;e&&e.call(t,this)},endEditingIfNeeded:function(t){var e=this._editState;if(e!==i){this.endEditing(t);var n=this.delegate,a=n?n.filesGridCellDidEndEditMode:null;a&&a.call(n,this)}},endEditing:function(t){var e=this._editState;e===i&&m$802$0("Cannot end editing. Invalid state",{cell:this}),t&&this._commitEditing(),this._deactiveEditing()},suspendEditing:function(){this._editState=s,this._titleTextField.set("isDisabled",!0)},resumeEditing:function(){var t=this._titleTextField;t.set("isDisabled",!1),this.set("selected",!0),t.select(),this._editState===s&&(this._editState=a)},loadSubviews:function(){var t=this._infoButton=this.loadInfoButton();this.addSubview(t);var e=this._cancelButton=this.loadCancelButton();this.addSubview(e);var i=this._titleButton=this.loadTitleButton();this.addSubview(i,".title-container"),this._showSharedByLabel();var n=this._progressView=this.loadProgressView();n.set("parent",this),this.$().appendChild(n.get("element")),this._titleTextField=this.loadTitleTextField()},_sharedByDidChange:m$557$1("content.share",function(){this._showSharedByLabel()}),_showSharedByLabel:function(){var t=this.loadSharedViewWithTooltip();
if(t)this._sharedView=t,this.addSubview(t,".shared-by-info");else{var e=this._sharedView;e&&this.removeSubview(e,".shared-by-info")}},_showInfoButton:m$545$1({readOnly:!0,dependencies:[".selected",".content.transactionState",".content.isUploading"],get:function(t,e,i,n){var a=this.selected,s=this.getPath("content.transactionState"),o=this.getPath("content.isUploading");return s===m$56$0.Prepared&&(!o&&a)}}),loadInfoButton:function(){return m$303$0.create({additionalClassNames:m$589$1(["info"]),visible:m$539$1("parent._showInfoButton"),target:this,action:"infoButtonTapped",tabindex:-1,tooltip:m$565$1("FilesGrid.Cell.Info.Tooltip")})},loadCancelButton:function(){return m$303$0.create({additionalClassNames:m$589$1(["cancel-button"]),visible:m$539$1("parent.content.isUploading"),target:this,action:"cancelButtonTapped",tabindex:-1,tooltip:m$565$1("FilesGrid.Cell.Cancel.Tooltip")})},loadTitleTextField:function(){return m$326$0.create({additionalClassNames:m$589$1(["edit"]),maxLength:m$66$2,delegate:this})},loadProgressView:function(){return m$737$0.create()},loadTitleButton:function(){return location.search.match(/doubleclick/)?m$320$0.create({additionalClassNames:m$589$1(["nolink"]),value:m$539$1("parent.truncatedName"),tooltip:m$539$1("parent.content.fullName")}):m$303$0.create({additionalClassNames:m$589$1(["link"]),title:m$539$1("parent.truncatedName"),tooltip:m$539$1("parent.content.fullName"),target:this,action:"titleButtonTapped",tabindex:-1,enabled:m$228$0({root:this,path:".content.transactionState",transform:function(t){return t!==m$56$0.Committing}})})},_loadLockedIcon:function(){
return m$296$0.create({additionalClassNames:m$589$1(["locked-icon"])})},_shouldShowLockedIcon:function(){var t=!1,e=this.content;return e&&(e.canModifyContents!==!1&&e.canListContents!==!1||(t=!0)),t},loadSharedViewWithTooltip:function(){var t=this.get("sharedByNameStringWithAttribution");return t?m$320$0.create({additionalClassNames:m$589$1(["shared-by-info"]),value:t,tooltip:t}):null},truncatedName:m$545$1({readOnly:!0,dependencies:["isAttachedToWindow","content.name"],get:function(i,n,a,s){var o=s.internalGet(this,n[0+a]),l=s.internalGetPath(this,n[1+a]);if(!o||!l)return l;if(!e){var d=this._titleButton.get("style"),r=d.get("font-family"),c=d.get("font-weight"),h=d.get("font-size"),u=d.get("font-style"),m=d.get("font-variant");e=u+" "+m+" "+c+" "+h+" "+r,t={numberOfLines:2}}return m$347$0(l,128,e,t)}}),endDisplay:function(){this._showcaseView.prepareForReuse(),this.__s._2s$40p$endDisplay.call(this)},infoButtonTapped:function(){this.delegate.filesGridCellPerformInfoAction(this)},cancelButtonTapped:function(){this.delegate.filesGridCellPerformCancelAction(this)},titleButtonTapped:function(){this.delegate.filesGridCellPerformTitleAction(this)},_titleTextFieldFocusDidChange:function(t){switch(this._editState){case n:t&&(this._editState=a);break;case a:t||(this._editState=n,this._commitEditing())}},_activateEditing:function(){if(this._editState===i){this._editState=n,this.set("draggable",!1);var t=this._titleTextField;this.removeSubview(this._titleButton,".title-container"),this.removeSubview(this._infoButton),this.addSubview(t,".title-container"),t.set("value",this.get("content").get("name")),
t.select(),this._textFieldFocusedChangeObserver=t.observe("isFocused",this._titleTextFieldFocusDidChange.bind(this)),this.get("isAttachedToWindow")&&t.focus()}},_deactiveEditing:function(){if(this._editState!==i){this._editState=i;var t=this._titleTextField;this.addSubview(this._titleButton,".title-container"),this.addSubview(this._infoButton),this.removeSubview(t,".title-container"),this._textFieldFocusedChangeObserver.disconnect(),t.set("value",null),this.set("draggable",!0)}},_commitEditing:function(){var t=this._editState;if(t!==i&&t!==s){var e=this._titleTextField,n=this.content,a=e.value;if(null!==a){var o=this,l=[],d={item:n,newName:a,extension:n.extension?n.extension:""},r={name:a,isFolder:n.isFolder};l.push({validation:m$91$0,arguments:[r],fail:function(){m$41$0.raiseAlertForItem(m$396$0.create({type:m$19$0.HiddenFile,details:d}))}}),l.push({validation:m$95$0,arguments:[n,a,this.delegate.folderContent],fail:function(){m$41$0.raiseAlertForItem(m$396$0.create({type:m$19$0.DuplicateName,details:d}))}}),l.push({validation:m$96$0,arguments:[r],fail:function(){m$41$0.raiseAlertForItem(m$396$0.create({type:m$19$0.WhitespaceName,details:d}))}}),l.push({validation:m$94$0,arguments:[r],fail:function(){m$41$0.raiseAlertForItem(m$396$0.create({type:m$19$0.InvalidName,details:d}))}}),m$242$0.map(l,function(t){var e=m$242$0.create();return t.async||(t.validation=m$242$0.promisify(t.validation)),t.validation.apply(this,t.arguments).then(function(i){i===!0?e.resolve(!0):(t.fail(),e.resolve(!1))}),e}).then(function(t){for(var i=t.length,s=!0,l=0;l<i;l++)t[l]===!1&&(s=!1);s?o.delegate.filesGridCellPerformContentEditCommitForValue(o,n,a):(o.suspendEditing(),
e.set("isDisabled",!1),o._cancelEditing())}).catch(function(t){raiseAlertService.raiseAlertForItem(m$396$0.create({type:UploadValidationErrorAlertItemType.Unknown,context:d}))})}}},_newFolderNameInvalidAlertDidDismiss:function(){var t=this;m$799$0(function(){t.resumeEditing()},0)},_cancelEditing:function(){if(this._editState!==i){var t=this._titleTextField,e=this.get("content"),n=t.get("value");this.delegate.filesGridCellPerformContentEditCancelForValue(this,e,n)}},textFieldPerformReturnAction:function(t){this._editState===a&&this._commitEditing()},textFieldPerformEscapeAction:function(t){this._cancelEditing()},_contentDidChange:m$557$1("content",function(t){var e=this._previousContent,i=this._invalidateSubinfoTitleTimeout;e&&e!==t&&i&&(clearTimeout(i),this._invalidateSubinfoTitleTimeout=null);var n=this._contentDateModifiedObserver;n&&(n.disconnect(),n.dispose()),t&&t.get("isFile")&&(n=t.observe("dateModified",this._invalidateSubinfoTitle.bind(this)),this._contentDateModifiedObserver=n),this._previousContent=t;var a=this._progressListener||null;if(a&&(a.disconnect(),this._progressListener=null),t&&t.get("isFile")){var s=this;this._progressListener=t.observe("uploadProgress.changed",function(){var e=s._progressView,i=t.get("uploadProgress"),n=i?i.get("percentageComplete"):0,a=t.get("isUploading");a&&0===n&&!s._isWaiting?(s._isWaiting=!0,s._isUploading=!1,s._invalidateSubinfoTitle()):a&&n>0&&!s._isUploading?(s._isWaiting=!1,s._isUploading=!0,s._invalidateSubinfoTitle()):a||100!==n&&0!==n||(s._isWaiting=!1,s._isUploading=!1,s._invalidateSubinfoTitle()),e&&e.set("value",n)})}t&&this._updateLockedIcon();
}),_contentCommitting:m$557$1("content.transactionState","content.isUploading","element",function(t,e,i){if(i){var n=t===m$56$0.Committing||e;this.$(".body").toggleClass("committing",n)}}),_contentUploading:m$557$1("content.isUploading","element",function(t,e){e&&this.$().toggleClass("uploading",!!t)}),_previousContent:null,_invalidateSubinfoTitleTimeout:null,_invalidateSubinfoTitle:function(){null!==this._invalidateSubinfoTitleTimeout&&(clearTimeout(this._invalidateSubinfoTitleTimeout),this._invalidateSubinfoTitleTimeout=null),this.propertyChanged("subinfoTitle")},__superMap:{_2s$1pj$init:"init",_2s$40p$endDisplay:"endDisplay"}});m$180$0=o}();
!function(){"use strict";var e=m$306$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["image"]}]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.FilesGrid.NotLoadedCell"},additionalClassNames:m$589$1(["not-loaded"]),isNotLoadedCell:!0});m$184$0=e}();
!function(){"use strict";var t=m$329$0.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["container"]}]}},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ContainerScrollView"},additionalClassNames:m$589$1(["container-scroll-view"]),contentView:m$629$1({get:function(t,i,e,n){return this._contentView},set:function(t,i,e,n,s){if(!this._initializing){var a=this._contentView||void 0;this._contentView=t||null,this.contentViewDidChange(t,a)}}}),init:function(t){this._initializing=!0;var i=t?t.contentView:null;t&&delete t.contentView,this.__s._4u$G1$init.call(this,t),this._initializing=!1,this.set("contentView",i)},preferredSize:m$629$1({readOnly:!0,get:function(t,i,e,n){var s=this.get("contentView");return s?s.get("preferredSize"):null}}),didMoveToWindow:function(t){this.__s._4u$M8$didMoveToWindow.apply(this,arguments),t&&this.adjustContentOffset(0,0)},contentViewDidChange:function(t,i){i&&(i.get("frame").reset(),this.removeSubview(i,".container")),t&&(this.addSubview(t,".container"),t.adjustPosition(0,0)),this._updateContentSize()},subviewDidChangeDynamicContent:function(t){this.adjustContentOffset(0,0),this.notifyParentOfDynamicContentChange(this)},frameBoundsDidChange:function(t){this.__s._4u$Wl$frameBoundsDidChange.call(this,t),this._updateContentSize()},frameDidInvalidate:function(t,i){this.__s._4u$Yc$frameDidInvalidate.call(this,t,i),this._updateContentSize()},_updateContentSize:function(){if(this.get("isAttachedToWindow")){var t=this.get("contentView");if(t){var i=t.get("preferredSize"),e=i?i.width:0,n=i?i.height:0,s=this.get("contentOffset"),a=this.get("frame"),o=a.get("height");
n<o?this.adjustContentOffset(0,0):s.y+o>n&&this.adjustContentOffset(0,n-o),this.adjustContentSize(e,n)}}},__superMap:{_4u$G1$init:"init",_4u$M8$didMoveToWindow:"didMoveToWindow",_4u$Wl$frameBoundsDidChange:"frameBoundsDidChange",_4u$Yc$frameDidInvalidate:"frameDidInvalidate"}});m$308$0=t}();
!function(){"use strict";function t(t,n){var a="";n=Math.max(3,n);var u=n>3?3:2;return a=t.length>n?t.substr(0,n-u)+r:t}var r="…";m$348$0=t}();
!function(){"use strict";var e=m$331$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"input",children:[],name:"inputNode",classes:["cw-input"],attributes:{type:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"type",attributes:{},attribute:"type"},maxlength:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"computedMaxLength",attributes:{},attribute:"maxlength"},size:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},attribute:"size"}}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{}}],name:"placeholderNode",classes:["cw-placeholder",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isPlaceholderShowing",truevalue:"show",attributes:{}}]}],name:"containerNode",classes:["container"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[],name:"metricsNode",classes:["br-resizer"]},{type:"ELEMENT",tagname:"span",children:[],name:"extensionNode",classes:["br-extension"]}],name:"resizerContainer"}],classes:["cw-textfield-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.FileNameTextField"},extension:m$545$1(""),dottedExtension:m$545$1({dependencies:["extension"],readOnly:!0,get:function(e,t,i,n){var s=n.internalGet(this,t[0+i]);return s?"."+s:null;
}}),_updateExtension:m$557$1("dottedExtension",function(e){this.get("extensionNode").textContent=e?e:""}),computedMaxLength:m$545$1({readOnly:!0,dependencies:["dottedExtension"],get:function(e,t,i,n){var s=n.internalGet(this,t[0+i])||"",a=s.length;return m$66$2-a}}),valueWillChangeInputElement:function(e,t){this._updateLayout(t)},_frameMayHaveChanged:m$558$0(),input:function(e){var t=this.get("inputNode").value,i=this.get("computedMaxLength");if(t.length>i){var n=t.length-i,s=this.get("selection"),a=s&&s.end||0,o=a-n;t=t.substring(0,o)+t.substring(a),this.get("inputNode").value=t,this._moveCursorBy(-(i-o))}this.__s._2p$1R1$input.apply(this,arguments),this._updateLayout(t)},keyDown:function(e){this.__s._2p$1WC$keyDown.apply(this,arguments);var t=e.which;if(t)switch(t){case m$688$0.LEFT:case m$688$0.RIGHT:this._updateLayout()}},pointerDown:function(e){this.__s._2p$1hL$pointerDown.apply(this,arguments),this.setPointerCapture(e.pointerId),e.target!==this.get("inputNode")&&this._moveCursorToEnd()},pointerMove:function(e){var t=this.pointerMovePreviousSelection,i=this.get("selection");i&&i.length&&t&&(i.start!==t.start||i.end!==t.end)&&this._updateLayout(),this.pointerMovePreviousSelection=i},pointerUp:function(e){this.getPointerCapture(e.pointerId)===this&&this.releasePointerCapture(e.pointerId)},_getSelection:function(){var e=this.get("selection");return{start:e.start,end:e.end}},_moveCursorBy:function(e){var t=this._getSelection();if(t.start===t.end)t.start+=e,t.end+=e;else switch(this.getSelectionDirection()){case"forward":t.end+=e;break;case"backward":t.start+=e}this.set("selection",t);
},_moveCursorToEnd:function(){var e=this.get("value"),t=e&&e.length,i={start:t,end:t};this.set("selection",i)},getSelectionDirection:function(e,t,i){var n=e&&e.selectionDirection&&e.selectionDirection.toLowerCase();return n&&"none"!==n?n:t&&i?(i.start<t.start?this.selectionDirection="backward":i.end>t.end&&(this.selectionDirection="forward"),this.selectionDirection):n},_updateLayout:function(e,t){if(t=t||this.get("selection"),e=e||this.get("value"),t&&void 0!==e){var i=this.get("containerNode"),n=this.get("inputNode"),s=this.get("extensionNode"),a=this.get("metricsNode"),o=this.getSelectionDirection(n,this.previousSelection,t),r=t&&t.end||0;t&&"backward"===o&&(r=t.start),r=Math.max(0,Math.min(r,e.length));var d=this._measureTextWidth(a,e.substr(0,r)),h=i.offsetWidth,u=this.get("dottedExtension"),c=u?this._measureTextWidth(a,u):0,p=this._measureTextWidth(a,e);n.style.width=p+7+"px";var l=-parseInt(n.style.left)||0,m=8,g=m,E=h-c-m;d<l+g&&(l=d-g),d>l+E&&(l=d-E);var y=p+c-h+8;l=Math.max(0,Math.min(l,y)),n.style.left=-l+"px",s.style.left=-l+p+"px",this.previousSelection=t}},_measureTextWidth:function(e,t){return e.textContent=t,e.offsetWidth},_makeRoomForExtension:m$557$1("isAttachedToWindow","containerNode","_frameMayHaveChanged",function(e,t){e&&t&&m$254$0.setTimeout(this._updateLayout.bind(this))}),frameDidInvalidate:function(){this.__s._2p$4TF$frameDidInvalidate.apply(this,arguments),this._frameMayHaveChanged()},__superMap:{_2p$1R1$input:"input",_2p$1WC$keyDown:"keyDown",_2p$1hL$pointerDown:"pointerDown",_2p$4TF$frameDidInvalidate:"frameDidInvalidate"}});m$177$0=e}();
!function(){"use strict";function e(e,i,t,a){for(var l,$="",s=e.get("parent");s;){l=s.get("name");var m=m$347$0(l,t,a);$=m+$,s=s.get("parent"),s&&($=i+$)}return $}var i={"3ds":m$565$1("File.Type.3ds"),max:m$565$1("File.Type.3ds"),aac:m$565$1("File.Type.aac"),abbu:m$565$1("File.Type.abbu"),ai:m$565$1("File.Type.ai"),aiff:m$565$1("File.Type.aiff"),aif:m$565$1("File.Type.aiff"),apk:m$565$1("File.Type.apk"),app:m$565$1("File.Type.app"),avi:m$565$1("File.Type.avi"),band:m$565$1("File.Type.band"),bat:m$565$1("File.Type.bat"),bin:m$565$1("File.Type.bin"),blend:m$565$1("File.Type.blend"),bmp:m$565$1("File.Type.bmp"),c:m$565$1("File.Type.c"),c4d:m$565$1("File.Type.c4d"),class:m$565$1("File.Type.class"),cpp:m$565$1("File.Type.cpp"),css:m$565$1("File.Type.css"),cer:m$565$1("File.Type.cer"),csv:m$565$1("File.Type.csv"),dae:m$565$1("File.Type.dae"),dmg:m$565$1("File.Type.dmg"),dng:m$565$1("File.Type.dng"),doc:m$565$1("File.Type.doc"),docx:m$565$1("File.Type.docx"),dxf:m$565$1("File.Type.dxf"),eps:m$565$1("File.Type.eps"),exe:m$565$1("File.Type.exe"),fbx:m$565$1("File.Type.fbx"),gif:m$565$1("File.Type.gif"),gz:m$565$1("File.Type.gz"),h:m$565$1("File.Type.h"),hqx:m$565$1("File.Type.hqx"),htm:m$565$1("File.Type.htm"),html:m$565$1("File.Type.htm"),epub:m$565$1("File.Type.epub"),ibooks:m$565$1("File.Type.epub"),icns:m$565$1("File.Type.icns"),ico:m$565$1("File.Type.ico"),ics:m$565$1("File.Type.ics"),indd:m$565$1("File.Type.indd"),ipa:m$565$1("File.Type.ipa"),iso:m$565$1("File.Type.iso"),java:m$565$1("File.Type.java"),jpg:m$565$1("File.Type.jpg"),js:m$565$1("File.Type.js"),key:m$565$1("File.Type.key"),
keychain:m$565$1("File.Type.keychain"),log:m$565$1("File.Type.log"),m:m$565$1("File.Type.m"),m3u:m$565$1("File.Type.m3u"),m4a:m$565$1("File.Type.m4a"),m4p:m$565$1("File.Type.m4p"),m4r:m$565$1("File.Type.m4r"),m4v:m$565$1("File.Type.m4v"),mid:m$565$1("File.Type.mid"),qt:m$565$1("File.Type.qt"),mov:m$565$1("File.Type.qt"),mp3:m$565$1("File.Type.mp3"),mp4:m$565$1("File.Type.mp4"),mpeg:m$565$1("File.Type.mpeg"),mpg:m$565$1("File.Type.mpeg"),numbers:m$565$1("File.Type.numbers"),obj:m$565$1("File.Type.obj"),otf:m$565$1("File.Type.otf"),pages:m$565$1("File.Type.pages"),pdf:m$565$1("File.Type.pdf"),perl:m$565$1("File.Type.perl"),pkg:m$565$1("File.Type.pkg"),png:m$565$1("File.Type.png"),pps:m$565$1("File.Type.pps"),ppsx:m$565$1("File.Type.ppsx"),ppt:m$565$1("File.Type.ppt"),pptx:m$565$1("File.Type.pptx"),ps:m$565$1("File.Type.ps"),psd:m$565$1("File.Type.psd"),py:m$565$1("File.Type.py"),rar:m$565$1("File.Type.rar"),rtf:m$565$1("File.Type.rtf"),safariextz:m$565$1("File.Type.safariextz"),scpt:m$565$1("File.Type.scpt"),sh:m$565$1("File.Type.sh"),stl:m$565$1("File.Type.stl"),svg:m$565$1("File.Type.svg"),swift:m$565$1("File.Type.swift"),tar:m$565$1("File.Type.tar"),tiff:m$565$1("File.Type.tiff"),tif:m$565$1("File.Type.tiff"),ttf:m$565$1("File.Type.ttf"),txt:m$565$1("File.Type.txt"),vcf:m$565$1("File.Type.vcf"),vcard:m$565$1("File.Type.vcf"),wave:m$565$1("File.Type.wave"),wav:m$565$1("File.Type.wave"),wma:m$565$1("File.Type.wma"),wmv:m$565$1("File.Type.wmv"),xcodeproj:m$565$1("File.Type.xcodeproj"),xhtml:m$565$1("File.Type.xhtml"),xlam:m$565$1("File.Type.xlam"),xls:m$565$1("File.Type.xls"),
xlsx:m$565$1("File.Type.xlsx"),xml:m$565$1("File.Type.xml"),zip:m$565$1("File.Type.zip")},t=m$296$0.extend(m$194$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["header"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"table",children:[{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sharedByLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sharedByName",attributes:{}}],classes:["label-value","shared-by-value"]}],classes:["folder-info-row","share-row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShared",truevalue:"is-shared",attributes:{}}]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"kindLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"kind",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sizeLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",
tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"whereLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"path",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"modifiedLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"modified",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]}],classes:["folder-info-table"]}],classes:["details"]}]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.FolderItemInfoView"},additionalClassNames:m$589$1(["folder-item-info"]),kindLabel:m$565$1("Panel.FileInfo.Label.Kind"),sizeLabel:m$565$1("Panel.FileInfo.Label.Size"),whereLabel:m$565$1("Panel.FileInfo.Label.Where"),createdLabel:m$565$1("Panel.FileInfo.Label.Created"),modifiedLabel:m$565$1("Panel.FileInfo.Label.Modified"),sharedByLabel:m$565$1("Panel.FileInfo.Label.SharedBy"),content:m$545$1(null),value:m$629$1(),sharedByName:m$545$1({dependencies:["content.share","content.owner"],readOnly:!0,get:function(e,i,t,a){var l=this.get("sharedByNameStringWithoutAttribution");if(""===l)return l;l=l.replace(/(\s+)/," ");var $=26;m$208$0.isLocaleAnExtraLongLanguage()&&($=29);var s=m$348$0(l,$);return s}}),preferredSize:m$629$1({readOnly:!0,get:function(e,i,t,a){
return this.get("frame").get("size")}}),focusFileName:function(){this._nameTextField.focus()},loadSubviews:function(){this._nameLabel=m$320$0.create({additionalClassNames:m$589$1(["name"])}),this._nameTextField=m$177$0.create({isDisabled:m$228$0({root:this,path:"_nameFieldIsDisabled"}),maxLength:m$66$2,delegate:this,additionalClassNames:m$589$1(["name"])})},_nameFieldIsDisabled:m$545$1({readOnly:!0,dependencies:["content.share"],get:function(e,i,t,a){var l=a.internalGetPath(this,i[0+t]);return l&&m$55$0[l]===m$55$0.TO_ME}}),didMoveToWindow:function(e){if(this.__s._2x$2F1$didMoveToWindow.apply(this,arguments),!e){var i=this._textFieldFocusObserver,t=this._textFieldValueObserver;i&&(i.disconnect(),i.dispose()),t&&(t.disconnect(),t.dispose())}},selectFileNameText:function(e,i){e=e||0,i=i||e;var t=this._nameTextField;t&&t.set("selection",{start:e,end:i})},revert:function(){var e=this.get("content");if(e){var i=e.get("name");this._lastCommittedValue=null,this.set("value",e.get("name")),this._nameTextField.set("value",i)}},_contentDidChange:m$557$1("content","element",function(i,t){if(i&&t){var a=this._lastCommittedValue=i.get("name");this.set("value",a),this.set("kind",this._getTypeForContent(i));var l="—";void 0!==i.size&&null!==i.size&&(l=m$426$2(i.size,{precision:1})),this.set("size",l),this.set("path",e(i," ▸ ",140,"13px SNFSText"));var $="—";i.dateModified&&($=this._getFormattedDateTime(i.dateModified)),this.set("modified",$);var s=this._nameLabel,m=this._nameTextField;s.get("parent")&&this.removeSubview(s,".header"),m.get("parent")&&this.removeSubview(m,".header"),i.isAppLibrary||i.canEdit===!1?(s.set("value",i.get("name")),
this.addSubview(s,".header")):(m.set("value",i.get("name")),m.set("extension",i.get("isFile")?i.get("extension"):""),this.addSubview(m,".header"),m.set("selection",{start:0,end:0}),this._textFieldFocusObserver=m.observe("isFocused",this._textFieldDidChangeFocus.bind(this)),this._textFieldValueObserver=m.observe("value",this._textFieldValueDidChange.bind(this)))}}),_getTypeForContent:function(e){var t;return e.extension in i?t=i[e.extension]:e.get("isFile")?(t=e.get("extension"),t=t?m$565$1("Kind.FileWithExtension",{ext:t.toUpperCase()}):m$565$1("Kind.File")):e.get("isFolder")?t=m$565$1("Kind.Folder"):e.get("isAppLibrary")&&(t=m$565$1("Kind.ApplicationLibrary")),t},_getFormattedDateTime:function(e){return m$565$1("Info.DateTime.Format",{date:new Date(e),dateFormatter:m$791$0})},_textFieldValueDidChange:function(e){this.set("value",e)},_textFieldDidChangeFocus:function(e){var i=this.get("content");if(!e&&i){var t=this.get("value");this._nameTextField.set("value",t),t!==this._lastCommittedValue&&(this._lastCommittedValue=t)}},textFieldPerformReturnAction:function(e){this.delegate.folderItemInfoViewCommitEditForValue(this,this.get("value"))},textFieldPerformEscapeAction:function(e){this.delegate.folderItemInfoViewCancelEditForValue(this,this.get("value"))},__superMap:{_2x$2F1$didMoveToWindow:"didMoveToWindow"}});m$185$0=t}();
!function(){"use strict";var e=m$297$0.extend({delegate:null,content:m$545$1(),value:m$629$1({readOnly:!0,get:function(e,t,i,l){return this.get("view").get("contentView").get("value")}}),revert:function(){this.get("view").get("contentView").revert()},loadView:function(){var e=m$185$0.create({delegate:this}),t=m$308$0.create({contentView:e});return t},viewWillAppear:function(){this.__s._2g$F8$viewWillAppear.call(this),this._value=null;var e=this.get("view").get("contentView");e.set("content",this.get("content"))},viewDidAppear:function(){var e=this.getPath("view.contentView");e&&e.selectFileNameText(0,0)},viewDidDisappear:function(){this.__s._2g$R7$viewDidDisappear.call(this),this._value=null,this.get("view").get("contentView").set("content",null)},folderItemInfoViewCommitEditForValue:function(e,t){this._value=t;var i=this.delegate,l=i?i.folderItemInfoDialogControllerPerformCommitAction:null;l&&l.call(i,this)},folderItemInfoViewCancelEditForValue:function(e,t){var i=this.delegate,l=i?i.folderItemInfoDialogControllerPerformCancelAction:null;l&&l.call(i,this)},__superMap:{_2g$F8$viewWillAppear:"viewWillAppear",_2g$R7$viewDidDisappear:"viewDidDisappear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ViewControllers.FolderItemInfoDialogController"}});m$168$0=e}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"messageTitle",attributes:{}}],classes:["error-title"]},{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"messageSubtitle",attributes:{}}],classes:["error-text"]}]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.GridErrorView"}});m$186$0=e}();
!function(){"use strict";var i=m$626$0.extend({dragService:m$629$1({readOnly:!0,get:function(i,e,r,t){return this._dragService}}),init:function(i){this.__s._4A$5e$init.call(this,i),this._dragService=this.loadDragService()},loadDragService:function(){return m$264$1()},__superMap:{_4A$5e$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.DragDrop.BaseDragHandler"}});m$262$0=i}();
!function(){"use strict";var e=function(e,a,t,s){if("function"==typeof e.dataTransfer.setDragImage)e.dataTransfer.setDragImage(a,t,s);else{var i=e.target;i.classList.add("cw2-set-drag-image-original"),a.style.top=0,a.style.left=0,a.classList.add("cw2-set-drag-image-ghost"),i.appendChild(a),setTimeout(function(){a.parentNode.removeChild(a),i.classList.remove("cw2-set-drag-image-original")},0)}};m$937$0=e}();
!function(){"use strict";var r=m$262$0.extend({delegate:null,dragStart:function(r,e){if(!this.shouldAllowDrag(r,e))return!1;var t,a=this.delegate;if(a&&(t=a.dragSourceHandlerShouldAllowDrag)){var n=t.call(a,this,e);if(!n)return!1}a&&(t=a.dragSourceHandlerWillStartDragging)&&t.call(a,this,e);var i=this.getGhostImageInfo(r,e);if(i){var g=document.body,d=i.element;g.insertBefore(d,g.firstChild),m$937$0(r,d,i.offsetX,i.offsetY),m$254$0.setTimeout(function(){d.parentNode&&d.parentNode.removeChild(d)},0)}var o=this.getDragSourceInfo(r,e);if(o){var l=o.get("type");l||m$802$0("Drag source info missing type",{dragSourceHandler:this,evt:r,view:e,dragSourceInfo:o})}return this.get("dragService").draggingStarted(e,r,o),a&&(t=a.dragSourceHandlerDidStartDragging)&&t.call(a,this,e),this.didDragStart(r,e),!0},dragEnd:function(r,e){var t,a=this.delegate;return a&&(t=a.dragSourceHandlerWillEndDragging)&&t.call(a,this,e),this.get("dragService").draggingEnded(),a&&(t=a.dragSourceHandlerDidEndDragging)&&t.call(a,this,e),this.didDragEnd(r,e),!0},shouldAllowDrag:function(r,e){return!0},drag:function(r,e){},didDragStart:function(r,e){},didDragEnd:function(r,e){},getGhostImageInfo:function(r,e){return null},getDragSourceInfo:function(r,e){return null},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.DragDrop.DragSourceHandler"}});m$265$0=r}();
!function(){"use strict";var t=function(t){this.effectAllowed=t.effectAllowed||null,this.type=t.type||null,this.data=t.data||null},e=t.prototype;e.get=function(t){return this[t]},t.create=function(e){var n=new t(e);return Object.freeze(n),n},m$268$0=t}();
!function(){"use strict";function e(e){t.innerHTML=e;var n=t.firstChild.cloneNode(!0);return t.innerHTML="",n}var t=document.createElement("div"),n=e("<div class='badge'><span class='label'></span></div>"),r=e("<div class='invalid-drag-icon'></div>"),i=e("<div class='showcase-drag-bg-file'></div>"),a=e("<div class='showcase-drag-bg-folder'></div>");!function(){i.style.visibility="hidden",a.style.visibility="hidden",document.body.appendChild(i),document.body.appendChild(a),setTimeout(function(){document.body.removeChild(a),document.body.removeChild(i),i.style.visibility="inherit",a.style.visibility="inherit"})}();var o=m$265$0.extend(m$544$0,{folder:m$545$1(null),selection:m$545$1(null),delegate:null,shouldAllowDrag:function(e,t){var n=t.get("content");if(n.get("transactionState")!==m$56$0.Prepared)return!1;if(n.canEdit===!1)return!1;var r=this.get("folder");if(r.canModifyContents===!1)return!1;var i=this.get("selection"),a=i.some(function(e){return e.canEdit===!1});if(a)return!1;var o=i.every(function(e){return e.get("transactionState")===m$56$0.Prepared});return o},getDragSourceInfo:function(e,t){var n=(this.get("folder"),this.get("selection")),r=n.toArray();return m$268$0.create({effectAllowed:"move",type:"move-items-info",data:{sourceFolder:this.get("folder"),items:r}})},getGhostImageInfo:function(e,t){var n=t.get("element"),r=m$260$0.create(n.cloneNode(!0)).style("position","absolute").top(0).left(window.outerWidth).attr("draggable",!1).addClass("drag-ghost"),i=n.querySelector(".showcase-container canvas");if(i){var a=r.element().querySelector(".showcase-container canvas"),o=a.getContext("2d");
a.width=i.width,a.height=i.height,o.drawImage(i,0,0)}r.$(".body").removeClass("selected");var s=this.get("selection"),l=this.get("folder"),d=m$293$0(e,t),c=d.x,u=d.y;if(s.get("size")>1){var g;g=m$66$0.checkIfItemsContainAppLibrary(s)?this._createInvalidDragIcon():this._createBadgeElement(s),r.appendChild(g.element()),g.left(c+12),g.top(u+7);var m=this._createShowcaseBackgroundElement(l,s),f=r.$(".showcase-container");f.insertBefore(m,f.firstChild())}return{element:r.element(),offsetX:c,offsetY:u}},_createInvalidDragIcon:function(){return m$260$0.create(r.cloneNode(!0))},_createBadgeElement:function(e){var t=e.get("size"),r=m$260$0.create(n.cloneNode(!0)).addClass(t<10?"small-num":"large-num");return r.$(".label").text(t),r},_createShowcaseBackgroundElement:function(e,t){var n=0,r=0,o=t.get("size");t.forEach(function(e){e.get("isFolder")||e.get("isAppLibrary")?r++:n++});var s=o===r,l=s?a:i,d=l.cloneNode(!0);return d},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.DragDrop.FilesGridCellDragSourceHandler"}});m$156$0=o}();
!function(){"use strict";var t=function(t,e){this.action=t,this.data=e},e=t.prototype;e.get=function(t){return this[t]},t.create=function(e,n){var r=new t(e,n);return Object.freeze(r),r},m$272$0=t}();
!function(){"use strict";function r(){e(),g=m$799$0(t,100)}function e(){g&&(clearTimeout(g),g=null)}function t(){o=null,m$264$1().draggingEnded()}function n(r){var e=r.dataTransfer&&r.dataTransfer.types;if(e)for(var t=0,n=e.length;t<n;t++)if("Files"==e[t])return!0;return!1}var a,i=m$262$0.extend({delegate:null,dragEnter:function(r,e){d.dragEnter(r,e);var t=this._getDragSourceInfo(r),n=this.get("dragService");return!!this.shouldAllowDrop(r,e,t)&&(n.get("dragInitiator")!==e&&(this!==a&&(a=this,n.setDragTargetHandler(this,r,e),void this.didDragEnter(r,e,t))))},dragOver:function(r,e){d.dragOver(r,e);var t=this._getDragSourceInfo(r);if(!this.shouldAllowDrop(r,e,t)){var n=m$648$0.get("sharedInstance").get("isChrome"),a=m$653$0.get("sharedInstance").get("isWindows"),i=m$653$0.get("sharedInstance").get("osMajorVersion");return n&&a&&i>=10?r.dataTransfer.dropEffect="pointer":r.dataTransfer.dropEffect="none",!1}var o=this.get("dragService");return o.get("dragInitiator")!==e&&(o.setDragTargetHandler(this,r,e),void this.didDragOver(r,e,t))},dragLeave:function(r,e){if(d.dragLeave(r,e),this===a)return!1;a=null;var t=(this._getDragSourceInfo(r),this.get("dragService"));t.clearDragTargetHandler(),this.didDragLeave(r,e)},drop:function(r,e){var t=this._getDragSourceInfo(r);if(!this.shouldAllowDrop(r,e,t))return!1;var n=this.get("dragService");n.setDropHandler(this._finishDrop,this,r,e,t),d.drop(r,e)},_finishDrop:function(r,e,t){this.willCompleteDrop(r,e,t);var n,a=this.getDropInfo(r,e,t),i=this.delegate;i&&(n=i.dragTargetHandlerPerformActionForDropInfo)&&n.call(i,this,a),this.didCompleteDrop(r,e,t);
},getDragTargetInfo:function(r,e){return null},getDropInfo:function(r,e,t){return null},shouldAllowDrop:function(r,e,t){return!(!t||!e)},didDragEnter:function(r,e,t){},didDragOver:function(r,e,t){},didDragLeave:function(r,e,t){},willCompleteDrop:function(r,e,t){},didCompleteDrop:function(r,e,t){},_getDragSourceInfo:function(r){return this.get("dragService").get("dragSourceInfo")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.DragDrop.DragTargetHandler"}}),o=null,g=null,d={dragEnter:function(r,t){var a=m$264$1(),i=a.get("dragSourceInfo");i||(i=n(r)?m$268$0.create({effectAllowed:"copy",type:"file-system",data:{items:null}}):m$268$0.create({effectAllowed:"none",type:"none"}),o=t,e(),a.draggingStarted(null,r,i))},dragOver:function(r,t){e()},dragLeave:function(e,t){o===t&&r()},drop:function(r,t){if(o){var n=m$264$1();e(),o=null;var a=n.get("dragSourceInfo");a.get("data").items=r.dataTransfer.files,n.draggingEnded()}}};m$269$0=i}();
!function(){"use strict";var t=function(t,e){this.action=t,this.data=e},e=t.prototype;e.get=function(t){return this[t]},t.create=function(e,n){var r=new t(e,n);return Object.freeze(r),r},m$273$0=t}();
!function(){"use strict";var e=m$269$0.extend({getDragTargetInfo:function(e,t,r){var o=r.get("type"),i=t.get("content");return"file-system"===o?m$272$0.create("upload",{destinationFolder:i,dropEffect:"copy"}):m$272$0.create("move",{destinationFolder:i,dropEffect:"move"})},loadActionPolicy:function(){return this._actionPolicy||(this._actionPolicy=m$153$0.get("actionPolicy")),this._actionPolicy},shouldAllowDrop:function(e,t,r){var o=this.loadActionPolicy();if(!o.get("shouldAllowDragAndDropUpload"))return!1;var i=r.get("type");if("file-system"===i)return!0;if("none"===i)return!1;var a=t.get("content"),n=r.get("data").items;return a.acceptsItems(n)},getDropInfo:function(e,t,r){var o=t.get("content"),i=r.get("data");return"file-system"===r.get("type")?m$273$0.create("upload-files",{items:i.items,destinationFolder:o}):m$273$0.create("move-items",{sourceFolder:i.sourceFolder,items:i.items,destinationFolder:o})},dragOver:function e(t,r){this.__s._2V$l6$dragOver.apply(this,arguments);var o=this.getPath("delegate.view"),e=o&&o.dragOver;e&&o.dragOver(t)},__superMap:{_2V$l6$dragOver:"dragOver"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.DragDrop.FilesGridCellDragTargetHandler"}});m$157$0=e}();
!function(){"use strict";var e=m$626$0.extend(m$149$0,{viewControllerOwner:null,items:null,folder:null,run:function(){var e=this.get("items"),t=this.get("folder");if(!t.acceptsItems(e))return this._showCannotMoveToFolderAlert(),null;var o=this.getFileSystem().moveItems(e,t);o.commit()},_showCannotMoveToFolderAlert:function(){var e=this.get("items"),t=this.get("folder"),o="",n=m$565$1("Alert.CannotMoveToAppFolder.Description",{appFolderName:t.get("name")});o=e.length>1?m$565$1("Alert.CannotMoveToAppFolder.Multiple.Message"):m$565$1("Alert.CannotMoveToAppFolder.Single.Message");var i=m$303$0.create({additionalClassNames:m$589$1(["confirm"]),title:m$565$1("Alert.Confirm"),target:this,action:function(){r.animateClosed(),l.removeRootView(r)},shortcut:m$688$0.RETURN}),r=m$421$0.create({message:o,description:n,buttonViews:[i]}),s=this.get("viewControllerOwner"),l=s.get("view").get("window");l.addRootView(r),r.animateOpen()},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.Operations.MoveItemsOperation"}});m$162$0=e}();
!function(){"use strict";var n=m$563$1("BRApp.Data.ConfirmationTypes",function(n){n("MOVING_SHARED_FROM_ME")});m$99$0=n}();
!function(){"use strict";var e=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["container"]}],name:"modalView",classes:["br-modal-background"],attributes:{role:"dialog"}},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ModalBackgroundView"},preferredSize:m$629$1({readOnly:!0,get:function(e,t,i,n){var a=this.get("contentView"),o=a.get("preferredSize"),s=this.get("contentViewInsets"),r=o.width+s.left+s.right,c=o.height+s.top+s.bottom,l=m$234$0.create(r,c);return l}}),contentViewInsets:m$276$0.ZERO,modalView:m$629$1(),contentView:m$545$1(null),delegete:null,subviewDidChangeDynamicContent:function(e){var t=this.get("contentView");if(e===t){var i=this.get("delegate"),n=i?i.modalBackgroundViewContentViewDidChangeDynamicContent:null;n&&n.call(i,this,t)}},_contentViewDidChange:m$557$1("element","contentView",function(e,t){if(e){var i=this._cachedContentView;if(i&&this.removeSubview(i,".container"),t){var n=this.get("contentViewInsets");t.get("style").set("margin-left",n.left),t.get("style").set("margin-right",n.right),t.get("style").set("margin-top",n.top),t.get("style").set("margin-bottom",n.bottom),this.addSubview(t,".container")}this._cachedContentView=t}}),_updatePositionOnChange:m$557$1("element","contentView",function(){this._updatePosition()}),_updatePosition:function(){var e=this.get("modalView");m$760$0(e,{"margin-left":-(e.offsetWidth/2),"margin-top":-(e.offsetHeight/2)})}}),t=e.extend({additionalClassNames:m$589$1(["default"]),contentViewInsets:m$276$0.create(10,10,10,10),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.DefaultModalBackgroundView"
}});m$323$0=e,m$323$1=t}();
!function(){"use strict";var t=m$276$0.create({top:20,bottom:20,left:20,right:20}),e=220,i=m$626$0.extend({delegate:null,additionalClassNames:m$589$1([]),contentViewController:m$629$1(),contentViewInsets:m$276$0.ZERO,windowEdgeInsets:t,modalContentSizeConstraints:m$629$1({set:function(t,e,i,o,n){this._modalContentSizeConstraints=t},get:function(t,e,i,o){var n=this._modalContentSizeConstraints;return n||(n=m$257$0.DYNAMIC_UNBOUNDED,this._modalContentSizeConstraints=n),n}}),isShowing:m$629$1(!1),init:function(t){this.__s._4Y$SP$init.call(this,t),this._modalLayoutStrategy=n.create({delegate:this,modalController:this}),this._modalRootView=this._loadModalRootView();var e=this._modalBackgroundView=this._loadModalBackgroundView();e.set("delegate",this)},presentModal:function(){var t=rootResponder.get("window"),e=this.get("contentViewController");t||m$802$0("Cannot present modal. View must be visible in window",{controller:this,view:view}),e||m$802$0("Cannot present modal. Requires content view controller",{controller:this});var i=this._modalRootView,o=this._modalBackgroundView;o.set("contentView",e.get("view")),o.$().style("visibility","hidden"),i.addSubview(o);var n=this._modalLayoutStrategy;n.modalBackgroundView=o,n.window=t,this._deferInitialModalLayout=!0,t.addRootView(i),i.open(),this.set("isShowing",!0)},refreshLayout:function(){this.get("isShowing")&&this._refreshLayout()},dismissModal:function(){var t=this,e=this._modalRootView;e.close(function(){var i=rootResponder.get("window"),o=t._modalBackgroundView;e.removeSubview(o),i.removeRootView(e);var n=t._modalLayoutStrategy;n.window=null,
n.popoverBackgroundView=null}),this.set("isShowing",!1)},handleKeyDownForModalRootView:function(t){var e=this.get("delegate");return!(!e||"function"!=typeof e.handleKeyDownForModalController)&&e.handleKeyDownForModalController(t)},viewWillLayoutSubviews:function(){this._refreshLayout()},viewDidLayoutSubviews:function(){},modalRootViewShouldDeferLayout:function(t){return this._deferInitialModalLayout},modalRootViewDidDeferLayout:function(t){if(this._deferInitialModalLayout){var e=this._modalLayoutStrategy;e.prepareModalForInitialLayout(),e.layoutModal(),this._deferInitialModalLayout=!1,this._modalBackgroundView.$().style("visibility","visible")}},modalBackgroundViewContentViewDidChangeDynamicContent:function(t,e){var i=this._modalLayoutStrategy;i.prepareModalForInitialLayout(),i.layoutModal()},_loadModalRootView:function(){return o.create({additionalClassNames:m$589$1(this.get("additionalClassNames")),viewController:this,delegate:this})},_loadModalBackgroundView:function(){return m$323$1.create({contentViewInsets:this.get("contentViewInsets")})},_refreshLayout:function(){if(this.get("isShowing")&&!this._deferInitialModalLayout){var t=this._modalLayoutStrategy;t.layoutModal()}},showWindowLayoutMarginsForModal:function(){if(!this._isShowingWindowLayoutMarginsForModal){var t=this.get("windowEdgeInsets"),e=this._windowLayoutMarginsForModalDiv;e||(e=this._windowLayoutMarginsForModalDiv=document.createElement("div"),e.className="modal-layout-margins");var i=e.style;i.left=t.left+"px",i.top=t.top+"px",i.right=t.right+"px",i.bottom=t.bottom+"px",this._modalRootView.get("element").appendChild(e),
this._isShowingWindowLayoutMarginsForModal=!0}},hideWindowLayoutMarginsForModal:function(){this._isShowingWindowLayoutMarginsForModal&&(this._modalRootView.get("element").removeChild(this._windowLayoutMarginsForModalDiv),this._isShowingWindowLayoutMarginsForModal=!1)},__superMap:{_4Y$SP$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.ModalController"}}),o=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:["br-view","br-modal-overlay"]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.ModalRootView$286"},delegate:null,frameDidInvalidate:function(){var t=this.delegate;if(t.modalRootViewShouldDeferLayout(this)){var e=this;m$254$0.setTimeout(function(){e.setNeedsLayout()}),t.modalRootViewDidDeferLayout(this)}else this.setNeedsLayout()},handleKeyDown:function(t){var e=this.get("delegate");return!(!e||"function"!=typeof e.handleKeyDownForModalRootView)&&e.handleKeyDownForModalRootView(t)},open:function(t){var i=this._modalBackgroundView;i&&i._updatePosition(),this.get("style").set("opacity",1),t&&m$254$0.setTimeout(t,e)},close:function(t){this.get("style").set("opacity",0),t&&m$254$0.setTimeout(t,e)}}),n=m$626$0.extend({delegate:null,modalController:null,modalBackgroundView:null,modalContentSizeConstraints:m$629$1({get:function(t,e,i,o){var n=this.get("modalController");return n.get("modalContentSizeConstraints")}}),window:null,init:function(t){this.__s._4Y$2Ks$init.call(this,t),this._preferredModalBodySize=null},prepareModalForInitialLayout:function(){var t=this.get("modalController"),e=(t.get("contentViewController"),this.get("modalBackgroundView")),i=e.get("contentViewInsets"),o=this.get("modalContentSizeConstraints"),n=o.get("widthConstraint"),a=o.get("heightConstraint"),r=!1,d=!1,s=0,l=0;
switch(n.get("type")){case m$257$2.Fixed:s=n.get("value");break;case m$257$2.Dynamic:d=!0}switch(a.get("type")){case m$257$2.Fixed:l=a.get("value");break;case m$257$2.Dynamic:r=!0}var h=e.get("preferredSize");if(r&&d)return void(this._preferredModalBodySize=m$234$0.create(h.width,h.height));var u=s+i.left+i.right,g=l+i.top+i.bottom;if(r===!1&&d===!1)return void(this._preferredModalBodySize=m$234$0.create(u,g));e.invalidateFrame(),e.adjustPosition(0,0);var w=e.get("preferredSize");if(r){e.adjustSize(u,w.height);var m=m$234$0.create(u,w.height);this._updateContentViewSize(m),w=e.get("preferredSize");w.height+i.top+i.bottom;this._preferredModalBodySize=m$234$0.create(u,w.height)}else if(d){e.adjustSize(w.width,g);var c=w.width+i.left+i.right;this._preferredModalBodySize=m$234$0.create(c,g)}},layoutModal:function(){var t,e=this._getWindowBoundingRect(),i=m$233$0.create(m$232$0.create(0,0),this._preferredModalBodySize),o=this.modalBackgroundView;t=this._isModalBiggerThanWindow(i)?this._getSizeToFitModalInWindow(i):i.size,o.adjustSize(t.width,t.height);var n=this._getOriginToCenterModalInWindow(o.get("frame"),e);o.adjustPosition(n.x,n.y),this._updateContentViewSize(t)},_updateContentViewSize:function(t){var e=this.get("modalController"),i=e.get("contentViewController"),o=i.get("view"),n=this.get("modalBackgroundView"),a=n.get("contentViewInsets"),r=t.width-a.left-a.right,d=t.height-a.top-a.bottom;o.adjustSize(r,d),o.setNeedsLayout()},_getOriginToCenterModalInWindow:function(t,e){var i=Math.round(e.size.width/2-t.get("size").width/2),o=Math.round(e.size.height/2-t.get("size").height/2),n=m$232$0.create(i,o);
return n},_getWindowBoundingRect:function(){var t=this.window.get("width"),e=this.window.get("height"),i=m$232$0.create(0,0),o=m$234$0.create(t,e);return m$233$0.create(i,o)},_isModalBiggerThanWindow:function(t){var e=this._getUsableWindowSize();return t.size.width>e.width||t.size.height>e.height},_getSizeToFitModalInWindow:function(t){var e,i,o,n=this._getUsableWindowSize();return e=t.size.width>n.width?n.width:t.size.width,i=t.size.height>n.height?n.height:t.size.height,o=m$234$0.create(e,i)},_getUsableWindowSize:function(){var t=this.get("delegate");t||m$802$0("Cannot get usable window size. ModalLayoutStrategy delegate not set.",{controller:this,view:view});var e=t.get("windowEdgeInsets"),i=this._getWindowBoundingRect(),o=i.size.width-e.left-e.right,n=i.size.height-e.top-e.bottom,a=m$234$0.create(o,n);return a},__superMap:{_4Y$2Ks$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.ModalLayoutStrategy$286"}});m$286$0=i}();
!function(){"use strict";var e=m$626$0.extend({title:null,description:null,contentViewController:null,confirmButtonTitle:m$565$1("Confirm"),confirmAction:null,cancelAction:null,init:function(e){this.__s._2Q$Kd$init.call(this,e);var i=t.create({title:this.get("title"),description:this.get("description"),confirmButtonTitle:this.get("confirmButtonTitle"),contentViewController:this.get("contentViewController"),delegate:this});this._confirmationViewController=i;var n=m$286$0.create({delegate:this,contentViewController:i,contentViewInsets:m$276$0.create(25,25,25,18),windowEdgeInsets:m$276$0.create(20,20,20,20),modalContentSizeConstraints:m$257$0.create({widthConstraint:m$257$1.Fixed(400),heightConstraint:m$257$1.Dynamic()})});this._modalController=n},handleKeyDownForModalController:function(e){var t=this._confirmationViewController;return!(!t||"function"!=typeof t.handleKeyDownForConfirmationModalController)&&t.handleKeyDownForConfirmationModalController(e)},presentModal:function(){var e=this._modalController;e.presentModal()},dismissModal:function(){var e=this._modalController;e.dismissModal()},performConfirmAction:function(){var e=this.get("confirmAction");e&&e()},performCancelAction:function(){var e=this.get("cancelAction");e&&e()},__superMap:{_2Q$Kd$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ConfirmationModalController"}}),t=m$297$0.extend({delegate:null,title:null,description:null,contentViewController:null,confirmButtonTitle:m$565$1("Confirm"),loadView:function(){var e=this.get("title"),t=this.get("description"),n=this._getButtonArray(),r=i.create({buttonViews:n,
title:e,description:t,iconNames:"iclouddrive",contentViewController:this.get("contentViewController")});return r},handleKeyDownForConfirmationModalController:function(e){var t=this._getButtonArray();if(t)for(var i=0;i<t.length;i++)if("function"==typeof t[i].handleKeyDown&&t[i].handleKeyDown(e))return!0;return!1},_getButtonArray:function(){var e=this.get("delegate"),t=this.get("confirmButtonTitle"),i=m$303$0.create({additionalClassNames:m$589$1(["confirm-secondary"]),title:t,target:this,action:function(){e.dismissModal(),e.performConfirmAction()},shortcut:null}),n=m$303$0.create({additionalClassNames:m$589$1(["cancel-primary"]),title:m$565$1("Cancel"),target:this,action:function(){e.dismissModal(),e.performCancelAction()},shortcut:m$688$0.RETURN});return[n,i]},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ConfirmationViewController$152"}}),i=m$296$0.extend({additionalClassNames:m$589$1(["br-confirmation-view","br-confirmation-view-container"]),preferredSize:m$629$1({readOnly:!0,get:function(e,t,i,n){var r=this.get("frame").get("size").width,o=this._headerView.get("preferredSize").height+this._footerView.get("preferredSize").height,a=this._getContentViewHeight(),s=o+a,l=m$234$0.create(r,s);return l}}),title:m$545$1(),description:m$545$1(),contentViewController:null,buttonViews:null,handleKeyDown:function(e){var t,i=this.buttonViews,n=i.length;for(t=0;t<n;t++)if(i[t].handleKeyDown(e))return!0;return!1},loadSubviews:function(){var e=n.create({title:this.get("title"),description:this.get("description")});this._headerView=e;var t=this.get("contentViewController"),i=r.create({buttonViews:this.get("buttonViews")
});if(this._footerView=i,this.addSubview(e),t){var o=t.get("view");this.addSubview(o)}this.addSubview(i)},layoutSubviews:function(){if(this._headerView&&this._footerView){var e=this.get("contentViewController"),t=e.get("view"),i=this.get("frame").get("size").width,n=this._headerView.get("preferredSize").height,r=this._footerView.get("preferredSize").height,o=this._getContentViewHeight(),a=this.get("frame").get("size").height-n-r;a<o&&(o=a),t.get("frame").adjustSize(312,o),t.get("frame").adjustPosition(107,n),this._footerView.get("frame").adjustSize(i,r),this._footerView.get("frame").adjustPosition(20,n+o)}},_getContentViewHeight:function(){var e=this.get("contentViewController"),t=e.get("view");"function"==typeof t.reload&&t.reload();var i=t.get("itemCount");if(void 0!==i&&i<2)return 0;var n=t.get("preferredSize");return n.height},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.DetailedConfirmationView$152"}}),n=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["modal-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["message"],attributes:{id:"ariaAlertMessage"}},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description"],attributes:{id:"ariaAlertDescription"}}],classes:["content-wrapper"]}]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.ConfirmationHeaderView$152"},additionalClassNames:m$589$1([]),
preferredSize:m$629$1({readOnly:!0,get:function(e,t,i,n){return this.get("frame").get("size")}}),title:m$545$1(),description:m$545$1()}),r=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"buttonViews"}],classes:["cw-modal-buttons"]},__QUALIFIED_CLASS_NAME__:"BRApp.UI.ConfirmationFooterView$152"},additionalClassNames:m$589$1([]),preferredSize:m$629$1({readOnly:!0,get:function(e,t,i,n){var r=m$234$0.create(this.get("frame").get("size").width,45);return r}}),buttonViews:null});m$152$0=e}();
!function(){"use strict";var e=m$306$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"adjustTitleLocationForDescription",truevalue:"has-description",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showDescription",truevalue:"",falsevalue:"hide-description",attributes:{}}]}],classes:["detail-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"iconView",truevalue:"has-icon-view",attributes:{}}]}],classes:["detail-view"]},__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ItemDetailCell"},prepareForReuse:function(){this.set("title",""),this.set("iconView",null),this.set("description","")},iconView:m$545$1(),title:m$545$1(),description:m$545$1(),showDescription:m$545$1(!1),adjustTitleLocationForDescription:m$545$1(!1),_iconViewDidChange:m$557$1("iconView",function(e){var i=this._cachedIconView;i&&this.removeSubview(i,".icon"),e&&this.addSubview(e,".icon"),this._cachedIconView=e||null})});m$318$0=e}();
!function(){"use strict";var e=m$626$0.extend({items:null,totalItemCount:null,confirmationType:null,confirmAction:null,init:function(e){this.__s._2Z$Ch$init.call(this,e);var i=t.create({items:this.get("items")});this._listViewController=i;var o=m$152$0.create({title:this._getAlertTitle(),description:this._getAlertDescription(),confirmAction:this.get("confirmAction"),confirmButtonTitle:this._getConfirmButtonTitle(),contentViewController:i});this._confirmationModalController=o},presentModal:function(){var e=this._confirmationModalController;e.presentModal()},_getAlertTitle:function(){var e=this.get("items");return 1===e.length?this._getAlertTitleForSingleItem():this._getAlertTitleForMultipleItems()},_getAlertDescription:function(){var e=this.get("items");return 1===e.length?this._getAlertDescriptionForSingleItem():this._getAlertDescriptionForMultipleItems()},_getAlertTitleForSingleItem:function(){var e=this.get("items"),t=e[0],i=this.get("confirmationType"),o="";switch(i){case m$99$0.MOVING_SHARED_FROM_ME:o=m$565$1("Dialog.Move.FileShared.Single.Title",{fileName:t.get("name")})}return o},_getAlertDescriptionForSingleItem:function(){var e=this.get("confirmationType"),t="";switch(e){case m$99$0.MOVING_SHARED_FROM_ME:t=m$565$1("Dialog.Move.FileShared.Single.Message")}return t},_getAlertTitleForMultipleItems:function(){var e=this.get("items"),t=this.get("totalItemCount"),i=this.get("confirmationType"),o="";switch(i){case m$99$0.MOVING_SHARED_FROM_ME:o=e.length===t?m$565$1("Dialog.Move.FileShared.All.Title"):m$565$1("Dialog.Move.FileShared.Some.Title")}return o},_getAlertDescriptionForMultipleItems:function(){
var e=this.get("items"),t=this.get("totalItemCount"),i=this.get("confirmationType"),o="";switch(i){case m$99$0.MOVING_SHARED_FROM_ME:o=e.length===t?m$565$1("Dialog.Move.FileShared.All.Message"):m$565$1("Dialog.Move.FileShared.Some.Message",{fileCount:e.length,fileCountTotal:t})}return o},_getConfirmButtonTitle:function(){var e=this.get("confirmationType"),t="";switch(e){case m$99$0.MOVING_SHARED_FROM_ME:t=m$565$1("Dialog.Move.FileShared.Button.Move")}return t},__superMap:{_2Z$Ch$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.FileMoveConfirmationController"}}),t=m$297$0.extend({items:m$545$1(null),loadView:function(){var e=this,t=m$314$0.create({columnWidth:m$314$1.Full(),selectionMode:m$305$0.SelectionMode.None,rowHeight:76,delegate:this,visible:m$228$0({root:this,path:"items",transform:function(){var t=e.get("items"),i=t.length;return i>1}})});return t},getItemCountForGridView:function(e){var t=this.get("items");return t.length},collectionViewGetCellForIndex:function(e,t){var i=this.get("items"),o=i[t],l=m$318$0.create({title:o.get("name"),iconView:m$207$0.getIconForFile(o),showDescription:!1,adjustTitleLocationForDescription:!1});return this._applyBottomBorderToCell(l,t),l},collectionViewGetReuseIdentifierForCell:function(e,t){return"cell"},collectionViewGetCellReuseIdentifierForIndex:function(e,t){return"cell"},collectionViewShouldReuseCell:function(e,t){return!0},collectionViewDidEndDisplayingCellForIndex:function(e,t,i){},collectionViewPrepareReusableCell:function(e,t){},collectionViewWillDisplayReusableCellForIndex:function(e,t,i){var o=this.get("items"),l=o[i];
t.set("title",l.get("name")),t.set("iconView",m$207$0.getIconForFile(l)),this._applyBottomBorderToCell(t,i)},collectionViewPerformActionForItemAtIndex:function(e,t){},collectionViewShouldSelectItemAtIndex:function(e,t){return!1},_applyBottomBorderToCell:function(e,t){var i=this.get("items"),o=i.length;t===o-1?(e.$().addClass("last-child"),e.get("style").set("border-bottom","none")):(e.$().removeClass("last-child"),e.get("style").set("border-bottom","1px solid #ccc"))},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.FileListViewController$161"}});m$161$0=e}();
!function(){"use strict";var e=(m$29$0.get("ROOT_FOLDER_ID"),{allowsMove:!0,allowsUpload:!0,dragTargetHandlerPerformActionForDropInfo:function(e,t){var o=t.get("action"),r=t.get("data");switch(o){case"move-items":if(this.get("allowsMove")){var n=r.sourceFolder,i=r.destinationFolder,s=[],a=[],l=this._willMoveCrossZones(n,i);if(l){var m=this._groupItemsByShareSetting(r.items);s=m.get("allOtherItems"),a=m.get("itemsSharedByMe")}else s=r.items;return s.length>0&&this._moveItems(s,i),void(a.length>0&&this._confirmMovingSharedItems(a,r.items.length,i))}break;case"upload-files":if(this.get("allowsUpload"))return void this.handleUploadFilesDragAndDropAction(r.items,r.destinationFolder)}m$802$0("Unexpected drop action: "+o,{controller:this,dropInfo:t})},handleUploadFilesDragAndDropAction:function(e,t){},_groupItemsByShareSetting:function(e){for(var t=[],o=[],r=0;r<e.length;r++){var n=e[r];m$55$0[n.get("share")]===m$55$0.FROM_ME?t.push(n):o.push(n)}var i=m$626$0.create({itemsSharedByMe:t,allOtherItems:o});return i},_willMoveCrossZones:function(e,t){var o=e.zone,r=t.zone;return o!==r},_moveItems:function(e,t){var o=m$162$0.create({viewControllerOwner:this,items:e,folder:t});o.run()},_confirmMovingSharedItems:function(e,t,o){var r=this,n=m$161$0.create({confirmationType:m$99$0.MOVING_SHARED_FROM_ME,items:e,totalItemCount:t,confirmAction:function(){r._moveItems(e,o)}});n.presentModal()}});m$155$0=e}();
!function(){"use strict";var e=2,t=500,i=10,o=1,n=1,r=250,l=30,s=[m$288$0.Left,m$288$0.Down,m$288$0.Right,m$288$0.Up],a=m$276$0.create({top:15,bottom:15,left:5,right:5}),c=m$563$1("DisplayMode",function(e){e("None"),e("Loading"),e("Grid"),e("EmptyDrive"),e("EmptyFolder"),e("Error")}),d=m$297$0.extend(m$544$0,m$155$0,{folder:m$545$1(null),folderContent:m$545$1({readOnly:!0,dependencies:["folder"],get:function(e,t,i,o){var n=o.internalGet(this,t[0+i]);return n?n.get("content"):null}}),selection:m$545$1({readOnly:!0,get:function(e,t,i,o){return this._selection}}),loadActionPolicy:function(){return m$153$0.get("actionPolicy")},init:function(e){this.__s._2f$1RY$init.call(this,e),this._selection=m$238$0.create(),this._anchorItems=null,this._currentDisplayMode=c.None,this._cellDragSourceHandler=this.loadFilesGridCellDragSourceHandler(),this._cellDragTargetHandler=this.loadFilesGridCellDragTargetHandler(),this._moveItemDragStatusInfoItem=m$158$0.create(),this._scrollSpeedAboveThreshold=!1,this._setupScrollingRollingAverageDataStructure();var t=this._folderItemInfoDialogController=this.loadFolderItemInfoDialogController(),i=this._folderItemInfoPopoverController=this.loadFolderItemInfoPopoverController();this._actionPolicy=this.loadActionPolicy(),this._uploadFilesService=this.loadUploadFilesService(),i.set("contentViewController",t)},prepareForReuse:function(){this.get("view").deselectAllItems(),this._selection.clear(),this.set("folder",null),this._currentDisplayMode=c.None},loadFolderItemInfoDialogController:function(){return m$168$0.create({delegate:this})},loadFolderItemInfoPopoverController:function(){
var e=287;return m$208$0.isLocaleAnExtraLongLanguage()&&(e=350),m$289$0.create({delegate:this,popoverLayoutMargins:a,popoverContentSizeConstraints:m$257$0.create({widthConstraint:m$257$1.Fixed(e),heightConstraint:m$257$1.Dynamic()})})},loadFilesGridCellDragSourceHandler:function(){return m$156$0.create({delegate:this,folder:m$228$0({root:this,path:"folder"}),selection:m$228$0({root:this,path:"selection"})})},loadFilesGridCellDragTargetHandler:function(){return m$157$0.create({delegate:this})},loadUploadFilesService:function(){return m$50$0},_presentFolderItemInfoPopoverForCell:function(e){this._dismissFolderItemInfoPopoverIfNeeded();var t=e.get("index"),i=this.get("folderContent").getItemAtIndex(t),o=this._folderItemInfoDialogController;o.set("content",i);var n=this._folderItemInfoPopoverController;n.presentPopoverForView(e.get("infoButton"),s),this._folderItemInfoPopoverCellIndex=t;var r=this.get("folderContent");r.stopRemoteSynchronization()},_dismissFolderItemInfoPopoverIfNeeded:function(){var e=this._folderItemInfoPopoverController;if(e&&e.get("popoverVisible")){e.dismissPopover(),this._folderItemInfoPopoverCellIndex=null;var t=this.get("folderContent");t.startRemoteSynchronization()}},_dismissFolderItemInfoPopoverForCellIndex:function(e){this._folderItemInfoPopoverCellIndex===e&&this._dismissFolderItemInfoPopoverIfNeeded()},_presentSubfolder:function(e){this._dismissFolderItemInfoPopoverIfNeeded(),m$37$0.moveToFolder(e)},_performNavigateBackAction:function(e){m$37$0.moveUpFolder()},_showModeView:function(e){var t=this.get("view");t.addSubview(e,"")},_hideModeView:function(e){
var t=this.get("view");t.removeSubview(e,"")},_updateDisplayMode:function(){var e,t=this.get("isViewVisible"),i=this.get("folderContent"),o=!!i&&i.get("isLoading"),n=this._currentDisplayMode;if(e=t?o?c.Loading:i.get("hasError")?c.Error:0===i.get("length")?this.getPath("folder.isRoot")?c.EmptyDrive:c.EmptyFolder:c.Grid:c.None,e!==n){var l=this.get("view"),s=this._spinner;s&&(this._hideModeView(s),s.set("spin",!1),this._spinner=null);var a=this._errorView;a&&(this._hideModeView(a),this._errorView=null);var d=this._emptyView;switch(d&&(this._hideModeView(d),this._emptyView=null),i&&i.stopRemoteSynchronization(),e){case c.None:break;case c.Error:a=m$186$0.create({messageTitle:m$565$1("Error.Loading.FolderContent.Title"),messageSubtitle:m$565$1("Error.Loading.FolderContent.Subtitle")}).retain(),this._showModeView(a),this._errorView=a,l.reload(),l.set("contentOpacity",0);break;case c.Loading:s=m$330$0.create({isAttached:!0}).retain(),this._showModeView(s),s.set("spin",!0),this._spinner=s,l.reload(),l.set("contentOpacity",0);break;case c.EmptyDrive:i.startRemoteSynchronization();var m=m$648$0.get("sharedInstance"),h=m&&m.isIE9OrLower?"":m$565$1("EmptyDrive.Subtitle");d=m$186$0.create({messageTitle:m$565$1("EmptyDrive.Title"),messageSubtitle:h}).retain(),this._showModeView(d),this._emptyView=d,l.reload(),l.set("contentOpacity",0);break;case c.EmptyFolder:i.startRemoteSynchronization();var m=m$648$0.get("sharedInstance"),h=m&&m.isIE9OrLower?"":m$565$1("EmptyFolder.Subtitle");d=m$186$0.create({messageTitle:m$565$1("EmptyFolder.Title"),messageSubtitle:h}).retain(),this._showModeView(d),
this._emptyView=d,l.reload(),l.set("contentOpacity",0);break;case c.Grid:i.startRemoteSynchronization();var f=r;window.event&&window.event.shiftKey&&(f*=10),l.animate("contentOpacity",1,f)}n===c.None&&e===c.Grid&&i.sync(),this._currentDisplayMode=e}},loadView:function(){var e=m$176$0.create({additionalClassNames:m$589$1(["files"]),delegate:this,rowSpacing:20,columnSpacing:20,rowHeight:225,columnWidth:148,autoExpandColumnSpacing:!0,padding:{top:l,bottom:l,right:l,left:l}});return e},loadNavigationItem:function(){var e=this._navBackButton,t=this._navStatusLabel;return e||(e=this._navBackButton=m$303$0.create({additionalClassNames:m$589$1(["left"]),title:m$228$0({root:this,path:"folder.name"}),showLeftAccessory:!0,target:this,action:"_performNavigateBackAction"})),t||(t=this._navStatusLabel=m$196$0.create({defaultStatus:m$228$0({root:this,path:"folder.name"}),headingLevel:2}),t.addStatusInfoItem(this._moveItemDragStatusInfoItem)),m$287$0.create({leftButton:e,titleLabel:t})},viewDidAppear:function(){this.__s._2f$4Iz$viewDidAppear.call(this);var e=this.get("folderContent");e||m$802$0("Cannot show view. Required folder content",{controller:this});var t=!0;this._dprChangeObserver=m$653$0.get("sharedInstance").observe("devicePixelRatio",function(e){if(!t){var i=this;m$254$0.setTimeout(function(){var e=i.get("view");e.reload()})}}.bind(this)),t=!1,this._moveItemDragStatusInfoItem.activate();var i=this;if(this._folderContentChangeObserver=e.observe("changed",function(e){if(e){var t=e.context;i.folderContentDidChange(t)}}),m$237$1.addTargetActionForNotification(this,"performCreateSubfolderAction","createSubfolder"),
m$237$1.addTargetActionForNotification(this,"performRemoveSelectedItemsAction","removeSelectedItems"),m$237$1.addTargetActionForNotification(this,"performEmailSelectedItemsAction","emailSelectedItems"),m$237$1.addTargetActionForNotification(this,"performDownloadSelectedItemsAction","downloadSelectedItems"),m$237$1.addTargetActionForNotification(this,"performRefreshDisplay","SystemClockChanged"),e.get("hasLoadedContent"))this.get("view").reload();else{var i=this;e.loadAllContent().then(function(){i._updateDisplayMode()}).catch(function(){i._updateDisplayMode()})}this._updateDisplayMode()},viewWillDisappear:function(){this.__s._2f$4sY$viewWillDisappear.call(this),this._dprChangeObserver&&(this._dprChangeObserver.disconnect(),this._dprChangeObserver=null),this._moveItemDragStatusInfoItem.deactivate(),m$237$1.removeTargetActionForNotification(this,"performCreateSubfolderAction","createSubfolder"),m$237$1.removeTargetActionForNotification(this,"performRemoveSelectedItemsAction","removeSelectedItems"),m$237$1.removeTargetActionForNotification(this,"performEmailSelectedItemsAction","emailSelectedItems"),m$237$1.removeTargetActionForNotification(this,"performDownloadSelectedItemsAction","downloadSelectedItems"),m$237$1.removeTargetActionForNotification(this,"performRefreshDisplay","SystemClockChanged"),this._folderContentChangeObserver.disconnect(),this._folderContentChangeObserver.dispose(),this.get("folderContent").stopRemoteSynchronization()},viewDidDisappear:function(){this.__s._2f$58H$viewDidDisappear.call(this),this._updateDisplayMode()},didMoveToParentViewController:function(e){
this.__s._2f$5A8$didMoveToParentViewController.call(this,e),this._anchorItems=m$613$0.create(),e||(this._selection.clear(),this.set("folder",null))},beginAppearanceTransition:function(e){this.__s._2f$5Dy$beginAppearanceTransition.call(this,e),e||this._dismissFolderItemInfoPopoverIfNeeded()},navigateInTransitionDidFinish:function(){var e=this.get("view");e.showScrollBars()},performCreateSubfolderAction:function(){for(var e=this.get("folderContent"),t=2,i=m$565$1("Default.FolderName.NotNumbered");e.hasItemMatchingName(i);)i=m$565$1("Default.FolderName.Numbered",{number:t}),t++;var o=this.get("folder"),n=fileSystem.createFolder(i,o),r=this.get("view"),l=this.get("selection"),s=this;n.stage().then(function(t){s._createFolderTransaction&&(s._createFolderTransaction.commit(),s._createFolderTransaction=null),s._createFolderTransaction=t;var i=t.get("stagedFolder"),o=e.getIndexForItem(i);return l.batchChanges(function(e){e.clear(),e.add(i)}),r.deselectAllItems(),r.selectItemAtIndex(o),r.scrollToItemAtIndexIntoVisibleRegion(o,!1)}).then(function(){var t=s._createFolderTransaction,i=t.get("stagedFolder"),o=e.getIndexForItem(i),n=r.getVisibleCellAtItemIndex(o);n&&s.beginEditingCell(n)})},performRemoveSelectedItemsAction:function(){var e=this.get("selection");return 0===e.size?void m$886$0.cloudOSService.recordStat("performRemoveSelectedItemsAction() called when selection is 0 items",{class:"BRApp.UI.ViewControllers.FilesGridViewController",function:"performRemoveSelectedItemsAction()",selectionCount:0}):void(this._doesSelectionContainLockedItems(e)?this._alertUserOfLockedFilesBlockingDelete(e):this._handleRemovalOfSelectedItems(e));
},_doesSelectionContainLockedItems:function(e){var t=!1;return e.forEach(function(e){e.canDelete===!1&&(t=!0)}),t},_alertUserOfLockedFilesBlockingDelete:function(e){var t=0,i=null;e.forEach(function(e){e.canDelete===!1&&(t++,i=e)});var o,n,r=this.get("view").get("window"),l="Alert.LockedItem.Delete";1===t?(o=m$565$1(l+".Single.Message",{name:i.fullName}),n=i.isFolder?m$565$1(l+".Single.Folder.Description"):m$565$1(l+".Single.File.Description")):(o=m$565$1(l+".Multiple.Message"),n=m$565$1(l+".Multiple.Description"));var s=m$303$0.create({additionalClassNames:m$589$1(["ok"]),title:m$565$1("Button.OK"),target:self,shortcut:m$688$0.RETURN,action:function(){a.animateClosed(),r.removeRootView(a)}}),a=m$421$0.create({message:o,description:n,buttonViews:[s]});r.addRootView(a),a.animateOpen()},_handleRemovalOfSelectedItems:function(e){var t,i=this,o=e.length,n=e.toArray(),r=null,l=null,s="Alert.DeleteSelectedItems";if(e.forEach(function(e){e.isSystemFolder&&(t||(t=[]),t.push(e.sanitizedName))}),1===o){var a=n[0],c=a.get("fullName");t?(r=m$565$1(s+"."+t[0]+".Message"),l=m$565$1(s+".DesktopOrDocuments.Description")):(r=m$565$1(s+".Single.Message",{name:c}),l=m$565$1(s+".Single.Description"))}else{if(!(o>1))return;t?1===t.length?(r=2===o?m$565$1(s+"."+t[0]+".PlusOne.Message",{count:o-1}):m$565$1(s+"."+t[0]+".PlusMany.Message",{count:o-1}),l=m$565$1(s+".DesktopOrDocuments.Description")):2===o?(r=m$565$1(s+".DesktopAndDocuments.Message"),l=m$565$1(s+".DesktopAndDocuments.Description")):3===o?(r=m$565$1(s+".DesktopAndDocuments.PlusOne.Message"),l=m$565$1(s+".DesktopAndDocuments.Description")):(r=m$565$1(s+".DesktopAndDocuments.PlusMany.Message",{
count:o-2}),l=m$565$1(s+".DesktopAndDocuments.Description")):(r=m$565$1(s+".Multiple.Message",{count:o}),l=m$565$1(s+".Multiple.Description"))}var d,m=i.get("view").get("window"),h=m$303$0.create({additionalClassNames:m$589$1(["confirm"]),title:m$565$1("Delete"),target:i,action:function(){d.animateClosed(),m.removeRootView(d),i._commitSelectedItemsRemoval(n)}}),f=m$303$0.create({additionalClassNames:m$589$1(["cancel"]),title:m$565$1("Cancel"),target:i,action:function(){d.animateClosed(),m.removeRootView(d)},shortcut:m$688$0.RETURN});d=m$421$0.create({additionalClassNames:m$589$1(["system-item-delete-alert"]),message:r,description:l,buttonViews:[f,h],suppressedKeyCodes:[m$688$0.DELETE,m$688$0.BACKSPACE]}),m.addRootView(d),d.animateOpen()},_commitSelectedItemsRemoval:function(e){for(var t=this.get("folderContent"),i=-1,o=null,n=0;n<e.length;n++){var r=e[n],l=t.getIndexForItem(r);i=Math.max(l+1,i)}i>=0&&i<t.get("length")&&(o=t.getItemAtIndex(i));var s=this,a=this.get("view");fileSystem.deleteItems(e).commit().then(function(){if(o){var e=s.get("selection"),i=t.getIndexForItem(o);e.add(o),a.selectItemAtIndex(i),a.scrollToItemAtIndexIntoVisibleRegion(i)}})},performEmailSelectedItemsAction:function(){var e=this,t=(this.get("folderContent"),this.get("selection"));m$32$0.emailSelection(t).then({failure:function(t){e._showFileOpenerErrorAlert(t,"Attachment.Error")}})},performDownloadSelectedItemsAction:function(){var e=m$34$1.get("service");if(e&&!e.get("busy")){var t=this.get("selection");t.get("size")>0&&m$34$1.downloadFromURLs(t)}},performRefreshDisplay:function(){var e=this.get("view");
e&&e.reload()},viewDidLayoutSubviews:function(){null!==this._folderItemInfoPopoverCellIndex&&this._folderItemInfoPopoverController.refreshLayout()},folderContentDidChange:function(e){if(this.get("isViewVisible")){var t=this.get("folderContent"),i=this.get("view"),o=this.get("selection"),n=this;i.reloadForContentChanges(e,function(){e.forEach(function(e){switch(e.get("action")){case m$229$2.Action.Remove:var t=e.get("value");o.remove(t)}}),i.deselectAllItems(),o.forEach(function(e){var o=t.getIndexForItem(e);i.selectItemAtIndex(o)}),n._updateDisplayMode()})}},getItemCountForGridView:function(e){var t=this.get("folder"),i=t?t.get("content"):null;return i?i.get("length"):0},gridViewGetAnchorIndexForContentChanges:function(e,t){for(var i=this.get("folderContent"),o=e.get("visibleIndexRange"),n=o.start,r=o.end,l=n;l<=r;l++){var s=e.getVisibleCellAtItemIndex(l),a=s.get("content");if(i.containsItem(a))return i.getIndexForItem(a)}return 0},gridViewGetAnchorIndexForReload:function(e){var t=this.get("folderContent"),i=this._anchorItems;if(!t||!i||0===i.get("length"))return 0;var o=-1;return i.forEach(function(e){var i=t.getIndexForItem(e);o===-1?o=i:i<o&&(o=i)}),o},collectionViewGetItemIdentifierForCell:function(e,t){return m$807$0(t.get("content"))},collectionViewGetItemIdentifierForIndex:function(e,t){var i=this.get("folderContent").getItemAtIndex(t);return m$807$0(i)},collectionViewShouldSelectItemAtIndex:function(e,t){var i=this.get("folderContent"),o=i.getItemAtIndex(t);return o&&o.get("transactionState")!==m$56$0.Committing},collectionViewDidSelectItemAtIndex:function(e,t){var i=this.get("selection"),o=this.get("folderContent"),n=o.getItemAtIndex(t);
n&&i.add(n)},collectionViewDidDeselectItemAtIndex:function(e,t){var i=this.get("selection"),o=this.get("folderContent"),n=o.getItemAtIndex(t);n&&i.remove(n)},collectionViewGetCellForIndex:function(e,t){var i=this.get("folderContent"),o=i.getItemAtIndex(t),n=m$180$0.create({delegate:this});n.set("content",o);var r=this._loadShowcaseViewForFolderContentItem(o);n.set("showcaseView",r),n.set("draggable",!o.get("isAppLibrary"));var l=this._cellDragSourceHandler,s=this._cellDragTargetHandler;(o.get("isFile")||o.get("isFolder"))&&n.set("dragSourceHandler",l),(o.get("isFolder")||o.get("isAppLibrary"))&&n.set("dragTargetHandler",s),this._anchorItems.add(o);var a=n.get("showcaseView");return a&&m$620$0(a,m$423$0)===!0&&this._scrollSpeedAboveThreshold===!1&&a.resumeThumbnailLoading(),n},collectionViewShouldHighlightCellForIndex:function(e,t){return!1},collectionViewCellDidActivateAtIndex:function(e,t,i,o){t.didActivateWithEvent&&t.didActivateWithEvent(o)},collectionViewShouldReuseCell:function(e,t){return!0},collectionViewPrepareReusableCell:function(e,t){t.set("content",null)},collectionViewGetReuseIdentifierForCell:function(e,t){return this._getCellReuseIdentifierForFolderContentItem(t.get("content"))},collectionViewGetCellReuseIdentifierForIndex:function(e,t){var i=this.get("folderContent"),o=i.getItemAtIndex(t);return this._getCellReuseIdentifierForFolderContentItem(o)},collectionViewWillDisplayReusableCellForIndex:function(e,t,i){var o=this.get("folderContent").getItemAtIndex(i);t.set("content",o),this._anchorItems.add(o);var n=t.get("showcaseView");n&&m$620$0(n,m$423$0)===!0&&this._scrollSpeedAboveThreshold===!1&&n.resumeThumbnailLoading();
},collectionViewDidEndDisplayingCellForIndex:function(e,t,i){this.endEditingCellIfNeeded(t,!0),this._dismissFolderItemInfoPopoverForCellIndex(i);var o=t.get("content");this._anchorItems.remove(o)},collectionViewShouldPerformActionForItemAtIndex:function(e,t){return!0},collectionViewPerformActionForItemAtIndex:function(e,t){var i=this.get("folderContent").getItemAtIndex(t);return i.get("transactionState")!==m$56$0.Committing&&void this._performActionForItem(i)},_performActionForItem:function(e){var t=this,i=this._openFileService;if(i||(i=m$140$0.create({itemURLService:m$38$0}),this._openFileService=i),e.get("isFolder")||e.get("isAppLibrary"))if(e.canListContents)this._presentSubfolder(e);else{var o=this.get("view").get("window"),n=m$565$1("Alert.LockedItem.ListContents.Single.Message",{name:e.name}),r=m$565$1("Alert.LockedItem.ListContents.Single.Description"),l=m$303$0.create({additionalClassNames:m$589$1(["ok"]),title:m$565$1("Button.OK"),target:this,shortcut:m$688$0.RETURN,action:function(){s.animateClosed(),o.removeRootView(s)}}),s=m$421$0.create({message:n,description:r,buttonViews:[l]});o.addRootView(s),s.animateOpen()}else if(e.get("isFile"))try{i.openFile(e).then({failure:function(e){var i="OpenFile.Error",o=e.errorCode;if(o)switch(o){case"DocumentDeletedException":i="OpenFile.Error.Deleted"}var n=e.item;t._showFileOpenerErrorAlert(n,i)}})}catch(t){var a=m$886$0.get("cloudOSService");a.recordStat("Error performing openFileService action for file",{class:"BRApp.UI.ViewControllers.FilesGridViewController",function:"_performActionForItem()",openFileService:i?i.toString():null,
item:e?e.toString():null,errorMessage:t.message,errorName:t.name,stack:t.stack})}else;},_performActionForCell:function(e){this._dismissFolderItemInfoPopoverIfNeeded();var t=e&&e.get("index"),i=this.get("view");i&&t>=0&&i.selectItemAtIndexWithModifiers(t,{});var o=e.get("content");o&&this._performActionForItem(o)},_showFileOpenerErrorAlert:function(e,t){var i=this.getPath("view.window"),o=e.get("fullName"),n=m$303$0.create({shortcut:m$688$0.RETURN,additionalClassNames:["button","ok"],title:m$565$1("Button.OK"),target:this,action:function(){r.animateClosed(),i.removeRootView(r)}}),r=m$421$0.create({message:m$565$1(t+".Title",{fileName:o}),description:m$565$1(t+".Subtitle"),buttonViews:[n]});i.addRootView(r),r.animateOpen()},_showDownloadErrorAlert:function(){var e=this.getPath("view.window"),t=m$303$0.create({shortcut:m$688$0.RETURN,title:m$565$1("Button.OK"),target:this,action:function(){i.animateClosed(),e.removeRootView(i)}}),i=m$421$0.create({message:m$565$1("Download.Error.Single.Title"),description:m$565$1("Download.Error.Single.Subtitle"),buttonViews:[t]});e.addRootView(i),i.animateOpen()},_loadShowcaseViewForFolderContentItem:function(e){return e.get("isAppLibrary")?m$178$0.create({content:m$539$1(".parent.content"),delegate:this}):e.get("isFolder")?m$183$0.create({content:m$539$1(".parent.content"),delegate:this}):m$423$0.create({additionalClassNames:m$589$1(["large"]),content:m$539$1(".parent.content"),pauseLoadingThumbnail:this._scrollSpeedAboveThreshold})},_getCellReuseIdentifierForFolderContentItem:function(e){return e.get("isAppLibrary")?"app-library":e.get("isFolder")?"folder":"file";
},filesGridCellPerformInfoAction:function(e){this._presentFolderItemInfoPopoverForCell(e)},filesGridCellPerformTitleAction:function(e){this._performActionForCell(e)},filesGridCellPerformCancelAction:function(e){var t=e.get("content");this._uploadFilesService.cancelUploadForFile(t)},filesGridCellPerformContentEditCommitForValue:function(e,t,i){if(this._createFolderTransaction){t.set("name",i);var o=this.get("folderContent"),n=this.get("selection"),r=this.get("view");r.deselectAllItems(),n.clear(),this._createFolderTransaction.commit().then(function(){var e=o.getIndexForItem(t);r.scrollToItemAtIndexIntoVisibleRegion(e,!1)}),this._createFolderTransaction=null}else this.tryCommittingNameToFolderItem(i,e.get("content"));this.endEditingCellIfNeeded(e)},filesGridCellPerformContentEditCancelForValue:function(e,t,i){this._createFolderTransaction&&(this._createFolderTransaction.commit(),this._createFolderTransaction=null),this.endEditingCellIfNeeded(e)},filesGridCellDidBeginEditMode:function(e){var t=this._actionPolicy;t.set("isEditing",!0)},filesGridCellDidEndEditMode:function(e){var t=this._actionPolicy;t.set("isEditing",!1)},beginEditingCell:function(e){var t=this._currentlyEditingCell;t!==e&&(t&&t.endEditing(!0),e.beginEditing(),this._currentlyEditingCell=e)},endEditingCellIfNeeded:function(e,t){e.endEditingIfNeeded(t),e===this._currentlyEditingCell&&(this._currentlyEditingCell=null)},tryCommittingNameToFolderItem:function(e,t,i){if(t.name===e)return void(i&&i({error:!1}));var o={item:t,newName:e,extension:t.extension?t.extension:""},n={name:e,isFolder:t.isFolder},r=m$91$0(n);if(!r)return m$41$0.raiseAlertForItem(m$396$0.create({
type:m$19$0.HiddenFile,details:o})),void(i&&i({error:!0}));var l=m$96$0(n);if(!l)return m$41$0.raiseAlertForItem(m$396$0.create({type:m$19$0.WhitespaceName,details:o})),void(i&&i({error:!0}));var s=m$94$0(n);if(!s)return m$41$0.raiseAlertForItem(m$396$0.create({type:m$19$0.InvalidName,details:o})),void(i&&i({error:!0}));var a=m$95$0(t,e,this.folderContent);if(a){var c=fileSystem.renameItem(t,e),d=this.view,m=this.selection,h=this.folderContent;return m.clear(),d.deselectAllItems(),c.commit().then(function(){var e=h.getIndexForItem(t);d.scrollToItemAtIndexIntoVisibleRegion(e)}),void(i&&i({error:!1}))}m$41$0.raiseAlertForItem(m$396$0.create({type:m$19$0.DuplicateName,details:o})),i&&i({error:!0})},dragSourceHandlerWillStartDragging:function(e,t){var i=t.get("content"),o=this.get("selection"),n=this.get("folderContent"),r=this.get("view"),l=!1;if(o.forEach(function(e){e===i&&(l=!0)}),!l){var s=n.getIndexForItem(i);r.deselectAllItems(),r.selectItemAtIndex(s),o.clear(),o.add(i)}n.stopRemoteSynchronization()},dragSourceHandlerDidEndDragging:function(e,t){var i=this.get("folderContent");i.startRemoteSynchronization()},handleUploadFilesDragAndDropAction:function(e,t){this._uploadFilesService.uploadFilesToFolder(e,t)},folderItemInfoDialogControllerPerformCommitAction:function(e){var t=e.get("content"),i=e.get("value"),o=this;this.tryCommittingNameToFolderItem(i,t,function(t){t.error?e.revert():o._dismissFolderItemInfoPopoverIfNeeded()})},folderItemInfoDialogControllerPerformCancelAction:function(e){this._dismissFolderItemInfoPopoverIfNeeded()},popoverControllerShouldDismissPopover:function(e){
if(e===this._folderItemInfoPopoverController){var t=this._folderItemInfoDialogController,i=t.get("content"),o=t.get("value");if(i.get("isAppLibrary"))return!0;var n=!0;return this.tryCommittingNameToFolderItem(o,i,function(e){e.error&&(n=!1,t.revert())}),n}return!0},popoverControllerDidDismissPopover:function(e){var t=this.get("folderContent");t&&t.startRemoteSynchronization()},handleKeyDown:function(e){var t,i=this.get("view"),o=m$153$0.get("actionPolicy");switch(e.which){case m$688$0.DELETE:case m$688$0.BACKSPACE:return o.get("shouldAllowTrashFiles")&&(t=this.get("selection"),t.get("size")>0&&this.performRemoveSelectedItemsAction()),e.preventDefault(),!0;case m$688$0.RETURN:if(t=this.get("selection"),1===t.get("size")){var n=t.toArray()[0],r=this.get("folderContent").getIndexForItem(n);i.scrollToItemAtIndexIntoVisibleRegion(r);var l=i.getVisibleCellAtItemIndex(r);l&&(window.location.search.match(/doubleclick/)?this.beginEditingCell(l):e.ctrlKey||e.metaKey?this._performActionForCell(l):this._presentFolderItemInfoPopoverForCell(l))}return!0;case m$688$0.LEFT:return e.preventDefault(),!0;case m$688$0.RIGHT:return e.preventDefault(),!0;case m$688$0.UP:return(e.ctrlKey||e.metaKey)&&this._performNavigateBackAction(),e.preventDefault(),!0;case m$688$0.ESC:if(!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var s=this._folderItemInfoPopoverController;if(!s||!s.get("popoverVisible"))return this._performNavigateBackAction(),e.preventDefault(),!0;this._dismissFolderItemInfoPopoverIfNeeded()}return!1;case m$688$0.DOWN:return e.preventDefault(),!0;case 78:if(e.ctrlKey||e.altKey)return o.get("shouldAllowNewFolder")&&this.performCreateSubfolderAction(),
e.preventDefault(),!0;break;case 69:if(e.ctrlKey||e.altKey)return o.get("shouldAllowEmailFiles")&&this.performEmailSelectedItemsAction(),e.preventDefault(),!0;break;case 85:if(e.ctrlKey||e.altKey)return o.get("shouldAllowUploading")&&m$237$1.dispatchNotification(m$237$0.create({id:"uploadItems"})),e.preventDefault(),!0;break;case 68:if(e.ctrlKey||e.altKey)return o.get("shouldAllowDownloading")&&this.performDownloadSelectedItemsAction(),e.preventDefault(),!0}if(!e.altKey&&!e.metaKey){var a="";a=189===e.which?e.shiftKey?"_":"-":String.fromCharCode(e.which);var c=this.get("folderContent");if(c&&a.match(/^[A-Za-z0-9\_\- ]$/)){var d=this._textEntryBuffer;d||(d=""),d+=a,this._textEntryBuffer=d,this._textEntryTimeout&&window.clearTimeout(this._textEntryTimeout);var m=this;this._textEntryTimeout=m$254$0.setTimeout(function(){m._textEntryTimeout=null,m._textEntryBuffer=null},500);var h=0,f=c.get("length");for(h=0;h<f;h++)if(this._itemNameStartsWithStr(c.getItemAtIndex(h),d))return this.get("view").selectItemAtIndexWithModifiers(h,{},!0),!0}}return!1},_itemNameStartsWithStr:function(e,t){var i=e?e.get("name").toLowerCase():null;return!(!i||i.substr(0,t.length)!==t.toLowerCase())},scrollViewDidScroll:function(i,o){if(o){this._latestOffsetY=o.y,this._latestTime=(new Date).getTime(),this._previousOffsetY&&this._previousTime||(this._previousOffsetY=this._latestOffsetY,this._previousTime=this._latestTime);var n=this._latestTime-this._previousTime,r=this._previousOffsetY-this._latestOffsetY,l=this._calculateScrollSpeedRollingAverage(r,n);if(this._previousOffsetY=this._latestOffsetY,this._previousTime=this._latestTime,
l>e?(this._clearScrollTimeoutIfNeeded(),this._scrollSpeedAboveThreshold===!1&&this._setScrollSpeedThresholdExceeded(!0)):l>0&&this._loadThumbnailAfterScrollEvent(),this._scrollSpeedAboveThreshold===!0&&!this._scrollTimeout){var s=this;this._scrollTimeout=m$254$0.setTimeout(function(){s._setScrollSpeedThresholdExceeded(!1),s._loadThumbnailAfterScrollEvent(),s._resetScrollingRollingAverageDataStructure()},t)}}},_setScrollSpeedThresholdExceeded:function(e){if(e!==this._scrollSpeedAboveThreshold){this._scrollSpeedAboveThreshold=e,e?(m$43$0.suspendThumbnailLoading(),m$33$0.cancelAllTasks(),m$44$0.cancelAllTasks()):m$43$0.resumeThumbnailLoading();for(var t=this.get("view"),i=t.get("visibleIndexRange"),o=i.start,n=i.end,r=o;r<=n;r++){var l=t.getVisibleCellAtItemIndex(r),s=l.get("showcaseView");s&&m$620$0(s,m$423$0)===!0&&(e?s.suspendThumbnailLoading():s.resumeThumbnailLoading())}}},_calculateScrollSpeedRollingAverage:function(e,t){this._scrollingRollingAverageData[this._scrollingRollingAverageIndex]=[Math.abs(e),t],this._incrementScrollingRollingAverageIndex();for(var i=0,o=0,n=0;n<this._scrollingRollingAverageData.length;n++){var r=this._scrollingRollingAverageData[n];i+=r[0],o+=r[1]}var l=i/o;return l},_clearScrollTimeoutIfNeeded:function(){var e=this._scrollTimeout;null!==e&&(clearTimeout(e),this._scrollTimeout=null)},_setupScrollingRollingAverageDataStructure:function(){this._scrollingRollingAverageIndex=0,this._scrollingRollingAverageData=[];for(var e=0;e<i;e++)this._scrollingRollingAverageData[e]=[0,0]},_resetScrollingRollingAverageDataStructure:function(){this._scrollingRollingAverageIndex=0;
for(var e=0;e<this._scrollingRollingAverageData.length;e++)this._scrollingRollingAverageData[e]=[0,0]},_incrementScrollingRollingAverageIndex:function(){this._scrollingRollingAverageIndex>=i-1?this._scrollingRollingAverageIndex=0:this._scrollingRollingAverageIndex++},_loadThumbnailAfterScrollEvent:function(){var e=this.get("view"),t=e.visibleIndexRange,i=this.get("folderContent"),r=t.size,l=i.length,s=r*o,a=t.end+1;if(a+s<l)this._loadItemsInRange(a,a+s);else if(a!==l){var c=l-a;this._loadItemsInRange(a,a+c,!0)}var d=r*n,m=t.start-1;m=m<0?0:m,m-d>=0?this._loadItemsInRange(m-d,m):0!==m&&this._loadItemsInRange(m,0)},_loadItemsInRange:function(e,t){var i=this.get("folderContent");if(e<t)for(var o=e;o<=t;o++){var n=i.getItemAtIndex(o);n&&n.get("isFile")&&m$43$0.cacheThumbnailCanvasForFile(n,m$100$0.LARGE)}else for(var o=t;o>=e;o--){var n=i.getItemAtIndex(o);n&&m$43$0.cacheThumbnailCanvasForFile(n,m$100$0.LARGE)}},__superMap:{_2f$1RY$init:"init",_2f$4Iz$viewDidAppear:"viewDidAppear",_2f$4sY$viewWillDisappear:"viewWillDisappear",_2f$58H$viewDidDisappear:"viewDidDisappear",_2f$5A8$didMoveToParentViewController:"didMoveToParentViewController",_2f$5Dy$beginAppearanceTransition:"beginAppearanceTransition"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ViewControllers.FilesGridViewController"}});m$167$0=d}();
!function(){"use strict";function t(t,e,i){var n=!!t&&void 0!==t[e];return n?t[e]:i}var e=250,i=150,n=m$296$0.extend({additionalClassNames:m$589$1(["navigation-bar"]),items:m$629$1({set:function(t,e,i,n,a){this._items=t.slice()},get:function(t,e,i,n){return this._items}}),topItem:m$629$1({readOnly:!0,get:function(t,e,i,n){var a=this._items;return a[a.length-1]}}),spacing:10,minTitleWidth:60,init:function(t){this._items=[],this.__s._59$Ft$init.call(this,t)},pushNavigationItem:function(e,i){var n=t(i,"animate",!0),a=this.get("items"),s=a.length,o=this.get("topItem"),h=this._leftButton,u=this._rightButton,l=this._titleLabel,r=this,_=n?function(t){r._fadeInSubview(t,1)}:function(t){r.addSubview(t)},d=n?function(t){r._fadeOutSubview(t,1)}:function(t){r.removeSubview(t)};h&&d(h),u&&d(u),l&&d(l),o&&delete o._cachedTitleLabelWidth,a.push(e),s++,h=null,s>1&&(h=o.get("leftButton"),_(h)),this._leftButton=h,u=this._rightButton=e.get("rightButton"),l=this._titleLabel=e.get("titleLabel"),u&&_(u),_(l),delete e._cachedTitleLabelWidth,this.setNeedsLayout()},popNavigationItem:function(e){var i=t(e,"animate",!0),n=this.get("items"),a=n.length,s=this,o=i?function(t){s._fadeInSubview(t,-1)}:function(t){s.addSubview(t)},h=i?function(t){s._fadeOutSubview(t,-1)}:function(t){s.removeSubview(t)};if(0!==a){var u=this._leftButton,l=this._rightButton,r=this._titleLabel;u&&h(u),l&&h(l),h(r),a=n.length=a-1,u=null,l=null,r=null;var _=a>0?n[a-1]:null,d=a>1?n[a-2]:null;_&&(l=_.get("rightButton"),r=_.get("titleLabel"),l&&o(l),o(r),delete _._cachedTitleLabelWidth),d&&(u=d.get("leftButton"),o(u),delete d._cachedTitleLabelWidth),
this._leftButton=u,this._rightButton=l,this._titleLabel=r,this.setNeedsLayout()}},layoutSubviews:function(){var t=this.get("topItem");if(t){var e=(this.get("items").length,this._leftButton),i=this._rightButton,n=this._titleLabel,a=e?e.get("frame"):null,s=i?i.get("frame"):null,o=n.get("frame"),h=this.get("frame").get("width"),u=a?a.get("width"):0,l=o.get("width");l+=4;var r=s?s.get("width"):0,_=this.spacing,d=this.minTitleWidth;t._cachedTitleLabelWidth||(t._cachedTitleLabelWidth=l);var c=t._cachedTitleLabelWidth,f=h-r,m=Math.round(h/2)-Math.round(c/2);m<u+_&&(m=u+_),m+l>f-_&&(l-=l+m-(f-_),l<d&&(l=d,f=m+l+_)),a&&e.adjustPosition(0,0),s&&i.adjustPosition(f,0),n.adjustPosition(m,0),n.adjustSize(l,this.get("frame").get("height"))}},frameDidInvalidate:function(t,e){e&&this._clearTopItemCache(),this.setNeedsLayout()},subviewDidChangeDynamicContent:function(t){t._nbv_transitioningOut||(t.get("frame").reset(),this._clearTopItemCache(),this.setNeedsLayout())},_clearTopItemCache:function(){var t=this.get("topItem");t&&(t._cachedTitleLabelWidth=null)},_fadeInSubview:function(t,n){var s=t._animator;s||(s=t._animator=a.create({view:t})),++s.transitionIdx,t._nbv_transitioningOut=!1,t._nbv!==this&&(this.addSubview(t),t._nbv=this);var o=e;window.event&&window.event.shiftKey&&(o*=10),s.set("offsetX",i*n),s.animate("opacity",1,o),s.animate("offsetX",0,o)},_fadeOutSubview:function(t,n){var s=t._animator;s||(s=t._animator=a.create({view:t}));var o=++s.transitionIdx,h=this;t._nbv_transitioningOut=!0;var u=function(){s.transitionIdx===o&&(h.removeSubview(t),t._nbv=null,t._nbv_transitioningOut=!1,t.get("style").translateX(0));
},l=e;window.event&&window.event.shiftKey&&(l*=10),s.animate("opacity",0,l,u),s.animate("offsetX",i*-n,l)},__superMap:{_59$Ft$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.NavigationBarView"}}),a=m$626$0.extend(m$212$0,{view:m$545$1(null),opacity:m$212$1(0),offsetX:m$212$1(0),transitionIdx:0,_update:m$557$1("view","opacity","offsetX",function(t,e,i){t&&t.get("style").set("opacity",e).translateX(i).translateZ(0)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.NavigationBarItemAnimator$324"}});m$324$0=n}();
!function(){"use strict";var i=150,e=250,t=0,n=1,o=2,r=m$297$0.extend({isNavigationController:!0,delegate:null,visibleViewController:m$629$1({readOnly:!0,get:function(i,e,t,n){var o=this.get("viewControllerStack"),r=o?o.length:0;return r>0?o[r-1]:null}}),viewControllerStack:m$629$1({defaultValue:function(){return[]},get:function(i,e,t,n){return this._viewControllerStack},set:function(i,e,t,n,o){var r=this._viewControllerStack;this._exchangeViewControllerStacks(r,i),this._viewControllerStack=i}}),topViewController:m$629$1({readOnly:!0,get:function(i,e,t,n){var o=this.get("viewControllerStack");return 0===o.length?null:o[o.length-1]}}),navigationBar:m$629$1({readOnly:!0,get:function(i,e,t,n){return this.get("view").navigationBar}}),loadView:function(){var i=m$296$0.create({additionalClassNames:m$589$1(["navigation"])}),e=m$324$0.create(),t=m$296$0.create({additionalClassNames:m$589$1(["container"])});return i.addSubview(e),i.addSubview(t),i.navigationBar=e,i.container=t,i},pushViewController:function(i){this.get("isViewVisible")||m$802$0("Cannot push child view controller",{controller:this}),this.logTrace("push view controller",i);var e=(this.delegate,this.get("viewControllerStack")),t=this.get("visibleViewController");this.willShowViewController(i),this.addChildViewController(i),e.push(i),i.retain(),i.didMoveToParentViewController(this),this.transitionFromViewControllerToViewController(t,i,n);var o=i.get("navigationItem");o||m$802$0("Cannot push controller. Requires a navigation item",{controller:this}),this.get("navigationBar").pushNavigationItem(o),this.didShowViewController(i);
},popViewController:function(){var i=this.get("viewControllerStack"),e=i.length;if(e>1){var t=i[e-2];t.get("view");this.popToViewController(t)}},popToRootViewController:function(i){var e=this.get("viewControllerStack"),t=e.length;t>1&&this.popToViewController(e[0])},popToViewController:function(i){this.get("isViewVisible")||m$802$0("Cannot push child view controller",{controller:this});var e=this.get("viewControllerStack"),n=this.get("visibleViewController"),r=e.indexOf(i),l=t++;if(r===-1&&m$802$0("Cannot pop to view controller. Not on stack",{controller:this}),i!==n){i._nvc_transitionCycle=l,this.logTrace("pop to view controller",i),this.willShowViewController(i);var a,s=null;for(a=e.length-1;a>r;a--)s=e[a],s.willMoveToParentViewController(null),this.get("navigationBar").popNavigationItem();var v=[];for(a=e.length-1;a>r;a--)s=e[a],s._nvc_transitionCycle=l,v.push(s);this.transitionFromViewControllerToViewController(n,i,o,function(){var i=v.length;for(a=0;a<i;a++)s=v[a],s._nvc_transitionCycle===l&&(this.removeChildViewController(s),s.release(),this.didPopViewController(s))}.bind(this)),e.length=r+1,this.didShowViewController(i)}},transitionFromViewControllerToViewController:function(t,r,l,a){var s,v,w,c,h=this.get("view").container;t&&(t.beginAppearanceTransition(!1),s=t.get("view"),w=s.get("element")),v=r.get("view"),c=v.get("element"),r.beginAppearanceTransition(!0),h.addSubview(r.get("view")),r.endAppearanceTransition(!0);var g=e;window.event&&window.event.shiftKey&&(g*=10);var p=0,d=0;p=s?s._transitionIdx=(0|s._transitionIdx)+1:0,d=v._transitionIdx=(0|v._transitionIdx)+1;var C=function(){
t&&p===s._transitionIdx&&(h.removeSubview(t.get("view")),t.endAppearanceTransition(!1),w.classList.remove("transitioning-out"),s._nvc_isTransitioning=!1,s.set("left",0)),a&&a()},u=function(){r&&d===v._transitionIdx&&(c.classList.remove("transitioning-in"),v._nvc_isTransitioning=!1,v.set("left",0),r.navigateInTransitionDidFinish&&r.navigateInTransitionDidFinish())};if(s&&s.animate&&v.animate){s._nvc_isTransitioning=!0,w.classList.remove("transitioning-in"),w.classList.add("transitioning-out");var V=0,_=0,m=0,$=0;switch(l){case n:V=0,_=-i,m=i,$=0;break;case o:V=0,_=i,m=-i,$=0}s.set("left",V),s.animate("left",_,g),s.animate("opacity",0,g,C),v._nvc_isTransitioning||(v.get("style").set("opacity",0).translate(l*i,0,0),v.set("left",m),v.set("opacity",0)),v._nvc_isTransitioning=!0,c.classList.remove("transitioning-out"),c.classList.add("transitioning-in"),v.animate("left",$,g),v.animate("opacity",1,g,u)}else m$799$0(function(){C(),u()},1)},willShowViewController:function(i){var e=this.delegate,t=e?e.navigationControllerWillShowViewController:null;t&&t.call(e,this,i)},didShowViewController:function(i){var e=this.delegate,t=e?e.navigationControllerDidShowViewController:null;t&&t.call(e,this,i)},didPopViewController:function(i){var e=this.delegate,t=e?e.navigationControllerDidPopViewController:null;t&&t.call(e,this,i)},shouldAutomaticallyForwardAppearanceMethods:function(){return!1},viewWillAppear:function(){this.__s._4k$2uy$viewWillAppear.call(this);var i=this.get("visibleViewController");if(i){this.willShowViewController(i),i.beginAppearanceTransition(!0);var e=i.get("view");e.get("parent")||this.get("view").container.addSubview(e);
}},viewDidAppear:function(){this.__s._4k$30O$viewDidAppear.call(this);var i=this.get("visibleViewController");if(i){var e=i.get("view");e.get("parent")||this.get("view").container.addSubview(e),i.endAppearanceTransition(!0),this.didShowViewController(i)}},viewWillDisappear:function(){this.__s._4k$36w$viewWillDisappear.call(this);var i=this.get("visibleViewController");i&&i.beginAppearanceTransition(!1)},viewDidDisappear:function(){this.__s._4k$3A4$viewDidDisappear.call(this);var i=this.get("visibleViewController");i&&i.endAppearanceTransition(!1)},_exchangeViewControllerStacks:function(i,e){var t,n,o,r=this.get("isViewVisible"),l=r?this.get("view").container:null,a=this.get("navigationBar"),s=i?i.length:0,v=e?e.length:0;for(this.logTrace("begin exchanging view controller stacks"),s>0&&r&&(t=i[s-1],t.beginAppearanceTransition(!1),l.removeSubview(t.get("view")),t.endAppearanceTransition(!1)),n=0;n<v;n++)t=e[n],t.retain();for(n=s-1;n>=0;n--)t=i[n],t.willMoveToParentViewController(null),this.removeChildViewController(t),t.release(),a.popNavigationItem({animate:!1});for(n=0;n<v;n++)t=e[n],o=t.get("navigationItem"),o||m$802$0("Error exchanging view controller stacks. Controller requires a navigation item",{controller:this,controllerIndex:n}),a.pushNavigationItem(o,{animate:!1}),this.addChildViewController(t),t.didMoveToParentViewController(this);if(v>0&&r){this.delegate;t=e[v-1],this.willShowViewController(t),t.beginAppearanceTransition(!0),l.addSubview(t.get("view")),t.endAppearanceTransition(!0),this.didShowViewController(t)}this.logTrace("end exchanging view controller stacks");
},__superMap:{_4k$2uy$viewWillAppear:"viewWillAppear",_4k$30O$viewDidAppear:"viewDidAppear",_4k$36w$viewWillDisappear:"viewWillDisappear",_4k$3A4$viewDidDisappear:"viewDidDisappear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.ViewControllers.NavigationController"}});m$298$0=r}();
!function(){"use strict";var e=m$297$0.extend({FilesGridViewControllerClass:m$167$0,delegate:null,init:function(e){this.__s._2h$Bt$init.call(this,e),this._viewControllerPool=m$236$0.create(),this._navController=m$298$0.create({delegate:this}),this._folderNavigationService=this.loadFolderNavigationService(),this.addChildViewController(this._navController)},loadView:function(){return this._navController.get("view")},loadFolderNavigationService:function(){return m$37$0},viewWillAppear:function(){this._setupFolderNavigationServiceMonitoring()},viewDidDisappear:function(){this._teardownFolderNavigationServiceMonitoring()},_setupFolderNavigationServiceMonitoring:function(){var e=this,r=this._folderNavigationService.observe("currentWorkingPath",function(r){r&&e._transitionToPath(r)});this._currentWorkingFolderObserver=r},_teardownFolderNavigationServiceMonitoring:function(){this._currentWorkingFolderObserver.disconnect()},_transitionToPath:function(e){window.billy;var r=this._navController,o=r.viewControllerStack,t=r.topViewController,i=o.length,n=e.length,l=e[n-1];if(0===i)return void this._replaceNavigationStackForFolder(l);for(var a=0,s=Math.min(i,n);a<s;a++){var v=o[a],c=e[a];if(v.folder.id!=c.id)return void this._replaceNavigationStackForFolder(l)}if(n<i){var h=this._getViewControllerForFolder(l);r.popToViewController(h)}else n-1===i&&t.folder===l.parent?(h=this._acquireViewController(),h.set("folder",l),r.pushViewController(h)):this._replaceNavigationStackForFolder(l)},_createViewControllerStackForFolder:function(e){var r=e.get("path"),o=[],t=this;return r.forEach(function(e,r){
var i=t._acquireViewController(e);i.set("folder",e),o.push(i)}),o},_replaceNavigationStackForFolder:function(e){var r=this._createViewControllerStackForFolder(e);this._navController.set("viewControllerStack",r)},_getViewControllerForFolder:function(e){for(var r=this._navController.get("viewControllerStack"),o=r?r.length:0,t=0;t<o;t++){var i=r[t];if(i.get("folder")===e)return i}return null},willShowViewController:function(e){var r=this.delegate,o=r?r.navigationControllerWillShowViewController:null;o&&o.call(r,this,e)},didShowViewController:function(e){var r=this.delegate,o=r?r.navigationControllerDidShowViewController:null;o&&o.call(r,this,e)},navigationControllerDidPopViewController:function(e,r){this._releaseViewController(r)},navigationControllerWillShowViewController:function(e,r){this.willShowViewController(r)},navigationControllerDidShowViewController:function(e,r){this.didShowViewController(r)},_acquireViewController:function(){var e=this._viewControllerPool.dequeueItemForKeyIdentifier("controller");if(!e){var r=this.FilesGridViewControllerClass;e=r.create(),e.retain()}return e},_releaseViewController:function(e){e.prepareForReuse(),this._viewControllerPool.queueItemForKeyIdentifier(e,"controller")},handleKeyDown:function(e){var r=this._navController.get("topViewController"),o=!1;if(r){var t=r.get("view");t.handleKeyDown&&(o=t.handleKeyDown(e))}return!o&&r&&r.handleKeyDown&&(o=r.handleKeyDown(e)),o},__superMap:{_2h$Bt$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ViewControllers.FolderNavigationController"}});m$169$0=e}();
!function(){"use strict";function t(t,i,h){return">="===i?Math.max(t,h):"<="===i?Math.min(t,h):void m$802$0("Unknown operator in layout plan: "+i,{left:t,right:h})}var i=m$626$0.extend({width:0,height:0,items:null,init:function(){this.items=[],this.__s._Eq$P7$init.apply(this,arguments)},addItem:function(t,i,h){var s=e.create(this,t);return i||(i={left:0,top:0,width:0,height:0}),s.reset(i,h),this.items.push(s),this[t]=s,s},reset:function(t,i){var h,s=this.items,e=s.length;for(h=0;h<e;h++)s[h].reset()},__superMap:{_Eq$P7$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CWE.Layout.Plan"}}),h=m$616$0.extend({initializeMember:function(t,i){var h=this.get,s=this.set;if(!h||!s){var e="_"+i;h||(h=function(){return this[e]}),s||(s=function(t){this[e]=t})}return Object.defineProperty(t,i,{get:h,set:s}),null},staticMembers:{__QUALIFIED_CLASS_NAME__:"CWE.Layout.NativeProperty$934"}}),s=function(t){return h.create(t)},e=m$626$0.extend({_left:0,_top:0,_width:0,_height:0,_right:0,_bottom:0,init:function(t,i){this.plan=t,this.key=i,this.__s._Eq$144$init.call(this)},reset:function(t,i){if(t){var h=0,s=0,e=0,o=0;h=t.left,s=t.top,e=t.width,o=t.height,i&&(h-=i.left,s-=i.top),this._initialLeft=h,this._initialTop=s,this._initialWidth=e,this._initialHeight=o}this._left=this._initialLeft,this._top=this._initialTop,this._width=this._initialWidth,this._height=this._initialHeight,this._right=this._left+this._width,this._bottom=this._top+this._height},widthHasChanged:s({get:function(t,i,h,s){return this._width!==this._initialWidth}}),heightHasChanged:s({get:function(t,i,h,s){return this._height!==this._initialHeight;
}}),centerHorizontally:function(t,i){var h=0,s=0;"number"==typeof t?(i=t,h=this.plan.width):t?(h=t._width,s=t._left):h=this.plan.width,i||(i=0);var e=s+h/2-this._width/2+i;this._left=e,this._right=e+this._width},centerVertically:function(t,i){var h=0,s=0;"number"==typeof t?(i=t,h=this.plan.height):t?(h=t._height,s=t._top):(t=this.plan,h=this.plan.height),i||(i=0);var e=s+h/2-this._height/2+i;this._top=e,this._bottom=e+this._height},resizeSoThatLeft:function(i,h){var s=t(this._left,i,h);this._left=s,this._width=this._right-this._left},resizeSoThatRight:function(i,h){var s=t(this._right,i,h);this._right=s,this._width=this._right-this._left},resizeSoThatTop:function(i,h){var s=t(this._top,i,h);this._top=s,this._height=this._bottom-s},resizeSoThatBottom:function(i,h){var s=t(this._bottom,i,h);this._bottom=s,this._height=s-this._top},moveSoThatLeft:function(i,h){var s=t(this._left,i,h);this._left=s,this._right=s+this._width},moveSoThatRight:function(i,h){var s=t(this._right,i,h);this._right=s,this._left=s-this._width},moveSoThatTop:function(i,h){var s=t(this._top,i,h);this._top=s,this._bottom=s+this._height},moveSoThatBottom:function(i,h){var s=t(this._bottom,i,h);this._bottom=s,this._top=s-this._height},moveLeftSoThatWidth:function(i,h){var s=t(this._width,i,h);this._width=s,this._left=this._right-s},moveRightSoThatWidth:function(i,h){var s=t(this._width,i,h);this._width=s,this._right=this._left+s},moveTopSoThatHeight:function(i,h){var s=t(this._height,i,h);this._height=s,this._top=this._bottom-s},moveBottomSoThatHeight:function(i,h){var s=t(this._height,i,h);this._height=s,this._bottom=this._top+s;
},setLeft:function(t){this._left=t,this._right=t+this._width},setRight:function(t){this._right=t,this._left=t-this._width},setTop:function(t){this._top=t,this._bottom=t+this._height},setBottom:function(t){this._bottom=t,this._top=t-this._height},setWidth:function(t){this.setWidthFromLeft(t)},setWidthFromLeft:function(t){this._width=t,this._right=this._left+t},setWidthFromRight:function(t){this._width=t,this._left=this._right-t},setHeight:function(t){this.setHeightFromTop(t)},setHeightFromTop:function(t){this._height=t,this._bottom=this._top+t},setHeightFromBottom:function(t){this._height=t,this._top=this._bottom-t},left:s({set:function(t,i,h,s,e){this.setLeft(t)}}),right:s({set:function(t,i,h,s,e){this.setRight(t)}}),top:s({set:function(t,i,h,s,e){this.setTop(t)}}),bottom:s({set:function(t,i,h,s,e){this.setBottom(t)}}),width:s({set:function(t,i,h,s,e){this.setWidth(t)}}),height:s({set:function(t,i,h,s,e){this.setHeight(t)}}),__superMap:{_Eq$144$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CWE.Layout.PlanItem"}});m$934$0=i,m$934$1=e}();
!function(){"use strict";var t={init:function(){var t=this.getMetadataByType(m$931$0),i=[];for(var n in t){var s=t[n].getFunctionForObject(this);this[n]=s,i.push(s)}this.layoutCollapseFunctions=i,this.__s._Er$Az$init.apply(this,arguments)},__superMap:{_Er$Az$init:"init"}};m$935$0=t}();
!function(){"use strict";var t=m$624$0.extend({requiresSupport:m$935$0,priority:0,call:function(t,r){return 0},getFunctionForObject:function(t){var r=this.call.bind(t);return r.priority=this.priority,r},staticMembers:{__QUALIFIED_CLASS_NAME__:"CWE.Layout.CollapseFunction"}}),r=function(r,i){return t.create({priority:r,call:i})};m$931$0=t,m$931$1=r}();
!function(){"use strict";function r(r,i,n,o,u){i=i.slice(),i.sort(t),i=i.filter(function(r){return!(void 0!==o&&r<o)&&!(void 0!==u&&r>u)});var e=0,c=i.length;for(e=0;e<c&&(n=i[e](r,n),!(n<=0));e++);return n}function t(r,t){return r.priority-t.priority}m$932$0=r}();
!function(){"use strict";function t(t){return n.create(t)}var i=m$624$0.extend({requiresSupport:m$935$0,init:function(){var t=this;this.value=function(i,n){return t.call(this,i,n)},this.__s._Ep$6J$init.apply(this,arguments)},setItemPosition:function(t,i){},call:function(t,i,n){var e=n,r=0,o=0,a=i.length;for(o=0;o<a;o++){var s=i[o];r=Math.max(r,this.marginBefore(s)),e+=r,this.setItemPosition(s,e),e+=s.width,r=this.marginAfter(s)}return e+r},marginBefore:function(t){return 0},marginAfter:function(t){return 0},__superMap:{_Ep$6J$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CWE.Layout.DirectionalLayout"}}),n=i.extend({setItemPosition:function(t,i){t.left=i},staticMembers:{__QUALIFIED_CLASS_NAME__:"CWE.Layout.LeftToRightLayout$933"}});m$933$0=i,m$933$1=t}();
!function(){"use strict";var t=m$626$0.extend(m$544$0,{accessoryType:null,contentTitleKey:"title",content:null,isEnabled:m$545$1(!0),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.PathBarItem"}});m$163$0=t}();
!function(){"use strict";var e=m$563$1("BRApp.UI.PathBarItemAccessoryType",function(e){e("FileTall"),e("FileWide"),e("Folder"),e("Home"),e("AppContainer")});m$164$0=e}();
!function(){"use strict";var e=m$296$0.extend(m$256$0,m$271$0,m$212$0,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["icon"]},{type:"ELEMENT",tagname:"div",children:[],classes:["title"]},{type:"ELEMENT",tagname:"div",children:[],classes:["fade"],styles:{right:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"faderPosition",attributes:{},unit:"px",property:"right"}}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"firstItem",truevalue:"first",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"enabled",falsevalue:"disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"active",truevalue:"active",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"pressed",truevalue:"pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDragTargetFocused",truevalue:"drag-target-focused",attributes:{}}],styles:{"max-width":{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"maximumWidth",attributes:{},unit:"px",property:"max-width"}}},__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.PathBarViewCell"},additionalClassNames:m$589$1(["path-bar-view-cell"]),hasBeenLaidOut:!1,isBeingHoveredOver:!1,left:m$212$1(0),width:m$212$1(100),faderPosition:m$212$1(0),preferredWidth:m$629$1({get:function(e,t,i,n){this.get("style").set("width","auto");var s=this.get("element").offsetWidth;return this.get("style").set("width",this.get("width")),s}}),marginLeft:0,marginRight:0,minimumWidth:m$545$1(31),maximumWidth:m$545$1(1e3),pathBarItem:m$545$1(null),
enabled:m$545$1(m$539$1("pathBarItem.isEnabled")),firstItem:m$545$1(!1),prepareForReuse:function(){this.set("firstItem",!1),this.set("pathBarItem",null),this.set("target",null),this.set("action",null),this.set("hasBeenLaidOut",!1)},_pathBarItemDidChange:m$557$1("element","pathBarItem",function(e,t){if(e){var i=this._contentTitleObserver,n=this._iconAccessoryClassname;if(i&&(i.disconnect(),this._contentTitleObserver=null),n&&(this._getIconElement().removeClass(n),this._iconAccessoryClassname=null),t){var s=t.get("content"),a=t.get("contentTitleKey"),r=t.get("accessoryType").name.toLowerCase();this._contentTitleObserver=s.observe(a,this._contentTitleDidChange.bind(this)),this._getIconElement().addClass(r),this._iconAccessoryClassname=r}}}),_contentTitleDidChange:function(e){this._getTitleElement().attr("title",e).text(e),this.notifyParentOfDynamicContentChange()},widthDidChange:m$557$1("width",function(e){this.get("style").set("width",e);var t=this.get("preferredWidth");e<t-1?this.set("faderPosition",0):this.set("faderPosition",-20)}),leftDidChange:m$557$1("left",function(e){this.get("style").set("left",e)}),_getIconElement:function(){var e=this._iconElem;return e||(e=this._iconElem=this.queryElement(".icon")),e},_getTitleElement:function(){var e=this._titleElem;return e||(e=this._titleElem=this.queryElement(".title")),e},pointerOver:function(e){return this.beginHover(),!0},pointerOut:function(e){return this.endHover(),!0},dragOver:function(){return this.beginHover(),this.__s._32$1NI$dragOver.apply(this,arguments)},dragLeave:function(){return this.endHover(),this.__s._32$1Of$dragLeave.apply(this,arguments);
},beginHover:function(){this._isBeingHoveredOver||(this._isBeingHoveredOver=!0,this._scheduleHoverStateUpdate())},_scheduleHoverStateUpdate:function(){var e=this;e._scheduledHoverStateUpdae&&clearTimeout(e._scheduledHoverStateUpdate),e._scheduledHoverStateUpdate=m$254$0.setTimeout(function(){e._scheduledHoverStateUpdate=null,e.isBeingHoveredOver=e._isBeingHoveredOver,e.notifyParentOfDynamicContentChange()},50)},endHover:function(){this._isBeingHoveredOver&&(this._isBeingHoveredOver=!1,this._scheduleHoverStateUpdate())},updateMaximumWidth:function(){var e,t,i;e=this.get("element"),t=e.style.width,e.style.maxWidth=null,e.style.width=null,i=e.getBoundingClientRect().width,e.style.width=t,this.set("maximumWidth",i)},__superMap:{_32$1NI$dragOver:"dragOver",_32$1Of$dragLeave:"dragLeave"}});m$191$0=e}();
!function(){"use strict";function t(t,e){var i=1,a=0,r=t.length,n=t[0].width,h=0,s=0,o=t[0].view.get("minimumWidth");for(a=1;a<r;a++){if(h=t[a].width,h!==n){s=h;break}o=Math.max(o,t[a].view.get("minimumWidth")),n=h,i=a+1}var u=n-Math.ceil(e/i),m=Math.max(u,s,o);for(a=0;a<i;a++)t[a].width=m;return e-(n-m)*i}var e=m$296$0.extend(m$935$0,{additionalClassNames:m$589$1(["path-bar"]),delegate:null,dragTargetHandler:null,itemStack:m$629$1({get:function(t,e,i,a){return this._itemStack},set:function(t,e,i,a,r){this._replaceItemStack(t)}}),topItem:m$629$1({readOnly:!0,get:function(t,e,i,a){var r=this._itemStack,n=r?r.length:0;return n>0?r[n-1]:null}}),init:function(t){var e=t.itemStack;e&&delete t.itemStack,this.__s._31$M4$init.call(this,t),this._itemStack=[],this._subviewStack=[],this._viewCache=m$236$0.create(),e&&this._replaceItemStack(e)},pushPathBarItem:function(t){var e,i=this.get("itemStack"),a=i.length,r=this._subviewStack,n=this.getPathBarViewCellForPathBarItem(t);n.set("firstItem",0===a),a>0&&(e=this.getArrowAccessoryView(),r.push(e),this.addSubview(e)),r.push(n),this.addSubview(n),i.push(t),this.setUpLayoutPlan()},popPathBarItem:function(){var t=this.get("itemStack"),e=t.length;e>1&&this.popToPathBarItem(t[e-2])},popToRootPathBarItem:function(){var t=this.get("itemStack");t.length>0&&this.popToPathBarItem(t[0])},popToPathBarItem:function(t){var e=this.get("itemStack"),i=e.indexOf(t);i<0&&m$802$0("Cannot pop path bar item. Not on item stack",{view:this});for(var a,r,n=this._subviewStack,h=this._viewCache,s=e.length-1;s>i;s--)a=n[2*s],r=n[2*s-1],this.removeSubview(a),this.removeSubview(r),
h.queueItemForKeyIdentifier(a,"cell"),h.queueItemForKeyIdentifier(r,"arrow"),a.prepareForReuse();n.length=0===i?1:2*i+1,e.length=i+1,this.setUpLayoutPlan()},_replaceItemStack:function(t){if(t&&this.get("element")){this.popToRootPathBarItem();var e,i=this._subviewStack,a=this._itemStack,r=this._viewCache;a.length>0&&(e=i[0],this.removeSubview(e),r.queueItemForKeyIdentifier(e,"cell"),e.prepareForReuse(),a.length=0,i.length=0);for(var n=t.length,h=0;h<n;h++)this.pushPathBarItem(t[h])}},getPathBarViewCellForPathBarItem:function(t){var e=this._viewCache,i=e.dequeueItemForKeyIdentifier("cell");return i||(i=m$191$0.create()),i.set("pathBarItem",t),i.set("target",this),i.set("action",this._triggerPathBarCellAction),i.set("dragTargetHandler",this.get("dragTargetHandler")),i},getArrowAccessoryView:function(){var t=this._viewCache,e=t.dequeueItemForKeyIdentifier("arrow");return e?e.hasLaidOut=!1:e=i.create({hasLaidOut:!1}),e},_triggerPathBarCellAction:function(t){var e=this.get("delegate");e.pathBarViewPerformActionForPathBarItem(this,t.get("pathBarItem"))},setUpLayoutPlan:function(){var t=this.plan=m$934$0.create(),e=this.get("subviews");e.forEach(function(e,i){var a=t.addItem(i);a.view=e,e.layoutItem=a,e.updateMaximumWidth&&e.updateMaximumWidth()}),this._layoutIsDueToContentChange=!0,this.setNeedsLayout()},layOutLeftToRight:m$933$1({marginBefore:function(t){return t.view.get("marginLeft")},marginAfter:function(t){return t.view.get("marginRight")}}),collapseEnabledItems:m$931$1(0,function(e,i){var a=e.items;if(a=a.filter(function(t){return t.view.instanceOf(m$191$0)}).slice(1,-2),0===a.length)return i;
for(a.sort(function(t,e){return e.get("preferredWidth")-t.get("preferredWidth")});i>0;){var r=t(a,i);if(r===i)break;i=r}return i}),collapseSecondToLastItem:m$931$1(99,function(t,e){var i=t.items.filter(function(t){return t.view.instanceOf(m$191$0)}).slice(-2);if(2!==i.length)return e;var a=i[0],r=a.width;return a.width=Math.max(r-e,a.view.get("minimumWidth")),e-(r-a.width)}),collapseFirstItem:m$931$1(1,function(t,e){var i=t[0];if(i.view.get("isBeingHoveredOver"))return e;var a=i.width;return i.width=Math.max(a-e,i.view.get("minimumWidth")),e-(a-i.width)}),layoutSubviews:function(){var t=this.get("style"),e=0|parseInt(t.get("padding-left")),i=0|parseInt(t.get("padding-right")),a=this._layoutIsDueToBoundsChange&&!this._layoutIsDueToContentChange;this._layoutIsDueToBoundsChange=!1,this._layoutIsDueToContentChange=!1;var r=this.plan;if(r){r.items.forEach(function(t){t.width=t.view.get("preferredWidth")});var n=this.layOutLeftToRight(r.items,e),h=this.get("frame").get("width")-e-i;n>h&&(m$932$0(r,this.layoutCollapseFunctions,n-h),this.layOutLeftToRight(r.items,e)),r.items.forEach(function(t){var e=t.get("view");e.updateMaximumWidth&&e.updateMaximumWidth(),e.get("isBeingHoveredOver")&&(t.width=e.get("preferredWidth")),e._currentlySetWidth!==t.width&&(e.get("hasLaidOut")&&!a?e.animate("width",t.width,250):(e.set("hasLaidOut",!0),e.set("width",t.width))),e._currentlySetWidth=t.width})}},subviewDidChangeDynamicContent:function(t){this.setUpLayoutPlan(),this._layoutIsDueToContentChange=!0},frameDidInvalidate:function(){this.setNeedsLayout(),this._layoutIsDueToBoundsChange=!0},__superMap:{
_31$M4$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.PathBarView"}}),i=m$296$0.extend(m$212$0,{additionalClassNames:m$589$1(["arrow"]),preferredWidth:8,minimumWidth:8,width:m$212$1(8),marginLeft:0,marginRight:0,left:m$212$1(0),leftDidChange:m$557$1("left",function(t){this.get("style").set("left",t)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.Views.ArrowAccessoryView$190"}});m$190$0=e}();
!function(){"use strict";var t=m$269$0.extend({getDragTargetInfo:function(t,e,r){var o=r.get("type"),i=e.get("pathBarItem").get("content");return"file-system"===o?m$272$0.create("upload",{destinationFolder:i,dropEffect:"copy"}):m$272$0.create("move",{destinationFolder:i,dropEffect:"move"})},loadActionPolicy:function(){return this._actionPolicy||(this._actionPolicy=m$153$0.get("actionPolicy")),this._actionPolicy},shouldAllowDrop:function(t,e,r){var o=this.loadActionPolicy();if(!o.get("shouldAllowDragAndDropUpload"))return!1;var i=r.get("type");if("file-system"===i)return!0;if("none"===i)return!1;var n=e.get("pathBarItem").get("content"),a=r.get("data").sourceFolder,c=r.get("data").items;if(n.get("isFile")||a===n)return!1;if(!n.acceptsItems(c))return!1;var s=r.data.items;if(s){var l=s.some(function(t){return t.canEdit===!1||t.parent.canModifyContents===!1});if(l)return!1}return!0},getDropInfo:function(t,e,r){var o=e.get("pathBarItem").get("content"),i=r.get("data");return"file-system"===r.get("type")?m$273$0.create("upload-files",{items:i.items,destinationFolder:o}):m$273$0.create("move-items",{sourceFolder:i.sourceFolder,items:i.items,destinationFolder:o})},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.DragDrop.PathBarViewCellDragTargetHandler"}});m$159$0=t}();
!function(){"use strict";var t=m$297$0.extend(m$155$0,{folderContent:m$545$1(null),selection:m$545$1(null),init:function(t){this.__s._2j$Bt$init.call(this,t),this._pathBarViewCellDragTargetHandler=m$159$0.create({delegate:this});var e=this;m$37$0.observe("currentWorkingPath",function(t){e._currentWorkingPathChanged()}),this.observe("selection","selection.changed",function(t,i){e._selectionDidChange()})},loadView:function(){return m$190$0.create({delegate:this,dragTargetHandler:this._pathBarViewCellDragTargetHandler})},prepareForChange:function(){this._preparing=!0},finalizeForChange:function(){this._preparing=!1,this._itemStackTop=null,this._folderContentDidChange(),this._selectionDidChange()},loadPathBarItemForContent:function(t){return m$163$0.create({contentTitleKey:"name",content:t,accessoryType:this._getAccessoryTypeForContent(t),isEnabled:!0})},_getAccessoryTypeForContent:function(t){return t.get("parent")?t.get("isFolder")?m$164$0.Folder:t.get("isAppLibrary")?m$164$0.AppContainer:m$164$0.FileTall:m$164$0.Home},_currentWorkingPathChanged:function(){if(!this._preparing){var t=this.get("view"),e=m$37$0.currentWorkingPath;if(!t||!e)return void(this._itemStackTop=null);var i=this,n=e.map(function(t){return i.loadPathBarItemForContent(t)});t.set("itemStack",n),this._itemStackTop=t.get("topItem"),this._selectionDidChange()}},_selectionDidChange:function(){if(!this._preparing){var t=this.get("view"),e=this.get("folderContent"),i=this.get("selection");if(t&&e&&i&&this._itemStackTop){t.popToPathBarItem(this._itemStackTop);var n=i.get("size");if(1===n){var r=this;i.forEach(function(e){
var i=r.loadPathBarItemForContent(e);i.set("isEnabled",!1),t.pushPathBarItem(i)})}this._itemStackTop.set("isEnabled",!1)}}},pathBarViewPerformActionForPathBarItem:function(t,e){var i=e.get("content");(i.get("isFolder")||i.get("isAppLibrary"))&&m$37$0.moveToFolder(i)},__superMap:{_2j$Bt$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ViewControllers.PathBarViewController"}});m$171$0=t}();
!function(){"use strict";var t=m$297$0.extend({folderContent:m$545$1(null),selection:m$545$1(null),init:function(t){this.__s._2l$9q$init.call(this,t);this.observe("folderContent","folderContent.changed","folderContent.dataState",function(){this._folderContentDidChange()}),this.observe("selection","selection.changed",function(){this._selectionDidChange()}),this.connectQuotaChangedListener()},viewDidDisappear:function(){this.__s._2l$Gd$viewDidDisappear.call(this),this.disconnectQuotaChangedListener()},loadView:function(){return m$320$0.create({additionalClassNames:m$589$1(["status-info"])})},prepareForChange:function(){this._preparing=!0},finalizeForChange:function(){this._preparing=!1,this._itemStackTop=null,this._folderContentDidChange(),this._selectionDidChange()},_folderContentDidChange:function(){this._preparing||this._updateStatusInfo()},_selectionDidChange:function(){this._preparing||this._updateStatusInfo()},_quotaDataDidChange:function(){this._preparing||this._updateStatusInfo()},connectQuotaChangedListener:function(){this.disconnectQuotaChangedListener();var t=m$143$0.get("sharedInstance"),e=this;this._quotaChangedListener=t.listen("quotaChanged",function(t){t&&e._quotaDataDidChange()})},disconnectQuotaChangedListener:function(){var t=this._quotaChangedListener;t&&(t.disconnect(),delete this._quotaChangedListener)},formatQuota:function(){var t=m$143$0.get("sharedInstance"),e=t&&t.getQuotaData();if(!e)return"";var n=e.get("totalStorageInBytes"),i=e.get("usedStorageInBytes");if(!isFinite(n)||!isFinite(i))return"";var a=Math.max(0,n-i),s=m$426$2(a,{multipleType:m$426$1});
return m$565$1("StatusBar.Info.Quota",{size:s})},_updateStatusInfo:function(){var t=this.get("view"),e=this.get("folderContent"),n=this.get("selection");if(t&&e){var i,a="",s=e&&e.get("length")||0,o=n&&n.get("size")||0;if(e.get("hasError"))return void t.set("value","");if(e.get("isLoading"))i="StatusBar.Info.Loading";else if(0===o){var r,u="StatusBar.Info.NoItemsSelected.";r=0===s?"NoItemsAvailable":1===s?"OneItemAvailable":"MultipleItemsAvailable",i=u+r}else i="StatusBar.Info.OneOrMoreItemsSelected";var l=m$923$0.getNumberFormatter(),d=l.format(o),h=l.format(s);a=m$565$1(i,{numberOfSelectedItems:d,totalNumberOfItems:h}),e.get("isLoading")||(a+=this.formatQuota()),t.set("value",a),t.invalidateFrame()}},__superMap:{_2l$9q$init:"init",_2l$Gd$viewDidDisappear:"viewDidDisappear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ViewControllers.StatusInfoViewController"}});m$173$0=t}();
!function(){"use strict";var t=m$269$0.extend({getCurrentFolder:function(){var t=this.get("delegate").getMainToolbarViewController();return t.getPath("folderContent.folder")},getDragTargetInfo:function(t,e,r){var o=this.getCurrentFolder(),n=r.get("type");return"file-system"===n?m$272$0.create("upload",{destinationFolder:o,dropEffect:"copy"}):m$272$0.create("move",{destinationFolder:o,dropEffect:"move"})},loadActionPolicy:function(){return this._actionPolicy||(this._actionPolicy=m$153$0.get("actionPolicy")),this._actionPolicy},shouldAllowDrop:function(t,e,r){var o=this.loadActionPolicy();if(!o.get("shouldAllowDragAndDropUpload"))return!1;if(null===r)return!1;if(this.delegate&&this.delegate.currentFolder&&this.delegate.currentFolder.canModifyContents===!1)return!1;var n=r.get("type");return"file-system"===n},getDropInfo:function(t,e,r){var o=r.get("data"),n=this.getCurrentFolder();return m$273$0.create("upload-files",{items:o.items,destinationFolder:n})},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.DragDrop.RootViewDragTargetHandler"}});m$160$0=t}();
!function(){"use strict";var e=[10,20,30,60,90,150,1/0].map(function(e){return 1e3*e}),t=m$563$1("DisplayMode",function(e){e("None"),e("FolderNavigation"),e("AccountMigration"),e("LoadingRoot")}),i=m$297$0.extend(m$155$0,{delegate:null,rootFolder:null,loadRootFolderService:null,allowsMove:!1,currentFolder:m$545$1({readOnly:!0,get:function(e,t,i,o){return this._currentFolder}}),currentFolderContent:m$545$1({readOnly:!0,get:function(e,t,i,o){return this._currentFolderContent}}),currentSelection:m$545$1({readOnly:!0,get:function(e,t,i,o){return this._currentSelection}}),displayMode:m$629$1({readOnly:!0,get:function(e,t,i,o){return this._currentDisplayMode}}),init:function(e){this.__s._2k$jw$init.call(this,e);this._uploadFilesService=this.loadUploadFileService(),this._currentDisplayMode=t.None;var i=this.getStatusInfoViewController(),o=this.getPathBarViewController(),n=this.getNavigationController(),r=this.getMainToolbarViewController();this.addChildViewController(i),i.didMoveToParentViewController(this),this.addChildViewController(o),o.didMoveToParentViewController(this),this.addChildViewController(n),n.didMoveToParentViewController(this),this.addChildViewController(r),r.didMoveToParentViewController(this)},loadUploadFileService:function(){return m$50$0},getNavigationController:function(){var e=this._navigationController;return e||(e=this._navigationController=m$169$0.create({viewClassname:"browse",delegate:this})),e},getMainToolbarViewController:function(){var e=this._mainToolbarViewController;return e||(e=this._mainToolbarViewController=m$170$0.create({selection:m$539$1(".parentViewController.currentSelection"),
folderContent:m$539$1(".parentViewController.currentFolderContent")})),e},getStatusInfoViewController:function(){var e=this._statusInfoViewController;return e||(e=this._statusInfoViewController=m$173$0.create({delegate:this,selection:m$539$1(".parentViewController.currentSelection"),folderContent:m$539$1(".parentViewController.currentFolderContent")})),e},getPathBarViewController:function(){var e=this._pathBarViewController;return e||(e=this._pathBarViewController=m$171$0.create({delegate:this,selection:m$539$1(".parentViewController.currentSelection"),folderContent:m$539$1(".parentViewController.currentFolderContent")})),e},prepare:function(){this._loadRootFolder(),this.delegate.rootViewControllerDidPrepare()},loadView:function(){var e=m$193$0.create();return e},shouldAutomaticallyForwardAppearanceMethods:function(){return!1},viewWillAppear:function(){this.__s._2k$1Wn$viewWillAppear.call(this),this._attachKeyboardListener();var e=this.get("view"),t=this.getMainToolbarViewController(),i=t.get("view");t.beginAppearanceTransition(!0),e.addSubview(i),t.endAppearanceTransition(!0)},viewWillDisappear:function(){this.__s._2k$1dN$viewWillDisappear.call(this),this._dettachKeyboardListener()},navigationControllerWillShowViewController:function(e,t){},navigationControllerDidShowViewController:function(e,t){this._currentFolder=t.folder,this._currentFolderContent=t.folderContent,this._currentSelection=t.selection,m$541$0.pause(),this.propertyChanged("currentFolder"),this.propertyChanged("currentFolderContent"),this.propertyChanged("currentSelection"),m$541$0.resume()},_changeDisplayMode:function(e){
var i=this._currentDisplayMode;if(i!==e){var o,n=this.get("view"),r=this.getMainToolbarViewController(),a=this.getPathBarViewController(),l=this.getStatusInfoViewController(),s=this.getNavigationController(),d=this.getFooterView(),c=s.get("view");switch(i){case t.FolderNavigation:a.beginAppearanceTransition(!1),l.beginAppearanceTransition(!1),s.beginAppearanceTransition(!1),n.removeSubview(d),n.removeSubview(c),a.endAppearanceTransition(!1),l.endAppearanceTransition(!1),s.endAppearanceTransition(!1);break;case t.AccountMigration:o=this.getNotMigratedView(),n.removeSubview(o)}switch(e){case t.FolderNavigation:r.get("view").set("folderControlsVisible",!0),a.beginAppearanceTransition(!0),l.beginAppearanceTransition(!0),s.beginAppearanceTransition(!0),n.addSubview(c),n.addSubview(d),a.endAppearanceTransition(!0),l.endAppearanceTransition(!0),s.endAppearanceTransition(!0);break;case t.AccountMigration:o=this.getNotMigratedView(),n.addSubview(o),r.get("view").set("folderControlsVisible",!1)}this._currentDisplayMode=e}},getFooterView:function(){var e=this._footerView;if(e)return e;var t=this.getPathBarViewController().get("view"),i=this.getStatusInfoViewController().get("view");return e=this._footerView=m$296$0.extend({additionalClassNames:m$589$1(["footer-bar"]),subviewDidChangeDynamicContent:function(e){this.__s._2k$2ca$subviewDidChangeDynamicContent.call(this,e),this.setNeedsLayout()},frameDidInvalidate:function(){this.__s._2k$2ei$frameDidInvalidate.apply(this,arguments),this.setNeedsLayout()},layoutSubviews:function(){var e=this.pathBarView,t=this.statusInfoView,i=this.get("frame").get("width")-t.get("frame").get("width");
e.get("frame").set("width",i),this.__s._2k$2l4$layoutSubviews.apply(this,arguments)},__superMap:{_2k$2ca$subviewDidChangeDynamicContent:"subviewDidChangeDynamicContent",_2k$2ei$frameDidInvalidate:"frameDidInvalidate",_2k$2l4$layoutSubviews:"layoutSubviews"}}).create(),e.pathBarView=t,e.statusInfoView=i,e.addSubview(t),e.addSubview(i),e},getNotMigratedView:function(){var e=this._notMigratedView;return e||(e=this._notMigratedView=m$189$0.create()),e},_loadRootFolder:function(){var i=this.get("loadRootFolderService");if(i.get("detected"))return void this._completeLoadRootFolder();var o=this._pollingService=m$141$0.create({delays:e,runAction:function(){return i.load()},resolveAction:function(e){return e.get("detected")}});o.start().then({success:this._completeLoadRootFolder.bind(this),failure:this._loadRootFolderDidFail.bind(this)}),this._changeDisplayMode(t.AccountMigration)},_completeLoadRootFolder:function(){var e=this.get("loadRootFolderService"),i=e.get("rootFolder");this.set("rootFolder",i),m$37$0.moveToFolder(i),this.get("view").set("dragTargetHandler",m$160$0.create({delegate:this})),this._changeDisplayMode(t.FolderNavigation)},_loadRootFolderDidFail:function(e){var t=m$303$0.create({additionalClassNames:m$589$1(["ok"]),title:m$565$1("Button.OK"),target:this,action:function(){i.animateClosed(),o.removeRootView(i)},shortcut:m$688$0.RETURN}),i=m$421$0.create({message:m$565$1("Alert.UnexpectedError.Message"),description:m$565$1("Alert.UnexpectedError.Description"),buttonViews:[t]}),o=this.get("view").get("window");o.addRootView(i),i.animateOpen()},_attachKeyboardListener:function(){
this._handleKeyDown=this._handleKeyDown.bind(this),m$792$0(document,"keydown",this._handleKeyDown)},_dettachKeyboardListener:function(){m$796$0(document,"keydown",this._handleKeyDown)},handleKeyDown:function(e){var i=!1;if(this.get("displayMode")===t.FolderNavigation){var o=this.getNavigationController();i=o.handleKeyDown(e)}return i},_handleKeyDown:function(e){var t=!1,i=this.getPath("view.window.rootViews"),o=e.target,n="";if(o&&(n=o.tagName.toLowerCase()),"input"!==n&&"textarea"!==n&&i&&0!==i.length){var r=i[i.length-1],a=this.getMainToolbarViewController();return r.handleKeyDown?t=r.handleKeyDown(e):a.handleKeyDown&&(t=a.handleKeyDown(e)),!t&&r.viewController&&r.viewController.handleKeyDown&&(t=r.viewController.handleKeyDown(e)),t}},handleUploadFilesDragAndDropAction:function(e,t){this._uploadFilesService.uploadFilesToFolder(e,t)},__superMap:{_2k$jw$init:"init",_2k$1Wn$viewWillAppear:"viewWillAppear",_2k$1dN$viewWillDisappear:"viewWillDisappear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.UI.ViewControllers.RootViewController"}});m$172$0=i}();
!function(){"use strict";function t(t){switch(t.status){case m$282$0.TRACE_STATUS_LOADED_IMAGE:if(!e(t.src))return;var n=r(t.src);if(i(n))return;var c=m$886$0.get("cloudOSService"),a=m$886$0.getPath("authBag.clientInfo");c.recordStat("3rdPartyIconLoaded",{duration:t.duration,iconId:n.id,iconType:n.type,iconSize:n.size,region:a.region,country:a.country,appName:"iclouddrive"})}}function e(t){return!!t.match(c)}function i(t){return!!t.id.match(a)}function r(t){for(var e=t.match(c),i=e[1],r=i.split("&"),n={},a=0,o=r.length;a<o;a++){var u=r[a],d=u.split("="),s=d[0],v=d[1];n[s]=v}var $=n.field?n.field.match(/icon(\d+)x(\d+)_(\w+)/):null;return $&&(n.size=$[1]||null,n.type=$[3]||null),n}var n=m$626$0.extend({isActive:m$629$1({readOnly:!0,get:function(t,e,i,r){return this._active}}),activate:function(){if(!this._active){this._active=!0;var e=m$255$0.get("default");e.addObserver(m$282$0.TRACE_GROUP,t)}},deactivate:function(){if(this._active){this._active=!1;var e=m$255$0.get("default");e.removeObserver(m$282$0.TRACE_GROUP,t)}}}).create(),c=/\/getIcons\?(.*)/,a=/^com.apple\./;m$46$0=n}();
!function(){"use strict";Error.stackTraceLimit=1/0;var r=m$626$0.extend({init:function(){this.__s._Ec$8R$init.apply(this,arguments)},error:null,handleException:function(){var r=this.get("_errorReportRequestBody");this.createModifiedErrorBodyBeforeSend&&(r=this.createModifiedErrorBodyBeforeSend(r)),m$886$0.get("cloudOSService").handleApplicationCrash(r,m$809$1.stringifyRecordedLogMessages())},createModifiedErrorBodyBeforeSend:null,_errorReportRequestBody:m$629$1({get:function(r,e,t,i){var n=this.get("error"),o={};return o.error=n.message||""+n,o.errorContext=m$800$0(n.context),o.stack=this._truncateStack(n.stack),o.line=this._getErrorLineNumber(n),o}}),_truncateStack:function(r){var e=400,t=100;if(!r)return r;r=r.trim();var i=r.split("\n"),n=i.length;if(n<=e+t+1)return r;var o=n-e-t;return i.splice(e,o,"... "+o+" lines truncated ..."),i.join("\n")},_getErrorLineNumber:function(r){var e="Unknown",t=r.lineNumber||r.line;if(!t)try{var i=r.stack.split("\n"),n=i[1],o=n.split(":"),a=o[o.length-2];t=a}catch(r){t=e}return t},__superMap:{_Ec$8R$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.Utils.FatalExceptionHandler"}});m$920$0=r}();
!function(){"use strict";var t=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};m$826$0=t}();
/**
 * COSK.OnErrorHandler
 * ==============
 *
 * While we are waiting for the proper CW exception handler to be installed,
 * immediately register for onerror to get any uncaught exceptions and propagate
 * them to CloudOS
 *
 * @raw
 * @namespace COSK.OnErrorHandler
 * @export main
 */

(function onErrorHandler() {

    if (window && window.parent && window === window.parent) return;
    if (window.parent.postMessage) {

        // we'll get the app name the hard way, since CK.currentApplication is not set up yet
        var appName = window.location.pathname.match(/applications\/(.*?)\/current/)[1];

        var logApplicationMessageToCloudOS = function(args) {
            //console.log('recordApplicationMessage: ' + args[0] + ' sent to CloudOS');

            window.parent.postMessage(JSON.stringify({
                "isCloudOSMessage": true,
                "methodName": "recordApplicationMessage",
                "appName": appName,
                "args": args
            }), '*');
        };

        window.onerror = function (errorMsg, url, lineNumber, column, errorObj) {

          console.warn('onerror exception: ' + errorMsg + ' Script: ' + url + ' Line: ' + lineNumber);

          var params = {
            error: errorMsg,
            url: url,
            lineNumber: lineNumber,
            stack: errorObj ? errorObj.stack : 'not available'
          };

          logApplicationMessageToCloudOS(['OnErrorException', params]);

        }

        // send a message immediately to let CloudOS know we are running
        logApplicationMessageToCloudOS(['OnErrorExceptionHandlerWasConfigured']);
    }
})();

!function(){"use strict";var t=m$900$1("CloudOS Application",function(t){t("NotLoaded"),t("Loading",function(t){t("Init"),t("Prepare"),t("Finalize")}),t("Loaded",function(t){t("Prepared"),t("Activating"),t("Active"),t("Suspending"),t("Suspended")}),t("Unloading"),t("FatalError")}),e=t.NotLoaded,i=t.Loading,n=t.Loaded,a=t.Unloading,o=t.FatalError,r="cosk.application.loadDriverDelegate",d="cosk.application.loadCloudOSServiceDelegate",s=m$498$0.extend(m$906$0,m$901$0,{name:m$545$1({readOnly:!0}),cloudOSState:m$545$1({readOnly:!0,get:function(e,i,n,a){return this.getCurrentStateForStateEnumGroup(t)}}),driver:m$629$1({readOnly:!0,get:function(t,e,i,n){var a=this._driver;return a||(a=this._driver=this.loadDriver(),a||m$802$0("Error loading cloud OS application driver.")),a}}),cloudOSService:m$545$1({readOnly:!0,strong:!0,get:function(t,e,i,n){var a=this._cloudOSService;return a||(a=this._cloudOSService=this.loadCloudOSService(),a||m$802$0("Error loading cloud OS service")),a}}),isBeta:m$629$1({readOnly:!0,get:function(t,e,i,n){return"beta.icloud.com"===window.location.host}}),isCarry:m$629$1({readOnly:!0,get:function(t,e,i,n){return"carry.icloud.com"===window.location.host}}),isFuture:m$629$1({readOnly:!0,get:function(t,e,i,n){return"future.icloud.com"===window.location.host}}),init:function(i){this.redirectToCloudOSIfNeeded(),i.name||m$802$0("Cannot create application. Requires a name"),this.registerStateEnumGroup(t,e,o),this.__s._Dk$wT$init.call(this,i),m$809$1.set("outputMessagePrefix",this.get("capitalizedName")+":  "),m$886$0.set("cloudOSApplication",this)},capitalizedName:m$545$1({
dependencies:["name"],readOnly:!0,get:function(t,e,i,n){var a=n.internalGet(this,e[0+i]);return a&&(a="i"!==a.charAt(0)?m$826$0(a):"i"+m$826$0(a.substring(1))),a}}),loadDriver:function(){var t=window[r];return t?(this.logTrace("using delegate to load driver"),t(this)):m$903$0.create({application:this})},loadCloudOSService:function(){var t=window[d];return t?(this.logTrace("using delegate to load CloudOS service"),t(this)):this.get("driver")},load:function(){this.transitionFromStateToState(e,i.Init),this.get("driver").activate()},prepareForLoad:function(){this.transitionFromStateToState(i.Init,i.Prepare)},didPrepareForLoad:function(){this.transitionFromStateToState(i.Prepare,i.Finalize),this.get("driver").applicationDidPrepareForLoad()},didBecomeLoaded:function(){this.transitionFromStateToState(i.Finalize,n.Prepared)},willBecomeActive:function(){this.fatalErrorIfNotInState(n.Prepared,n.Suspended),this.setState(n.Activating)},didBecomeActive:function(){this.transitionFromStateToState(n.Activating,n.Active)},willBecomeSuspended:function(){this.transitionFromStateToState(n.Active,n.Suspending)},didBecomeSuspended:function(){this.transitionFromStateToState(n.Suspending,n.Suspended)},willBecomeUnloaded:function(){this.setState(a),this.get("driver").didStartDeactivation()},didBecomeUnloaded:function(){this.transitionFromStateToState(a,e),this.get("driver").didFinishDeactivation()},didFetchStartup:function(t,e,i){},quotaDataDidChange:m$805$0,receiveMeCard:m$805$0,didReceiveNotification:m$805$0,isReadyToTerminate:m$545$1(!0),setIsReadyToTerminateBlock:function(t){m$771$0(t)||m$802$0("You must call setIsReadyToTerminateBlock with an identifying token.",this);
var e=this._suddenTerminationBlockTokenSet;e||(e=this._suddenTerminationBlockTokenSet=new Set),e.add(t),this.isReadyToTerminate=!1},removeIsReadyToTerminateBlock:function(t){m$771$0(t)||m$802$0("You must call removeIsReadyToTerminateBlock with an identifying token.",this);var e=this._suddenTerminationBlockTokenSet;e||(e=this._suddenTerminationBlockTokenSet=new Set),e.delete(t),0===e.size&&(this.isReadyToTerminate=!0)},_suddenTerminationBlockTokenSet:null,shouldRefresh:function(){},toString:function(){var t=m$806$0(this),e=this._name;return"["+t+": "+e+"]"},fatalExceptionHandlerClass:m$920$0,handleException:function(t){this.__s._Dk$2uW$handleException.apply(this,arguments);var e=this.fatalExceptionHandlerClass.create({error:t});e.handleException()},_isReadyToTerminateDidChange:m$557$3("isReadyToTerminate",function(t){this._isReadyToTerminate=t;var e=this.get("cloudOSService");e&&e.isReadyToTerminateDidChange(t)}),transitionFromStateToState:function(){this.__s._Dk$34E$transitionFromStateToState.apply(this,arguments),this.propertyChanged("cloudOSState")},setState:function(){this.__s._Dk$35m$setState.apply(this,arguments),this.propertyChanged("cloudOSState")},redirectToCloudOSIfNeeded:function(){var t=window.location.pathname;if(window===window.top&&"/"!==t){var e=t.match(/\/applications\/(.*?)\//);e&&e[1]&&(window.location="https://"+window.location.hostname+"/#"+e[1])}},appPreferencesDidChange:m$805$0,accountPreferencesDidChange:m$805$0,userDidRevalidate:m$805$0,__superMap:{_Dk$wT$init:"init",_Dk$2uW$handleException:"handleException",_Dk$34E$transitionFromStateToState:"transitionFromStateToState",
_Dk$35m$setState:"setState"},staticMembers:{__QUALIFIED_CLASS_NAME__:"COSK.Application"}});m$865$1=t,m$865$0=s}();
!function(){"use strict";var n=function(n,t){var r=arguments;return r[0]=m$801$0(n),window.setInterval.apply(window,r)};m$798$0=n}();
!function(){"use strict";var t=1e4,e=50,n="MMMMMMMIIIa%@!",a='"Comic Sans MS"',c="300px",i=function(i,o){var r,m,s=o.delay||e,u=o.timeout||t,l=o.testString||n,M=o.testFontFamily||a,f=o.testFontSize||c,v=o.fail,$=o.success,d=o.complete,I=document.createElement("canvas"),x=I.getContext("2d");x.font=f+" "+M;var S=x.measureText(l).width;m=m$798$0(function(){x.font=f+' "'+i+'", '+M,x.measureText(l).width!==S&&0!==S&&(clearInterval(m),clearTimeout(r),$&&$(),d&&d(!0))},s),r=m$799$0(function(){clearInterval(m),v&&v(),d&&d(!1)},u)};m$655$0=i}();
!function(){"use strict";var e=6e5,t=m$865$0.extend({primaryServiceName:"drivews",rootViewController:null,rootResponder:null,fileSystem:null,prepareForLoad:function(){this.__s._P$R1$prepareForLoad.call(this),m$46$0.activate();var e=this.get("rootResponder"),t=this.get("fileSystem");e||m$802$0("Cannot prepare for load. Root responder required",{application:this}),t||m$802$0("Cannot prepare for load. File system required",{application:this});var r=this.get("cloudOSService"),i=m$144$0.create({fileSystem:t,cloudOSService:r}),a=m$139$0.create({fileSystem:t,setupDriveWSService:i}),n=r.get("environment"),s=n.get("requestedStartupInfo");if(s){var c=n.get("authBag"),d=m$586$0.create(c.get("servicesInfo").drivews.url),l=m$586$0.create(s.url);l.get("hostname")!==d.get("hostname")&&(r.setStartupInfo(null),s=null)}if(s){var u=this._fetchProxy=o.create({fileSystem:t,folderID:m$29$0.ROOT_FOLDER_ID});t.fetchFolderContentWithProxy(u);var $;$=m$142$0.create({fileSystem:t}),this._loadRootFolderDidComplete($)}else{var m=this;a.load().then(function(e){m._loadRootFolderDidComplete(a)}).catch(function(e){m._loadRootFolderDidFail(e)})}},didFetchStartup:function(e,t,o){var r=this._fetchProxy;r&&(r.completeFetch(e,t),this._fetchProxy=null)},_loadRootFolderDidComplete:function(t){var o=m$172$0.create({delegate:this,loadRootFolderService:t}),r=m$153$0.get("actionPolicy");m$37$0.activate(),o.observe("currentSelection",function(e){r.set("selection",e)}),o.observe("currentFolderContent",function(e){r.set("folderContent",e)}),this.set("rootViewController",o);var i=this.get("rootResponder"),a=i.get("window");
a.activate(),o.beginAppearanceTransition(!0),a.addRootView(o.get("view")),o.endAppearanceTransition(!0),o.prepare();var n=this.get("fileSystem");window.fileSystem=n,window.root=n.getFolderById("FOLDER::com.apple.CloudDocs::root"),m$655$0("SFNSText",{success:function(){o.get("view").invalidateSubviewFrames(!0)}});var s=this.get("cloudOSService"),c=s.get("environment"),d=c.get("requestedStartupInfo");if(!d){var l=c.get("authBag"),u=l.get("servicesInfo").drivews,$=l.user;u&&$.brMigrated&&s.setStartupInfo({url:u.url+"/retrieveItemDetailsInFolders",method:"post",requestPayload:[{drivewsid:m$29$0.ROOT_FOLDER_ID,partialData:!1}],timeout:e})}this.didPrepareForLoad()},_loadRootFolderDidFail:function(e){e.pcsMissing===!0?this.get("cloudOSService").exit(m$903$4,m$809$1.stringifyRecordedLogMessages()):e.pcsInvalid===!0?this.get("cloudOSService").exit(m$903$5,m$809$1.stringifyRecordedLogMessages()):this.get("cloudOSService").exit(m$903$3,m$809$1.stringifyRecordedLogMessages())},didBecomeActive:function(){this.__s._P$2fv$didBecomeActive.call(this),document.cookie="client=icloudweb";var e=m$143$0.get("sharedInstance");e&&e.refreshQuotaData(),m$295$0(document.body);var t=m$37$0.currentWorkingFolder;t&&t.content.sync()},rootViewControllerDidPrepare:function(e){var t=this.get("cloudOSService"),o=this.get("fileSystem");o.observe("hasActiveTransactions",function(e){t.isReadyToTerminateDidChange(!e)})},quotaDataDidChange:function(){var e=m$143$0.get("sharedInstance");e&&e.quotaChanged(e.getQuotaData())},receiveMeCard:function(e){},__superMap:{_P$R1$prepareForLoad:"prepareForLoad",_P$2fv$didBecomeActive:"didBecomeActive"
},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Application"}}),o=m$68$0.extend({decline:function(){},post:function(e,t){var o=this._proxyPromise=m$242$0.create();return o},completeFetch:function(e,t){var o=this._proxyPromise;if(200!==t){var r=new Error("iCloud Drive root folder prefetch failed");return r.type="prefetch",r.folderId=this.folderID,r.status=status,void o.reject(r)}o.resolve({body:e})},willFinishProcessingSuccessfulResponse:function(e,t){m$89$0(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.PrefetchRootFolderContentQuery$25"}});m$25$0=t}();
!function(){"use strict";var i=m$692$0.extend({window:m$629$1({readOnly:!0,get:function(i,t,n,e){return this._window}}),init:function(i){this.__s._4d$5m$init.apply(this,arguments),this._window=this.loadWindow()},loadWindow:function(){return m$334$0.create()},didDispatchEvent:function(i,t){this._window.updateViewsIfNeeded()},__superMap:{_4d$5m$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.RootResponder"}});m$291$0=i}();
!function(){"use strict";var t=m$626$0.extend({init:function(){this.__s._l$4d$init.call(this),m$79$0.classDelegate=this},classWillCreateObject:function(t,i){},classDidCreateObject:function(t,i){i.fileSystem=m$36$0},__superMap:{_l$4d$init:"init"}}).create();m$47$0=t}();
!function(){"use strict";var e=m$626$0.extend({scheduler:m$629$1({get:function(e,t,i,n){return this._scheduler}}),init:function(e){this.__s._e$5B$init.apply(this,arguments),this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){var e=m$252$0.create({trace:!1,traceId:"native file upload",allowedMaximumRunningTasks:3});return e},__superMap:{_e$5B$init:"init"}}).create(),t=e.get("scheduler");m$40$0=t}();
!function(){"use strict";var i=m$626$0.extend({init:function(){this.__s._p$4L$init.apply(this,arguments),m$88$0.set("uploadFileTransactionService",this)},createNativeFileUploadTaskForTransaction:function(i,t){return m$130$0.create(i)},scheduleNativeFileUploadTaskForTransaction:function(i,t){return m$40$0.scheduleTask(i)},__superMap:{_p$4L$init:"init"}}).create(),t=i;m$51$0=t}();
!function(){"use strict";var t=/.*(zip|compressed|octet).*/i,e=m$626$0.create({_roundToPlaces:function(t,e){var r=Math.pow(10,e);return Math.round(t*r)/r},fileIsPackage:function(e){var r=e.type,a=t.test(r),n=e.name.match(m$341$3),c=n&&n[2]||"",o=m$341$2(c);return o&&a}});m$204$0=e}();
!function(){"use strict";var e=m$626$0.extend({type:null,status:null,nativeFile:null,message:"",staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.NativeFileUploadError"}});m$124$0=e}();
!function(){"use strict";var e=m$626$0.extend({handleResponseError:function(e,t){null===t&&(t="Unable to upload file. Request failed.");var a=e.get("response"),s=a.status,r=m$125$0.FatalError;switch(s){case 413:r=m$125$0.OutOfQuota}var n=m$124$0.create({type:r,nativeFile:this.get("nativeFile"),status:s||0,message:t});return n},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.NativeFileUploadResponseHandler"}});m$126$0=e}();
!function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={binaryToBase64:function(s){for(var t=[],n=0,r=0,a=new Array(3),i=new Array(4),u=s.length,o=0;u--;)if(a[n++]=s[o++],3==n){for(i[0]=(252&a[0])>>2,i[1]=((3&a[0])<<4)+((240&a[1])>>4),i[2]=((15&a[1])<<2)+((192&a[2])>>6),i[3]=63&a[2],n=0;n<4;n++)t+=e.charAt(i[n]);n=0}if(n){for(r=n;r<3;r++)a[r]=0;for(i[0]=(252&a[0])>>2,i[1]=((3&a[0])<<4)+((240&a[1])>>4),i[2]=((15&a[1])<<2)+((192&a[2])>>6),i[3]=63&a[2],r=0;r<n+1;r++)t+=e.charAt(i[r]);for(;n++<3;)t+="="}return t},urlSafeBase64ToBase64:function(e){if(!e)return e;e=e.replace(/[\-_]/g,function(e){return{"-":"+",_:"/"}[e]});var s=e.length%4;if(s>0){var t="====";return t=t.substring(s),e+t}return e},parseContentWsSignature:function(e){var s=e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ");return this.binaryToBase64(s)},parseContentWSAsset:function(e){var s={};return e?(s.signature=this.parseContentWsSignature(e.hexFileChecksum),s.reference_signature=this.parseContentWsSignature(e.hexReferenceChecksum),s.wrapping_key=this.parseContentWsSignature(e.hexWrappingKey),s.receipt=this.urlSafeBase64ToBase64(e.receiptToken),s.size=e.size,s):null},parseContentWSPackageResponse:function(e){var s={},t=this.parseContentWSAsset(e.brManifest),n=this.parseContentWSAsset(e.ckManifest),r=[];if(e.ckSectionAssets)for(var a=0;a<e.ckSectionAssets.length;a++)r.push(this.parseContentWSAsset(e.ckSectionAssets[a]));return s.pkgSignature=this.parseContentWsSignature(e.hexBrSyntheticChecksum),s.manifest=t,s.package={sections:r,
manifest:n},s},parseContentWSFileResponse:function(e){var s={};return s.data={signature:this.urlSafeBase64ToBase64(e.singleFile.fileChecksum),wrapping_key:this.urlSafeBase64ToBase64(e.singleFile.wrappingKey),reference_signature:this.urlSafeBase64ToBase64(e.singleFile.referenceChecksum),receipt:this.urlSafeBase64ToBase64(e.singleFile.receipt),size:e.singleFile.size},s}};m$123$0=s}();
!function(){"use strict";var e=/(\.zip)$/i,t="docws",i="/ws/%{zone}/update/documents?errorBreakdown=true",n=m$126$0.create(),a=m$251$0.extend({nativeFile:null,destinationZone:null,destinationFolderId:null,documentId:null,transferCommitInfo:null,fileName:null,startRun:function(){var n=this.get("nativeFile"),a=this.get("documentId"),s=this.get("destinationZone"),d=this.get("destinationFolderId"),o=this.get("transferCommitInfo"),r=this.get("fileName"),l=m$204$0.fileIsPackage(n);l&&(r=r.replace(e,""));var u;l?(u=m$123$0.parseContentWSPackageResponse(o),u.command="add_package"):(u=m$123$0.parseContentWSFileResponse(o),u.command="add_file"),u.document_id=a,u.path={starting_document_id:d,path:r},u.allow_conflict=!0,u.file_flags={is_writable:!0,is_executable:!1,is_hidden:!1},u.data&&!u.data.size&&(u.data.size=n&&n.size);var c=n&&n.lastModifiedDate;if(c){var m=c.getTime();u.mtime=m,u.btime=m}var f=m$829$0(i,{zone:s}),_=m$337$0.create({body:u,method:"POST",useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0});_.setHeader("Content-Type","text/plain");var p=_.url;p.serviceName=t,p.pathname=f;var h=this;_.didSucceed=function(){h._cnfu_requestDidSucceed(_)},_.didFail=function(){h._cnfu_requestDidFail(_)},_.send()},_cnfu_requestDidSucceed:function(e){var t=e.get("response").get("body"),i=t.results[0].document,n=m$626$0.create({document:{id:i.document_id,etag:i.etag,mtime:i.mtime,name:i.name,size:i.size}});this.finishRunWithSuccess(n)},_cnfu_requestDidFail:function(e){var t="Cannot complete native file upload. Request failed.",i=n.handleResponseError(e,t);
this.finishRunWithFailure(i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.CompleteNativeFileUploadSubtask"}});m$127$0=a}();
!function(){"use strict";var e=/(\.zip)$/i,t="docws",i="/ws/%{zone}/upload/web",a={FILE:"FILE",PACKAGE:"PACKAGE"},r=2,n=m$126$0.create(),s=m$251$0.extend({nativeFile:null,destinationZone:null,init:function(e){this.__s._22$g2$init.apply(this,arguments),this._attempts=0,this._request=null},startRun:function(){this._tryRequest()},_tryRequest:function(){var r,n=m$886$0.get("cloudOSService"),s=this.get("nativeFile"),o=this.get("destinationZone"),u=this.get("fileName"),l=encodeURI(u),p=m$204$0.fileIsPackage(s),c={filename:p?l.replace(e,""):l,type:p?a.PACKAGE:a.FILE,content_type:s.type,size:s.size},d=m$829$0(i,{zone:o});try{r=m$205$0(n.getValidateToken())}catch(e){var h=m$202$0.getListOfAvailableCookiesAsConcatenatedString();m$802$0("Error in BRApp.PrepareNativeFileUploadSubtask requesting COSK getValidateCookie()",{error:e,cookies:h})}null==r&&m$809$1.error("PrepareNativeFileUploadSubtask Failed to getAuthTokenFromCookie");var $=this._request=m$337$0.create({method:"POST",body:c,useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0}),_=$.url;_.serviceName=t,_.pathname=d,_.appendQueryParameter("token",r),$.setHeader("Content-Type","text/plain");var f=this;$.didSucceed=function(){f._pnfu_requestDidSucceed($)},$.didFail=function(){f._pnfu_requestDidFail($)},$.send()},shouldAllowCancel:function(){return!0},cancel:function(){this.__s._22$1LR$cancel.apply(this,arguments);var e=this._request;e&&e.abort(),this.finishCancellingRun()},_pnfu_requestDidSucceed:function(e){var t=e.get("response"),i=t.status;if(200!==i){var a=m$124$0.create({type:m$125$0.FatalError,
nativeFile:this.get("nativeFile"),status:i,message:"Unable to prepare file for upload. Request failed."});return void this.finishRunWithFailure(a)}var r;try{r=JSON.parse(t.encodedBody)[0]}catch(e){var a=m$124$0.create({type:m$125$0.FatalError,status:0,nativeFile:this.get("nativeFile"),description:"Unable to prepare file for upload. Cannot parse file upload prepare HTTP response"});return void this.finishRunWithFailure(a)}var n=m$626$0.create({uploadUrl:r.url,documentId:r.document_id,ownerId:r.owner_id,owner:r.owner});this.finishRunWithSuccess(n)},_pnfu_requestDidFail:function(e){var t="Unable to prepare file for upload. Request failed.",i=e.get("response"),a=i.status;if((502===a||503===a)&&this._attempts<r)return this._attempts++,void this._tryRequest();var s=n.handleResponseError(e,t);this.finishRunWithFailure(s)},__superMap:{_22$g2$init:"init",_22$1LR$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.PrepareNativeFileUploadSubtask"}});m$128$0=s}();
!function(){"use strict";var i=m$626$0.extend(m$643$0,{isFormData:function(i){return i instanceof window.FormData&&"undefined"!=typeof i},isBlob:function(i){return i instanceof window.Blob},isFile:function(i){return i instanceof window.File},isFileList:function(i){return i instanceof window.FileList},blobSlice:function(i,n,t,e){var o=Blob.prototype,r=o.slice||o.webKitSlice||o.mozSlice;return r.call(i,n,t,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Platform.FileAPI"}});m$654$0=i}();
!function(){"use strict";var t=m$576$0.extend(m$544$0,{init:function(){this.__s._9I$KS$init.apply(this,arguments),this.get("transport")!==m$583$0.get("sharedInstance")&&m$802$0("Attempting a file upload from an unsupported browser.",this);var t=this.uploadProgress;t.bytesTotal=this._totalSize||0,this.on(m$574$3,function(){t.bytesTransferred=t.bytesTotal})},method:m$574$12,body:m$545$1({set:function(t,e,i,r,a){return t=this.generateFormDataFromBody(t)},didChange:m$805$0}),files:m$619$1(Array),bodySerializer:null,shouldTrackUploadProgress:!0,formKey:"files",generateFormDataFromBody:function(t){var e=m$654$0.get("sharedInstance");if(e.isFormData(t)||!t)return t;var i=e.isFileList(t),r=e.isFile(t),a=e.isBlob(t);r||i||a||m$802$0("Must provide either a File or FileList.");var s=new FormData;return this._totalSize=0,i?Array.prototype.forEach.call(t,function(t){this.appendFileToFormData(t,s)},this):this.appendFileToFormData(t,s),s},appendFileToFormData:function(t,e){var i=this.get("formKey"),r=m$648$0.get("sharedInstance");!t.size&&r.get("isIE")&&r.get("majorVersion")<=10?e.append(i,""):e.append(i,t),this._totalSize+=t.size||0,this.files.push(t)},__superMap:{_9I$KS$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CW.Network.UploadRequest"}});m$585$0=t}();
!function(){"use strict";var e=m$126$0.create(),i=m$251$0.extend({nativeFile:m$629$1({set:function(e,i,t,n,s){this._nativeFile=e,this._nativeFileDidChange(e)},get:function(e,i,t,n){return this._nativeFile}}),uploadUrl:null,progress:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._progress}}),init:function(e){this.willInitialize(),this.__s._23$Ps$init.call(this,e),this._request=null,this._progress=m$335$0.create(),this.didInitialize()},willInitialize:function(){this._isInitializing=!0},didInitialize:function(){this._isInitializing=!1,this._nativeFileDidChange()},startRun:function(){var e=this.get("nativeFile"),i=this.get("uploadUrl"),t=this._request=m$585$0.create({body:e,url:i}),n=this;t.didSucceed=function(){n._tpnfu_requestDidSucceed(t)},t.didFail=function(){n._tpnfu_requestDidFail(t)};var s=t.get("uploadProgress");this._reqProgressObserver=s.observe("didChange",function(){n._tpnfu_requestProgressDidChange(s)}),t.send()},shouldAllowCancel:function(){return!0},cancel:function(){this.__s._23$kb$cancel.apply(this,arguments);var e=this._request;e&&e.abort(),this.finishCancellingRun()},_tpnfu_requestDidSucceed:function(e){var i,t=e.get("response");try{i=JSON.parse(t.encodedBody)}catch(e){var n=m$124$0.create({type:m$125$0.FatalError,status:0,nativeFile:this.get("nativeFile"),message:"Cannot transfer native file payload. Unable to parse file upload transfer payload HTTP response"});return void this.finishRunWithFailure(n)}var i=JSON.parse(t.encodedBody),s=m$626$0.create({commitInfo:i});this.finishRunWithSuccess(s)},_tpnfu_requestDidFail:function(i){var t="Cannot transfer native file payload. Request failed.",n=e.handleResponseError(i,t);
this.finishRunWithFailure(n)},_nativeFileDidChange:function(){if(!this._isInitializing){var e=this._nativeFile,i=e?e.size:0;this._progress;this._progress.set("totalAmount",i)}},_tpnfu_requestProgressDidChange:function(e){var i=this._progress,t=e.get("bytesTransferred")||0,n=e.get("bytesTotal")||1,s=i.get("totalAmount")||0,a=Math.round(s*t/n);i.set("amountComplete",a)},__superMap:{_23$Ps$init:"init",_23$kb$cancel:"cancel"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.TransferPayloadNativeFileUploadSubtask"}});m$129$0=i}();
!function(){"use strict";var e=m$626$0.extend({init:function(){this.__s._d$5z$init.apply(this,arguments),m$130$0.set("nativeFileUploadTaskService",this)},createPrepareSubtaskForNativeFileUploadTask:function(e){return m$128$0.create()},createTransferSubtaskForNativeFileUploadTask:function(e){return m$129$0.create()},createCompleteSubtaskForNativeFileUploadTask:function(e){return m$127$0.create()},schedulePrepareSubtaskForNativeFileUploadTask:function(e,t){return m$49$0.scheduleTask(e)},scheduleTransferSubtaskForNativeFileUploadTask:function(e,t){return e.run()},scheduleCompleteSubtaskForNativeFileUploadTask:function(e,t){return m$49$0.scheduleTask(e)},__superMap:{_d$5z$init:"init"}}).create(),t=e;m$39$0=t}();
!function(){"use strict";var t=m$626$0.extend({pollPeriodMs:2e3,toleranceMs:3e4,lastTimeMs:0,interval:null,init:function(t){this.__s._3z$PI$init.apply(this,arguments),this.update()},update:function(){this.lastTimeMs=Date.now(),this.interval&&window.clearInterval(this.interval),this.interval=m$798$0(this._poll.bind(this),this.pollPeriodMs)},_poll:function(){var t=Date.now(),i=this.lastTimeMs+this.pollPeriodMs;this.lastTimeMs=t,Math.abs(t-i)>this.toleranceMs&&this.clockDidChange()},clockDidChange:function(){m$809$1.debug("System clock may have changed"),m$237$1.dispatchNotification(m$237$0.create({id:"SystemClockChanged"}))},__superMap:{_3z$PI$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.SystemClockChangeMonitor"}}),i=t.create();m$250$0=t,m$250$1=i}();
!function(){"use strict";var e=m$0$0.extend({name:"drive",loadApplication:function(){return window.rootResponder=m$291$0.create({element:document.body,events:m$697$0}),m$25$0.create({name:"iclouddrive",rootResponder:rootResponder,fileSystem:m$36$0})},willLaunchApplication:function(){this.__s._R$JU$willLaunchApplication.call(this),window.iCloudDrive=!0},__superMap:{_R$JU$willLaunchApplication:"willLaunchApplication"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Bootstrap.ApplicationLauncher"}});m$27$0=e}();
!function(){"use strict";var t=m$394$0.extend({init:function(t){this.__s._5Z$47$init.call(this,t),this.set("items",[])},addDocumentOfType:function(t,i){this.get("items").push(m$396$0.create({type:i,context:t}))},__superMap:{_5Z$47$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.DocumentsAlertGroup"}});m$350$0=t}();
!function(){"use strict";var e=m$296$0.extend({additionalClassNames:m$589$1(["dr-loading-error-view"]),loadSubviews:function(){var e=this.title=m$320$0.create({additionalClassNames:m$589$1(["message","dr-text-size-x-large","dr-text-light"]),value:m$565$1("DR.Error.Loading.Message")}),t=this.description=m$320$0.create({additionalClassNames:m$589$1(["description","dr-text-large","dr-text-light"]),value:m$565$1("DR.Error.Loading.Description")}),i=this.container=m$296$0.create({additionalClassNames:m$589$1(["body"])});i.addSubview(e),i.addSubview(t),this.addSubview(i)},layoutSubviews:function(){var e=this.get("frame"),t=this.container.get("frame"),i=Math.round(e.get("width")/2-t.get("width")/2),a=Math.round(e.get("height")/2-t.get("height")/2);t.adjustPosition(i,a)},frameDidInvalidate:function(){this.setNeedsLayout()},frameBoundsDidChange:function(){this.setNeedsLayout()},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.UI.LoadingErrorView"}});m$383$0=e}();
!function(){"use strict";function e(e){var t=e.split("/");return t.length<=1?null:(t.splice(t.length-1,1),t.join(l))}function t(e){if(!e)return"";for(var t="",i=e.length,a=0;a<i;a++){var n=e[a];if(!n.name)return"";t+=n.name,a<i-1&&(t+=l)}return t}function i(e){return m$426$2(e)}function a(e){var t=e.get("dateChanged"),i=Date.now()-t.getTime();return o-i}function n(e){return e>h?m$565$1("DR.DaysRemaining.MoreThanOne",{days:Math.ceil(e/h)}):m$565$1("DR.DaysRemaining.One")}function s(e){return e<=c}var r=m$306$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["title","dr-text-bold"]},{type:"ELEMENT",tagname:"div",children:[],classes:["size","dr-text-bold"]}],classes:["primary"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["path","dr-text-light","dr-text-size-small"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[],classes:["date-modified"]},{type:"TEXT",data:" — "},{type:"ELEMENT",tagname:"span",children:[],classes:["time-remaining"]}],classes:["subinfo","dr-text-light","dr-text-size-small"]}],classes:["secondary"]}],classes:["details"]}],classes:["body",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"selected",truevalue:"selected",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"highlighted",truevalue:"highlighted",attributes:{}}],attributes:{"aria-hidden":"true"}}],attributes:{role:"listcell",
tabindex:"-1","aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},"aria-selected":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"selected",attributes:{},attribute:"aria-selected"}}},__QUALIFIED_CLASS_NAME__:"DRApp.UI.RecoverableDocumentCell"},additionalClassNames:m$589$1(["recoverable-document-item"]),delegate:null,checked:m$545$1(!1),content:m$545$1({defaultValue:null,render:!0}),isLastRow:m$545$1({defaultValue:!1,render:!0}),loadSubviews:function(){this.__s._67$Zt$loadSubviews.call(this);var e=this.fileShowcaseView=m$423$0.create({additionalClassNames:m$589$1(["medium","medium-recoverable-document"]),displaySize:m$100$0.MEDIUM,showThumbnailsWhenAvailable:!1,content:m$228$0({root:this,path:"content"})});this._fileShowcaseView=e;var t=this.checkbox=m$304$0.create({value:m$228$0({root:this,path:"checked",direction:m$539$0.READ_WRITE}),target:this,action:"_checkboxValueDidChange"});this.addSubview(e),this.addSubview(t)},render:function(){this.__s._67$nM$render.call(this);var r=this.get("content");if(r){if(this.shouldRenderForKey("content")){var l=this.get("index"),d=l%2===0;this.$().toggleClass("even",d).toggleClass("odd",!d);var h=r.get("fullName"),o=void 0,c=r.get("restorePath");o=c?e(c):t(r.get("hierarchy"));var m=i(r.get("size"));this.$(".title").text(h),this.$(".path").text(o),this.$(".size").text(m)}if(this.shouldRenderForKey("isLastRow")&&this.$().toggleClass("last-row",this.get("isLastRow")),this.shouldRenderForKey("friendlyDateModified")){var u=this._friendlyDateModified;this.$(".date-modified").text(u);
}if(this.shouldRenderForKey("timeRemaining")){var $=a(r),g=n($),f=s($);this.$(".time-remaining").text(g).toggleClass("warn",f)}}},endDisplay:function(){this.__s._67$1DS$endDisplay.call(this);var e=this._refreshFDMTimeoutHandle;e&&(m$254$0.clearTimeout(e),this._refreshFDMTimeoutHandle=null);var t=this._fileShowcaseView;t&&t.prepareForReuse()},_contentDidChange:m$557$1("content",function(e){e&&this._refreshDateModified()}),_checkboxValueDidChange:function(){var e=this.delegate,t=e?e.recoverableDocumentCellPerformCheckedAction:null,i=this.checkbox.get("value");t&&t.call(e,this,i)},_refreshDateModified:function(){var e=this.get("content"),t=e.get("dateChanged"),i=m$420$1.descriptionForDateTime(t);this._friendlyDateModified=i.str;var a=i.ttl;if(a&&a!==1/0){var n=this;this._refreshFDMTimeoutHandle=m$254$0.setTimeout(function(){n._refreshDateModified()},a)}this.setNeedsRenderForKey("friendlyDateModified"),this.setNeedsRenderForKey("timeRemaining")},__superMap:{_67$Zt$loadSubviews:"loadSubviews",_67$nM$render:"render",_67$1DS$endDisplay:"endDisplay"}}),l=" ▸ ",d=36e5,h=24*d,o=30*h,c=5*h;m$385$0=r}();
!function(){"use strict";var e=m$296$0.extend({additionalClassNames:m$589$1(["dr-restore-docs-workspace-view"]),selectedDocuments:m$545$1(null),documentsListView:null,selectAllDocumentsCheckbox:null,restoreDocumentsButton:null,loadSubviews:function(){this.documentsListView=m$314$0.create({additionalClassNames:m$589$1(["documents-list"]),selectionMode:m$305$0.SelectionMode.None,columnWidth:m$314$1.Full(),rowHeight:64}),this.footerView=t.create(),this.selectAllDocumentsCheckbox=m$304$0.create({additionalClassNames:m$589$1(["select-all-docs","dr-text-bold","dr-text-size-small","dr-link-color"]),title:m$565$1("DR.SelectAll")}),this.selectedActionsView=m$296$0.create({additionalClassNames:m$589$1(["selection-actions-wrapper"])}),this.restoreDocumentsButton=m$303$0.create({additionalClassNames:m$589$1(["selection-action-button","dr-text-size-large","dr-text-bold"]),title:m$565$1("DR.RestoreDocument")}),this.purgeDocumentsButton=m$303$0.create({additionalClassNames:m$589$1(["selection-action-button","dr-text-size-large","dr-text-bold","purge-action-button"]),title:m$565$1("Delete")}),this.selectedActionsView.addSubview(this.purgeDocumentsButton),this.selectedActionsView.addSubview(this.restoreDocumentsButton),this.footerView.addSubview(this.selectAllDocumentsCheckbox),this.footerView.addSubview(this.selectedActionsView),this.addSubview(this.documentsListView),this.addSubview(this.footerView)},_selectedDocumentsDidChange:m$557$1("selectedDocuments","selectedDocuments.changed",function(e,t){if(e){var s=e.get("size")>0;this.footerView.highlight=s,this.selectedActionsView.visible=s}}),
staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.UI.RestoreDocumentsWorkspaceView"}}),t=m$296$0.extend({additionalClassNames:m$589$1(["footer"]),highlight:m$545$1({render:!0}),render:function(){this.$().toggleClass("highlight",this.highlight)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.UI.FooterView$386"}});m$386$0=e}();
!function(){"use strict";var t=m$296$0.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["title","dr-text-size-large","dr-text-bold"]},{type:"ELEMENT",tagname:"div",children:[],classes:["description","dr-text-size-small"]}],classes:["info"]}],classes:["dr-root-header"]},__QUALIFIED_CLASS_NAME__:"DRApp.UI.RootHeaderView"},sortByTitle:m$545$1(""),sortByActionMenuButton:null,loadSubviews:function(){this.__s._69$CF$loadSubviews.call(this),this.sortByActionMenuButton=m$303$0.create({additionalClassNames:m$589$1(["sort-action-menu","dr-text-size-small"]),title:m$228$0({root:this,path:"sortByTitle"}),showRightAccessory:!0}),this.addSubview(this.sortByActionMenuButton)},render:function(){this.__s._69$Ix$render.call(this),this.$(".title").text(m$565$1("DR.Header.Title")),this.$(".description").text(m$565$1("DR.Header.Description"))},__superMap:{_69$CF$loadSubviews:"loadSubviews",_69$Ix$render:"render"}});m$387$0=t}();
!function(){"use strict";var e=m$320$0.extend({additionalClassNames:m$589$1(["dr-loading-progress-view"]),numberOfFoundFiles:m$545$1(0),value:m$545$1({readOnly:!0,dependencies:["numberOfFoundFiles"],get:function(e,r,n,t){var i,s=t.internalGet(this,r[0+n]),a="DR.ProgressText.";if(0===s)return"";i=1===s?"Singular":"Plural",a+=i;var m=m$923$0.getNumberFormatter();return m$565$1(a,{numberOfFiles:m.format(s)})}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.UI.LoadingProgressView"}});m$384$0=e}();
!function(){"use strict";var e=m$296$0.extend({additionalClassNames:m$589$1(["dr-status-view"]),title:m$545$1({defaultValue:"",dynamicContent:!0}),shouldShowSpinner:m$545$1({defaultValue:!0,render:!0}),shouldShowLoadingProgress:m$545$1({defaultValue:!1,render:!0}),numberOfFoundFiles:m$545$1(0),loadSubviews:function(){var e=this.contentView=m$296$0.create({additionalClassNames:m$589$1(["content"])}),t=this.label=m$320$0.create({additionalClassNames:m$589$1(["dr-text-size-x-large"]),value:m$228$0({root:this,path:"title"})}),i=this.spinner=m$330$0.create({spin:m$228$0({root:this,path:"shouldShowSpinner"}),visible:m$228$0({root:this,path:"shouldShowSpinner"})}),s=this.loadingProgressView=m$384$0.create({numberOfFoundFiles:m$228$0({root:this,path:"numberOfFoundFiles"}),visible:m$228$0({root:this,path:"shouldShowLoadingProgress"})});e.addSubview(i),e.addSubview(t),e.addSubview(s),this.addSubview(e)},render:function(){this.__s._6A$ZX$render.call(this);var e=this.$();e.toggleClass("show-spinner",this.shouldShowSpinner),e.toggleClass("show-loading-progress",this.shouldShowLoadingProgress)},layoutSubviews:function(){this.__s._6A$da$layoutSubviews.call(this);var e=this.get("frame"),t=this.contentView.get("frame"),i=Math.round(e.get("width")/2-t.get("width")/2),s=Math.round(e.get("height")/2-t.get("height")/2);t.adjustPosition(i,s)},frameDidInvalidate:function(){this.__s._6A$jO$frameDidInvalidate.call(this),this.setNeedsLayout()},frameBoundsDidChange:function(){this.__s._6A$kw$frameBoundsDidChange.call(this),this.setNeedsLayout()},subviewDidChangeDynamicContent:function(){this.__s._6A$md$subviewDidChangeDynamicContent.call(this),
this.setNeedsLayout()},_shouldShowSpinnerDidChange:m$557$1("shouldShowSpinner",function(){this.invalidateSubviewFrames(),this.setNeedsLayout()}),_shouldShowLoadingProgress:m$557$1("shouldShowLoadingProgress",function(){this.invalidateSubviewFrames(),this.setNeedsLayout()}),__superMap:{_6A$ZX$render:"render",_6A$da$layoutSubviews:"layoutSubviews",_6A$jO$frameDidInvalidate:"frameDidInvalidate",_6A$kw$frameBoundsDidChange:"frameBoundsDidChange",_6A$md$subviewDidChangeDynamicContent:"subviewDidChangeDynamicContent"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.UI.StatusView"}});m$388$0=e}();
!function(){"use strict";var e=m$398$0.extend({alertGroupType:"",pluralDescription:"",pluralMessage:"",singularDescription:"",singleMessage:"",shouldPresentDetailsForAlertGroup:function(e){return e.get("items").length>1},getMessageForAlertGroup:function(e){var t=e.get("items").length;if(1===t){var r=e.get("items")[0],n=r.get("context");return m$565$1(this.get("singleMessage"),{name:n.get("fullName")})}var s=m$923$0.getNumberFormatter().format(t);return m$565$1(this.get("pluralMessage"),{count:s})},getDescriptionForAlertGroup:function(e){var t=e.get("items").length;return 1===t?m$565$1(this.get("singularDescription")):m$565$1(this.get("pluralDescription"))},getPresentationInfoForAlertGroupItemAtIndex:function(e,t,r){var n=t.get("context"),s=n.get("extension"),i=m$626$0.create({extension:s}),o=m$423$0.create({additionalClassNames:m$589$1(["medium"]),content:i,fileType:s,fileExtension:s,displaySize:m$100$0.MEDIUM});return m$397$0.create({message:n.get("fullName"),iconView:o})},shouldPresentItemDescriptionsForAlertGroup:function(e){return!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.DocumentsAlertPresentationInfoGenerator"}});m$351$0=e}();
!function(){"use strict";var e=m$626$0.extend({alertPresenter:m$629$1({readOnly:!0,get:function(e,r,t,n){return this._alertPresenter}}),init:function(e){this.__s._5f$6N$init.call(this,e),this._alertPresenter=this.loadAlertPresenter()},loadAlertPresenter:function(){var e=m$399$0.create();return e.addAlertPresentationInfoGenerator(m$351$0.create({alertGroupType:"UnpurgedDocumentGroup",pluralDescription:"DR.Error.Deleting.Group.Description",pluralMessage:"DR.Error.Deleting.Group.Message",singularDescription:"DR.Error.Deleting.Single.Description",singleMessage:"DR.Error.Deleting.Single.Message"})),e.addAlertPresentationInfoGenerator(m$351$0.create({alertGroupType:"UnrecoveredDocumentGroup",pluralDescription:"DR.Error.Restoring.Group.Description",pluralMessage:"DR.Error.Restoring.Group.Message",singularDescription:"DR.Error.Restoring.Single.Description",singleMessage:"DR.Error.Restoring.Single.Message"})),e},__superMap:{_5f$6N$init:"init"}}).create(),r=e.get("alertPresenter");m$356$0=r}();
!function(){"use strict";function e(e){var t=m$337$0.create({useCredentialsIfCrossOrigin:!0,shouldReportSuccess:!0,shouldReportFailure:!0});t.get("url").set("pathname",e),t.setHeader("Content-Type","text/plain");var r=window["drapp.geneaterequestwithpath.delegate.preparerequest"];return r&&r(t),t}m$389$0=e}();
!function(){"use strict";var a=m$563$1("DRApp.TransactionStatus",["OK","Partial","Failed","Fatal"]);m$381$0=a}();
!function(){"use strict";var D=m$563$1("DRApp.TransactionItemStatus",{OK:"OK",InvalidID:"ID_INVALID",AlreadyDeleted:"ID_DELETED",NotDeleted:"ID_NOT_DELETED",Forbidden:"FORBIDDEN",Unknown:"UNKNOWN",FatalError:"FATAL"});m$379$0=D}();
!function(){"use strict";var t=m$626$0.extend({staticMembers:{Status:m$379$0,__QUALIFIED_CLASS_NAME__:"DRApp.TransactionItemRecord"},status:m$629$1({readOnly:!0,get:function(t,i,s,n){return this._status}}),id:m$629$1({readOnly:!0,get:function(t,i,s,n){return this._id}}),init:function(t){this.__s._60$8E$init.call(this,t),this._status=t.status,this._itemID=t.id},__superMap:{_60$8E$init:"init"}});m$378$0=t}();
!function(){"use strict";function t(t,e){var n=i.create();return t.forEach(function(t){n.addItem(m$378$0.create({id:t.get("id"),status:e}))}),n}function e(t){var e=i.create();return t.forEach(function(t){e.addItem(m$378$0.create({id:t.drivewsid,status:n(t.status)}))}),e}function n(t){var e=m$379$0.getItemForValue(t);return e||m$379$0.Unknown}var i=m$626$0.extend({staticMembers:{Status:m$381$0,createWithFilesAndItemStatus:t,createWithOperationDetails:e,__QUALIFIED_CLASS_NAME__:"DRApp.TransactionRecord"},status:m$629$1({readOnly:!0,get:function(t,e,n,i){var s=this._items,a=s.length,r=0,$=0,m=0;return s.forEach(function(t){switch(t.get("status")){case m$379$0.OK:r++;break;case m$379$0.FatalError:m++;break;default:$++}}),r===a?m$381$0.OK:$===a?m$381$0.Failed:0===m?m$381$0.Fatal:m$381$0.Partial}}),items:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._items}}),count:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._items.length}}),isFullyCommitted:m$629$1({readOnly:!0,get:function(t,e,n,i){return this.get("status")===m$381$0.OK}}),isPartiallyCommitted:m$629$1({readOnly:!0,get:function(t,e,n,i){return this.get("status")===m$381$0.Partial}}),hasCommittedItems:m$629$1({readOnly:!0,get:function(t,e,n,i){this.get("stats");switch(this.get("status")){case m$381$0.OK:case m$381$0.Partial:return!0;default:return!1}}}),hasUncommittedItems:m$629$1({readOnly:!0,get:function(t,e,n,i){return this.get("status")!==m$381$0.OK}}),committedItems:m$629$1({readOnly:!0,get:function(t,e,n,i){return this._items.filter(function(t){return t.get("status")===m$379$0.OK})}}),uncommittedItems:m$629$1({
readOnly:!0,get:function(t,e,n,i){return this._items.filter(function(t){return t.get("status")!==m$379$0.OK})}}),init:function(t){this.__s._62$q4$init.call(this,t),this._items=[],this._status=null},addItem:function(t){this._items.push(t)},__superMap:{_62$q4$init:"init"}});m$380$0=i}();
!function(){"use strict";var e="docws",t=m$251$0.extend({files:null,zone:"com.apple.CloudDocs",startRun:function(){var t=this.get("files"),s=m$337$0.create({method:"POST",body:this._generateJSONForFiles(t),useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0}),r=s.get("url");r.serviceName=e,r.set("pathname","/ws/"+this.zone+"/update/purgeTombstones"),s.setHeader("Content-Type","text/plain");var i=this;s.send().then(function(){i._rf_requestDidSucceed(s)}).catch(function(){i._rf_requestDidFail(s)})},_rf_requestDidSucceed:function(e){var t,s=e.get("response"),r=s.status,i=this.get("files");switch(r){case 204:t=m$380$0.createWithFilesAndItemStatus(i,m$379$0.OK);break;default:t=m$380$0.createWithFilesAndItemStatus(i,m$379$0.UNKNOWN);var n=m$886$0.get("cloudOSService");n.recordStat("Unexpected purge tombstones response",{status:r,response:s})}var a={status:m$379$0.OK,zone:this.zone,transactionRecord:t,files:i};this.finishRunWithSuccess(a)},_rf_requestDidFail:function(e){var t=this.get("files"),s=m$380$0.createWithFilesAndItemStatus(t,m$379$0.FatalError),r=m$886$0.get("cloudOSService");r.recordStat("Purge tombstones request failed",{status:status});var i={status:m$379$0.FatalError,zone:this.zone,transactionRecord:s,files:t};this.finishRunWithFailure(i)},finishRunWithFailure:function(e){this._taskError=e||null,this._taskRunState=m$247$0.Completed,this._promise.resolve(e)},_generateJSONForFiles:function(e){var t={documentIds:[]};return e.forEach(function(e){t.documentIds.push(e.get("docwsid"))}),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.PurgeFilesTask"
}});m$375$0=t}();
!function(){"use strict";var e=m$626$0.extend({purgeDocumentsByZone:function(e){for(var n=this._groupDocumentsByZone(e),t=[],r=Object.keys(n),u=0,c=r.length;u<c;++u){var o=r[u],a=n[o],i=m$375$0.create({files:a,zone:o});t.push(i)}return m$242$0.map(t,function(e){return e.run()}).then(function(e){return e}).catch(function(e){return m$242$0.reject(e)})},_groupDocumentsByZone:function(e){var n={};return e.forEach(function(e){var t=e.zone,r=n[t];r||(r=m$238$0.create()),r.add(e),n[t]=r}),n},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.DocumentPurgeService"}});m$371$0=e}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._service}}),init:function(){this.__s._5g$5Y$init.call(this),this._service=this.loadService()},loadService:function(){return m$371$0.create()},__superMap:{_5g$5Y$init:"init"}}).create(),i=e.get("service");m$357$0=i}();
!function(){"use strict";var e=m$251$0.extend({files:null,startRun:function(){var e=this.get("files"),t=this._generateJSONForFiles(e),i=m$389$0("/recoverDeletedFiles");i.set("method","POST"),i.set("body",t);var s=this;i.send().then(function(){s._rf_requestDidSucceed(i)}).catch(function(){s._rf_requestDidFail(i)})},_rf_requestDidSucceed:function(e){var t,i=e.get("response"),s=i.status,r=this.get("files");if(200!==s)return t=m$380$0.createWithFilesAndItemStatus(r,m$379$0.OK),void this.finishRunWithSuccess(t);var n;try{n=JSON.parse(i.encodedBody)}catch(e){return m$809$1.error("Failed to parse /recoverDeletedFiles response"),t=m$380$0.createWithFilesAndItemStatus(r,m$379$0.OK),void this.finishRunWithSuccess(t)}t=m$380$0.createWithOperationDetails(n.files||[]),this.finishRunWithSuccess(t)},_rf_requestDidFail:function(e){var t=this.get("files"),i=m$380$0.createWithFilesAndItemStatus(t,m$379$0.FatalError);this.finishRunWithFailure(i)},_generateJSONForFiles:function(e){var t={files:[]};return e.forEach(function(e){t.files.push({drivewsid:e.get("id"),etag:e.get("etag")})}),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.RecoverFilesTask"}});m$376$0=e}();
!function(){"use strict";var r=m$563$1("DRApp.FileRecoveryErrorType",["FatalError","FatalServerError","Timeout"]);m$359$0=r}();
!function(){"use strict";var e=m$626$0.extend({id:null,name:null,extension:null,etag:null,fullName:m$629$1({readOnly:!0,get:function(e,n,l,t){var i=this.get("name"),u=this.get("extension"),a="";return i&&u?a=i+"."+u:i?a=i:u&&(a="."+u),a}}),size:0,dateModified:null,dateChanged:null,type:null,zone:null,hierarchy:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.RecoverableFile"}});m$370$0=e}();
!function(){"use strict";var e=6e5,r=m$251$0.extend({progressCallback:void 0,startRun:function(){this._requestNextRoundOfFiles()},_requestNextRoundOfFiles:function(){var r=m$389$0("/retrieveDeletedItemDetails");r.method=m$574$12,r.timeout=e;var t={},i=this.activeJobId;i&&(t.jobId=i);var s=this._itemsSoFar;s&&(t.offset=s.length),r.body=t;var a=this;r.send().then(function(){a._rrf_requestDidSucceed(r)}).catch(function(){a._rrf_requestDidFail(r)})},_rrf_requestDidSucceed:function(e){var r=e.get("response"),t=r.status;if(200!==t){var i=new Error("Unable to retrieve recoverable files");return i.type=m$359$0.FatalServerError,i.status=t,i.request=e,void this.finishRunWithFailure(i)}var s;try{s=JSON.parse(r.encodedBody)}catch(r){var i=new Error("Unable to retrieve recoverable files. Cannot parse HTTP response");return i.type=m$359$0.FatalError,i.request=e,void this.finishRunWithFailure(i)}var a=s.jobId;if(!a)return this._handleMalformedResponseBody("No `jobId` in response");var o=this.activeJobId;if(o&&o!==a)return this._handleMalformedResponseBody("Inconsistent `jobId` in response. Expected '"+o+"' but got '"+a+"'");this.activeJobId=a;var n=s.items;if(!n)return this._handleMalformedResponseBody("No `items` in response");n=this._generateRecoverableFiles(n);var d=this._itemsSoFar;d&&(n=d.concat(n)),d=this._itemsSoFar=n;var u=s.hasMoreItems||!1,l=s.jobStatus;if("PENDING"===l){var v=s.retryAfterMilliseconds||5e3;m$799$0(this._requestNextRoundOfFiles.bind(this),v);var h=this.progressCallback;h&&h(d)}else{if("SUCCESS"!==l){var i=new Error("Unable to retrieve recoverable files. Job ended in error");
return i.type=m$359$0.FatalError,i.request=e,void this.finishRunWithFailure(i)}var c={items:n,hasMoreItems:u};this.finishRunWithSuccess(c)}},_handleMalformedResponseBody:function(e){var r=new Error("Unable to retrieve recoverable files. "+e);r.type=m$359$0.FatalError,r.request=req,this.finishRunWithFailure(r)},_rrf_requestDidFail:function(e){var r=e.get("response"),t=m$359$0.FatalServerError;"timedout"===e.state&&(t=m$359$0.Timeout);var i=new Error("Unable to retrieve recoverable files.");i.type=t,i.status=r.status,i.request=e,this.finishRunWithFailure(i)},_generateRecoverableFiles:function(e){for(var r=e?e.length:0,t=new Array(r),i=0;i<r;i++){var s=e[i];"."!==s.name.charAt(0)&&(s.id=s.drivewsid,s.dateModified=new Date(s.dateModified),s.dateChanged=new Date(s.dateChanged),t[i]=m$370$0.create(s))}return t},_activeJobId:void 0,_itemsSoFar:void 0,staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.RetrieveRecoverableFilesTask"}});m$377$0=r}();
!function(){"use strict";var e=m$626$0.extend({fetchAllRecoverableDocuments:function(e){var r=m$377$0.create();return e&&(r.progressCallback=e),r.run()},recoverDocuments:function(e){var r=m$376$0.create({files:e});return r.run()},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.DocumentRecoveryService"}});m$373$0=e}();
!function(){"use strict";var e=m$626$0.extend({service:m$629$1({readOnly:!0,get:function(e,i,t,n){return this._service}}),init:function(){this.__s._5h$5k$init.call(this),this._service=this.loadService()},loadService:function(){return m$373$0.create()},__superMap:{_5h$5k$init:"init"}}).create(),i=e.get("service");m$358$0=i}();
!function(){"use strict";var i=m$296$0.extend({additionalClassNames:m$589$1(["container-view"]),contentView:m$629$1({get:function(i,t,n,e){return this._contentView},set:function(i,t,n,e,s){if(!this._initializing){var a=this._contentView||void 0;this._contentView=i||null,this.contentViewDidChange(i,a)}}}),preferredSize:m$629$1({readOnly:!0,get:function(i,t,n,e){var s=this.get("contentView");return s?s.get("preferredSize"):null}}),init:function(i){this._initializing=!0;var t=i?i.contentView:null;i&&delete i.contentView,this.__s._4v$GK$init.call(this,i),this._initializing=!1,this.set("contentView",t)},contentViewDidChange:function(i,t){t&&(t.get("frame").reset(),this.removeSubview(t)),i&&this.addSubview(i),this.notifyParentOfDynamicContentChange(this)},subviewDidChangeDynamicContent:function(i){this.notifyParentOfDynamicContentChange(this)},__superMap:{_4v$GK$init:"init"},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKit.UI.Views.ContainerView"}});m$309$0=i}();
!function(){"use strict";function e(e,t){return m$831$0(e.fullName,t.fullName,d)}function t(e,t){return e.dateChanged.getTime()-t.dateChanged.getTime()}function n(e,t){return e.size-t.size}var i="name",o="date",s="size",r=2e3,c={singularTitle:"DR.Status.DeleteComplete.Single",pluralTitle:"DR.Status.DeleteComplete.Multiple"},u={singularTitle:"DR.Status.Deleting.Single",pluralTitle:"DR.Status.Deleting.Multiple"},a={singularTitle:"DR.Status.RestoreComplete.Single",pluralTitle:"DR.Status.RestoreComplete.Multiple"},l={singularTitle:"DR.Status.Restoring.Single",pluralTitle:"DR.Status.Restoring.Multiple"},m=m$297$0.extend({selectedDocuments:m$545$1(),sortByType:m$545$1(),hasMoreItems:m$545$1(),init:function(e){this.__s._64$a8$init.call(this,e),this._documents=null,this._entitiesComparitor=null},loadView:function(){return m$296$0.create({additionalClassNames:m$589$1(["dr-root"])})},shouldAutomaticallyForwardAppearanceMethods:function(){return!1},viewDidAppear:function(){this.__s._64$jH$viewDidAppear.call(this),this.fetchAllRecoverableDocuments()},viewDidLoad:function(e){this.workspaceContainerView=m$309$0.create({additionalClassNames:m$589$1(["dr-workspace-container"])}),this.rootHeaderView=m$387$0.create({sortByTitle:m$228$0({root:this,path:"sortByType",transform:function(e){switch(e){case i:return m$565$1("SortBy.Name");case o:return m$565$1("SortBy.DateDeleted");case s:return m$565$1("SortBy.Size");default:return""}}})}),this.restoreDocsWorkspaceView=m$386$0.create({selectedDocuments:m$228$0({root:this,path:"selectedDocuments"})}),this.sortByActionMenuButton=this.rootHeaderView.sortByActionMenuButton,
this.documentsListView=this.restoreDocsWorkspaceView.documentsListView,this.selectAllDocumentsCheckbox=this.restoreDocsWorkspaceView.selectAllDocumentsCheckbox,this.restoreDocumentsButton=this.restoreDocsWorkspaceView.restoreDocumentsButton,this.purgeDocumentsButton=this.restoreDocsWorkspaceView.purgeDocumentsButton,this.sortByActionMenuButton.target=this,this.sortByActionMenuButton.action="performSortByAction",this.documentsListView.delegate=this,this.selectAllDocumentsCheckbox.target=this,this.selectAllDocumentsCheckbox.action="performSelectAllRecoverableDocumentsAction",this.restoreDocumentsButton.target=this,this.restoreDocumentsButton.action="performRestoreSelectedDocumentsAction",this.purgeDocumentsButton.target=this,this.purgeDocumentsButton.action="performPurgeSelectedDocumentsAction",this.statusView=m$388$0.create(),this.loadingErrorView=m$383$0.create();this.disclaimerLabel=m$320$0.create({additionalClassNames:m$589$1(["disclaimer","dr-text-size-small","dr-text-light"]),tooltip:null,value:m$565$1("DR.Disclaimer.MainMessage")}),e.addSubview(this.rootHeaderView),e.addSubview(this.workspaceContainerView),e.addSubview(this.disclaimerLabel),this.sortByMenu=m$284$0.create();var t=[m$284$1.create({title:m$565$1("Name"),value:i,target:this,action:"performSortByMenuAction"}),m$284$1.create({title:m$565$1("Size"),value:s,target:this,action:"performSortByMenuAction"}),m$284$1.create({title:m$565$1("DateDeleted"),value:o,target:this,action:"performSortByMenuAction"})];t.sort(function(e,t){return m$831$0(e.title,t.title)}),this.sortByMenu.addMenuGroup(t),this.menuController=m$285$0.create({
menu:this.sortByMenu}),this.selectedDocuments=m$238$0.create(),this.sortByType=o},_selectedDocumentsDidChange:m$557$1("selectedDocuments","selectedDocuments.changed",function(){var e=this.selectedDocuments,t=this.documentsListView,n=this._documents;if(e&&t&&n){var i=t.visibleIndexRange;i.forEach(function(n){var i=t.getVisibleCellAtItemIndex(n),o=i.content;i.checked=e.contains(o)});var o=n.length,s=this.selectAllDocumentsCheckbox;s.set("value",e.size===o)}}),_sortByTypeDidChange:m$557$1("sortByType",function(r){if(r){var c=this.sortByMenu.getMenuGroupByIndex(0);switch(c.forEach(function(e){e.set("checked",e.value===r)}),r){case i:this._entitiesComparitor=e;break;case o:this._entitiesComparitor=t;break;case s:this._entitiesComparitor=n}var u=this._documents;u&&u.resortEntities(this._entitiesComparitor);var a=this.documentsListView;a&&a.reload()}}),performSortByAction:function(e){this.menuController.presentPopoverForView(e,m$288$0.Up)},performSortByMenuAction:function(e){var t=e.menuItem,n=t.value;this.sortByType=n},performSelectAllRecoverableDocumentsAction:function(e){var t=this._documents,n=this.selectedDocuments,i=e.value;i?n.addItems(t):n.removeItems(t)},performPurgeSelectedDocumentsAction:function(){this.purgeSelectedDocuments()},performRestoreSelectedDocumentsAction:function(){this.restoreSelectedDocuments()},_presentRecoverableFiles:function(){var e=this.restoreDocsWorkspaceView;this.workspaceContainerView.contentView=e},_presentEmptyStatus:function(){var e=this.statusView;e.title=m$565$1("DR.Empty.Message"),e.shouldShowSpinner=!1,e.shouldShowLoadingProgress=!1,this.workspaceContainerView.contentView=e;
},_presentLoadingStatus:function(){var e=this.statusView;e.title=m$565$1("DR.Status.Loading"),e.shouldShowSpinner=!0,e.shouldShowLoadingProgress=!0,this.workspaceContainerView.contentView=e},_presentLoadError:function(){var e=this.loadingErrorView;this.workspaceContainerView.contentView=e},updateNumberOfCurrentlyFoundRecoverableDocuments:function(e){var t=m$248$0.create({comparitor:this._entitiesComparitor,entities:e}),n=t?t.length:0,i=this.statusView;i&&(i.numberOfFoundFiles=n)},_presentProcessingDocumentsStatus:function(e,t){var n=t.count,i=this.statusView;if(1===n)i.title=m$565$1(e.singularTitle);else{var o=m$923$0.getNumberFormatter().format(n);i.title=m$565$1(e.pluralTitle,{count:o})}i.shouldShowSpinner=!0,i.shouldShowLoadingProgress=!1,this.workspaceContainerView.contentView=i},_presentPurgingDocumentsStatus:function(e){this._presentProcessingDocumentsStatus(u,e)},_presentRestoringDocumentsStatus:function(e){this._presentProcessingDocumentsStatus(l,e)},_presentProcessedDocumentsStatus:function(e,t){var n=t.count,i=this.statusView;if(1===n)i.title=m$565$1(e.singularTitle);else{var o=m$923$0.getNumberFormatter().format(n);i.title=m$565$1(e.pluralTitle,{count:o})}i.shouldShowSpinner=!1,i.shouldShowLoadingProgress=!1,this.workspaceContainerView.contentView=i},_presentPurgedDocumentsStatus:function(e){this._presentProcessedDocumentsStatus(c,e)},_presentRestoredDocumentsStatus:function(e){this._presentProcessedDocumentsStatus(a,e)},_presentDocumentsForTransactionRecordOfType:function(e,t){var n=this._documents,i=m$350$0.create({type:t+"Group"}),o=e.uncommittedItems;o.forEach(function(e){
var o=n.getEntityWithID(e.id);i.addDocumentOfType(o,t)}),m$356$0.presentAlertGroup(i)},_presentUnpurgedDocumentsForTransactionRecord:function(e){this._presentDocumentsForTransactionRecordOfType(e,"UnpurgedDocument")},_presentUncommittedDocumentsForTransactionRecord:function(e){this._presentDocumentsForTransactionRecordOfType(e,"UnrecoveredDocument")},fetchAllRecoverableDocuments:function(){var e=this,t=function(t){e.updateNumberOfCurrentlyFoundRecoverableDocuments(t||[])};m$358$0.fetchAllRecoverableDocuments(t).then(function(t){e.didFinishFetchingRecoverableDocuments(t)}).catch(function(t){e.didFailFetchingRecoverableDocuments(t)}),this.didStartFetchingRecoverableDocuments()},didStartFetchingRecoverableDocuments:function(){this._presentLoadingStatus()},didFinishFetchingRecoverableDocuments:function(e){var t=e.items;if(0===t.length)this._presentEmptyStatus();else{var n=(this._documents=m$248$0.create({comparitor:this._entitiesComparitor,entities:t}),e.hasMoreItems);this.hasMoreItems=n,this.documentsListView.reload(),this._presentRecoverableFiles()}},didFailFetchingRecoverableDocuments:function(e){this._presentLoadError()},purgeSelectedDocuments:function(){var e,t,n=this.selectedDocuments,i=this,o=this.view.window,s=null,r=m$303$0.create({additionalClassNames:m$589$1(["confirm"]),title:m$565$1("Delete"),target:this,action:function(){s.animateClosed(),o.removeRootView(s),i._startPurgingDocuments(n)},shortcut:m$688$0.RETURN}),c=m$303$0.create({additionalClassNames:m$589$1(["cancel"]),title:m$565$1("Cancel"),target:this,action:function(){s.animateClosed(),o.removeRootView(s)},shortcut:m$688$0.ESC
});1===n.length?(e=m$565$1("DR.Alert.DeleteSelectedItems.Single.Message",{name:n.createIterator().value.fullName}),t=m$565$1("DR.Alert.DeleteSelectedItems.Single.Description")):(e=m$565$1("DR.Alert.DeleteSelectedItems.Multiple.Message",{count:m$923$0.getNumberFormatter().format(n.length)}),t=m$565$1("DR.Alert.DeleteSelectedItems.Multiple.Description")),s=m$421$0.create({message:e,description:t,buttonViews:[c,r],suppressedKeyCodes:[m$688$0.DELETE,m$688$0.BACKSPACE]}),o.addRootView(s),s.animateOpen()},_startPurgingDocuments:function(e){var t=this;m$357$0.purgeDocumentsByZone(e).then(function(e){for(var n=[],i=null,o=0;o<e.length;o++){var s=e[o],r=s.status,c=s.transactionRecord;if(r===m$379$0.OK)if(i)for(var o=0;o<c.items.length;o++){var u=c.items[0];i.addItem(u)}else i=c;else s.files.forEach(function(e){n.push(e)})}i&&t.didFinishPurgingDocuments(i),n.length>0&&t.didFailPurgingDocuments(n)}).catch(function(n){var i=n.record;i||(i=e),t.didFailPurgingDocuments(i)}),this.didStartPurgingDocuments(e)},didStartPurgingDocuments:function(e){this._notifyCloudOSReadyTerminateIs(!1),this._presentPurgingDocumentsStatus({count:e.length})},didFinishPurgingDocuments:function(e){this._completePurgingDocuments(e)},didFailPurgingDocuments:function(e){var t=m$379$0.FatalError,n=m$380$0.createWithFilesAndItemStatus(e||[],t);this._completePurgingDocuments(n)},_completePurgingDocuments:function(e){if(this._completeProcessingDocuments(e),e.hasUncommittedItems)this._presentUnpurgedDocumentsForTransactionRecord(e);else{var t=e.committedItems;this._presentPurgedDocumentsStatus({count:t.length})}},restoreSelectedDocuments:function(){
var e=this.selectedDocuments,t=this;m$358$0.recoverDocuments(e).then(function(e){t.didFinishRestoringDocuments(e)}).catch(function(n){t.didFailRestoringDocuments(n,e)}),this.didStartRestoringDocuments(e)},didStartRestoringDocuments:function(e){this._notifyCloudOSReadyTerminateIs(!1),this._presentRestoringDocumentsStatus({count:e.length})},didFinishRestoringDocuments:function(e){this._completeRestoringDocuments(e)},didFailRestoringDocuments:function(e,t){m$809$1.error("Unexpected failure when trying to recover document:",e.message);var n=m$379$0.FatalError,i=m$380$0.createWithFilesAndItemStatus(t,n);this._completeRestoringDocuments(i)},_completeRestoringDocuments:function(e){if(this._completeProcessingDocuments(e),e.hasUncommittedItems)this._presentUncommittedDocumentsForTransactionRecord(e);else{var t=e.committedItems;this._presentRestoredDocumentsStatus({count:t.length})}},_completeProcessingDocuments:function(e){var t=this._documents,n=e.committedItems;t.batchChanges(function(){n.forEach(function(e){t.removeEntityWithID(e.id)})}),this.selectedDocuments=m$238$0.create(),this.documentsListView.reload(),this._notifyCloudOSReadyTerminateIs(!0);var i=this;m$254$0.setTimeout(function(){t.size>0?i._presentRecoverableFiles():i._presentEmptyStatus()},r)},_notifyCloudOSReadyTerminateIs:function(e){var t=m$886$0.cloudOSService;t.isReadyToTerminateDidChange(e)},recoverableDocumentCellPerformCheckedAction:function(e,t){var n=this.selectedDocuments,i=e.content;n&&i&&(t===!0?n.add(i):n.remove(i))},getItemCountForGridView:function(e){var t=this._documents;return t?t.size:0},collectionViewGetCellForIndex:function(e,t){
var n=m$385$0.create();return this._reloadCellForContentAtIndex(n,t),n},collectionViewGetItemIdentifierForCell:function(e,t){return t.content.id},collectionViewGetItemIdentifierForIndex:function(e,t){return this._documents[t].id},collectionViewShouldReuseCell:function(e,t){return!0},collectionViewPrepareReusableCell:function(e,t){t.delegate=null,t.content=null},collectionViewGetReuseIdentifierForCell:function(e,t){return"doc-cell"},collectionViewGetCellReuseIdentifierForIndex:function(e,t){return"doc-cell"},collectionViewWillDisplayReusableCellForIndex:function(e,t,n){this._reloadCellForContentAtIndex(t,n)},collectionViewDidEndDisplayingCellForIndex:function(e,t,n){},collectionViewShouldPerformActionForItemAtIndex:function(e,t){return!0},collectionViewPerformActionForItemAtIndex:function(e,t){var n=this.selectedDocuments,i=this._documents,o=i.getEntityAtIndex(t);n.contains(o)?n.remove(o):n.add(o)},_reloadCellForContentAtIndex:function(e,t){var n=this._documents,i=n.getEntityAtIndex(t),o=this.selectedDocuments;e.content=i,e.delegate=this,e.checked=o.contains(i),e.set("isLastRow",t===n.length-1)},__superMap:{_64$a8$init:"init",_64$jH$viewDidAppear:"viewDidAppear"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.UI.RootViewController"}}),d={prioritizeDigits:!0};m$382$0=m}();
!function(){"use strict";var e=m$865$0.extend({primaryServiceName:"drivews",rootViewController:null,rootResponder:null,prepareForLoad:function(){this.__s._5b$BC$prepareForLoad.call(this),document.body.style.minWidth="500px",document.body.style.minHeight="300px";var e=this.get("rootResponder");e||m$802$0("Cannot prepare for load. Root responder required",{application:this});var t=m$382$0.create({delegate:this});this.set("rootViewController",t);var r=e.get("window");r.activate(),t.beginAppearanceTransition(!0),r.addRootView(t.get("view")),t.endAppearanceTransition(!0),this.didPrepareForLoad();try{m$655$0("SFNSText",{success:function(){t.get("view").invalidateSubviewFrames(!0)}})}catch(e){m$886$0.cloudOSService.recordStat("Unable to use `fontDetector()`",{errorMessage:e.message,errorName:e.name})}},didBecomeActive:function(){this.__s._5b$md$didBecomeActive.call(this),document.cookie="client=icloudweb"},receiveMeCard:function(e){},__superMap:{_5b$BC$prepareForLoad:"prepareForLoad",_5b$md$didBecomeActive:"didBecomeActive"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.Application"}});m$352$0=e}();
!function(){"use strict";var e=m$0$0.extend({name:"recovery",loadApplication:function(){return window.rootResponder=m$291$0.create({element:document.body,events:m$697$0}),m$352$0.create({name:"iclouddrive",rootResponder:rootResponder})},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.Bootstrap.ApplicationLauncher"}});m$354$0=e}();
!function(){"use strict";function n(){}m$391$0=n}();
!function(){"use strict";var t=m$626$0.extend({prod:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp.Bootstrap.ApplicationLaunchPRODController"}});m$28$0=t}();
!function(){"use strict";var t=m$626$0.extend({prod:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp.Bootstrap.ApplicationLaunchPRODController"}});m$355$0=t}();
!function(){"use strict";function e(){var e,n,t=a();switch(t){case"drive":e=m$27$0,n=m$28$0;break;case"recovery":e=m$354$0,n=m$355$0;break;default:return void console.error("Invalid application lauch mode",t)}var i=n.create(),o=e.create({delegate:i});window.appLauncher=o,window.appLauncherController=i,window===window.parent?m$391$0(o):r(o),document.title=m$565$1("Application.Title")}function r(e){e.launch()}function a(){var e=location.search;if(!e||e.length<1)return n;for(var r=e.substr(1).split("&"),a={},t=0;t<r.length;t++){var i=r[t].match(/(.+)=(.+)/);i&&(a[i[1]]=i[2])}return a.mode||n}var n="drive";m$392$0=e}();
main = m$392$0;

})(this);
